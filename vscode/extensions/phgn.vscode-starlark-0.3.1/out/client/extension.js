module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=551)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33);t.METADATA_KEY=r;var i=n(554);t.Container=i.Container;var s=n(66);t.BindingScopeEnum=s.BindingScopeEnum,t.BindingTypeEnum=s.BindingTypeEnum,t.TargetTypeEnum=s.TargetTypeEnum;var o=n(570);t.AsyncContainerModule=o.AsyncContainerModule,t.ContainerModule=o.ContainerModule;var a=n(571);t.injectable=a.injectable;var c=n(572);t.tagged=c.tagged;var l=n(573);t.named=l.named;var u=n(256);t.inject=u.inject,t.LazyServiceIdentifer=u.LazyServiceIdentifer;var d=n(574);t.optional=d.optional;var h=n(575);t.unmanaged=h.unmanaged;var p=n(576);t.multiInject=p.multiInject;var f=n(577);t.targetName=f.targetName;var m=n(578);t.postConstruct=m.postConstruct;var g=n(254);t.MetadataReader=g.MetadataReader;var y=n(84);t.guid=y.guid;var v=n(72);t.decorate=v.decorate;var _=n(259);t.traverseAncerstors=_.traverseAncerstors,t.taggedConstraint=_.taggedConstraint,t.namedConstraint=_.namedConstraint,t.typeConstraint=_.typeConstraint;var b=n(113);t.getServiceIdentifierAsString=b.getServiceIdentifierAsString;var S=n(579);t.multiBindToService=S.multiBindToService},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IOutputChannel=Symbol("IOutputChannel"),t.IDocumentSymbolProvider=Symbol("IDocumentSymbolProvider"),t.IsWindows=Symbol("IS_WINDOWS"),t.IDisposableRegistry=Symbol("IDiposableRegistry"),t.IMemento=Symbol("IGlobalMemento"),t.GLOBAL_MEMENTO=Symbol("IGlobalMemento"),t.WORKSPACE_MEMENTO=Symbol("IWorkspaceMemento"),t.IPersistentStateFactory=Symbol("IPersistentStateFactory"),function(e){e.Information="Information",e.Error="Error",e.Warning="Warning"}(t.LogLevel||(t.LogLevel={})),t.ILogger=Symbol("ILogger"),function(e){e[e.Installed=0]="Installed",e[e.Disabled=1]="Disabled",e[e.Ignore=2]="Ignore"}(t.InstallerResponse||(t.InstallerResponse={})),function(e){e.Linter="Linter",e.Formatter="Formatter",e.TestFramework="TestFramework",e.RefactoringLibrary="RefactoringLibrary",e.WorkspaceSymbols="WorkspaceSymbols",e.DataScience="DataScience"}(t.ProductType||(t.ProductType={})),function(e){e[e.pytest=1]="pytest",e[e.nosetest=2]="nosetest",e[e.pylint=3]="pylint",e[e.flake8=4]="flake8",e[e.pycodestyle=5]="pycodestyle",e[e.pylama=6]="pylama",e[e.prospector=7]="prospector",e[e.pydocstyle=8]="pydocstyle",e[e.yapf=9]="yapf",e[e.autopep8=10]="autopep8",e[e.mypy=11]="mypy",e[e.unittest=12]="unittest",e[e.ctags=13]="ctags",e[e.rope=14]="rope",e[e.isort=15]="isort",e[e.black=16]="black",e[e.bandit=17]="bandit",e[e.jupyter=18]="jupyter"}(t.Product||(t.Product={})),function(e){e[e.install=1]="install",e[e.run=2]="run"}(t.ModuleNamePurpose||(t.ModuleNamePurpose={})),t.IInstaller=Symbol("IInstaller"),t.IPathUtils=Symbol("IPathUtils"),t.IRandom=Symbol("IRandom"),t.ICurrentProcess=Symbol("ICurrentProcess"),t.IConfigurationService=Symbol("IConfigurationService"),t.ISocketServer=Symbol("ISocketServer"),t.IFileDownloader=Symbol("IFileDownloader"),t.IHttpClient=Symbol("IHttpClient"),t.IExtensionContext=Symbol("ExtensionContext"),t.IExtensions=Symbol("IExtensions"),t.IBrowserService=Symbol("IBrowserService"),t.IPythonExtensionBanner=Symbol("IPythonExtensionBanner"),t.BANNER_NAME_LS_SURVEY="LSSurveyBanner",t.BANNER_NAME_PROPOSE_LS="ProposeLS",t.BANNER_NAME_DS_SURVEY="DSSurveyBanner",t.BANNER_NAME_INTERACTIVE_SHIFTENTER="InteractiveShiftEnterBanner",t.IFeatureDeprecationManager=Symbol("IFeatureDeprecationManager"),t.IEditorUtils=Symbol("IEditorUtils"),t.ICryptoUtils=Symbol("ICryptoUtils"),t.IAsyncDisposableRegistry=Symbol("IAsyncDisposableRegistry"),t.IExperimentsManager=Symbol("IExperimentsManager")},function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IApplicationShell=Symbol("IApplicationShell"),t.ICommandManager=Symbol("ICommandManager"),t.IDocumentManager=Symbol("IDocumentManager"),t.IWorkspaceService=Symbol("IWorkspaceService"),t.ITerminalManager=Symbol("ITerminalManager"),t.IDebugService=Symbol("IDebugManager"),t.IApplicationEnvironment=Symbol("IApplicationEnvironment"),t.IWebPanelMessageListener=Symbol("IWebPanelMessageListener"),t.IWebPanel=Symbol("IWebPanel"),t.IWebPanelProvider=Symbol("IWebPanelProvider"),t.ILiveShareApi=Symbol("ILiveShareApi"),t.ILiveShareTestingApi=Symbol("ILiveShareTestingApi"),t.ILanguageService=Symbol("ILanguageService")},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return It(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?h(f(t),e):f(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var y=i.momentProperties=[];function v(e,t){var n,r,i;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=f(t)),a(t._locale)||(e._locale=t._locale),y.length>0)for(n=0;n<y.length;n++)r=y[n],a(i=t[r])||(e[r]=i);return e}var _=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,i.updateOffset(this),_=!1)}function S(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function E(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&C(e[r])!==C(t[r]))&&o++;return o+s}function T(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function D(e,t){var n=!0;return h(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}T(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var P,k={};function I(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),k[e]||(T(t),k[e]=!0)}function M(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,r=h({},e);for(n in t)d(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&o(e[n])&&(r[n]=h({},r[n]));return r}function A(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,P=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var O={};function L(e,t){var n=e.toLowerCase();O[n]=O[n+"s"]=O[t]=e}function R(e){return"string"==typeof e?O[e]||O[e.toLowerCase()]:void 0}function j(e){var t,n,r={};for(n in e)d(e,n)&&(t=R(n))&&(r[t]=e[n]);return r}var F={};function N(e,t){F[e]=t}function Y(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},U={};function V(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return Y(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=q(t,e.localeData()),W[t]=W[t]||function(e){var t,n,r,i=e.match(B);for(t=0,n=i.length;t<n;t++)U[i[t]]?i[t]=U[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,s="";for(r=0;r<n;r++)s+=M(i[r])?i[r].call(t,e):i[r];return s}}(t),W[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,r),H.lastIndex=0,n-=1;return e}var G=/\d/,z=/\d\d/,K=/\d{3}/,J=/\d{4}/,X=/[+-]?\d{6}/,Q=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,se=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ue(e,t,n){le[e]=M(t)?t:function(e,r){return e&&n?n:t}}function de(e,t){return d(le,e)?le[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function fe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=C(e)}),n=0;n<e.length;n++)pe[e[n]]=r}function me(e,t){fe(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ge(e,t,n){null!=t&&d(pe,e)&&pe[e](t,n._a,n,e)}var ye=0,ve=1,_e=2,be=3,Se=4,we=5,Ce=6,Ee=7,Te=8;function De(e){return Pe(e)?366:365}function Pe(e){return e%4==0&&e%100!=0||e%400==0}V("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),L("year","y"),N("year",1),ue("Y",se),ue("YY",Q,z),ue("YYYY",ne,J),ue("YYYYY",re,X),ue("YYYYYY",re,X),fe(["YYYYY","YYYYYY"],ye),fe("YYYY",function(e,t){t[ye]=2===e.length?i.parseTwoDigitYear(e):C(e)}),fe("YY",function(e,t){t[ye]=i.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[ye]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var ke,Ie=Me("FullYear",!0);function Me(e,t){return function(n){return null!=n?(Ae(this,e,n),i.updateOffset(this,t),this):xe(this,e)}}function xe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ae(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Pe(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Oe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Pe(e)?29:28:31-r%7%2}ke=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),N("month",8),ue("M",Q),ue("MM",Q,z),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[ve]=C(e)-1}),fe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ve]=i:f(n).invalidMonth=e});var Le=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),je="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ne(e){return null!=e?(Fe(this,e),i.updateOffset(this,!0),this):xe(this,"Month")}var Ye=ce,Be=ce;function He(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],s=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)r[t]=he(r[t]),i[t]=he(i[t]);for(t=0;t<24;t++)s[t]=he(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function We(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ue(e,t,n){var r=7+t-n,i=(7+We(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Ve(e,t,n,r,i){var s,o,a=(7+n-r)%7,c=Ue(e,r,i),l=1+7*(t-1)+a+c;return l<=0?o=De(s=e-1)+l:l>De(e)?(s=e+1,o=l-De(e)):(s=e,o=l),{year:s,dayOfYear:o}}function $e(e,t,n){var r,i,s=Ue(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?(i=e.year()-1,r=o+qe(i,t,n)):o>qe(e.year(),t,n)?(r=o-qe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function qe(e,t,n){var r=Ue(e,t,n),i=Ue(e+1,t,n);return(De(e)-r+i)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),N("week",5),N("isoWeek",5),ue("w",Q),ue("ww",Q,z),ue("W",Q),ue("WW",Q,z),me(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=C(e)}),V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),ue("d",Q),ue("e",Q),ue("E",Q),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),me(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),me(["d","e","E"],function(e,t,n,r){t[r]=C(e)});var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Je=ce,Xe=ce,Qe=ce;function Ze(){function e(e,t){return t.length-e.length}var t,n,r,i,s,o=[],a=[],c=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),s=this.weekdays(n,""),o.push(r),a.push(i),c.push(s),l.push(r),l.push(i),l.push(s);for(o.sort(e),a.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)a[t]=he(a[t]),c[t]=he(c[t]),l[t]=he(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function et(){return this.hours()%12||12}function tt(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function nt(e,t){return t._meridiemParse}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,et),V("k",["kk",2],0,function(){return this.hours()||24}),V("hmm",0,0,function(){return""+et.apply(this)+Y(this.minutes(),2)}),V("hmmss",0,0,function(){return""+et.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)}),tt("a",!0),tt("A",!1),L("hour","h"),N("hour",13),ue("a",nt),ue("A",nt),ue("H",Q),ue("h",Q),ue("k",Q),ue("HH",Q,z),ue("hh",Q,z),ue("kk",Q,z),ue("hmm",Z),ue("hmmss",ee),ue("Hmm",Z),ue("Hmmss",ee),fe(["H","HH"],be),fe(["k","kk"],function(e,t,n){var r=C(e);t[be]=24===r?0:r}),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[be]=C(e),f(n).bigHour=!0}),fe("hmm",function(e,t,n){var r=e.length-2;t[be]=C(e.substr(0,r)),t[Se]=C(e.substr(r)),f(n).bigHour=!0}),fe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[be]=C(e.substr(0,r)),t[Se]=C(e.substr(r,2)),t[we]=C(e.substr(i)),f(n).bigHour=!0}),fe("Hmm",function(e,t,n){var r=e.length-2;t[be]=C(e.substr(0,r)),t[Se]=C(e.substr(r))}),fe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[be]=C(e.substr(0,r)),t[Se]=C(e.substr(r,2)),t[we]=C(e.substr(i))});var rt,it=Me("Hours",!0),st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Re,monthsShort:je,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:Ke,weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},ot={},at={};function ct(e){return e?e.toLowerCase().replace("_","-"):e}function lt(t){var r=null;if(!ot[t]&&void 0!==e&&e&&e.exports)try{r=rt._abbr,n(1080)("./"+t),ut(r)}catch(e){}return ot[t]}function ut(e,t){var n;return e&&((n=a(t)?ht(e):dt(e,t))?rt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function dt(e,t){if(null!==t){var n,r=st;if(t.abbr=e,null!=ot[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ot[e]._config;else if(null!=t.parentLocale)if(null!=ot[t.parentLocale])r=ot[t.parentLocale]._config;else{if(null==(n=lt(t.parentLocale)))return at[t.parentLocale]||(at[t.parentLocale]=[]),at[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ot[e]=new A(x(r,t)),at[e]&&at[e].forEach(function(e){dt(e.name,e.config)}),ut(e),ot[e]}return delete ot[e],null}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!s(e)){if(t=lt(e))return t;e=[e]}return function(e){for(var t,n,r,i,s=0;s<e.length;){for(i=ct(e[s]).split("-"),t=i.length,n=(n=ct(e[s+1]))?n.split("-"):null;t>0;){if(r=lt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&E(i,n,!0)>=t-1)break;t--}s++}return rt}(e)}function pt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[ve]<0||n[ve]>11?ve:n[_e]<1||n[_e]>Oe(n[ye],n[ve])?_e:n[be]<0||n[be]>24||24===n[be]&&(0!==n[Se]||0!==n[we]||0!==n[Ce])?be:n[Se]<0||n[Se]>59?Se:n[we]<0||n[we]>59?we:n[Ce]<0||n[Ce]>999?Ce:-1,f(e)._overflowDayOfYear&&(t<ye||t>_e)&&(t=_e),f(e)._overflowWeeks&&-1===t&&(t=Ee),f(e)._overflowWeekday&&-1===t&&(t=Te),f(e).overflow=t),e}function ft(e,t,n){return null!=e?e:null!=t?t:n}function mt(e){var t,n,r,s,o,a=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[_e]&&null==e._a[ve]&&function(e){var t,n,r,i,s,o,a,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,o=4,n=ft(t.GG,e._a[ye],$e(Mt(),1,4).year),r=ft(t.W,1),((i=ft(t.E,1))<1||i>7)&&(c=!0);else{s=e._locale._week.dow,o=e._locale._week.doy;var l=$e(Mt(),s,o);n=ft(t.gg,e._a[ye],l.year),r=ft(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(c=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(c=!0)):i=s}r<1||r>qe(n,s,o)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(a=Ve(n,r,i,s,o),e._a[ye]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=ft(e._a[ye],r[ye]),(e._dayOfYear>De(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=We(o,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[_e]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[Se]&&0===e._a[we]&&0===e._a[Ce]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?We:function(e,t,n,r,i,s,o){var a=new Date(e,t,n,r,i,s,o);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}).apply(null,a),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(f(e).weekdayMismatch=!0)}}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],bt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],St=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,r,i,s,o,a=e._i,c=gt.exec(a)||yt.exec(a);if(c){for(f(e).iso=!0,t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(c[1])){i=_t[t][0],r=!1!==_t[t][2];break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(c[3])){s=(c[2]||" ")+bt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(c[4]){if(!vt.exec(c[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),Pt(e)}else e._isValid=!1}var Ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Et(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Tt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,n,r,i,s,o,a,c=Ct.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(c){var l=(t=c[4],n=c[3],r=c[2],i=c[5],s=c[6],o=c[7],a=[Et(t),je.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(s,10)],o&&a.push(parseInt(o,10)),a);if(!function(e,t,n){if(e){var r=ze.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(c[1],l,e))return;e._a=l,e._tzm=function(e,t,n){if(e)return Tt[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return 60*s+i}(c[8],c[9],c[10]),e._d=We.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function Pt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],f(e).empty=!0;var t,n,r,s,o,a=""+e._i,c=a.length,l=0;for(r=q(e._f,e._locale).match(B)||[],t=0;t<r.length;t++)s=r[t],(n=(a.match(de(s,e))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&f(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),U[s]?(n?f(e).empty=!1:f(e).unusedTokens.push(s),ge(s,n,e)):e._strict&&!n&&f(e).unusedTokens.push(s);f(e).charsLeftOver=c-l,a.length>0&&f(e).unusedInput.push(a),e._a[be]<=12&&!0===f(e).bigHour&&e._a[be]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[be]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),mt(e),pt(e)}else Dt(e);else wt(e)}function kt(e){var t=e._i,n=e._f;return e._locale=e._locale||ht(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new b(pt(t)):(l(t)?e._d=t:s(n)?function(e){var t,n,r,i,s;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Pt(t),m(t)&&(s+=f(t).charsLeftOver,s+=10*f(t).unusedTokens.length,f(t).score=s,(null==r||s<r)&&(r=s,n=t));h(e,n||t)}(e):n?Pt(e):function(e){var t=e._i;a(t)?e._d=new Date(i.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=St.exec(e._i);null===t?(wt(e),!1===e._isValid&&(delete e._isValid,Dt(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):s(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),mt(e)):o(t)?function(e){if(!e._d){var t=j(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),mt(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function It(e,t,n,r,i){var a,c={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=n,c._i=e,c._f=t,c._strict=r,(a=new b(pt(kt(c))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Mt(e,t,n,r){return It(e,t,n,r,!1)}i.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var xt=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),At=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Mt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()});function Ot(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Mt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=j(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ke.call(Lt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Lt.length;++r)if(e[Lt[r]]){if(n)return!1;parseFloat(e[Lt[r]])!==C(e[Lt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=ht(),this._bubble()}function jt(e){return e instanceof Rt}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Y(~~(e/60),2)+t+Y(~~e%60,2)})}Nt("Z",":"),Nt("ZZ",""),ue("Z",ae),ue("ZZ",ae),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bt(ae,e)});var Yt=/([\+\-]|\d\d)/gi;function Bt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Yt)||["-",0,0],s=60*i[1]+C(i[2]);return 0===s?0:"+"===i[0]?s:-s}function Ht(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(S(e)||l(e)?e.valueOf():Mt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Mt(e).local()}function Wt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ut(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Vt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qt(e,t){var n,r,i,s,o,a,l=e,u=null;return jt(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(l={},t?l[t]=e:l.milliseconds=e):(u=Vt.exec(e))?(n="-"===u[1]?-1:1,l={y:0,d:C(u[_e])*n,h:C(u[be])*n,m:C(u[Se])*n,s:C(u[we])*n,ms:C(Ft(1e3*u[Ce]))*n}):(u=$t.exec(e))?(n="-"===u[1]?-1:(u[1],1),l={y:Gt(u[2],n),M:Gt(u[3],n),w:Gt(u[4],n),d:Gt(u[5],n),h:Gt(u[6],n),m:Gt(u[7],n),s:Gt(u[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(s=Mt(l.from),o=Mt(l.to),i=s.isValid()&&o.isValid()?(o=Ht(o,s),s.isBefore(o)?a=zt(s,o):((a=zt(o,s)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(l={}).ms=i.milliseconds,l.M=i.months),r=new Rt(l),jt(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Jt(this,qt(n="string"==typeof n?+n:n,r),e),this}}function Jt(e,t,n,r){var s=t._milliseconds,o=Ft(t._days),a=Ft(t._months);e.isValid()&&(r=null==r||r,a&&Fe(e,xe(e,"Month")+a*n),o&&Ae(e,"Date",xe(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&i.updateOffset(e,o||a))}qt.fn=Rt.prototype,qt.invalid=function(){return qt(NaN)};var Xt=Kt(1,"add"),Qt=Kt(-1,"subtract");function Zt(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,"months");return t-s<0?(n=e.clone().add(i-1,"months"),r=(t-s)/(s-n)):(n=e.clone().add(i+1,"months"),r=(t-s)/(n-s)),-(i+r)||0}function en(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function nn(){return this._locale}function rn(e,t){V(0,[e,e.length],0,t)}function sn(e,t,n,r,i){var s;return null==e?$e(this,r,i).year:(s=qe(e,r,i),t>s&&(t=s),function(e,t,n,r,i){var s=Ve(e,t,n,r,i),o=We(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,i))}V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",Q,z),ue("gg",Q,z),ue("GGGG",ne,J),ue("gggg",ne,J),ue("GGGGG",re,X),ue("ggggg",re,X),me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=C(e)}),me(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),L("quarter","Q"),N("quarter",7),ue("Q",G),fe("Q",function(e,t){t[ve]=3*(C(e)-1)}),V("D",["DD",2],"Do","date"),L("date","D"),N("date",9),ue("D",Q),ue("DD",Q,z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],_e),fe("Do",function(e,t){t[_e]=C(e.match(Q)[0])});var on=Me("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),N("dayOfYear",4),ue("DDD",te),ue("DDDD",K),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=C(e)}),V("m",["mm",2],0,"minute"),L("minute","m"),N("minute",14),ue("m",Q),ue("mm",Q,z),fe(["m","mm"],Se);var an=Me("Minutes",!1);V("s",["ss",2],0,"second"),L("second","s"),N("second",15),ue("s",Q),ue("ss",Q,z),fe(["s","ss"],we);var cn,ln=Me("Seconds",!1);for(V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),N("millisecond",16),ue("S",te,G),ue("SS",te,z),ue("SSS",te,K),cn="SSSS";cn.length<=9;cn+="S")ue(cn,ie);function un(e,t){t[Ce]=C(1e3*("0."+e))}for(cn="S";cn.length<=9;cn+="S")fe(cn,un);var dn=Me("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var hn=b.prototype;function pn(e){return e}hn.add=Xt,hn.calendar=function(e,t){var n=e||Mt(),r=Ht(n,this).startOf("day"),s=i.calendarFormat(this,r)||"sameElse",o=t&&(M(t[s])?t[s].call(this,n):t[s]);return this.format(o||this.localeData().calendar(s,this,Mt(n)))},hn.clone=function(){return new b(this)},hn.diff=function(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=Ht(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=R(t)){case"year":s=Zt(this,r)/12;break;case"month":s=Zt(this,r);break;case"quarter":s=Zt(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:w(s)},hn.endOf=function(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},hn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=$(this,e);return this.localeData().postformat(t)},hn.from=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||Mt(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},hn.fromNow=function(e){return this.from(Mt(),e)},hn.to=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||Mt(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},hn.toNow=function(e){return this.to(Mt(),e)},hn.get=function(e){return M(this[e=R(e)])?this[e]():this},hn.invalidAt=function(){return f(this).overflow},hn.isAfter=function(e,t){var n=S(e)?e:Mt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(a(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},hn.isBefore=function(e,t){var n=S(e)?e:Mt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(a(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},hn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},hn.isSame=function(e,t){var n,r=S(e)?e:Mt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=R(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},hn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},hn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},hn.isValid=function(){return m(this)},hn.lang=tn,hn.locale=en,hn.localeData=nn,hn.max=At,hn.min=xt,hn.parsingFlags=function(){return h({},f(this))},hn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:F[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=j(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(M(this[e=R(e)]))return this[e](t);return this},hn.startOf=function(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},hn.subtract=Qt,hn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},hn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},hn.toDate=function(){return new Date(this.valueOf())},hn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?$(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hn.year=Ie,hn.isLeapYear=function(){return Pe(this.year())},hn.weekYear=function(e){return sn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hn.isoWeekYear=function(e){return sn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},hn.quarter=hn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},hn.month=Ne,hn.daysInMonth=function(){return Oe(this.year(),this.month())},hn.week=hn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},hn.isoWeek=hn.isoWeeks=function(e){var t=$e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},hn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},hn.isoWeeksInYear=function(){return qe(this.year(),1,4)},hn.date=on,hn.day=hn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},hn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},hn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},hn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},hn.hour=hn.hours=it,hn.minute=hn.minutes=an,hn.second=hn.seconds=ln,hn.millisecond=hn.milliseconds=dn,hn.utcOffset=function(e,t,n){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bt(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Wt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?Jt(this,qt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Wt(this)},hn.utc=function(e){return this.utcOffset(0,e)},hn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this},hn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},hn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Mt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},hn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hn.isLocal=function(){return!!this.isValid()&&!this._isUTC},hn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hn.isUtc=Ut,hn.isUTC=Ut,hn.zoneAbbr=function(){return this._isUTC?"UTC":""},hn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hn.dates=D("dates accessor is deprecated. Use date instead.",on),hn.months=D("months accessor is deprecated. Use month instead",Ne),hn.years=D("years accessor is deprecated. Use year instead",Ie),hn.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),hn.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=kt(e))._a){var t=e._isUTC?p(e._a):Mt(e._a);this._isDSTShifted=this.isValid()&&E(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var fn=A.prototype;function mn(e,t,n,r){var i=ht(),s=p().set(r,t);return i[n](s,e)}function gn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return mn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mn(e,r,n,"month");return i}function yn(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,s=ht(),o=e?s._week.dow:0;if(null!=n)return mn(t,(n+o)%7,r,"day");var a=[];for(i=0;i<7;i++)a[i]=mn(t,(i+o)%7,r,"day");return a}fn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return M(r)?r.call(t,n):r},fn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(e){return this._ordinal.replace("%d",e)},fn.preparse=pn,fn.postformat=pn,fn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return M(i)?i(e,t,n,r):i.replace(/%d/i,e)},fn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)},fn.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Le).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},fn.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Le.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(e,t,n){var r,i,s;if(this._monthsParseExact)return function(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ke.call(this._shortMonthsParse,o))?i:null:-1!==(i=ke.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ke.call(this._shortMonthsParse,o))?i:-1!==(i=ke.call(this._longMonthsParse,o))?i:null:-1!==(i=ke.call(this._longMonthsParse,o))?i:-1!==(i=ke.call(this._shortMonthsParse,o))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},fn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Be),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ye),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(e){return $e(e,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(e,t){return e?s(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},fn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},fn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},fn.weekdaysParse=function(e,t,n){var r,i,s;if(this._weekdaysParseExact)return function(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ke.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ke.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ke.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ke.call(this._weekdaysParse,o))?i:-1!==(i=ke.call(this._shortWeekdaysParse,o))?i:-1!==(i=ke.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ke.call(this._shortWeekdaysParse,o))?i:-1!==(i=ke.call(this._weekdaysParse,o))?i:-1!==(i=ke.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ke.call(this._minWeekdaysParse,o))?i:-1!==(i=ke.call(this._weekdaysParse,o))?i:-1!==(i=ke.call(this._shortWeekdaysParse,o))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},fn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},fn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),i.lang=D("moment.lang is deprecated. Use moment.locale instead.",ut),i.langData=D("moment.langData is deprecated. Use moment.localeData instead.",ht);var vn=Math.abs;function _n(e,t,n,r){var i=qt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function bn(e){return e<0?Math.floor(e):Math.ceil(e)}function Sn(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function Cn(e){return function(){return this.as(e)}}var En=Cn("ms"),Tn=Cn("s"),Dn=Cn("m"),Pn=Cn("h"),kn=Cn("d"),In=Cn("w"),Mn=Cn("M"),xn=Cn("y");function An(e){return function(){return this.isValid()?this._data[e]:NaN}}var On=An("milliseconds"),Ln=An("seconds"),Rn=An("minutes"),jn=An("hours"),Fn=An("days"),Nn=An("months"),Yn=An("years"),Bn=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,M:11},Wn=Math.abs;function Un(e){return(e>0)-(e<0)||+e}function Vn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Wn(this._milliseconds)/1e3,r=Wn(this._days),i=Wn(this._months);e=w(n/60),t=w(e/60),n%=60,e%=60;var s=w(i/12),o=i%=12,a=r,c=t,l=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Un(this._months)!==Un(d)?"-":"",f=Un(this._days)!==Un(d)?"-":"",m=Un(this._milliseconds)!==Un(d)?"-":"";return h+"P"+(s?p+s+"Y":"")+(o?p+o+"M":"")+(a?f+a+"D":"")+(c||l||u?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var $n=Rt.prototype;return $n.isValid=function(){return this._isValid},$n.abs=function(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this},$n.add=function(e,t){return _n(this,e,t,1)},$n.subtract=function(e,t){return _n(this,e,t,-1)},$n.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+r/864e5,n=this._months+Sn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},$n.asMilliseconds=En,$n.asSeconds=Tn,$n.asMinutes=Dn,$n.asHours=Pn,$n.asDays=kn,$n.asWeeks=In,$n.asMonths=Mn,$n.asYears=xn,$n.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},$n._bubble=function(){var e,t,n,r,i,s=this._milliseconds,o=this._days,a=this._months,c=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*bn(wn(a)+o),o=0,a=0),c.milliseconds=s%1e3,e=w(s/1e3),c.seconds=e%60,t=w(e/60),c.minutes=t%60,n=w(t/60),c.hours=n%24,o+=w(n/24),i=w(Sn(o)),a+=i,o-=bn(wn(i)),r=w(a/12),a%=12,c.days=o,c.months=a,c.years=r,this},$n.clone=function(){return qt(this)},$n.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},$n.milliseconds=On,$n.seconds=Ln,$n.minutes=Rn,$n.hours=jn,$n.days=Fn,$n.weeks=function(){return w(this.days()/7)},$n.months=Nn,$n.years=Yn,$n.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=qt(e).abs(),i=Bn(r.as("s")),s=Bn(r.as("m")),o=Bn(r.as("h")),a=Bn(r.as("d")),c=Bn(r.as("M")),l=Bn(r.as("y")),u=i<=Hn.ss&&["s",i]||i<Hn.s&&["ss",i]||s<=1&&["m"]||s<Hn.m&&["mm",s]||o<=1&&["h"]||o<Hn.h&&["hh",o]||a<=1&&["d"]||a<Hn.d&&["dd",a]||c<=1&&["M"]||c<Hn.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},$n.toISOString=Vn,$n.toString=Vn,$n.toJSON=Vn,$n.locale=en,$n.localeData=nn,$n.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),$n.lang=tn,V("X",0,0,"unix"),V("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(C(e))}),i.version="2.21.0",t=Mt,i.fn=hn,i.min=function(){return Ot("isBefore",[].slice.call(arguments,0))},i.max=function(){return Ot("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return Mt(1e3*e)},i.months=function(e,t){return gn(e,t,"months")},i.isDate=l,i.locale=ut,i.invalid=g,i.duration=qt,i.isMoment=S,i.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},i.parseZone=function(){return Mt.apply(null,arguments).parseZone()},i.localeData=ht,i.isDuration=jt,i.monthsShort=function(e,t){return gn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},i.defineLocale=dt,i.updateLocale=function(e,t){if(null!=t){var n,r,i=st;null!=(r=lt(e))&&(i=r._config),t=x(i,t),(n=new A(t)).parentLocale=ot[e],ot[e]=n,ut(e)}else null!=ot[e]&&(null!=ot[e].parentLocale?ot[e]=ot[e].parentLocale:null!=ot[e]&&delete ot[e]);return ot[e]},i.locales=function(){return P(ot)},i.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},i.normalizeUnits=R,i.relativeTimeRounding=function(e){return void 0===e?Bn:"function"==typeof e&&(Bn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Hn[e]&&(void 0===t?Hn[e]:(Hn[e]=t,"s"===e&&(Hn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=hn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(100)(e))},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(27),c=n(580),l=n(30),u=n(9),d=n(13),h=n(1),p=n(24),f=n(85),m=c.createLogger(),g=c.createLogger();!function(){const e={log:Symbol.for("log"),info:Symbol.for("info"),error:Symbol.for("error"),debug:Symbol.for("debug"),warn:Symbol.for("warn")};function t(t,...n){-1===["info","error","warn","log","debug"].indexOf(t)&&(t="log");const r=console[e[t]]||console[t]||console.log;r(...n)}process.env.VSC_PYTHON_LOG_FILE&&process.env.TF_BUILD&&(console[e.log]=console.log,console[e.info]=console.info,console[e.error]=console.error,console[e.debug]=console.debug,console[e.warn]=console.warn,console.log=function(){const e=Array.prototype.slice.call(arguments);t("log",...e),_(h.LogLevel.Information,...e)},console.info=function(){const e=Array.prototype.slice.call(arguments);t("info",...e),_(h.LogLevel.Information,...e)},console.warn=function(){const e=Array.prototype.slice.call(arguments);t("warn",...e),_(h.LogLevel.Warning,...e)},console.error=function(){const e=Array.prototype.slice.call(arguments);t("error",...e),_(h.LogLevel.Error,...e)},console.debug=function(){const e=Array.prototype.slice.call(arguments);t("debug",...e),_(h.LogLevel.Information,...e)});if(d.isTestExecution()&&!process.env.VSC_PYTHON_FORCE_LOGGING)return;const n=Symbol.for("message");const r=c.format.printf(({level:e,message:t,label:n,timestamp:r})=>{const i=`${e.substring(0,1).toUpperCase()}${e.substring(1)} ${process.env.TF_BUILD?"":n}`;return`${i.trim()} ${r}: ${t}`}),i=c.format.combine(c.format.label({label:"Starlark Extension:"}),c.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),r);m.add(new class extends f{constructor(e){super(e)}log(e,r){setImmediate(()=>this.emit("logged",e)),t(e.level,e[n]||e.message),r&&r()}}({format:i}))}(),function(){if(!process.env.VSC_PYTHON_LOG_FILE)return;const e=c.format.printf(({level:e,message:t,timestamp:n})=>`${e.substring(0,1).toUpperCase()}${e.substring(1)} ${n}: ${t}`),t=c.format.combine(c.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),e),n=o.isAbsolute(process.env.VSC_PYTHON_LOG_FILE)?process.env.VSC_PYTHON_LOG_FILE:o.join(l.EXTENSION_ROOT_DIR,process.env.VSC_PYTHON_LOG_FILE),r=new c.transports.File({format:t,filename:n,handleExceptions:!0});g.add(r)}();const y={[h.LogLevel.Error]:"error",[h.LogLevel.Information]:"info",[h.LogLevel.Warning]:"warn"};function v(e,...t){if(m.transports.length>0){const n=0===t.length?"":a.format(t[0],...t.slice(1));m.log(y[e],n)}_(e,...t)}function _(e,...t){if(0===g.transports.length)return;const n=0===t.length?"":a.format(t[0],...t.slice(1));g.log(y[e],n)}const b=!d.isTestExecution()||process.env.VSC_PYTHON_FORCE_LOGGING||process.env.VSC_PYTHON_LOG_FILE;let S=r=class{static error(...e){b&&v(h.LogLevel.Error,...e)}static warn(...e){b&&v(h.LogLevel.Warning,...e)}static verbose(...e){b&&v(h.LogLevel.Information,...e)}logError(...e){r.error(...e)}logWarning(...e){r.warn(...e)}logInformation(...e){r.verbose(...e)}};var w;function C(e,t=w.None,n){return function(r,i,s){const o=s.value;return s.value=function(...i){const s=r&&r.constructor?r.constructor.name:"";function a(e,t){n!==h.LogLevel.Error&&l(e,t)}function c(e,t){l(e,void 0,t)}function l(n,r,o){const a=[e];a.push(`Class name = ${s}, completed in ${n}ms`),(t&&w.Arguments)===w.Arguments&&a.push(function(e){try{return(e||[]).map((e,t)=>{if(void 0===e)return`Arg ${t+1}: undefined`;if(null===e)return`Arg ${t+1}: null`;try{return e&&e.fsPath?`Arg ${t+1}: <Uri:${e.fsPath}>`:`Arg ${t+1}: ${JSON.stringify(e)}`}catch(e){return`Arg ${t+1}: <argument cannot be serialized for logging>`}}).join(", ")}catch(e){return""}}(i)),(t&w.ReturnValue)===w.ReturnValue&&a.push(function(e){if(void 0===e)return"Return Value: undefined";if(null===e)return"Return Value: null";try{return`Return Value: ${JSON.stringify(e)}`}catch(e){return"Return Value: <Return value cannot be serialized for logging>"}}(r)),o?(v(h.LogLevel.Error,a.join(", "),o),u.sendTelemetryEvent("ERROR",void 0,void 0,o)):v(h.LogLevel.Information,a.join(", "))}const d=new p.StopWatch;try{const e=o.apply(this,i);return e&&"function"==typeof e.then&&"function"==typeof e.catch?e.then(e=>(a(d.elapsedTime,e),e)).catch(e=>{c(d.elapsedTime,e)}):a(d.elapsedTime,e),e}catch(e){throw c(d.elapsedTime,e),e}},s}}S=r=i([s.injectable()],S),t.Logger=S,function(e){e[e.None=0]="None",e[e.Arguments=1]="Arguments",e[e.ReturnValue=2]="ReturnValue"}(w=t.LogOptions||(t.LogOptions={})),t.traceVerbose=function(...e){v(h.LogLevel.Information,...e)},t.traceError=function(...e){v(h.LogLevel.Error,...e)},t.traceInfo=function(...e){v(h.LogLevel.Information,...e)},t.traceWarning=function(...e){v(h.LogLevel.Warning,...e)},function(e){e.verbose=function(e,t=w.Arguments|w.ReturnValue){return C(e,t)},e.error=function(e){return C(e,w.Arguments|w.ReturnValue,h.LogLevel.Error)},e.info=function(e){return C(e)},e.warn=function(e){return C(e,w.Arguments|w.ReturnValue,h.LogLevel.Warning)}}(t.traceDecorators||(t.traceDecorators={}))},function(e,t,n){"use strict";String.prototype.splitLines=function(e={removeEmptyEntries:!0,trim:!0}){let t=this.split(/\r?\n/g);return e&&e.trim&&(t=t.map(e=>e.trim())),e&&e.removeEmptyEntries&&(t=t.filter(e=>e.length>0)),t},String.prototype.toCommandArgument=function(){return this?this.indexOf(" ")>=0&&!this.startsWith('"')&&!this.endsWith('"')?`"${this}"`:this.toString():this},String.prototype.fileToCommandArgument=function(){return this?this.toCommandArgument().replace(/\\/g,"/"):this},String.prototype.trimQuotes=function(){return this?this.replace(/(^['"])|(['"]$)/g,""):this},Promise.prototype.ignoreErrors=function(){this.catch(()=>{})},String.prototype.format||(String.prototype.format=function(){const e=arguments;return this.replace(/{(\d+)}/g,(t,n)=>void 0===e[n]?t:e[n])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HKCU=0]="HKCU",e[e.HKLM=1]="HKLM"}(t.RegistryHive||(t.RegistryHive={})),t.IRegistry=Symbol("IRegistry"),t.IPlatformService=Symbol("IPlatformService"),t.IFileSystem=Symbol("IFileSystem")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(204),s=n(13),o=n(6),a=n(24);n(15),n(11);let c;function l(e,t,r,a){if(s.isTestExecution()||!function(){try{const e=n(2),t=n(310);return void 0!==e&&void 0!==t}catch(e){return!1}}())return;const l=function(){if(!s.isTestExecution()&&c)return c;const e=s.PVSC_EXTENSION_ID,t=n(2).extensions.getExtension(e).packageJSON.version,r=n(310).default;return c=new r(e,t,s.AppinsightsKey)}(),d="number"==typeof t?{duration:t}:t||void 0;if(a&&"ERROR"!==e){const t={};t.stackTrace=function(e){let t="";for(const n of i.parse(e)){let e=n.getFileName();if(e){e=u(e);const r=n.getLineNumber(),i=n.getColumnNumber();t+=`\n\tat ${h(n)} ${e}:${r}:${i}`}else t+="\n\tat <anonymous>"}return t.trim().replace(/\\/g,"/")}(a),t.originalEventName=e,l.sendTelemetryEvent("ERROR",t,d)}const p={};if(r){const e=r;Object.getOwnPropertyNames(e).forEach(t=>{void 0!==e[t]&&null!==e[t]&&(p[t]="string"==typeof e[t]?e[t]:e[t].toString())})}l.sendTelemetryEvent(e,p,d),process.env&&process.env.VSC_PYTHON_LOG_TELEMETRY&&o.traceInfo(`Telemetry Event : ${e} Measures: ${JSON.stringify(d)} Props: ${JSON.stringify(p)} `)}function u(e){return e=e.startsWith(s.EXTENSION_ROOT_DIR)?`<pvsc>${e.substring(s.EXTENSION_ROOT_DIR.length)}`:`<hidden>${r.sep}${r.basename(e)}`}function d(e){return-1===e.indexOf("/")&&-1===e.indexOf("\\")?e:"<hidden>"}function h(e){const t=[];return"string"==typeof e.getTypeName()&&e.getTypeName().length>0&&t.push(e.getTypeName()),"string"==typeof e.getMethodName()&&e.getMethodName().length>0&&t.push(e.getMethodName()),"string"==typeof e.getFunctionName()&&e.getFunctionName().length>0&&(2===t.length&&t.join(".")===e.getFunctionName()||t.push(e.getFunctionName())),t.map(d).join(".")}t.isTelemetryDisabled=function(e){return!1===e.getConfiguration("telemetry").inspect("enableTelemetry").globalValue},t.clearTelemetryReporter=function(){c=void 0},t.sendTelemetryEvent=l,t.captureTelemetry=function(e,t,n=!0,r){return function(i,s,o){const c=o.value;return o.value=function(...i){if(!n)return l(e,void 0,t),c.apply(this,i);const s=new a.StopWatch,o=c.apply(this,i);return o&&"function"==typeof o.then&&"function"==typeof o.catch?o.then(n=>(l(e,s.elapsedTime,t),n)).catch(n=>{(t=t||{}).failed=!0,l(r||e,s.elapsedTime,t,n)}):l(e,s.elapsedTime,t),o},o}},t.sendTelemetryWhenDone=function(e,t,n,r){if(n=n||new a.StopWatch,"function"!=typeof t.then)throw new Error("Method is neither a Promise nor a Theneable");t.then(t=>(l(e,n.elapsedTime,r),t),t=>(l(e,n.elapsedTime,r,t),Promise.reject(t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IServiceManager=Symbol("IServiceManager"),t.IServiceContainer=Symbol("IServiceContainer")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMPLETION="COMPLETION",e.COMPLETION_ADD_BRACKETS="COMPLETION.ADD_BRACKETS",e.DEFINITION="DEFINITION",e.HOVER_DEFINITION="HOVER_DEFINITION",e.REFERENCE="REFERENCE",e.SIGNATURE="SIGNATURE",e.SYMBOL="SYMBOL",e.FORMAT_SORT_IMPORTS="FORMAT.SORT_IMPORTS",e.FORMAT="FORMAT.FORMAT",e.FORMAT_ON_TYPE="FORMAT.FORMAT_ON_TYPE",e.EDITOR_LOAD="EDITOR.LOAD",e.LINTING="LINTING",e.GO_TO_OBJECT_DEFINITION="GO_TO_OBJECT_DEFINITION",e.REFACTOR_RENAME="REFACTOR_RENAME",e.REFACTOR_EXTRACT_VAR="REFACTOR_EXTRACT_VAR",e.REFACTOR_EXTRACT_FUNCTION="REFACTOR_EXTRACT_FUNCTION",e.REPL="REPL",e.PYTHON_INTERPRETER="PYTHON_INTERPRETER",e.PYTHON_INSTALL_PACKAGE="PYTHON_INSTALL_PACKAGE",e.PYTHON_INTERPRETER_DISCOVERY="PYTHON_INTERPRETER_DISCOVERY",e.PYTHON_INTERPRETER_AUTO_SELECTION="PYTHON_INTERPRETER_AUTO_SELECTION",e.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES="PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES",e.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE="PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE",e.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL="PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL",e.TERMINAL_SHELL_IDENTIFICATION="TERMINAL_SHELL_IDENTIFICATION",e.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT="PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT",e.CONDA_INHERIT_ENV_PROMPT="CONDA_INHERIT_ENV_PROMPT",e.INSIDERS_RELOAD_PROMPT="INSIDERS_RELOAD_PROMPT",e.INSIDERS_PROMPT="INSIDERS_PROMPT",e.OPT_INTO_INSIDERS_AGAIN_PROMPT="OPT_INTO_INSIDERS_AGAIN_PROMPT",e.ENVFILE_VARIABLE_SUBSTITUTION="ENVFILE_VARIABLE_SUBSTITUTION",e.WORKSPACE_SYMBOLS_BUILD="WORKSPACE_SYMBOLS.BUILD",e.WORKSPACE_SYMBOLS_GO_TO="WORKSPACE_SYMBOLS.GO_TO",e.EXECUTION_CODE="EXECUTION_CODE",e.EXECUTION_DJANGO="EXECUTION_DJANGO",e.DEBUG_SESSION_ERROR="DEBUG_SESSION.ERROR",e.DEBUG_SESSION_START="DEBUG_SESSION.START",e.DEBUG_SESSION_STOP="DEBUG_SESSION.STOP",e.DEBUG_SESSION_USER_CODE_RUNNING="DEBUG_SESSION.USER_CODE_RUNNING",e.DEBUGGER="DEBUGGER",e.DEBUGGER_ATTACH_TO_CHILD_PROCESS="DEBUGGER.ATTACH_TO_CHILD_PROCESS",e.DEBUGGER_CONFIGURATION_PROMPTS="DEBUGGER.CONFIGURATION.PROMPTS",e.DEBUGGER_CONFIGURATION_PROMPTS_IN_LAUNCH_JSON="DEBUGGER.CONFIGURATION.PROMPTS.IN.LAUNCH.JSON",e.UNITTEST_STOP="UNITTEST.STOP",e.UNITTEST_DISABLE="UNITTEST.DISABLE",e.UNITTEST_RUN="UNITTEST.RUN",e.UNITTEST_DISCOVER="UNITTEST.DISCOVER",e.UNITTEST_DISCOVER_WITH_PYCODE="UNITTEST.DISCOVER.WITH.PYTHONCODE",e.UNITTEST_CONFIGURE="UNITTEST.CONFIGURE",e.UNITTEST_CONFIGURING="UNITTEST.CONFIGURING",e.UNITTEST_VIEW_OUTPUT="UNITTEST.VIEW_OUTPUT",e.UNITTEST_NAVIGATE="UNITTEST.NAVIGATE",e.UNITTEST_ENABLED="UNITTEST.ENABLED",e.UNITTEST_EXPLORER_WORK_SPACE_COUNT="UNITTEST.TEST_EXPLORER.WORK_SPACE_COUNT",e.PYTHON_LANGUAGE_SERVER_CURRENT_SELECTION="PYTHON_LANGUAGE_SERVER_CURRENT_SELECTION",e.PYTHON_LANGUAGE_SERVER_ENABLED="PYTHON_LANGUAGE_SERVER.ENABLED",e.PYTHON_LANGUAGE_SERVER_EXTRACTED="PYTHON_LANGUAGE_SERVER.EXTRACTED",e.PYTHON_LANGUAGE_SERVER_DOWNLOADED="PYTHON_LANGUAGE_SERVER.DOWNLOADED",e.PYTHON_LANGUAGE_SERVER_ERROR="PYTHON_LANGUAGE_SERVER.ERROR",e.PYTHON_LANGUAGE_SERVER_STARTUP="PYTHON_LANGUAGE_SERVER.STARTUP",e.PYTHON_LANGUAGE_SERVER_READY="PYTHON_LANGUAGE_SERVER.READY",e.PYTHON_LANGUAGE_SERVER_PLATFORM_SUPPORTED="PYTHON_LANGUAGE_SERVER.PLATFORM_SUPPORTED",e.PYTHON_LANGUAGE_SERVER_TELEMETRY="PYTHON_LANGUAGE_SERVER.EVENT",e.PYTHON_EXPERIMENTS="PYTHON_EXPERIMENTS",e.PYTHON_EXPERIMENTS_DISABLED="PYTHON_EXPERIMENTS_DISABLED",e.PYTHON_EXPERIMENTS_DOWNLOAD_SUCCESS_RATE="PYTHON_EXPERIMENTS_DOWNLOAD_SUCCESS_RATE",e.PLAY_BUTTON_ICON_DISABLED="PLAY_BUTTON_ICON.DISABLED",e.EXTENSION_SURVEY_PROMPT="EXTENSION_SURVEY_PROMPT",e.TERMINAL_CREATE="TERMINAL.CREATE",e.PYTHON_LANGUAGE_SERVER_LIST_BLOB_STORE_PACKAGES="PYTHON_LANGUAGE_SERVER.LIST_BLOB_PACKAGES",e.DIAGNOSTICS_ACTION="DIAGNOSTICS.ACTION",e.DIAGNOSTICS_MESSAGE="DIAGNOSTICS.MESSAGE",e.PLATFORM_INFO="PLATFORM.INFO",e.SELECT_LINTER="LINTING.SELECT",e.LINTER_NOT_INSTALLED_PROMPT="LINTER_NOT_INSTALLED_PROMPT",e.CONFIGURE_AVAILABLE_LINTER_PROMPT="CONFIGURE_AVAILABLE_LINTER_PROMPT",e.HASHED_PACKAGE_NAME="HASHED_PACKAGE_NAME",e.HASHED_PACKAGE_PERF="HASHED_PACKAGE_PERF",e.JEDI_MEMORY="JEDI_MEMORY"}(t.EventName||(t.EventName={})),function(e){e.FailedToParseVersion="FailedToParseVersion",e.FailedToDetermineOS="FailedToDetermineOS"}(t.PlatformErrors||(t.PlatformErrors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(26),i=n(3),s=n(30);let o,a;!function(e){e.warnSourceMaps=u("diagnostics.warnSourceMaps","Source map support is enabled in the Python Extension, this will adversely impact performance of the extension."),e.disableSourceMaps=u("diagnostics.disableSourceMaps","Disable Source Map Support"),e.warnBeforeEnablingSourceMaps=u("diagnostics.warnBeforeEnablingSourceMaps","Enabling source map support in the Python Extension will adversely impact performance of the extension."),e.enableSourceMapsAndReloadVSC=u("diagnostics.enableSourceMapsAndReloadVSC","Enable and reload Window."),e.lsNotSupported=u("diagnostics.lsNotSupported","Your operating system does not meet the minimum requirements of the Python Language Server. Reverting to the alternative autocompletion provider, Jedi."),e.invalidPythonPathInDebuggerSettings=u("diagnostics.invalidPythonPathInDebuggerSettings",'You need to select a Python interpreter before you start debugging.\n\nTip: click on "Select Python Interpreter" in the status bar.'),e.invalidPythonPathInDebuggerLaunch=u("diagnostics.invalidPythonPathInDebuggerLaunch","The Python path in your debug configuration is invalid."),e.invalidDebuggerTypeDiagnostic=u("diagnostics.invalidDebuggerTypeDiagnostic",'Your launch.json file needs to be updated to change the "pythonExperimental" debug configurations to use the "python" debugger type, otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),e.consoleTypeDiagnostic=u("diagnostics.consoleTypeDiagnostic",'Your launch.json file needs to be updated to change the console type string from "none" to "internalConsole", otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),e.justMyCodeDiagnostic=u("diagnostics.justMyCodeDiagnostic",'Configuration "debugStdLib" in launch.json is no longer supported. It\'s recommended to replace it with "justMyCode", which is the exact opposite of using "debugStdLib". Would you like to automatically update your launch.json file to do that?'),e.yesUpdateLaunch=u("diagnostics.yesUpdateLaunch","Yes, update launch.json"),e.invalidTestSettings=u("diagnostics.invalidTestSettings",'Your settings needs to be updated to change the setting "python.unitTest." to "python.testing.", otherwise testing Python code using the extension may not work. Would you like to automatically update your settings now?'),e.updateSettings=u("diagnostics.updateSettings","Yes, update settings")}(t.Diagnostics||(t.Diagnostics={})),function(e){e.canceled=u("Common.canceled","Canceled"),e.gotIt=u("Common.gotIt","Got it!"),e.loadingExtension=u("Common.loadingPythonExtension","Starlark Extension loading..."),e.openOutputPanel=u("Common.openOutputPanel","Show output"),e.noIWillDoItLater=u("Common.noIWillDoItLater","No, I will do it later"),e.notNow=u("Common.notNow","Not now"),e.doNotShowAgain=u("Common.doNotShowAgain","Do not show again"),e.reload=u("Common.reload","Reload"),e.moreInfo=u("Common.moreInfo","More Info")}(t.Common||(t.Common={})),function(e){e.bannerMessage=u("LanguageService.bannerMessage","Can you please take 2 minutes to tell us how the Python Language Server is working for you?"),e.bannerLabelYes=u("LanguageService.bannerLabelYes","Yes, take survey now"),e.bannerLabelNo=u("LanguageService.bannerLabelNo","No, thanks"),e.lsFailedToStart=u("LanguageService.lsFailedToStart","We encountered an issue starting the Language Server. Reverting to the alternative, Jedi. Check the Python output panel for details."),e.lsFailedToDownload=u("LanguageService.lsFailedToDownload","We encountered an issue downloading the Language Server. Reverting to the alternative, Jedi. Check the Python output panel for details."),e.lsFailedToExtract=u("LanguageService.lsFailedToExtract","We encountered an issue extracting the Language Server. Reverting to the alternative, Jedi. Check the Python output panel for details."),e.downloadFailedOutputMessage=u("LanguageService.downloadFailedOutputMessage","Language server download failed."),e.extractionFailedOutputMessage=u("LanguageService.extractionFailedOutputMessage","Language server extraction failed."),e.extractionCompletedOutputMessage=u("LanguageService.extractionCompletedOutputMessage","Language server download complete."),e.extractionDoneOutputMessage=u("LanguageService.extractionDoneOutputMessage","done."),e.reloadVSCodeIfSeachPathHasChanged=u("LanguageService.reloadVSCodeIfSeachPathHasChanged","Search paths have changed for this Python interpreter. Please reload the extension to ensure that the IntelliSense works correctly.")}(t.LanguageService||(t.LanguageService={})),function(e){e.downloadingFile=u("downloading.file","Downloading {0}..."),e.downloadingFileProgress=u("downloading.file.progress","{0}{1} of {2} KB ({3}%)")}(t.Http||(t.Http={})),function(e){e.inGroup=u("Experiments.inGroup","User belongs to experiment group '{0}'")}(t.Experiments||(t.Experiments={})),function(e){e.loading=u("Interpreters.LoadingInterpreters","Loading Python Interpreters"),e.refreshing=u("Interpreters.RefreshingInterpreters","Refreshing Python Interpreters"),e.condaInheritEnvMessage=u("Interpreters.condaInheritEnvMessage",'We noticed you\'re using a conda environment. If you are experiencing issues with this environment in the integrated terminal, we recommend that you let the Python extension change "terminal.integrated.inheritEnv" to false in your user settings.'),e.environmentPromptMessage=u("Interpreters.environmentPromptMessage","We noticed a new virtual environment has been created. Do you want to select it for the workspace folder?"),e.selectInterpreterTip=u("Interpreters.selectInterpreterTip","Tip: you can change the Python interpreter used by the Python extension by clicking on the Python version in the status bar")}(t.Interpreters||(t.Interpreters={})),function(e){e.yesWeekly=u("ExtensionChannels.yesWeekly","Yes, weekly"),e.yesDaily=u("ExtensionChannels.yesDaily","Yes, daily"),e.promptMessage=u("ExtensionChannels.promptMessage","We noticed you are using Visual Studio Code Insiders. Would you like to use the Insiders build of the Python extension?"),e.optIntoProgramAgainMessage=u("ExtensionChannels.optIntoProgramAgainMessage","It looks like you were previously in the Insiders Program of the Python extension. Would you like to opt into the program again?"),e.reloadToUseInsidersMessage=u("ExtensionChannels.reloadToUseInsidersMessage","Please reload Visual Studio Code to use the insiders build of the Python extension."),e.downloadCompletedOutputMessage=u("ExtensionChannels.downloadCompletedOutputMessage","Insiders build download complete."),e.startingDownloadOutputMessage=u("ExtensionChannels.startingDownloadOutputMessage","Starting download for Insiders build."),e.downloadingInsidersMessage=u("ExtensionChannels.downloadingInsidersMessage","Downloading Insiders Extension... "),e.installingInsidersMessage=u("ExtensionChannels.installingInsidersMessage","Installing Insiders build of extension... "),e.installingStableMessage=u("ExtensionChannels.installingStableMessage","Installing Stable build of extension... "),e.installationCompleteMessage=u("ExtensionChannels.installationCompleteMessage","complete.")}(t.ExtensionChannels||(t.ExtensionChannels={})),function(e){e.languageServer=u("OutputChannelNames.languageServer","Python Language Server"),e.python=u("OutputChannelNames.python","Python"),e.pythonTest=u("OutputChannelNames.pythonTest","Python Test Log")}(t.OutputChannelNames||(t.OutputChannelNames={})),function(e){e.currentWorkingDirectory=u("Logging.CurrentWorkingDirectory","cwd:")}(t.Logging||(t.Logging={})),function(e){e.enableLinter=u("Linter.enableLinter","Enable {0}"),e.enablePylint=u("Linter.enablePylint","You have a pylintrc file in your workspace. Do you want to enable pylint?"),e.replaceWithSelectedLinter=u("Linter.replaceWithSelectedLinter","Multiple linters are enabled in settings. Replace with '{0}'?")}(t.Linters||(t.Linters={})),function(e){e.bannerMessage=u("InteractiveShiftEnterBanner.bannerMessage","Would you like shift-enter to send code to the new Interactive Window experience?"),e.bannerLabelYes=u("InteractiveShiftEnterBanner.bannerLabelYes","Yes"),e.bannerLabelNo=u("InteractiveShiftEnterBanner.bannerLabelNo","No")}(t.InteractiveShiftEnterBanner||(t.InteractiveShiftEnterBanner={})),function(e){e.bannerMessage=u("DataScienceSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python Data Science features are working for you?"),e.bannerLabelYes=u("DataScienceSurveyBanner.bannerLabelYes","Yes, take survey now"),e.bannerLabelNo=u("DataScienceSurveyBanner.bannerLabelNo","No, thanks")}(t.DataScienceSurveyBanner||(t.DataScienceSurveyBanner={})),function(e){e.bannerMessage=u("ExtensionSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python extension is working for you?"),e.maybeLater=u("ExtensionSurveyBanner.maybeLater","Maybe later")}(t.ExtensionSurveyBanner||(t.ExtensionSurveyBanner={})),function(e){e.historyTitle=u("DataScience.historyTitle","Python Interactive"),e.dataExplorerTitle=u("DataScience.dataExplorerTitle","Data Viewer"),e.badWebPanelFormatString=u("DataScience.badWebPanelFormatString","<html><body><h1>{0} is not a valid file name</h1></body></html>"),e.sessionDisposed=u("DataScience.sessionDisposed","Cannot execute code, session has been disposed."),e.passwordFailure=u("DataScience.passwordFailure","Failed to connect to password protected server. Check that password is correct."),e.unknownMimeTypeFormat=u("DataScience.unknownMimeTypeFormat","Mime type {0} is not currently supported"),e.exportDialogTitle=u("DataScience.exportDialogTitle","Export to Jupyter Notebook"),e.exportDialogFilter=u("DataScience.exportDialogFilter","Jupyter Notebooks"),e.exportDialogComplete=u("DataScience.exportDialogComplete","Notebook written to {0}"),e.exportDialogFailed=u("DataScience.exportDialogFailed","Failed to export notebook. {0}"),e.exportOpenQuestion=u("DataScience.exportOpenQuestion","Open in browser"),e.exportOpenQuestion1=u("DataScience.exportOpenQuestion1","Open in editor"),e.runCellLensCommandTitle=u("python.command.python.datascience.runcell.title","Run cell"),e.importDialogTitle=u("DataScience.importDialogTitle","Import Jupyter Notebook"),e.importDialogFilter=u("DataScience.importDialogFilter","Jupyter Notebooks"),e.notebookCheckForImportTitle=u("DataScience.notebookCheckForImportTitle","Do you want to import the Jupyter Notebook into Python code?"),e.notebookCheckForImportYes=u("DataScience.notebookCheckForImportYes","Import"),e.notebookCheckForImportNo=u("DataScience.notebookCheckForImportNo","Later"),e.notebookCheckForImportDontAskAgain=u("DataScience.notebookCheckForImportDontAskAgain","Don't Ask Again"),e.libraryNotInstalled=u("DataScience.libraryNotInstalled","Data Science library {0} is not installed. Install?"),e.jupyterInstall=u("DataScience.jupyterInstall","Install"),e.jupyterNotSupported=u("DataScience.jupyterNotSupported","Jupyter cannot be started. Error attempting to locate jupyter: {0}"),e.jupyterNotSupportedBecauseOfEnvironment=u("DataScience.jupyterNotSupportedBecauseOfEnvironment","Activating {0} to run Jupyter failed with {1}"),e.jupyterNbConvertNotSupported=u("DataScience.jupyterNbConvertNotSupported","Jupyter nbconvert is not installed"),e.jupyterLaunchTimedOut=u("DataScience.jupyterLaunchTimedOut","The Jupyter notebook server failed to launch in time"),e.jupyterLaunchNoURL=u("DataScience.jupyterLaunchNoURL","Failed to find the URL of the launched Jupyter notebook server"),e.jupyterSelfCertFail=u("DataScience.jupyterSelfCertFail","The security certificate used by server {0} was not issued by a trusted certificate authority.\r\nThis may indicate an attempt to steal your information.\r\nDo you want to enable the Allow Unauthorized Remote Connection setting for this workspace to allow you to connect?"),e.jupyterSelfCertEnable=u("DataScience.jupyterSelfCertEnable","Yes, connect anyways"),e.jupyterSelfCertClose=u("DataScience.jupyterSelfCertClose","No, close the connection"),e.pythonInteractiveHelpLink=u("DataScience.pythonInteractiveHelpLink","See [https://aka.ms/pyaiinstall] for help on installing jupyter."),e.importingFormat=u("DataScience.importingFormat","Importing {0}"),e.startingJupyter=u("DataScience.startingJupyter","Starting Jupyter server"),e.connectingToJupyter=u("DataScience.connectingToJupyter","Connecting to Jupyter server"),e.exportingFormat=u("DataScience.exportingFormat","Exporting {0}"),e.runAllCellsLensCommandTitle=u("python.command.python.datascience.runallcells.title","Run all cells"),e.runAllCellsAboveLensCommandTitle=u("python.command.python.datascience.runallcellsabove.title","Run above"),e.runCellAndAllBelowLensCommandTitle=u("python.command.python.datascience.runcellandallbelow.title","Run Below"),e.importChangeDirectoryComment=u("DataScience.importChangeDirectoryComment","{0} Change working directory from the workspace root to the ipynb file location. Turn this addition off with the DataScience.changeDirOnImportExport setting"),e.exportChangeDirectoryComment=u("DataScience.exportChangeDirectoryComment","# Change directory to VSCode workspace root so that relative path loads work correctly. Turn this addition off with the DataScience.changeDirOnImportExport setting"),e.restartKernelMessage=u("DataScience.restartKernelMessage","Do you want to restart the Jupter kernel? All variables will be lost."),e.restartKernelMessageYes=u("DataScience.restartKernelMessageYes","Restart"),e.restartKernelMessageDontAskAgain=u("DataScience.restartKernelMessageDontAskAgain","Don't Ask Again"),e.restartKernelMessageNo=u("DataScience.restartKernelMessageNo","Cancel"),e.restartingKernelStatus=u("DataScience.restartingKernelStatus","Restarting IPython Kernel"),e.restartingKernelFailed=u("DataScience.restartingKernelFailed","Kernel restart failed. Jupyter server is hung. Please reload VS code."),e.interruptingKernelFailed=u("DataScience.interruptingKernelFailed","Kernel interrupt failed. Jupyter server is hung. Please reload VS code."),e.executingCode=u("DataScience.executingCode","Executing Cell"),e.collapseAll=u("DataScience.collapseAll","Collapse all cell inputs"),e.expandAll=u("DataScience.expandAll","Expand all cell inputs"),e.collapseSingle=u("DataScience.collapseSingle","Collapse"),e.expandSingle=u("DataScience.expandSingle","Expand"),e.exportKey=u("DataScience.export","Export as Jupyter notebook"),e.restartServer=u("DataScience.restartServer","Restart IPython Kernel"),e.undo=u("DataScience.undo","Undo"),e.redo=u("DataScience.redo","Redo"),e.save=u("DataScience.save","Save file"),e.clearAll=u("DataScience.clearAll","Remove all cells"),e.reloadRequired=u("DataScience.reloadRequired","Please reload the window for new settings to take effect."),e.pythonVersionHeader=u("DataScience.pythonVersionHeader","Python Version:"),e.pythonRestartHeader=u("DataScience.pythonRestartHeader","Restarted Kernel:"),e.pythonNewHeader=u("DataScience.pythonNewHeader","Started new kernel:"),e.pythonVersionHeaderNoPyKernel=u("DataScience.pythonVersionHeaderNoPyKernel","Python Version may not match, no ipykernel found:"),e.jupyterSelectURILaunchLocal=u("DataScience.jupyterSelectURILaunchLocal","Launch local Jupyter server"),e.jupyterSelectURISpecifyURI=u("DataScience.jupyterSelectURISpecifyURI","Type in the URI for the Jupyter server"),e.jupyterSelectURIPrompt=u("DataScience.jupyterSelectURIPrompt","Enter the URI of a Jupyter server"),e.jupyterSelectURIInvalidURI=u("DataScience.jupyterSelectURIInvalidURI","Invalid URI specified"),e.jupyterSelectPasswordPrompt=u("DataScience.jupyterSelectPasswordPrompt","Enter your notebook password"),e.jupyterNotebookFailure=u("DataScience.jupyterNotebookFailure","Jupyter notebook failed to launch. \r\n{0}"),e.jupyterNotebookConnectFailed=u("DataScience.jupyterNotebookConnectFailed","Failed to connect to Jupyter notebook. \r\n{0}\r\n{1}"),e.jupyterNotebookRemoteConnectFailed=u("DataScience.jupyterNotebookRemoteConnectFailed","Failed to connect to remote Jupyter notebook.\r\nCheck that the Jupyter Server URI setting has a valid running server specified.\r\n{0}\r\n{1}"),e.jupyterNotebookRemoteConnectSelfCertsFailed=u("DataScience.jupyterNotebookRemoteConnectSelfCertsFailed","Failed to connect to remote Jupyter notebook.\r\nSpecified server is using self signed certs. Enable Allow Unauthorized Remote Connection setting to connect anyways\r\n{0}\r\n{1}"),e.jupyterServerCrashed=u("DataScience.jupyterServerCrashed","Jupyter server crashed. Unable to connect. \r\nError code from jupyter: {0}"),e.notebookVersionFormat=u("DataScience.notebookVersionFormat","Jupyter Notebook Version: {0}"),e.jupyterKernelNotSupportedOnActive=u("DataScience.jupyterKernelNotSupportedOnActive","IPython kernel cannot be started from '{0}'. Using closest match {1} instead."),e.jupyterKernelSpecNotFound=u("DataScience.jupyterKernelSpecNotFound","Cannot create a IPython kernel spec and none are available for use"),e.interruptKernel=u("DataScience.interruptKernel","Interrupt IPython Kernel"),e.clearAllOutput=u("DataScience.clearAllOutput","Clear All Output"),e.interruptKernelStatus=u("DataScience.interruptKernelStatus","Interrupting IPython Kernel"),e.exportCancel=u("DataScience.exportCancel","Cancel"),e.restartKernelAfterInterruptMessage=u("DataScience.restartKernelAfterInterruptMessage","Interrupting the kernel timed out. Do you want to restart the kernel instead? All variables will be lost."),e.pythonInterruptFailedHeader=u("DataScience.pythonInterruptFailedHeader","Keyboard interrupt crashed the kernel. Kernel restarted."),e.sysInfoURILabel=u("DataScience.sysInfoURILabel","Jupyter Server URI: "),e.executingCodeFailure=u("DataScience.executingCodeFailure","Executing code failed : {0}"),e.inputWatermark=u("DataScience.inputWatermark","Type code here and press shift-enter to run"),e.liveShareConnectFailure=u("DataScience.liveShareConnectFailure","Cannot connect to host jupyter session. URI not found."),e.liveShareCannotSpawnNotebooks=u("DataScience.liveShareCannotSpawnNotebooks","Spawning jupyter notebooks is not supported over a live share connection"),e.liveShareCannotImportNotebooks=u("DataScience.liveShareCannotImportNotebooks","Importing notebooks is not currently supported over a live share connection"),e.liveShareHostFormat=u("DataScience.liveShareHostFormat","{0} Jupyter Server"),e.liveShareSyncFailure=u("DataScience.liveShareSyncFailure","Synchronization failure during live share startup."),e.liveShareServiceFailure=u("DataScience.liveShareServiceFailure","Failure starting '{0}' service during live share connection."),e.documentMismatch=u("DataScience.documentMismatch","Cannot run cells, duplicate documents for {0} found."),e.jupyterGetVariablesBadResults=u("DataScience.jupyterGetVariablesBadResults","Failed to fetch variable info from the Jupyter server."),e.dataExplorerInvalidVariableFormat=u("DataScience.dataExplorerInvalidVariableFormat","'{0}' is not an active variable."),e.pythonInteractiveCreateFailed=u("DataScience.pythonInteractiveCreateFailed","Failure to create a 'Python Interactive' window. Try reinstalling the Python extension."),e.jupyterGetVariablesExecutionError=u("DataScience.jupyterGetVariablesExecutionError","Failure during variable extraction: \r\n{0}"),e.loadingMessage=u("DataScience.loadingMessage","loading ..."),e.fetchingDataViewer=u("DataScience.fetchingDataViewer","Fetching data ..."),e.noRowsInDataViewer=u("DataScience.noRowsInDataViewer","No rows match current filter"),e.pandasTooOldForViewingFormat=u("DataScience.pandasTooOldForViewingFormat","Python package 'pandas' is version {0}. Version 0.20 or greater is required for viewing data."),e.pandasRequiredForViewing=u("DataScience.pandasRequiredForViewing","Python package 'pandas' is required for viewing data."),e.valuesColumn=u("DataScience.valuesColumn","values"),e.liveShareInvalid=u("DataScience.liveShareInvalid","One or more guests in the session do not have the Python Extension installed. Live share session cannot continue."),e.tooManyColumnsMessage=u("DataScience.tooManyColumnsMessage","Variables with over a 1000 columns may take a long time to display. Are you sure you wish to continue?"),e.tooManyColumnsYes=u("DataScience.tooManyColumnsYes","Yes"),e.tooManyColumnsNo=u("DataScience.tooManyColumnsNo","No"),e.tooManyColumnsDontAskAgain=u("DataScience.tooManyColumnsDontAskAgain","Don't Ask Again"),e.filterRowsButton=u("DataScience.filterRowsButton","Filter Rows"),e.filterRowsTooltip=u("DataScience.filterRowsTooltip","Allows filtering multiple rows. Use =, >, or < signs to filter numeric values."),e.previewHeader=u("DataScience.previewHeader","--- Begin preview of {0} ---"),e.previewFooter=u("DataScience.previewFooter","--- End preview of {0} ---"),e.previewStatusMessage=u("DataScience.previewStatusMessage","Generating preview of {0}"),e.plotViewerTitle=u("DataScience.plotViewerTitle","Plots"),e.exportPlotTitle=u("DataScience.exportPlotTitle","Save plot image"),e.pdfFilter=u("DataScience.pdfFilter","PDF"),e.pngFilter=u("DataScience.pngFilter","PNG"),e.svgFilter=u("DataScience.svgFilter","SVG"),e.previousPlot=u("DataScience.previousPlot","Previous"),e.nextPlot=u("DataScience.nextPlot","Next"),e.panPlot=u("DataScience.panPlot","Pan"),e.zoomInPlot=u("DataScience.zoomInPlot","Zoom in"),e.zoomOutPlot=u("DataScience.zoomOutPlot","Zoom out"),e.exportPlot=u("DataScience.exportPlot","Export to different formats"),e.deletePlot=u("DataScience.deletePlot","Remove"),e.editSection=u("DataScience.editSection","Input new cells here."),e.selectedImageListLabel=u("DataScience.selectedImageListLabel","Selected Image"),e.imageListLabel=u("DataScience.imageListLabel","Image"),e.exportImageFailed=u("DataScience.exportImageFailed","Error exporting image: {0}"),e.jupyterDataRateExceeded=u("DataScience.jupyterDataRateExceeded","Cannot view variable because data rate exceeded. Please restart your server with a higher data rate limit. For example, --NotebookApp.iopub_data_rate_limit=10000000000.0"),e.addCellBelowCommandTitle=u("DataScience.addCellBelowCommandTitle","Add cell"),e.debugCellCommandTitle=u("DataScience.debugCellCommandTitle","Debug cell"),e.debugStepOverCommandTitle=u("DataScience.debugStepOverCommandTitle","Step over"),e.debugContinueCommandTitle=u("DataScience.debugContinueCommandTitle","Continue"),e.debugStopCommandTitle=u("DataScience.debugStopCommandTitle","Stop"),e.runCurrentCellAndAddBelow=u("DataScience.runCurrentCellAndAddBelow","Run current and add cell below"),e.variableExplorerDisabledDuringDebugging=u("DataScience.variableExplorerDisabledDuringDebugging","Please see the Debug Side Bar's VARIABLES section."),e.jupyterDebuggerNotInstalledError=u("DataScience.jupyterDebuggerNotInstalledError","Pip module ptvsd is required for debugging cells. You will need to install it to debug cells."),e.jupyterDebuggerPtvsdParseError=u("DataScience.jupyterDebuggerPtvsdParseError","Unable to parse ptvsd output, please log an issue with https://github.com/microsoft/vscode-python"),e.jupyterDebuggerPortNotAvailableError=u("DataScience.jupyterDebuggerPortNotAvailableError","Port {0} cannot be opened for debugging. Please specify a different port in the remoteDebuggerPort setting."),e.jupyterDebuggerPortBlockedError=u("DataScience.jupyterDebuggerPortBlockedError","Port {0} cannot be connected to for debugging. Please let port {0} through your firewall."),e.jupyterDebuggerPortNotAvailableSearchError=u("DataScience.jupyterDebuggerPortNotAvailableSearchError","Ports in the range {0}-{1} cannot be found for debugging. Please specify a port in the remoteDebuggerPort setting."),e.jupyterDebuggerPortBlockedSearchError=u("DataScience.jupyterDebuggerPortBlockedSearchError","A port cannot be connected to for debugging. Please let ports {0}-{1} through your firewall."),e.jupyterDebuggerInstallPtvsdNew=u("DataScience.jupyterDebuggerInstallPtvsdNew","Pip module ptvsd is required for debugging cells. Install ptvsd and continue to debug cell?"),e.jupyterDebuggerInstallPtvsdUpdate=u("DataScience.jupyterDebuggerInstallPtvsdUpdate","The version of ptvsd installed does not support debugging cells. Update ptvsd to newest version and continue to debug cell?"),e.jupyterDebuggerInstallPtvsdYes=u("DataScience.jupyterDebuggerInstallPtvsdYes","Yes"),e.jupyterDebuggerInstallPtvsdNo=u("DataScience.jupyterDebuggerInstallPtvsdNo","No"),e.cellStopOnErrorFormatMessage=u("DataScience.cellStopOnErrorFormatMessage","{0} cells were canceled due to an error in the previous cell."),e.scrollToCellTitleFormatMessage=u("DataScience.scrollToCellTitleFormatMessage","Go to [{0}]"),e.instructionComments=u("DataScience.instructionComments",'# To add a new cell, type "{0}"\n# To add a new markdown cell, type "{0} [markdown]"\n'),e.invalidNotebookFileError=u("DataScience.invalidNotebookFileError","Notebook is not in the correct format. Check the file for correct json."),e.invalidNotebookFileErrorFormat=u("DataScience.invalidNotebookFileError","{0} is not a valid notebook file. Check the file for correct json."),e.nativeEditorTitle=u("DataScience.nativeEditorTitle","Notebook Editor"),e.untitledNotebookFileName=u("DataScience.untitledNotebookFileName","Untitled"),e.dirtyNotebookMessage1=u("DataScience.dirtyNotebookMessage1","Do you want to save the changes you made to {0}?"),e.dirtyNotebookMessage2=u("DataScience.dirtyNotebookMessage2","Your changes will be lost if you don't save them."),e.dirtyNotebookYes=u("DataScience.dirtyNotebookYes","Save"),e.dirtyNotebookNo=u("DataScience.dirtyNotebookNo","Don't Save"),e.dirtyNotebookCancel=u("DataScience.dirtyNotebookCancel","Cancel"),e.dirtyNotebookDialogTitle=u("DataScience.dirtyNotebookDialogTitle","Save"),e.dirtyNotebookDialogFilter=u("DataScience.dirtyNotebookDialogFilter","Jupyter Notebooks"),e.remoteDebuggerNotSupported=u("DataScience.remoteDebuggerNotSupported","Debugging while attached to a remote server is not currently supported."),e.exportAsPythonFileTooltip=u("DataScience.exportAsPythonFileTooltip","Convert and save to a python script"),e.exportAsPythonFileTitle=u("DataScience.exportAsPythonFileTitle","Save As Python File"),e.runCell=u("DataScience.runCell","Run cell"),e.deleteCell=u("DataScience.deleteCell","Delete cell"),e.moveCellUp=u("DataScience.moveCellUp","Move cell up"),e.moveCellDown=u("DataScience.moveCellDown","Move cell down"),e.moveSelectedCellUp=u("DataScience.moveSelectedCellUp","Move selected cell up"),e.moveSelectedCellDown=u("DataScience.deleteCell","Move selected cell down"),e.insertBelow=u("DataScience.insertBelow","Insert cell below"),e.insertAbove=u("DataScience.insertAbove","Insert cell above"),e.addCell=u("DataScience.addCell","Add cell"),e.runAll=u("DataScience.runAll","Insert cell"),e.convertingToPythonFile=u("DataScience.convertingToPythonFile","Converting ipynb to python file"),e.noInterpreter=u("DataScience.noInterpreter","No python selected"),e.notebookNotFound=u("DataScience.notebookNotFound","python -m jupyter notebook --version is not running"),e.findJupyterCommandProgress=u("DataScience.findJupyterCommandProgress","Active interpreter does not support {0}. Searching for the best available interpreter."),e.findJupyterCommandProgressCheckInterpreter=u("DataScience.findJupyterCommandProgressCheckInterpreter","Checking {0}."),e.findJupyterCommandProgressSearchCurrentPath=u("DataScience.findJupyterCommandProgressSearchCurrentPath","Searching current path.")}(t.DataScience||(t.DataScience={})),function(e){let t,n,r,i,s,o;e.selectConfiguration={title:u("debug.selectConfigurationTitle"),placeholder:u("debug.selectConfigurationPlaceholder")},e.launchJsonCompletions={label:u("debug.launchJsonConfigurationsCompletionLabel"),description:u("debug.launchJsonConfigurationsCompletionDescription")},function(e){e.snippet={name:u("python.snippet.launch.standard.label")},e.selectConfiguration={label:u("debug.debugFileConfigurationLabel"),description:u("debug.debugFileConfigurationDescription")}}(t=e.file||(e.file={})),function(e){e.snippet={name:u("python.snippet.launch.module.label"),default:u("python.snippet.launch.module.default")},e.selectConfiguration={label:u("debug.debugModuleConfigurationLabel"),description:u("debug.debugModuleConfigurationDescription")},e.enterModule={title:u("debug.moduleEnterModuleTitle"),prompt:u("debug.moduleEnterModulePrompt"),default:u("debug.moduleEnterModuleDefault"),invalid:u("debug.moduleEnterModuleInvalidNameError")}}(n=e.module||(e.module={})),function(e){e.snippet={name:u("python.snippet.launch.attach.label")},e.selectConfiguration={label:u("debug.remoteAttachConfigurationLabel"),description:u("debug.remoteAttachConfigurationDescription")},e.enterRemoteHost={title:u("debug.attachRemoteHostTitle"),prompt:u("debug.attachRemoteHostPrompt"),invalid:u("debug.attachRemoteHostValidationError")},e.enterRemotePort={title:u("debug.attachRemotePortTitle"),prompt:u("debug.attachRemotePortPrompt"),invalid:u("debug.attachRemotePortValidationError")}}(r=e.attach||(e.attach={})),function(e){e.snippet={name:u("python.snippet.launch.django.label")},e.selectConfiguration={label:u("debug.debugDjangoConfigurationLabel"),description:u("debug.debugDjangoConfigurationDescription")},e.enterManagePyPath={title:u("debug.djangoEnterManagePyPathTitle"),prompt:u("debug.djangoEnterManagePyPathPrompt"),invalid:u("debug.djangoEnterManagePyPathInvalidFilePathError")}}(i=e.django||(e.django={})),function(e){e.snippet={name:u("python.snippet.launch.flask.label")},e.selectConfiguration={label:u("debug.debugFlaskConfigurationLabel"),description:u("debug.debugFlaskConfigurationDescription")},e.enterAppPathOrNamePath={title:u("debug.flaskEnterAppPathOrNamePathTitle"),prompt:u("debug.flaskEnterAppPathOrNamePathPrompt"),invalid:u("debug.flaskEnterAppPathOrNamePathInvalidNameError")}}(s=e.flask||(e.flask={})),function(e){e.snippet={name:u("python.snippet.launch.pyramid.label")},e.selectConfiguration={label:u("debug.debugPyramidConfigurationLabel"),description:u("debug.debugPyramidConfigurationDescription")},e.enterDevelopmentIniPath={title:u("debug.pyramidEnterDevelopmentIniPathTitle"),prompt:u("debug.pyramidEnterDevelopmentIniPathPrompt"),invalid:u("debug.pyramidEnterDevelopmentIniPathInvalidFilePathError")}}(o=e.pyramid||(e.pyramid={}))}(t.DebugConfigStrings||(t.DebugConfigStrings={})),function(e){e.testErrorDiagnosticMessage=u("Testing.testErrorDiagnosticMessage","Error"),e.testFailDiagnosticMessage=u("Testing.testFailDiagnosticMessage","Fail"),e.testSkippedDiagnosticMessage=u("Testing.testSkippedDiagnosticMessage","Skipped"),e.configureTests=u("Testing.configureTests","Configure Test Framework"),e.disableTests=u("Testing.disableTests","Disable Tests")}(t.Testing||(t.Testing={}));let c,l={};function u(e,t){return()=>(function(e,t){o&&d()===c||h();let n=a;o&&o.hasOwnProperty(e)&&(n=o);let r=n[e];!r&&t&&(r=t);return l[e]=r,r})(e,t)}function d(){const e=process.env.VSCODE_NLS_CONFIG;return e?JSON.parse(e).locale:"en-us"}function h(){c=d();const e=i.join(s.EXTENSION_ROOT_DIR,`package.nls.${c}.json`);if(r.existsSync(e)){const t=r.readFileSync(e,"utf8");o=JSON.parse(t)}else o={};if(!a){const e=i.join(s.EXTENSION_ROOT_DIR,"package.nls.json");if(r.existsSync(e)){const t=r.readFileSync(e,"utf8");a=JSON.parse(t)}else a={}}}t._resetCollections=function(){c="",o=void 0,l={}},t._getAskedForCollection=function(){return l},t.getCollectionJSON=function(){return o&&d()===c||h(),JSON.stringify({...a,...o})},t.localize=u,h()},function(e,t,n){"use strict";function r(){return"1"===process.env.VSC_PYTHON_UNIT_TEST}Object.defineProperty(t,"__esModule",{value:!0}),t.PYTHON_LANGUAGE="starlark",t.JUPYTER_LANGUAGE="jupyter",t.PYTHON=[{scheme:"file",language:t.PYTHON_LANGUAGE},{scheme:"untitled",language:t.PYTHON_LANGUAGE}],t.PYTHON_ALLFILES=[{language:t.PYTHON_LANGUAGE}],t.PVSC_EXTENSION_ID="phgn.vscode-starlark",t.CODE_RUNNER_EXTENSION_ID="formulahendry.code-runner",t.AppinsightsKey="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",function(e){e.Set_Interpreter="python.setInterpreter",e.Set_ShebangInterpreter="python.setShebangInterpreter",e.Exec_In_Terminal="python.execInTerminal",e.Exec_In_Terminal_Icon="python.execInTerminal-icon",e.Exec_Selection_In_Terminal="python.execSelectionInTerminal",e.Exec_Selection_In_Django_Shell="python.execSelectionInDjangoShell",e.Tests_View_UI="python.viewTestUI",e.Tests_Picker_UI="python.selectTestToRun",e.Tests_Picker_UI_Debug="python.selectTestToDebug",e.Tests_Configure="python.configureTests",e.Tests_Discover="python.discoverTests",e.Tests_Discovering="python.discoveringTests",e.Tests_Run_Failed="python.runFailedTests",e.Sort_Imports="python.sortImports",e.Tests_Run="python.runtests",e.Tests_Debug="python.debugtests",e.Tests_Ask_To_Stop_Test="python.askToStopTests",e.Tests_Ask_To_Stop_Discovery="python.askToStopTestDiscovery",e.Tests_Stop="python.stopTests",e.Test_Reveal_Test_Item="python.revealTestItem",e.ViewOutput="python.viewOutput",e.Tests_ViewOutput="python.viewTestOutput",e.Tests_Select_And_Run_Method="python.selectAndRunTestMethod",e.Tests_Select_And_Debug_Method="python.selectAndDebugTestMethod",e.Tests_Select_And_Run_File="python.selectAndRunTestFile",e.Tests_Run_Current_File="python.runCurrentTestFile",e.Refactor_Extract_Variable="python.refactorExtractVariable",e.Refactor_Extract_Method="python.refactorExtractMethod",e.Build_Workspace_Symbols="python.buildWorkspaceSymbols",e.Start_REPL="python.startREPL",e.Create_Terminal="python.createTerminal",e.Set_Linter="python.setLinter",e.Enable_Linter="python.enableLinting",e.Run_Linter="python.runLinting",e.Enable_SourceMap_Support="python.enableSourceMapSupport",e.navigateToTestFunction="navigateToTestFunction",e.navigateToTestSuite="navigateToTestSuite",e.navigateToTestFile="navigateToTestFile",e.openTestNodeInEditor="python.openTestNodeInEditor",e.runTestNode="python.runTestNode",e.debugTestNode="python.debugTestNode",e.SwitchOffInsidersChannel="python.switchOffInsidersChannel",e.SwitchToInsidersDaily="python.switchToDailyChannel",e.SwitchToInsidersWeekly="python.switchToWeeklyChannel"}(t.Commands||(t.Commands={})),function(e){e.Test_Pass="$(check)",e.Test_Fail="$(alert)",e.Test_Error="$(x)",e.Test_Skip="$(circle-slash)"}(t.Octicons||(t.Octicons={})),t.Button_Text_Tests_View_Output="View Output",function(e){e.CodeLensRunUnitTest="Run Test",e.CodeLensDebugUnitTest="Debug Test"}(t.Text||(t.Text={})),function(e){e.MaxUnitTestCodeLensDelay=5e3}(t.Delays||(t.Delays={})),t.STANDARD_OUTPUT_CHANNEL="STANDARD_OUTPUT_CHANNEL",t.isCI="true"===process.env.TRAVIS||void 0!==process.env.TF_BUILD,t.isTestExecution=function(){return"1"===process.env.VSC_PYTHON_CI_TEST||r()},t.isUnitTestExecution=r,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INTERPRETER_LOCATOR_SERVICE="IInterpreterLocatorService",t.WINDOWS_REGISTRY_SERVICE="WindowsRegistryService",t.CONDA_ENV_FILE_SERVICE="CondaEnvFileService",t.CONDA_ENV_SERVICE="CondaEnvService",t.CURRENT_PATH_SERVICE="CurrentPathService",t.KNOWN_PATH_SERVICE="KnownPathsService",t.GLOBAL_VIRTUAL_ENV_SERVICE="VirtualEnvService",t.WORKSPACE_VIRTUAL_ENV_SERVICE="WorkspaceVirtualEnvService",t.PIPENV_SERVICE="PipEnvService",t.IInterpreterVersionService=Symbol("IInterpreterVersionService"),t.IKnownSearchPathsForInterpreters=Symbol("IKnownSearchPathsForInterpreters"),t.IVirtualEnvironmentsSearchPathProvider=Symbol("IVirtualEnvironmentsSearchPathProvider"),t.IInterpreterLocatorService=Symbol("IInterpreterLocatorService"),t.ICondaService=Symbol("ICondaService"),function(e){e.Unknown="Unknown",e.Conda="Conda",e.VirtualEnv="VirtualEnv",e.Pipenv="PipEnv",e.Pyenv="Pyenv",e.Venv="Venv",e.WindowsStore="WindowsStore"}(t.InterpreterType||(t.InterpreterType={})),t.IInterpreterService=Symbol("IInterpreterService"),t.IInterpreterDisplay=Symbol("IInterpreterDisplay"),t.IShebangCodeLensProvider=Symbol("IShebangCodeLensProvider"),t.IInterpreterHelper=Symbol("IInterpreterHelper"),t.IPipEnvService=Symbol("IPipEnvService"),t.IInterpreterLocatorHelper=Symbol("IInterpreterLocatorHelper"),t.IInterpreterWatcher=Symbol("IInterpreterWatcher"),t.IInterpreterWatcherBuilder=Symbol("IInterpreterWatcherBuilder"),t.IInterpreterLocatorProgressHandler=Symbol("IInterpreterLocatorProgressHandler"),t.IInterpreterLocatorProgressService=Symbol("IInterpreterLocatorProgressService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69),i=n(44);var s,o;t.DefaultTheme="Default Light+",function(e){e.RunAllCells="python.datascience.runallcells",e.RunAllCellsAbove="python.datascience.runallcellsabove",e.RunCellAndAllBelow="python.datascience.runcellandallbelow",e.RunAllCellsAbovePalette="python.datascience.runallcellsabove.palette",e.RunCellAndAllBelowPalette="python.datascience.runcurrentcellandallbelow.palette",e.RunToLine="python.datascience.runtoline",e.RunFromLine="python.datascience.runfromline",e.RunCell="python.datascience.runcell",e.RunCurrentCell="python.datascience.runcurrentcell",e.RunCurrentCellAdvance="python.datascience.runcurrentcelladvance",e.ShowHistoryPane="python.datascience.showhistorypane",e.ImportNotebook="python.datascience.importnotebook",e.ImportNotebookFile="python.datascience.importnotebookfile",e.OpenNotebook="python.datascience.opennotebook",e.SelectJupyterURI="python.datascience.selectjupyteruri",e.ExportFileAsNotebook="python.datascience.exportfileasnotebook",e.ExportFileAndOutputAsNotebook="python.datascience.exportfileandoutputasnotebook",e.UndoCells="python.datascience.undocells",e.RedoCells="python.datascience.redocells",e.RemoveAllCells="python.datascience.removeallcells",e.InterruptKernel="python.datascience.interruptkernel",e.RestartKernel="python.datascience.restartkernel",e.NotebookEditorUndoCells="python.datascience.notebookeditor.undocells",e.NotebookEditorRedoCells="python.datascience.notebookeditor.redocells",e.NotebookEditorRemoveAllCells="python.datascience.notebookeditor.removeallcells",e.NotebookEditorInterruptKernel="python.datascience.notebookeditor.interruptkernel",e.NotebookEditorRestartKernel="python.datascience.notebookeditor.restartkernel",e.NotebookEditorRunAllCells="python.datascience.notebookeditor.runallcells",e.NotebookEditorRunSelectedCell="python.datascience.notebookeditor.runselectedcell",e.NotebookEditorAddCellBelow="python.datascience.notebookeditor.addcellbelow",e.ExpandAllCells="python.datascience.expandallcells",e.CollapseAllCells="python.datascience.collapseallcells",e.ExportOutputAsNotebook="python.datascience.exportoutputasnotebook",e.ExecSelectionInInteractiveWindow="python.datascience.execSelectionInteractive",e.RunFileInInteractiveWindows="python.datascience.runFileInteractive",e.DebugFileInInteractiveWindows="python.datascience.debugFileInteractive",e.AddCellBelow="python.datascience.addcellbelow",e.DebugCurrentCellPalette="python.datascience.debugcurrentcell.palette",e.DebugCell="python.datascience.debugcell",e.DebugStepOver="python.datascience.debugstepover",e.DebugContinue="python.datascience.debugcontinue",e.DebugStop="python.datascience.debugstop",e.RunCurrentCellAndAddBelow="python.datascience.runcurrentcellandaddbelow",e.ScrollToCell="python.datascience.scrolltocell",e.CreateNewNotebook="python.datascience.createnewnotebook"}(s=t.Commands||(t.Commands={})),function(e){e.DefaultDesignLenses=[s.RunCurrentCell,s.RunAllCellsAbove,s.DebugCell],e.DefaultDebuggingLenses=[s.DebugContinue,s.DebugStop,s.DebugStepOver],e.DebuggerCommands=[s.DebugContinue,s.DebugStop,s.DebugStepOver]}(t.CodeLensCommands||(t.CodeLensCommands={})),function(e){e.HasCodeCells="python.datascience.hascodecells",e.DataScienceEnabled="python.datascience.featureenabled",e.HaveInteractiveCells="python.datascience.haveinteractivecells",e.HaveRedoableCells="python.datascience.haveredoablecells",e.HaveInteractive="python.datascience.haveinteractive",e.OwnsSelection="python.datascience.ownsSelection",e.HaveNativeCells="python.datascience.havenativecells",e.HaveNativeRedoableCells="python.datascience.havenativeredoablecells",e.HaveNative="python.datascience.havenative",e.HaveCellSelected="python.datascience.havecellselected"}(t.EditorContexts||(t.EditorContexts={})),function(e){e.PythonCellMarker=/^(#\s*%%|#\s*\<codecell\>|#\s*In\[\d*?\]|#\s*In\[ \])/,e.PythonMarkdownCellMarker=/^(#\s*%%\s*\[markdown\]|#\s*\<markdowncell\>)/,e.CheckJupyterRegEx=r.IS_WINDOWS?/^jupyter?\.exe$/:/^jupyter?$/,e.PyKernelOutputRegEx=/.*\s+(.+)$/m,e.KernelSpecOutputRegEx=/^\s*(\S+)\s+(\S+)$/,e.UrlPatternRegEx="(?<PREFIX>https?:\\/\\/)((\\(.+\\s+or\\s+(?<IP>.+)\\))|(?<LOCAL>[^\\s]+))(?<REST>:.+)",e.HttpPattern=/https?:\/\//,e.ExtractPortRegex=/https?:\/\/[^\s]+:(\d+)[^\s]+/,e.ConvertToRemoteUri=/(https?:\/\/)([^\s])+(:\d+[^\s]*)/,e.ParamsExractorRegEx=/\S+\((.*)\)\s*{/,e.ArgsSplitterRegEx=/([^\s,]+)/,e.ShapeSplitterRegEx=/.*,\s*(\d+).*/,e.SvgHeightRegex=/(\<svg.*height=\")(.*?)\"/,e.SvgWidthRegex=/(\<svg.*width=\")(.*?)\"/,e.SvgSizeTagRegex=/\<svg.*tag=\"sizeTag=\{(.*),\s*(.*)\}\"/,e.StyleTagRegex=/\<style[\s\S]*\<\/style\>/m}(t.RegExpValues||(t.RegExpValues={})),function(e){e.ImportNotebook="DATASCIENCE.IMPORT_NOTEBOOK",e.RunCell="DATASCIENCE.RUN_CELL",e.RunCurrentCell="DATASCIENCE.RUN_CURRENT_CELL",e.RunCurrentCellAndAdvance="DATASCIENCE.RUN_CURRENT_CELL_AND_ADVANCE",e.RunAllCells="DATASCIENCE.RUN_ALL_CELLS",e.RunAllCellsAbove="DATASCIENCE.RUN_ALL_CELLS_ABOVE",e.RunCellAndAllBelow="DATASCIENCE.RUN_CELL_AND_ALL_BELOW",e.RunSelectionOrLine="DATASCIENCE.RUN_SELECTION_OR_LINE",e.RunToLine="DATASCIENCE.RUN_TO_LINE",e.RunFromLine="DATASCIENCE.RUN_FROM_LINE",e.DeleteAllCells="DATASCIENCE.DELETE_ALL_CELLS",e.DeleteCell="DATASCIENCE.DELETE_CELL",e.GotoSourceCode="DATASCIENCE.GOTO_SOURCE",e.CopySourceCode="DATASCIENCE.COPY_SOURCE",e.RestartKernel="DATASCIENCE.RESTART_KERNEL",e.ExportNotebook="DATASCIENCE.EXPORT_NOTEBOOK",e.Undo="DATASCIENCE.UNDO",e.Redo="DATASCIENCE.REDO",e.Save="DATASCIENCE.SAVE",e.CellCount="DATASCIENCE.CELL_COUNT",e.AutoSaveEnabled="DATASCIENCE.AUTO_SAVE_ENABLED",e.ShowHistoryPane="DATASCIENCE.SHOW_HISTORY_PANE",e.ExpandAll="DATASCIENCE.EXPAND_ALL",e.CollapseAll="DATASCIENCE.COLLAPSE_ALL",e.SelectJupyterURI="DATASCIENCE.SELECT_JUPYTER_URI",e.SetJupyterURIToLocal="DATASCIENCE.SET_JUPYTER_URI_LOCAL",e.SetJupyterURIToUserSpecified="DATASCIENCE.SET_JUPYTER_URI_USER_SPECIFIED",e.Interrupt="DATASCIENCE.INTERRUPT",e.ExportPythonFile="DATASCIENCE.EXPORT_PYTHON_FILE",e.ExportPythonFileAndOutput="DATASCIENCE.EXPORT_PYTHON_FILE_AND_OUTPUT",e.StartJupyter="DATASCIENCE.JUPYTERSTARTUPCOST",e.SubmitCellThroughInput="DATASCIENCE.SUBMITCELLFROMREPL",e.ConnectLocalJupyter="DATASCIENCE.CONNECTLOCALJUPYTER",e.ConnectRemoteJupyter="DATASCIENCE.CONNECTREMOTEJUPYTER",e.ConnectFailedJupyter="DATASCIENCE.CONNECTFAILEDJUPYTER",e.ConnectRemoteFailedJupyter="DATASCIENCE.CONNECTREMOTEFAILEDJUPYTER",e.ConnectRemoteSelfCertFailedJupyter="DATASCIENCE.CONNECTREMOTESELFCERTFAILEDJUPYTER",e.SelfCertsMessageEnabled="DATASCIENCE.SELFCERTSMESSAGEENABLED",e.SelfCertsMessageClose="DATASCIENCE.SELFCERTSMESSAGECLOSE",e.RemoteAddCode="DATASCIENCE.LIVESHARE.ADDCODE",e.RemoteReexecuteCode="DATASCIENCE.LIVESHARE.REEXECUTECODE",e.ShiftEnterBannerShown="DATASCIENCE.SHIFTENTER_BANNER_SHOWN",e.EnableInteractiveShiftEnter="DATASCIENCE.ENABLE_INTERACTIVE_SHIFT_ENTER",e.DisableInteractiveShiftEnter="DATASCIENCE.DISABLE_INTERACTIVE_SHIFT_ENTER",e.ShowDataViewer="DATASCIENCE.SHOW_DATA_EXPLORER",e.RunFileInteractive="DATASCIENCE.RUN_FILE_INTERACTIVE",e.DebugFileInteractive="DATASCIENCE.DEBUG_FILE_INTERACTIVE",e.PandasNotInstalled="DATASCIENCE.SHOW_DATA_NO_PANDAS",e.PandasTooOld="DATASCIENCE.SHOW_DATA_PANDAS_TOO_OLD",e.DataScienceSettings="DATASCIENCE.SETTINGS",e.VariableExplorerToggled="DATASCIENCE.VARIABLE_EXPLORER_TOGGLE",e.VariableExplorerVariableCount="DATASCIENCE.VARIABLE_EXPLORER_VARIABLE_COUNT",e.AddCellBelow="DATASCIENCE.ADD_CELL_BELOW",e.GetPasswordAttempt="DATASCIENCE.GET_PASSWORD_ATTEMPT",e.GetPasswordFailure="DATASCIENCE.GET_PASSWORD_FAILURE",e.GetPasswordSuccess="DATASCIENCE.GET_PASSWORD_SUCCESS",e.OpenPlotViewer="DATASCIENCE.OPEN_PLOT_VIEWER",e.DebugCurrentCell="DATASCIENCE.DEBUG_CURRENT_CELL",e.CodeLensAverageAcquisitionTime="DATASCIENCE.CODE_LENS_ACQ_TIME",e.ClassConstructionTime="DATASCIENCE.CLASS_CONSTRUCTION_TIME",e.FindJupyterCommand="DATASCIENCE.FIND_JUPYTER_COMMAND",e.StartJupyterProcess="DATASCIENCE.START_JUPYTER_PROCESS",e.WaitForIdleJupyter="DATASCIENCE.WAIT_FOR_IDLE_JUPYTER",e.HiddenCellTime="DATASCIENCE.HIDDEN_EXECUTION_TIME",e.RestartJupyterTime="DATASCIENCE.RESTART_JUPYTER_TIME",e.InterruptJupyterTime="DATASCIENCE.INTERRUPT_JUPYTER_TIME",e.ExecuteCell="DATASCIENCE.EXECUTE_CELL_TIME",e.ExecuteCellPerceivedCold="DATASCIENCE.EXECUTE_CELL_PERCEIVED_COLD",e.ExecuteCellPerceivedWarm="DATASCIENCE.EXECUTE_CELL_PERCEIVED_WARM",e.WebviewStartup="DATASCIENCE.WEBVIEW_STARTUP",e.VariableExplorerFetchTime="DATASCIENCE.VARIABLE_EXPLORER_FETCH_TIME",e.WebviewStyleUpdate="DATASCIENCE.WEBVIEW_STYLE_UPDATE",e.WebviewMonacoStyleUpdate="DATASCIENCE.WEBVIEW_MONACO_STYLE_UPDATE",e.DataViewerFetchTime="DATASCIENCE.DATAVIEWER_FETCH_TIME",e.FindJupyterKernelSpec="DATASCIENCE.FIND_JUPYTER_KERNEL_SPEC",e.PtvsdPromptToInstall="DATASCIENCE.PTVSD_PROMPT_TO_INSTALL",e.PtvsdSuccessfullyInstalled="DATASCIENCE.PTVSD_SUCCESSFULLY_INSTALLED",e.PtvsdInstallFailed="DATASCIENCE.PTVSD_INSTALL_FAILED",e.ScrolledToCell="DATASCIENCE.SCROLLED_TO_CELL",e.ExecuteNativeCell="DATASCIENCE.EXECUTE_NATIVE_CELL",e.CreateNewNotebook="DATASCIENCE.CREATE_NEW_NOTEBOOK",e.DebugStepOver="DATASCIENCE.DEBUG_STEP_OVER",e.DebugContinue="DATASCIENCE.DEBUG_CONTINUE",e.DebugStop="DATASCIENCE.DEBUG_STOP",e.OpenNotebook="DATASCIENCE.NATIVE.OPEN_NOTEBOOK",e.ConvertToPythonFile="DATASCIENCE.NATIVE.CONVERT_NOTEBOOK_TO_PYTHON",e.NotebookWorkspaceCount="DATASCIENCE.NATIVE.WORKSPACE_NOTEBOOK_COUNT",e.NotebookRunCount="DATASCIENCE.NATIVE.NOTEBOOK_RUN_COUNT",e.NotebookOpenCount="DATASCIENCE.NATIVE.NOTEBOOK_OPEN_COUNT",e.NotebookOpenTime="DS_INTERNAL.NATIVE.NOTEBOOK_OPEN_TIME",e.SessionIdleTimeout="DATASCIENCE.JUPYTER_IDLE_TIMEOUT",e.JupyterNotInstalledErrorShown="DATASCIENCE.JUPYTER_NOT_INSTALLED_ERROR_SHOWN",e.UserInstalledJupyter="DATASCIENCE.USER_INSTALLED_JUPYTER",e.UserDidNotInstallJupyter="DATASCIENCE.USER_DID_NOT_INSTALL_JUPYTER"}(t.Telemetry||(t.Telemetry={})),function(e){e.AddToEnd="DATASCIENCE.NATIVE.KEYBOARD.ADD_TO_END",e.ArrowDown="DATASCIENCE.NATIVE.KEYBOARD.ARROW_DOWN",e.ArrowUp="DATASCIENCE.NATIVE.KEYBOARD.ARROW_UP",e.ChangeToCode="DATASCIENCE.NATIVE.KEYBOARD.CHANGE_TO_CODE",e.ChangeToMarkdown="DATASCIENCE.NATIVE.KEYBOARD.CHANGE_TO_MARKDOWN",e.CollapseInput="DATASCIENCE.NATIVE.KEYBOARD.COLLAPSE_INPUT",e.CollapseOutput="DATASCIENCE.NATIVE.KEYBOARD.COLLAPSE_OUTPUT",e.DeleteCell="DATASCIENCE.NATIVE.KEYBOARD.DELETE_CELL",e.InsertAbove="DATASCIENCE.NATIVE.KEYBOARD.INSERT_ABOVE",e.InsertBelow="DATASCIENCE.NATIVE.KEYBOARD.INSERT_BELOW",e.MoveCellDown="DATASCIENCE.NATIVE.KEYBOARD.MOVE_CELL_DOWN",e.MoveCellUp="DATASCIENCE.NATIVE.KEYBOARD.MOVE_CELL_UP",e.Run="DATASCIENCE.NATIVE.KEYBOARD.RUN",e.Save="DATASCIENCE.NATIVE.KEYBOARD.SAVE",e.RunAbove="DATASCIENCE.NATIVE.KEYBOARD.RUN_ABOVE",e.RunAll="DATASCIENCE.NATIVE.KEYBOARD.RUN_ALL",e.RunAndAdd="DATASCIENCE.NATIVE.KEYBOARD.RUN_AND_ADD",e.RunAndMove="DATASCIENCE.NATIVE.KEYBOARD.RUN_AND_MOVE",e.RunBelow="DATASCIENCE.NATIVE.KEYBOARD.RUN_BELOW",e.ToggleLineNumbers="DATASCIENCE.NATIVE.KEYBOARD.TOGGLE_LINE_NUMBERS",e.ToggleOutput="DATASCIENCE.NATIVE.KEYBOARD.TOGGLE_OUTPUT",e.ToggleVariableExplorer="DATASCIENCE.NATIVE.KEYBOARD.TOGGLE_VARIABLE_EXPLORER",e.Undo="DATASCIENCE.NATIVE.KEYBOARD.UNDO",e.Unfocus="DATASCIENCE.NATIVE.KEYBOARD.UNFOCUS"}(o=t.NativeKeyboardCommandTelemetry||(t.NativeKeyboardCommandTelemetry={})),t.NativeKeyboardCommandTelemetryLookup={};const a=[...Object.keys(i.NativeCommandType)],c=[...Object.values(o)];for(let e=0;e<a.length;e+=1)t.NativeKeyboardCommandTelemetryLookup[e]=c[e];var l;!function(e){e.AddToEnd="DATASCIENCE.NATIVE.MOUSE.ADD_TO_END",e.ArrowDown="DATASCIENCE.NATIVE.MOUSE.ARROW_DOWN",e.ArrowUp="DATASCIENCE.NATIVE.MOUSE.ARROW_UP",e.ChangeToCode="DATASCIENCE.NATIVE.MOUSE.CHANGE_TO_CODE",e.ChangeToMarkdown="DATASCIENCE.NATIVE.MOUSE.CHANGE_TO_MARKDOWN",e.CollapseInput="DATASCIENCE.NATIVE.MOUSE.COLLAPSE_INPUT",e.CollapseOutput="DATASCIENCE.NATIVE.MOUSE.COLLAPSE_OUTPUT",e.DeleteCell="DATASCIENCE.NATIVE.MOUSE.DELETE_CELL",e.InsertAbove="DATASCIENCE.NATIVE.MOUSE.INSERT_ABOVE",e.InsertBelow="DATASCIENCE.NATIVE.MOUSE.INSERT_BELOW",e.MoveCellDown="DATASCIENCE.NATIVE.MOUSE.MOVE_CELL_DOWN",e.MoveCellUp="DATASCIENCE.NATIVE.MOUSE.MOVE_CELL_UP",e.Run="DATASCIENCE.NATIVE.MOUSE.RUN",e.RunAbove="DATASCIENCE.NATIVE.MOUSE.RUN_ABOVE",e.RunAll="DATASCIENCE.NATIVE.MOUSE.RUN_ALL",e.RunAndAdd="DATASCIENCE.NATIVE.MOUSE.RUN_AND_ADD",e.RunAndMove="DATASCIENCE.NATIVE.MOUSE.RUN_AND_MOVE",e.RunBelow="DATASCIENCE.NATIVE.MOUSE.RUN_BELOW",e.Save="DATASCIENCE.NATIVE.MOUSE.SAVE",e.ToggleLineNumbers="DATASCIENCE.NATIVE.MOUSE.TOGGLE_LINE_NUMBERS",e.ToggleOutput="DATASCIENCE.NATIVE.MOUSE.TOGGLE_OUTPUT",e.ToggleVariableExplorer="DATASCIENCE.NATIVE.MOUSE.TOGGLE_VARIABLE_EXPLORER",e.Undo="DATASCIENCE.NATIVE.MOUSE.UNDO",e.Unfocus="DATASCIENCE.NATIVE.MOUSE.UNFOCUS"}(l=t.NativeMouseCommandTelemetry||(t.NativeMouseCommandTelemetry={})),t.NativeMouseCommandTelemetryLookup={};const u=[...Object.values(l)];for(let e=0;e<a.length;e+=1)t.NativeMouseCommandTelemetryLookup[e]=u[e];var d;!function(e){e.PythonInteractiveHelpLink="https://aka.ms/pyaiinstall",e.JupyterDataRateHelpLink="https://aka.ms/AA5ggm0"}(t.HelpLinks||(t.HelpLinks={})),function(e){e.JupyterServerLocalLaunch="local",e.IntellisenseTimeout=300,e.RemoteDebuggerPortBegin=8889,e.RemoteDebuggerPortEnd=9e3}(t.Settings||(t.Settings={})),function(e){e.EmptyFileName="2DB9B899-6519-4E1B-88B0-FA728A274115",e.GeneratedThemeName="ipython-theme",e.HistoryPurpose="history",e.MatplotLibDefaultParams="_VSCode_defaultMatplotlib_Params",e.EditCellId="3D3AB152-ADC1-4501-B813-4B83B49B0C10",e.SvgSizeTag="sizeTag={{0}, {1}}",e.InteractiveWindowIdentity="history://EC155B3B-DC18-49DC-9E99-9A948AA2F27B",e.InteractiveWindowIdentityScheme="history",e.DefaultCodeCellMarker="# %%"}(d=t.Identifiers||(t.Identifiers={})),function(e){e.ChangeDirectory=["{0}","{1}","import os","try:","\tos.chdir(os.path.join(os.getcwd(), '{2}'))","\tprint(os.getcwd())","except:","\tpass",""],e.ChangeDirectoryCommentIdentifier="# ms-python.python added",e.ImportIPython="{0}\nfrom IPython import get_ipython\n\n{1}",e.MatplotLibInitSvg=`import matplotlib\n%matplotlib inline\n${d.MatplotLibDefaultParams} = dict(matplotlib.rcParams)\n%config InlineBackend.figure_formats = 'svg', 'png'`,e.MatplotLibInitPng=`import matplotlib\n%matplotlib inline\n${d.MatplotLibDefaultParams} = dict(matplotlib.rcParams)\n%config InlineBackend.figure_formats = 'png'`}(t.CodeSnippits||(t.CodeSnippits={})),function(e){e.NotebookCommand="notebook",e.ConvertCommand="nbconvert",e.KernelSpecCommand="kernelspec",e.KernelCreateCommand="ipykernel"}(t.JupyterCommands||(t.JupyterCommands={})),function(e){e.JupyterExecutionService="jupyterExecutionService",e.JupyterServerSharedService="jupyterServerSharedService",e.JupyterNotebookSharedService="jupyterNotebookSharedService",e.CommandBrokerService="commmandBrokerService",e.WebPanelMessageService="webPanelMessageService",e.InteractiveWindowProviderService="interactiveWindowProviderService",e.GuestCheckerService="guestCheckerService",e.LiveShareBroadcastRequest="broadcastRequest",e.ResponseLifetime=15e3,e.ResponseRange=1e3,e.InterruptDefaultTimeout=1e4}(t.LiveShare||(t.LiveShare={})),function(e){e.isNotebookSupported="isNotebookSupported",e.isImportSupported="isImportSupported",e.isKernelCreateSupported="isKernelCreateSupported",e.isKernelSpecSupported="isKernelSpecSupported",e.connectToNotebookServer="connectToNotebookServer",e.getUsableJupyterPython="getUsableJupyterPython",e.executeObservable="executeObservable",e.getSysInfo="getSysInfo",e.serverResponse="serverResponse",e.catchupRequest="catchupRequest",e.syncRequest="synchRequest",e.restart="restart",e.interrupt="interrupt",e.interactiveWindowCreate="interactiveWindowCreate",e.interactiveWindowCreateSync="interactiveWindowCreateSync",e.disposeServer="disposeServer",e.guestCheck="guestCheck",e.createNotebook="createNotebook"}(t.LiveShareCommands||(t.LiveShareCommands={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.using=function(e,t){try{t(e)}finally{e.dispose()}},t.usingAsync=async function(e,t){try{return await t(e)}finally{await e.dispose()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=async function(e){return new Promise(t=>{setTimeout(t,e)})},t.waitForPromise=async function(e,t){return new Promise((n,r)=>{const i=setTimeout(()=>n(null),t);e.then(e=>{clearTimeout(i),n(e)}).catch(e=>{clearTimeout(i),r(e)})})};class r{constructor(e=null){this.scope=e,this._resolved=!1,this._rejected=!1,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this._resolve.apply(this.scope?this.scope:this,arguments),this._resolved=!0}reject(e){this._reject.apply(this.scope?this.scope:this,arguments),this._rejected=!0}get promise(){return this._promise}get resolved(){return this._resolved}get rejected(){return this._rejected}get completed(){return this._rejected||this._resolved}}function i(e=null){return new r(e)}t.createDeferred=i,t.createDeferredFrom=function(...e){const t=i();return Promise.all(e).then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.createDeferredFromPromise=function(e){const t=i();return e.then(t.resolve.bind(t)).catch(t.reject.bind(t)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.folder="folder",e.file="file",e.suite="suite",e.function="function"}(t.TestingType||(t.TestingType={})),function(e){e.Unknown="Unknown",e.Discovering="Discovering",e.Idle="Idle",e.Running="Running",e.Fail="Fail",e.Error="Error",e.Skipped="Skipped",e.Pass="Pass"}(t.TestStatus||(t.TestStatus={})),t.IWorkspaceTestManagerService=Symbol("IWorkspaceTestManagerService"),t.ITestsHelper=Symbol("ITestsHelper"),t.ITestVisitor=Symbol("ITestVisitor"),t.ITestCollectionStorageService=Symbol("ITestCollectionStorageService"),t.ITestResultsService=Symbol("ITestResultsService"),t.ITestDebugLauncher=Symbol("ITestDebugLauncher"),t.ITestManagerFactory=Symbol("ITestManagerFactory"),t.ITestManagerServiceFactory=Symbol("TestManagerServiceFactory"),t.ITestManager=Symbol("ITestManager"),t.ITestDiscoveryService=Symbol("ITestDiscoveryService"),t.ITestsParser=Symbol("ITestsParser"),t.IUnitTestSocketServer=Symbol("IUnitTestSocketServer"),t.ITestRunner=Symbol("ITestRunner"),t.IXUnitParser=Symbol("IXUnitParser"),t.ITestMessageService=Symbol("ITestMessageService"),t.ITestContextService=Symbol("ITestContextService"),t.ITestsStatusUpdaterService=Symbol("ITestsStatusUpdaterService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDataScience=Symbol("IDataScience"),t.IDataScienceCommandListener=Symbol("IDataScienceCommandListener"),function(e){e[e.Success=0]="Success",e[e.TimedOut=1]="TimedOut",e[e.Restarted=2]="Restarted"}(t.InterruptResult||(t.InterruptResult={})),t.INotebookServer=Symbol("INotebookServer"),t.INotebookExecutionLogger=Symbol("INotebookExecutionLogger"),t.IGatherExecution=Symbol("IGatherExecution"),t.IJupyterExecution=Symbol("IJupyterExecution"),t.IJupyterDebugger=Symbol("IJupyterDebugger"),t.IJupyterPasswordConnect=Symbol("IJupyterPasswordConnect"),t.IJupyterSession=Symbol("IJupyterSession"),t.IJupyterSessionManagerFactory=Symbol("IJupyterSessionManagerFactory"),t.INotebookImporter=Symbol("INotebookImporter"),t.INotebookExporter=Symbol("INotebookExporter"),t.IInteractiveWindowProvider=Symbol("IInteractiveWindowProvider"),t.IDataScienceErrorHandler=Symbol("IDataScienceErrorHandler"),t.IInteractiveWindow=Symbol("IInteractiveWindow"),t.INotebookEditorProvider=Symbol("INotebookEditorProvider"),t.INotebookEditor=Symbol("INotebookEditor"),t.IInteractiveWindowListener=Symbol("IInteractiveWindowListener"),t.IPostOffice=Symbol("IPostOffice"),t.IDataScienceCodeLensProvider=Symbol("IDataScienceCodeLensProvider"),t.ICodeWatcher=Symbol("ICodeWatcher"),t.ICodeLensFactory=Symbol("ICodeLensFactory"),function(e){e[e.editing=-1]="editing",e[e.init=0]="init",e[e.executing=1]="executing",e[e.finished=2]="finished",e[e.error=3]="error"}(t.CellState||(t.CellState={})),t.ICodeCssGenerator=Symbol("ICodeCssGenerator"),t.IThemeFinder=Symbol("IThemeFinder"),t.IStatusProvider=Symbol("IStatusProvider"),t.IJupyterCommandFactory=Symbol("IJupyterCommandFactory"),t.IJupyterVariables=Symbol("IJupyterVariables"),t.IDataViewerProvider=Symbol("IDataViewerProvider"),t.IDataViewer=Symbol("IDataViewer"),t.IPlotViewerProvider=Symbol("IPlotViewerProvider"),t.IPlotViewer=Symbol("IPlotViewer"),t.ICellHashListener=Symbol("ICellHashListener"),t.ICellHashProvider=Symbol("ICellHashProvider"),t.IDebugLocationTracker=Symbol("IDebugLocationTracker")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBufferDecoder=Symbol("IBufferDecoder"),t.IProcessLogger=Symbol("IProcessLogger"),t.IProcessServiceFactory=Symbol("IProcessServiceFactory"),t.IPythonExecutionFactory=Symbol("IPythonExecutionFactory"),t.IPythonExecutionService=Symbol("IPythonExecutionService");t.StdErrError=class extends Error{constructor(e){super(e)}},t.IPythonToolExecutionService=Symbol("IPythonToolRunnerService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITestConfigurationService=Symbol("ITestConfigurationService"),t.ITestResultDisplay=Symbol("ITestResultDisplay"),t.ITestDisplay=Symbol("ITestDisplay"),t.ITestManagementService=Symbol("ITestManagementService"),t.ITestConfigSettingsService=Symbol("ITestConfigSettingsService"),t.ITestConfigurationManagerFactory=Symbol("ITestConfigurationManagerFactory"),function(e){e.removeTests="removeTests",e.discovery="discovery",e.runAll="runAll",e.runSpecific="runSpecific",e.debugAll="debugAll",e.debugSpecific="debugSpecific"}(t.TestFilter||(t.TestFilter={})),t.IArgumentsService=Symbol("IArgumentsService"),t.IArgumentsHelper=Symbol("IArgumentsHelper"),t.ITestManagerRunner=Symbol("ITestManagerRunner"),t.IUnitTestHelper=Symbol("IUnitTestHelper"),t.ITestDiagnosticService=Symbol("ITestDiagnosticService"),function(e){e[e.Error=0]="Error",e[e.Failure=1]="Failure",e[e.Skip=2]="Skip",e[e.Pass=3]="Pass"}(t.PythonTestMessageSeverity||(t.PythonTestMessageSeverity={})),function(e){e[e.Error=0]="Error",e[e.Fail=1]="Fail",e[e.Skipped=2]="Skipped",e[e.Pass=3]="Pass"}(t.DiagnosticMessageType||(t.DiagnosticMessageType={})),function(e){e.workspaceFolder="workspaceFolder",e.folder="folder",e.file="file",e.suite="suite",e.function="function"}(t.TestDataItemType||(t.TestDataItemType={}));t.TestWorkspaceFolder=class{constructor(e){this.workspaceFolder=e}get resource(){return this.workspaceFolder.uri}get name(){return this.workspaceFolder.name}},t.ITestTreeViewProvider=Symbol("ITestTreeViewProvider"),t.ITestDataItemResource=Symbol("ITestDataItemResource")},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:n(591)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StopWatch=class{constructor(){this.started=(new Date).getTime()}get elapsedTime(){return(new Date).getTime()-this.started}reset(){this.started=(new Date).getTime()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.CANCELLATION_REASON="cancelled_user_request",function(e){e.auto="auto",e.ui="ui",e.codelens="codelens",e.commandPalette="commandpalette",e.testExplorer="testExplorer"}(t.CommandSource||(t.CommandSource={})),t.TEST_OUTPUT_CHANNEL="TEST_OUTPUT_CHANNEL",t.UNIT_TEST_PRODUCTS=[r.Product.pytest,r.Product.unittest,r.Product.nosetest],t.NOSETEST_PROVIDER="nosetest",t.PYTEST_PROVIDER="pytest",t.UNITTEST_PROVIDER="unittest",function(e){e.discovering="discovering-tests.svg",e.passed="status-ok.svg",e.failed="status-error.svg",e.unknown="status-unknown.svg"}(t.Icons||(t.Icons={}))},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.bashCShellFish="bashCShellFish",e.commandPromptAndPowerShell="commandPromptAndPowerShell",e.pyenv="pyenv",e.conda="conda",e.pipenv="pipenv"}(t.TerminalActivationProviders||(t.TerminalActivationProviders={})),function(e){e.powershell="powershell",e.powershellCore="powershellCore",e.commandPrompt="commandPrompt",e.gitbash="gitbash",e.bash="bash",e.zsh="zsh",e.ksh="ksh",e.fish="fish",e.cshell="cshell",e.tcshell="tshell",e.wsl="wsl",e.xonsh="xonsh",e.other="other"}(t.TerminalShellType||(t.TerminalShellType={})),t.ITerminalServiceFactory=Symbol("ITerminalServiceFactory"),t.ITerminalHelper=Symbol("ITerminalHelper"),t.ITerminalActivator=Symbol("ITerminalActivator"),t.ITerminalActivationCommandProvider=Symbol("ITerminalActivationCommandProvider"),t.ITerminalActivationHandler=Symbol("ITerminalActivationHandler"),t.IShellDetector=Symbol("IShellDetector")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionActivationManager=Symbol("IExtensionActivationManager"),t.IExtensionActivationService=Symbol("IExtensionActivationService"),function(e){e.Jedi="Jedi",e.DotNet="DotNet"}(t.LanguageServerActivator||(t.LanguageServerActivator={})),t.ILanguageServerActivator=Symbol("ILanguageServerActivator"),t.ILanguageServerFolderService=Symbol("ILanguageServerFolderService"),t.ILanguageServerDownloader=Symbol("ILanguageServerDownloader"),t.ILanguageServerPackageService=Symbol("ILanguageServerPackageService"),t.MajorLanguageServerVersion=Symbol("MajorLanguageServerVersion"),t.IDownloadChannelRule=Symbol("IDownloadChannelRule"),t.ILanguageServerCompatibilityService=Symbol("ILanguageServerCompatibilityService"),function(e){e.base="base",e.simple="simple",e.downloaded="downloaded"}(t.LanguageClientFactory||(t.LanguageClientFactory={})),t.ILanguageClientFactory=Symbol("ILanguageClientFactory"),t.ILanguageServerAnalysisOptions=Symbol("ILanguageServerAnalysisOptions"),t.ILanguageServerManager=Symbol("ILanguageServerManager"),t.ILanguageServerExtension=Symbol("ILanguageServerExtension"),t.ILanguageServer=Symbol("ILanguageServer"),function(e){e.Windows32Bit="win-x86",e.Windows64Bit="win-x64",e.Mac64Bit="osx-x64",e.Linux64Bit="linux-x64"}(t.PlatformName||(t.PlatformName={})),t.IPlatformData=Symbol("IPlatformData"),t.ILanguageServerOutputChannel=Symbol("ILanguageServerOutputChannel"),t.IExtensionSingleActivationService=Symbol("IExtensionSingleActivationService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=r.basename(__dirname);t.EXTENSION_ROOT_DIR="client"===i?r.join(__dirname,"..",".."):r.join(__dirname,"..","..","..",".."),t.HiddenFileFormatString="_HiddenFile_{0}.py",t.HiddenFilePrefix="_HiddenFile_"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);n(7);const i=n(13),s=n(6),o=n(17),a=n(725),c=n(726);function l(e){return function(t,n,r){const i=r.value,s=c(function(){return i.apply(this,arguments)},e,{});r.value=s}}function u(e){return function(t,n,r){const i=r.value,s={started:!1,deferred:void 0,timer:void 0};r.value=function(){const t=s.deferred;if(t&&s.started)return t.promise;const n=t&&t.completed,r=s.deferred=!t||n?o.createDeferred():t;return s.timer&&clearTimeout(s.timer),s.timer=setTimeout(async()=>{s.started=!0,i.apply(this).then(e=>{s.started=!1,r.resolve(e)}).catch(e=>{s.started=!1,r.reject(e)})},e||0),r.promise}}}t.debounceSync=function(e){return i.isTestExecution()&&(e=void 0),l(e)},t.debounceAsync=function(e){return i.isTestExecution()&&(e=void 0),u(e)},t.makeDebounceDecorator=l,t.makeDebounceAsyncDecorator=u,t.clearCachedResourceSpecificIngterpreterData=function(e,t,r=n(2)){new a.InMemoryInterpreterSpecificCache(e,0,[t],r).clear()},t.cacheResourceSpecificInterpreterData=function(e,t,r=n(2)){return function(n,i,o){const c=o.value;o.value=async function(...n){const i=new a.InMemoryInterpreterSpecificCache(e,t,n,r);if(i.hasData)return s.traceVerbose(`Cached data exists ${e}, ${n[0]?n[0].fsPath:"<No Resource>"}`),Promise.resolve(i.data);const o=c.apply(this,n);return o.then(e=>i.data=e).ignoreErrors(),o}}},t.swallowExceptions=function(e){return function(t,n,r){const o=r.value,a=`Python Extension (Error in ${e}, method:${n}):`;r.value=function(...e){try{const t=o.apply(this,e);if(t&&"function"==typeof t.then&&"function"==typeof t.catch)return t.catch(e=>{i.isTestExecution()||s.traceError(a,e)})}catch(e){if(i.isTestExecution())return;s.traceError(a,e)}}}},t.displayProgress=function(e,t=r.ProgressLocation.Window){return function(n,s,o){const a=o.value;o.value=async function(...n){const s={location:t,title:e},o=a.apply(this,n);return i.isTestExecution()||r.window.withProgress(s,()=>o),o}}}},function(e,t,n){var r=n(26),i=n(733),s=n(734),o=n(735),a=[],c=n(27);var l,u,d=function(){};function h(e){i(e),e.gracefulify=h,e.FileReadStream=d,e.FileWriteStream=m,e.createReadStream=function(e,t){return new d(e,t)},e.createWriteStream=function(e,t){return new m(e,t)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),f()):p([e,[n,r,i]])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,s){return n(t,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof s&&s.apply(this,arguments),f()):p([e,[t,r,i,s]])})}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,s){return r(t,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof s&&s.apply(this,arguments),f()):p([e,[t,n,i,s]])})}(e,t,n,i)});var o=e.readdir;function a(t){return o.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),f()):p([a,[r]])}),a(r)},"v0.8"===process.version.substr(0,4)){var c=s(e);d=c.ReadStream,m=c.WriteStream}var l=e.ReadStream;l&&(d.prototype=Object.create(l.prototype),d.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var u=e.WriteStream;function d(e,t){return this instanceof d?(l.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function m(e,t){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}u&&(m.prototype=Object.create(u.prototype),m.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),e.ReadStream=d,e.WriteStream=m;var g=e.open;function y(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return g(t,n,r,function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?("function"==typeof i&&i.apply(this,arguments),f()):p([e,[t,n,r,i]])})}(e,t,n,r)}return e.open=y,e}function p(e){d("ENQUEUE",e[0].name,e[1]),a.push(e)}function f(){var e=a.shift();e&&(d("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}c.debuglog?d=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){d(a),n(146).equal(a.length,0)}),e.exports=h(o(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(e.exports=h(r),r.__patched=!0),e.exports.close=(l=r.close,function(e,t){return l.call(r,e,function(e){e||f(),"function"==typeof t&&t.apply(this,arguments)})}),e.exports.closeSync=(u=r.closeSync,function(e){var t=u.apply(r,arguments);return f(),t}),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=e.exports.closeSync,r.close=e.exports.close)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(311),i=n(311);t.makePatchingRequire=i.makePatchingRequire;var s=function(e){return!0},o=function(){function e(){this.version=n(665).version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some(function(e){var t=e.filter;return!t||t(!1)})},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach(function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}}),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=s),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=s);var r=this.subscribers[e];if(r)for(var i=0;i<r.length;++i)if(r[i].listener===t&&r[i].filter===n)return r.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach(function(t){return delete e.knownPatches[t]})},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new o,n(312).prototype.require=r.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));t.channel=global.diagnosticsSource},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unknown=1]="Unknown",e[e.x86=2]="x86",e[e.x64=3]="x64"}(t.Architecture||(t.Architecture={})),function(e){e.Unknown="Unknown",e.Windows="Windows",e.OSX="OSX",e.Linux="Linux"}(r=t.OSType||(t.OSType={})),t.getOSType=function(e=process.platform){return/^win/.test(e)?r.Windows:/^darwin/.test(e)?r.OSX:/^linux/.test(e)?r.Linux:r.Unknown}},function(e,t,n){var r=n(984),i=n(985);e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function o(e,t,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}(this,c(t).call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(e.toString().split("\n")[0],"\n"))),Error.captureStackTrace(i(i(n)),t),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,s(Error)),t}();e.exports=function(e){if(e.length>2)throw new l(e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function n(e){return new t(e)}return t.prototype.transform=e,n.Format=t,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Global="Global",e.WorkspaceFolder="WorkspaceFolder"}(t.DiagnosticScope||(t.DiagnosticScope={})),function(e){e.always="always",e.session="session"}(t.DiagnosticIgnoreScope||(t.DiagnosticIgnoreScope={})),t.IDiagnosticsService=Symbol("IDiagnosticsService"),t.IDiagnosticFilterService=Symbol("IDiagnosticFilterService"),t.IDiagnosticHandlerService=Symbol("IDiagnosticHandlerService"),t.IInvalidPythonPathInDebuggerService=Symbol("IInvalidPythonPathInDebuggerService"),t.ISourceMapSupportService=Symbol("ISourceMapSupportService")},function(e,t,n){"use strict";class r extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,r)}}e.exports=e=>{if(e.length>2)throw new r(e);function t(e={}){this.options=e}function n(e){return new t(e)}return t.prototype.transform=e,n.Format=t,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDebugConfigurationService=Symbol("IDebugConfigurationService"),t.IDebuggerBanner=Symbol("IDebuggerBanner"),t.IDebugConfigurationProvider=Symbol("IDebugConfigurationProvider"),function(e){e.default="default",e.launchFile="launchFile",e.remoteAttach="remoteAttach",e.launchDjango="launchDjango",e.launchFlask="launchFlask",e.launchModule="launchModule",e.launchPyramid="launchPyramid"}(t.DebugConfigurationType||(t.DebugConfigurationType={})),function(e){e.launchJson="launch.json",e.settingsJson="settings.json"}(t.PythonPathSource||(t.PythonPathSource={})),t.IDebugAdapterDescriptorFactory=Symbol("IDebugAdapterDescriptorFactory"),t.IDebugSessionLoggingFactory=Symbol("IDebugSessionLoggingFactory")},function(e,t){e.exports=require("./node_modules/vsls/vscode")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(119);var i;!function(e){e.StartCell="start_cell",e.FinishCell="finish_cell",e.UpdateCell="update_cell",e.GotoCodeCell="gotocell_code",e.CopyCodeCell="copycell_code",e.RestartKernel="restart_kernel",e.Export="export_to_ipynb",e.GetAllCells="get_all_cells",e.ReturnAllCells="return_all_cells",e.DeleteCell="delete_cell",e.DeleteAllCells="delete_all_cells",e.Undo="undo",e.Redo="redo",e.ExpandAll="expand_all",e.CollapseAll="collapse_all",e.StartProgress="start_progress",e.StopProgress="stop_progress",e.Interrupt="interrupt",e.SubmitNewCell="submit_new_cell",e.UpdateSettings=r.SharedMessages.UpdateSettings,e.DoSave="DoSave",e.SendInfo="send_info",e.Started=r.SharedMessages.Started,e.AddedSysInfo="added_sys_info",e.RemoteAddCode="remote_add_code",e.RemoteReexecuteCode="remote_reexecute_code",e.Activate="activate",e.ShowDataViewer="show_data_explorer",e.GetVariablesRequest="get_variables_request",e.GetVariablesResponse="get_variables_response",e.GetVariableValueRequest="get_variable_value_request",e.GetVariableValueResponse="get_variable_value_response",e.VariableExplorerToggle="variable_explorer_toggle",e.ProvideCompletionItemsRequest="provide_completion_items_request",e.CancelCompletionItemsRequest="cancel_completion_items_request",e.ProvideCompletionItemsResponse="provide_completion_items_response",e.ProvideHoverRequest="provide_hover_request",e.CancelHoverRequest="cancel_hover_request",e.ProvideHoverResponse="provide_hover_response",e.ProvideSignatureHelpRequest="provide_signature_help_request",e.CancelSignatureHelpRequest="cancel_signature_help_request",e.ProvideSignatureHelpResponse="provide_signature_help_response",e.AddCell="add_cell",e.EditCell="edit_cell",e.RemoveCell="remove_cell",e.SwapCells="swap_cells",e.InsertCell="insert_cell",e.LoadOnigasmAssemblyRequest="load_onigasm_assembly_request",e.LoadOnigasmAssemblyResponse="load_onigasm_assembly_response",e.LoadTmLanguageRequest="load_tmlanguage_request",e.LoadTmLanguageResponse="load_tmlanguage_response",e.OpenLink="open_link",e.ShowPlot="show_plot",e.StartDebugging="start_debugging",e.StopDebugging="stop_debugging",e.GatherCode="gather_code",e.LoadAllCells="load_all_cells",e.LoadAllCellsComplete="load_all_cells_complete",e.ScrollToCell="scroll_to_cell",e.ReExecuteCell="reexecute_cell",e.NotebookIdentity="identity",e.NotebookDirty="dirty",e.NotebookClean="clean",e.SaveAll="save_all",e.NativeCommand="native_command",e.VariablesComplete="variables_complete",e.NotebookRunAllCells="notebook_run_all_cells",e.NotebookRunSelectedCell="notebook_run_selected_cell",e.NotebookAddCellBelow="notebook_add_cell_below",e.RenderComplete="finished_rendering_cells",e.FocusedCellEditor="focused_cell_editor"}(i=t.InteractiveWindowMessages||(t.InteractiveWindowMessages={})),function(e){e[e.AddToEnd=0]="AddToEnd",e[e.ArrowDown=1]="ArrowDown",e[e.ArrowUp=2]="ArrowUp",e[e.ChangeToCode=3]="ChangeToCode",e[e.ChangeToMarkdown=4]="ChangeToMarkdown",e[e.CollapseInput=5]="CollapseInput",e[e.CollapseOutput=6]="CollapseOutput",e[e.DeleteCell=7]="DeleteCell",e[e.Save=8]="Save",e[e.InsertAbove=9]="InsertAbove",e[e.InsertBelow=10]="InsertBelow",e[e.MoveCellDown=11]="MoveCellDown",e[e.MoveCellUp=12]="MoveCellUp",e[e.Run=13]="Run",e[e.RunAbove=14]="RunAbove",e[e.RunAll=15]="RunAll",e[e.RunAndAdd=16]="RunAndAdd",e[e.RunAndMove=17]="RunAndMove",e[e.RunBelow=18]="RunBelow",e[e.ToggleLineNumbers=19]="ToggleLineNumbers",e[e.ToggleOutput=20]="ToggleOutput",e[e.ToggleVariableExplorer=21]="ToggleVariableExplorer",e[e.Undo=22]="Undo",e[e.Unfocus=23]="Unfocus"}(t.NativeCommandType||(t.NativeCommandType={})),t.InteractiveWindowRemoteMessages=[i.AddedSysInfo,i.RemoteAddCode,i.RemoteReexecuteCode],function(e){e[e.Start=0]="Start",e[e.Restart=1]="Restart",e[e.Interrupt=2]="Interrupt",e[e.New=3]="New"}(t.SysInfoReason||(t.SysInfoReason={}));t.IInteractiveWindowMapping=class{},i.StartCell,i.FinishCell,i.UpdateCell,i.GotoCodeCell,i.CopyCodeCell,i.RestartKernel,i.Export,i.GetAllCells,i.ReturnAllCells,i.DeleteCell,i.DeleteAllCells,i.Undo,i.Redo,i.ExpandAll,i.CollapseAll,i.StartProgress,i.StopProgress,i.Interrupt,i.UpdateSettings,i.SubmitNewCell,i.SendInfo,i.Started,i.AddedSysInfo,i.RemoteAddCode,i.RemoteReexecuteCode,i.Activate,i.ShowDataViewer,i.GetVariablesRequest,i.GetVariablesResponse,i.GetVariableValueRequest,i.GetVariableValueResponse,i.VariableExplorerToggle,r.CssMessages.GetCssRequest,r.CssMessages.GetCssResponse,i.ProvideCompletionItemsRequest,i.CancelCompletionItemsRequest,i.ProvideCompletionItemsResponse,i.ProvideHoverRequest,i.CancelHoverRequest,i.ProvideHoverResponse,i.ProvideSignatureHelpRequest,i.CancelSignatureHelpRequest,i.ProvideSignatureHelpResponse,i.AddCell,i.EditCell,i.RemoveCell,i.SwapCells,i.InsertCell,i.LoadOnigasmAssemblyRequest,i.LoadOnigasmAssemblyResponse,i.LoadTmLanguageRequest,i.LoadTmLanguageResponse,i.OpenLink,i.ShowPlot,i.StartDebugging,i.StopDebugging,i.GatherCode,i.LoadAllCells,i.LoadAllCellsComplete,i.ScrollToCell,i.ReExecuteCell,i.NotebookIdentity,i.NotebookDirty,i.NotebookClean,i.SaveAll,i.NativeCommand,i.VariablesComplete,i.NotebookRunAllCells,i.NotebookRunSelectedCell,i.NotebookAddCellBelow,i.RenderComplete,i.FocusedCellEditor},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";const r=n(732),i={};r(i,n(322)),r(i,n(736)),r(i,n(325)),r(i,n(51)),r(i,n(147)),r(i,n(744)),r(i,n(748)),r(i,n(749)),r(i,n(750)),r(i,n(751)),r(i,n(757)),r(i,n(80)),e.exports=i},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty(function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((t,n)=>{arguments[arguments.length]=(e,r)=>{if(e)return n(e);t(r)},arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then(e=>t(null,e),t)},"name",{value:e.name})}},function(e,t,n){"use strict";var r=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();e.exports=r},function(e,t){var n;t=e.exports=G,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],o=t.src=[],a=0,c=a++;o[c]="0|[1-9]\\d*";var l=a++;o[l]="[0-9]+";var u=a++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=a++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var h=a++;o[h]="("+o[l]+")\\.("+o[l]+")\\.("+o[l]+")";var p=a++;o[p]="(?:"+o[c]+"|"+o[u]+")";var f=a++;o[f]="(?:"+o[l]+"|"+o[u]+")";var m=a++;o[m]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=a++;o[g]="(?:-?("+o[f]+"(?:\\."+o[f]+")*))";var y=a++;o[y]="[0-9A-Za-z-]+";var v=a++;o[v]="(?:\\+("+o[y]+"(?:\\."+o[y]+")*))";var _=a++,b="v?"+o[d]+o[m]+"?"+o[v]+"?";o[_]="^"+b+"$";var S="[v=\\s]*"+o[h]+o[g]+"?"+o[v]+"?",w=a++;o[w]="^"+S+"$";var C=a++;o[C]="((?:<|>)?=?)";var E=a++;o[E]=o[l]+"|x|X|\\*";var T=a++;o[T]=o[c]+"|x|X|\\*";var D=a++;o[D]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[m]+")?"+o[v]+"?)?)?";var P=a++;o[P]="[v=\\s]*("+o[E]+")(?:\\.("+o[E]+")(?:\\.("+o[E]+")(?:"+o[g]+")?"+o[v]+"?)?)?";var k=a++;o[k]="^"+o[C]+"\\s*"+o[D]+"$";var I=a++;o[I]="^"+o[C]+"\\s*"+o[P]+"$";var M=a++;o[M]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=a++;o[x]="(?:~>?)";var A=a++;o[A]="(\\s*)"+o[x]+"\\s+",s[A]=new RegExp(o[A],"g");var O=a++;o[O]="^"+o[x]+o[D]+"$";var L=a++;o[L]="^"+o[x]+o[P]+"$";var R=a++;o[R]="(?:\\^)";var j=a++;o[j]="(\\s*)"+o[R]+"\\s+",s[j]=new RegExp(o[j],"g");var F=a++;o[F]="^"+o[R]+o[D]+"$";var N=a++;o[N]="^"+o[R]+o[P]+"$";var Y=a++;o[Y]="^"+o[C]+"\\s*("+S+")$|^$";var B=a++;o[B]="^"+o[C]+"\\s*("+b+")$|^$";var H=a++;o[H]="(\\s*)"+o[C]+"\\s*("+S+"|"+o[D]+")",s[H]=new RegExp(o[H],"g");var W=a++;o[W]="^\\s*("+o[D]+")\\s+-\\s+("+o[D]+")\\s*$";var U=a++;o[U]="^\\s*("+o[P]+")\\s+-\\s+("+o[P]+")\\s*$";var V=a++;o[V]="(<|>)?=?\\s*\\*";for(var $=0;$<35;$++)n($,o[$]),s[$]||(s[$]=new RegExp(o[$]));function q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?s[w]:s[_]).test(e))return null;try{return new G(e,t)}catch(e){return null}}function G(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof G))return new G(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?s[w]:s[_]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=q,t.valid=function(e,t){var n=q(e,t);return n?n.version:null},t.clean=function(e,t){var n=q(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return K(r,i)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new G(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var n=q(e),r=q(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==r[o])return i+o;return s},t.compareIdentifiers=K;var z=/^[0-9]+$/;function K(e,t){var n=z.test(e),r=z.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function J(e,t,n){return new G(e,n).compare(new G(t,n))}function X(e,t,n){return J(e,t,n)>0}function Q(e,t,n){return J(e,t,n)<0}function Z(e,t,n){return 0===J(e,t,n)}function ee(e,t,n){return 0!==J(e,t,n)}function te(e,t,n){return J(e,t,n)>=0}function ne(e,t,n){return J(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Z(e,n,r);case"!=":return ee(e,n,r);case">":return X(e,n,r);case">=":return te(e,n,r);case"<":return Q(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===se?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new G(e,t).major},t.minor=function(e,t){return new G(e,t).minor},t.patch=function(e,t){return new G(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=function(e,t,n){return J(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=X,t.lt=Q,t.eq=Z,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=re,t.Comparator=ie;var se={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,i,s,o,a,c,l,u,d,h){return((t=ae(n)?"":ae(r)?">="+n+".0.0":ae(i)?">="+n+"."+r+".0":">="+t)+" "+(a=ae(c)?"":ae(l)?"<"+(+c+1)+".0.0":ae(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function le(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==se&&e[i].semver.prerelease.length>0){var s=e[i].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function de(e,t,n,r){var i,s,o,a,c;switch(e=new G(e,r),t=new oe(t,r),n){case">":i=X,s=ne,o=Q,a=">",c=">=";break;case"<":i=Q,s=te,o=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,h=null;if(u.forEach(function(e){e.semver===se&&(e=new ie(">=0.0.0")),d=d||e,h=h||e,i(e.semver,d.semver,r)?d=e:o(e.semver,h.semver,r)&&(h=e)}),d.operator===a||d.operator===c)return!1;if((!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===c&&o(e,h.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?s[Y]:s[B],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=se},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===se||("string"==typeof e&&(e=new G(e,this.options)),re(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||s&&o||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?s[U]:s[W];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(s[H],"$1$2$3"),n("comparator trim",e,s[H]),e=(e=(e=e.replace(s[A],"$1~")).replace(s[j],"$1^")).split(/\s+/).join(" ");var i=t?s[Y]:s[B],o=e.split(" ").map(function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){n("caret",e,t);var r=t.loose?s[N]:s[F];return e.replace(r,function(t,r,i,s,o){var a;return n("caret",e,t,r,i,s,o),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(s)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":o?(n("replaceCaret pr",o),a="0"===r?"0"===i?">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+"-"+o+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+s+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+" <"+(+r+1)+".0.0"),n("caret return",a),a})}(e,t)}).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var r=t.loose?s[L]:s[O];return e.replace(r,function(t,r,i,s,o){var a;return n("tilde",e,t,r,i,s,o),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(s)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":o?(n("replaceTilde pr",o),a=">="+r+"."+i+"."+s+"-"+o+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a})}(e,t)}).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var r=t.loose?s[I]:s[k];return e.replace(r,function(t,r,i,s,o,a){n("xRange",e,t,r,i,s,o,a);var c=ae(i),l=c||ae(s),u=l||ae(o),d=u;return"="===r&&d&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&d?(l&&(s=0),o=0,">"===r?(r=">=",l?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===r&&(r="<",l?i=+i+1:s=+s+1),t=r+i+"."+s+"."+o):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"),n("xRange return",t),t})}(e,t)}).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(s[V],"")}(e,t),n("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter(function(e){return!!e.match(i)})),o=o.map(function(e){return new ie(e,this.options)},this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new oe(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var s=new oe(t,n)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(r&&-1!==i.compare(e)||(i=new G(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var s=new oe(t,n)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(r&&1!==i.compare(e)||(i=new G(r=e,n)))}),r},t.minVersion=function(e,t){e=new oe(e,t);var n=new G("0.0.0");if(e.test(n))return n;if(n=new G("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!X(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return de(e,t,"<",n)},t.gtr=function(e,t,n){return de(e,t,">",n)},t.outside=de,t.prerelease=function(e,t){var n=q(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(s[M]);if(null==t)return null;return q(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterAutoSeletionProxyService=Symbol("IInterpreterAutoSeletionProxyService"),t.IInterpreterAutoSelectionService=Symbol("IInterpreterAutoSelectionService"),function(e){e.all="all",e.currentPath="currentPath",e.workspaceVirtualEnvs="workspaceEnvs",e.settings="settings",e.cachedInterpreters="cachedInterpreters",e.systemWide="system",e.windowsRegistry="windowsRegistry"}(t.AutoSelectionRule||(t.AutoSelectionRule={})),t.IInterpreterAutoSelectionRule=Symbol("IInterpreterAutoSelectionRule")},function(e,t,n){"use strict";const r=(0,n(47).fromCallback)(n(739)),i=n(740);e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(63);t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,r(n(806)),r(n(807)),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IAvailableLinterActivator=Symbol("IAvailableLinterActivator"),t.ILinterManager=Symbol("ILinterManager"),function(e){e[e.Hint=0]="Hint",e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Information=3]="Information"}(t.LintMessageSeverity||(t.LintMessageSeverity={})),t.ILintingEngine=Symbol("ILintingEngine")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4),l=n(13),u=n(1),d=n(10),h=n(21),p=n(25),f=n(18);t.selectTestWorkspace=async function(e){if(Array.isArray(a.workspace.workspaceFolders)&&0!==a.workspace.workspaceFolders.length){if(1===a.workspace.workspaceFolders.length)return a.workspace.workspaceFolders[0].uri;{const t=await e.showWorkspaceFolderPick({placeHolder:"Select a workspace"});return t?t.uri:void 0}}},t.extractBetweenDelimiters=function(e,t,n){return(e=e.substring(e.indexOf(t)+t.length)).substring(0,e.lastIndexOf(n))},t.convertFileToPackage=function(e){const t=e.lastIndexOf(".");return e.substring(0,t).replace(/\//g,".").replace(/\\/g,".")};let m=class{constructor(e,t){this.flatteningVisitor=e,this.appShell=t.get(c.IApplicationShell),this.commandManager=t.get(c.ICommandManager)}parseProviderName(e){switch(e){case u.Product.nosetest:return"nosetest";case u.Product.pytest:return"pytest";case u.Product.unittest:return"unittest";default:throw new Error(`Unknown Test Product ${e}`)}}parseProduct(e){switch(e){case"nosetest":return u.Product.nosetest;case"pytest":return u.Product.pytest;case"unittest":return u.Product.unittest;default:throw new Error(`Unknown Test Provider ${e}`)}}getSettingsPropertyNames(e){switch(this.parseProviderName(e)){case"pytest":return{argsName:"pytestArgs",pathName:"pytestPath",enabledName:"pytestEnabled"};case"nosetest":return{argsName:"nosetestArgs",pathName:"nosetestPath",enabledName:"nosetestsEnabled"};case"unittest":return{argsName:"unittestArgs",enabledName:"unittestEnabled"};default:throw new Error(`Unknown Test Provider '${e}'`)}}flattenTestFiles(e,t){e.forEach(e=>this.flatteningVisitor.visitTestFile(e));const n={testFiles:e,testFunctions:this.flatteningVisitor.flattenedTestFunctions,testSuites:this.flatteningVisitor.flattenedTestSuites,testFolders:[],rootTestFolders:[],summary:{passed:0,failures:0,errors:0,skipped:0}};return this.placeTestFilesIntoFolders(n,t),n}placeTestFilesIntoFolders(e,t){const n=[];e.testFiles.forEach(e=>{const r=o.relative(t,e.fullPath),i=o.dirname(r);-1===n.indexOf(i)&&n.push(i)}),e.testFolders=[];const r=new Map;n.sort();const i=a.Uri.file(t);n.forEach(n=>{n.split(o.sep).reduce((n,s,a,c)=>{let l,u=s;if(n.length>0&&(l=r.get(n),u=o.join(n,s)),!r.has(u)){const n={resource:i,name:u,testFiles:[],folders:[],nameToRun:u,time:0,functionsPassed:0,functionsFailed:0,functionsDidNotRun:0};r.set(u,n),l?l.folders.push(n):e.rootTestFolders.push(n),e.testFiles.filter(e=>o.dirname(o.relative(t,e.fullPath))===u).forEach(e=>{n.testFiles.push(e)}),e.testFolders.push(n)}return u},"")})}parseTestName(e,t,n){if(!n)return;const r=o.isAbsolute(e)?e:o.resolve(t,e),i=n.testFolders.filter(t=>t.nameToRun===e||t.name===e||t.name===r);if(i.length>0)return{testFolder:i};const s=n.testFiles.filter(t=>t.nameToRun===e||t.name===e||t.fullPath===r);if(s.length>0)return{testFile:s};const c=n.testFunctions.filter(t=>t.testFunction.nameToRun===e||t.testFunction.name===e).map(e=>e.testFunction);return c.length>0?{testFunction:c}:{testFile:[{resource:a.Uri.file(t),name:e,nameToRun:e,functions:[],suites:[],xmlName:e,fullPath:"",time:0,functionsPassed:0,functionsFailed:0,functionsDidNotRun:0}]}}displayTestErrorMessage(e){this.appShell.showErrorMessage(e,l.Button_Text_Tests_View_Output).then(e=>{e===l.Button_Text_Tests_View_Output&&this.commandManager.executeCommand(l.Commands.Tests_ViewOutput,void 0,p.CommandSource.ui)})}mergeTests(e){return e.reduce((e,t,n)=>0===n?e:(e.summary.errors+=t.summary.errors,e.summary.failures+=t.summary.failures,e.summary.passed+=t.summary.passed,e.summary.skipped+=t.summary.skipped,e.rootTestFolders.push(...t.rootTestFolders),e.testFiles.push(...t.testFiles),e.testFolders.push(...t.testFolders),e.testFunctions.push(...t.testFunctions),e.testSuites.push(...t.testSuites),e),e[0])}shouldRunAllTests(e){return!e||!(Array.isArray(e.testFile)&&e.testFile.length>0||Array.isArray(e.testFolder)&&e.testFolder.length>0||Array.isArray(e.testFunction)&&e.testFunction.length>0||Array.isArray(e.testSuite)&&e.testSuite.length>0)}};function g(e){if(e instanceof h.TestWorkspaceFolder)return h.TestDataItemType.workspaceFolder;if(y(e))return h.TestDataItemType.file;if(_(e))return h.TestDataItemType.folder;if(v(e))return h.TestDataItemType.suite;if(b(e))return h.TestDataItemType.function;throw new Error("Unknown test type")}function y(e){if(e)return"string"==typeof e.fullPath?e:void 0}function v(e){if(e)return Array.isArray(e.suites)&&!y(e)?e:void 0}function _(e){if(e)return Array.isArray(e.folders)?e:void 0}function b(e){if(e&&!(e instanceof h.TestWorkspaceFolder||y(e)||_(e)||v(e)))return e}function S(e,t){switch(g(t)){case h.TestDataItemType.file:return w(e,t);case h.TestDataItemType.folder:return function(e,t){if(g(t)===h.TestDataItemType.folder)return function(e,t){if(e.rootTestFolders.indexOf(t)>=0)return;return e.testFolders.find(e=>e.folders.some(e=>e===t))}(e,t);return w(e,t)}(e,t);case h.TestDataItemType.suite:{const n=t;if(E(n)){const t=n.functions[0],r=e.testSuites.find(e=>e.testSuite.functions.indexOf(t)>=0);return r?r.testSuite:e.testFiles.find(e=>e.functions.indexOf(t)>=0)}const r=e.testSuites.find(e=>e.testSuite.suites.indexOf(n)>=0);return r?r.testSuite:e.testFiles.find(e=>e.suites.indexOf(n)>=0)}case h.TestDataItemType.function:{const n=t;if(n.subtestParent)return n.subtestParent.asSuite;const r=e.testSuites.find(e=>e.testSuite.functions.indexOf(n)>=0);return r?r.testSuite:e.testFiles.find(e=>e.functions.indexOf(n)>=0)}default:throw new Error("Unknown test type")}}function w(e,t){return e.testFolders.find(e=>e.testFiles.some(e=>e===t))}function C(e){const t=[],n=[];return e.forEach(e=>{if(!e.subtestParent)return void n.push(e);const r=e.subtestParent.asSuite;t.indexOf(r)<0&&t.push(r)}),[t,n]}function E(e){const t=e.functions;if(0===t.length)return!1;const n=t[0].subtestParent;return void 0!==n&&n.asSuite===e}function T(e,t){e.forEach(e=>{const n=t.find(t=>t.name===e.name&&t.nameToRun===e.nameToRun);n&&D(e,n)})}function D(e,t){Object.keys(e).forEach(n=>{const r=e[n];["boolean","number","string","undefined"].indexOf(typeof r)>=0&&(t[n]=r)})}m=r([s.injectable(),i(0,s.inject(f.ITestVisitor)),i(0,s.named("TestFlatteningVisitor")),i(1,s.inject(d.IServiceContainer))],m),t.TestsHelper=m,t.getTestDataItemType=g,t.getTestFile=y,t.getTestSuite=v,t.getTestFolder=_,t.getTestFunction=b,t.getParent=S,t.getParentFile=function(e,t){let n=S(e,t);for(;n;){if(g(n)===h.TestDataItemType.file)return n;n=S(e,n)}throw new Error("No parent file for provided test item")},t.getParentSuite=function(e,t){let n=S(e,t);for(;n;){if(g(n)===h.TestDataItemType.suite)return n;n=S(e,n)}},t.findFlattendTestFunction=function(e,t){return e.testFunctions.find(e=>e.testFunction===t)},t.findFlattendTestSuite=function(e,t){return e.testSuites.find(e=>e.testSuite===t)},t.getChildren=function(e){switch(g(e)){case h.TestDataItemType.folder:return[...e.folders,...e.testFiles];case h.TestDataItemType.file:{const[t,n]=C(e.functions);return[...n,...e.suites,...t]}case h.TestDataItemType.suite:{let t=[],n=e.functions;return E(e)||([t,n]=C(e.functions)),[...n,...e.suites,...t]}case h.TestDataItemType.function:return[];default:throw new Error("Unknown Test Type")}},t.isSubtestsParent=E,t.copyDesiredTestResults=function(e,t){!function(e,t){e.forEach(e=>{const n=t.find(t=>t.name===e.name&&t.nameToRun===e.nameToRun);n&&(D(e,n),function(e,t){e.forEach(e=>{const n=t.find(t=>t.name===e.name);n&&(D(e,n),T(e.functions,n.functions),function e(t,n){t.forEach(t=>{const r=n.find(e=>e.name===t.name&&e.nameToRun===t.nameToRun&&e.xmlName===t.xmlName);r&&(D(t,r),T(t.functions,r.functions),e(t.suites,r.suites),r.functionsPassed=r.functionsDidNotRun=r.functionsFailed=0)})}(e.suites,n.suites),n.functionsPassed=n.functionsDidNotRun=n.functionsFailed=0)})}(e.testFiles,n.testFiles),n.functionsPassed=n.functionsDidNotRun=n.functionsFailed=0)})}(e.testFolders,t.testFolders)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},function(e,t){e.exports=require("events")},function(e,t,n){var r=n(285),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(13);t.PTVSD_PATH=r.join(i.EXTENSION_ROOT_DIR,"pythonFiles","lib","python"),t.DebuggerTypeName="python"},function(e,t,n){try{var r=n(27);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(610)}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(682)),r(n(313)),r(n(697))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(124),s=n(801);t.RequestType=s.RequestType,t.RequestType0=s.RequestType0,t.RequestType1=s.RequestType1,t.RequestType2=s.RequestType2,t.RequestType3=s.RequestType3,t.RequestType4=s.RequestType4,t.RequestType5=s.RequestType5,t.RequestType6=s.RequestType6,t.RequestType7=s.RequestType7,t.RequestType8=s.RequestType8,t.RequestType9=s.RequestType9,t.ResponseError=s.ResponseError,t.ErrorCodes=s.ErrorCodes,t.NotificationType=s.NotificationType,t.NotificationType0=s.NotificationType0,t.NotificationType1=s.NotificationType1,t.NotificationType2=s.NotificationType2,t.NotificationType3=s.NotificationType3,t.NotificationType4=s.NotificationType4,t.NotificationType5=s.NotificationType5,t.NotificationType6=s.NotificationType6,t.NotificationType7=s.NotificationType7,t.NotificationType8=s.NotificationType8,t.NotificationType9=s.NotificationType9;const o=n(217);t.MessageReader=o.MessageReader,t.StreamMessageReader=o.StreamMessageReader,t.IPCMessageReader=o.IPCMessageReader,t.SocketMessageReader=o.SocketMessageReader;const a=n(218);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=n(153);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const l=n(802);t.CancellationTokenSource=l.CancellationTokenSource,t.CancellationToken=l.CancellationToken;const u=n(803);var d,h,p,f,m,g,y;r(n(804)),r(n(805)),function(e){e.type=new s.NotificationType("$/cancelRequest")}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new s.NotificationType("$/setTraceNotification")}(f=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new s.NotificationType("$/logTraceNotification")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class v extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,v.prototype)}}function _(e,t,n,r){let o=0,a=0,_=0;const b="2.0";let S,w,C=void 0,E=Object.create(null),T=void 0,D=Object.create(null),P=new u.LinkedMap,k=Object.create(null),I=Object.create(null),M=h.Off,x=p.Text,A=y.New,O=new c.Emitter,L=new c.Emitter,R=new c.Emitter,j=new c.Emitter;function F(e){return"req-"+e.toString()}function N(e,t){var n;s.isRequestMessage(t)?e.set(F(t.id),t):s.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++_).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}function Y(e){}function B(){return A===y.Listening}function H(){return A===y.Closed}function W(){return A===y.Disposed}function U(){A!==y.New&&A!==y.Listening||(A=y.Closed,L.fire(void 0))}function V(){S||0===P.size||(S=setImmediate(()=>{S=void 0,function(){if(0===P.size)return;let e=P.shift();try{s.isRequestMessage(e)?function(e){if(W())return;function n(n,r,i){let o={jsonrpc:b,id:e.id};n instanceof s.ResponseError?o.error=n.toJson():o.result=void 0===n?null:n,q(o,r,i),t.write(o)}function r(n,r,i){let s={jsonrpc:b,id:e.id,error:n.toJson()};q(s,r,i),t.write(s)}!function(e){if(M===h.Off||!w)return;if(x===p.Text){let t=void 0;M===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),w.log(`Received request '${e.method} - (${e.id})'.`,t)}else G("receive-request",e)}(e);let o,a,c=E[e.method];c&&(o=c.type,a=c.handler);let u=Date.now();if(a||C){let c=new l.CancellationTokenSource,d=String(e.id);I[d]=c;try{let l,h=l=void 0===e.params||void 0!==o&&0===o.numberOfParams?a?a(c.token):C(e.method,c.token):i.array(e.params)&&(void 0===o||o.numberOfParams>1)?a?a(...e.params,c.token):C(e.method,...e.params,c.token):a?a(e.params,c.token):C(e.method,e.params,c.token);l?h.then?h.then(t=>{delete I[d],n(t,e.method,u)},t=>{delete I[d],t instanceof s.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}):(delete I[d],n(l,e.method,u)):(delete I[d],function(n,r,i){void 0===n&&(n=null);let s={jsonrpc:b,id:e.id,result:n};q(s,r,i),t.write(s)}(l,e.method,u))}catch(t){delete I[d],t instanceof s.ResponseError?n(t,e.method,u):t&&i.string(t.message)?r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new s.ResponseError(s.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):s.isNotificationMessage(e)?function(e){if(W())return;let t,r=void 0;if(e.method===d.type.method)t=e=>{let t=e.id,n=I[String(t)];n&&n.cancel()};else{let n=D[e.method];n&&(t=n.handler,r=n.type)}if(t||T)try{!function(e){if(M===h.Off||!w||e.method===m.type.method)return;if(x===p.Text){let t=void 0;M===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),w.log(`Received notification '${e.method}'.`,t)}else G("receive-notification",e)}(e),void 0===e.params||void 0!==r&&0===r.numberOfParams?t?t():T(e.method):i.array(e.params)&&(void 0===r||r.numberOfParams>1)?t?t(...e.params):T(e.method,...e.params):t?t(e.params):T(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else R.fire(e)}(e):s.isResponseMessage(e)?function(e){if(W())return;if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),r=k[t];if(function(e,t){if(M===h.Off||!w)return;if(x===p.Text){let n=void 0;if(M===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";w.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else w.log(`Received response ${e.id} without active response promise.`,n)}else G("receive-response",e)}(e,r),r){delete k[t];try{if(e.error){let t=e.error;r.reject(new s.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${r.method}' failed with message: ${e.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=k[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{V()}}()}))}e.onClose(U),e.onError(function(e){O.fire([e,void 0,void 0])}),t.onClose(U),t.onError(function(e){O.fire(e)});let $=e=>{try{if(s.isNotificationMessage(e)&&e.method===d.type.method){let n=F(e.params.id),i=P.get(n);if(s.isRequestMessage(i)){let s=r&&r.cancelUndispatched?r.cancelUndispatched(i,Y):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return P.delete(n),s.id=i.id,q(s,e.method,Date.now()),void t.write(s)}}N(P,e)}finally{V()}};function q(e,t,n){if(M!==h.Off&&w)if(x===p.Text){let r=void 0;M===h.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),w.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else G("send-response",e)}function G(e,t){if(!w||M===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};w.log(n)}function z(){if(H())throw new v(g.Closed,"Connection is closed.");if(W())throw new v(g.Disposed,"Connection is disposed.")}function K(e){return void 0===e?null:e}function J(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=K(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(K(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let X={sendNotification:(e,...n)=>{let r,s;if(z(),i.string(e))switch(r=e,n.length){case 0:s=null;break;case 1:s=n[0];break;default:s=n}else r=e.method,s=J(e,n);let o={jsonrpc:b,method:r,params:s};!function(e){if(M!==h.Off&&w)if(x===p.Text){let t=void 0;M===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),w.log(`Sending notification '${e.method}'.`,t)}else G("send-notification",e)}(o),t.write(o)},onNotification:(e,t)=>{z(),i.func(e)?T=e:t&&(i.string(e)?D[e]={type:void 0,handler:t}:D[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let r,a;z(),function(){if(!B())throw new Error("Call listen() first.")}();let c=void 0;if(i.string(e))switch(r=e,n.length){case 0:a=null;break;case 1:l.CancellationToken.is(n[0])?(a=null,c=n[0]):a=K(n[0]);break;default:const t=n.length-1;l.CancellationToken.is(n[t])?(c=n[t],a=2===n.length?K(n[0]):n.slice(0,t).map(e=>K(e))):a=n.map(e=>K(e))}else{r=e.method,a=J(e,n);let t=e.numberOfParams;c=l.CancellationToken.is(n[t])?n[t]:void 0}let u=o++,f=new Promise((e,n)=>{let i={jsonrpc:b,id:u,method:r,params:a},o={method:r,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(M!==h.Off&&w)if(x===p.Text){let t=void 0;M===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),w.log(`Sending request '${e.method} - (${e.id})'.`,t)}else G("send-request",e)}(i);try{t.write(i)}catch(e){o.reject(new s.ResponseError(s.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),o=null}o&&(k[String(u)]=o)});return c&&c.onCancellationRequested(()=>{X.sendNotification(d.type,{id:u})}),f},onRequest:(e,t)=>{z(),i.func(e)?C=e:t&&(i.string(e)?E[e]={type:void 0,handler:t}:E[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,s=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,s=n.traceFormat||p.Text)),x=s,w=(M=e)===h.Off?void 0:t,!r||H()||W()||X.sendNotification(f.type,{value:h.toString(e)})},onError:O.event,onClose:L.event,onUnhandledNotification:R.event,onDispose:j.event,dispose:()=>{if(W())return;A=y.Disposed,j.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(k).forEach(e=>{k[e].reject(n)}),k=Object.create(null),I=Object.create(null),P=new u.LinkedMap,i.func(t.dispose)&&t.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{z(),function(){if(B())throw new v(g.AlreadyListening,"Connection is already listening")}(),A=y.Listening,e.listen($)},inspect:()=>{console.log("inspect")}};return X.onNotification(m.type,e=>{M!==h.Off&&w&&w.log(e.message,M===h.Verbose?e.verbose:void 0)}),X}t.ConnectionError=v,function(e){e.is=function(e){let t=e;return t&&i.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(y||(y={})),t.createMessageConnection=function(e,n,r,i){var s;return r||(r=t.NullLogger),_(void 0!==(s=e).listen&&void 0===s.read?e:new o.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),r,i)}},function(e,t,n){"use strict";var r=n(127),i=n(61);function s(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=63&o|128):s(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=63&o|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=63&o|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=o(i)),n+=c(i.toString(16))}return n},t.zero2=a,t.zero8=c,t.join32=function(e,t,n,i){var s=n-t;r(s%4==0);for(var o=new Array(s/4),a=0,c=t;a<o.length;a++,c+=4){var l;l="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[a]=l>>>0}return o},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var s=e[r];"big"===t?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=255&s):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=255&s)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],s=r+e[t+1]>>>0,o=(s<r?1:0)+n+i;e[t]=o>>>0,e[t+1]=s},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,s,o,a){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+s>>>0)<s?1:0,e+n+i+o+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,s,o,a){return t+r+s+a>>>0},t.sum64_5_hi=function(e,t,n,r,i,s,o,a,c,l){var u=0,d=t;return u+=(d=d+r>>>0)<t?1:0,u+=(d=d+s>>>0)<s?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+i+o+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,s,o,a,c,l){return t+r+s+a+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";function r(e){return"function"==typeof e.iter?e.iter():new i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.iter=r,t.each=function(e,t){for(var n,i=0,s=r(e);void 0!==(n=s.next());)if(!1===t(n,i++))return},t.every=function(e,t){for(var n,i=0,s=r(e);void 0!==(n=s.next());)if(!t(n,i++))return!1;return!0},t.some=function(e,t){for(var n,i=0,s=r(e);void 0!==(n=s.next());)if(t(n,i++))return!0;return!1},t.toArray=function(e){for(var t,n=0,i=[],s=r(e);void 0!==(t=s.next());)i[n++]=t;return i};var i=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();t.ArrayIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){"use strict";const r=t.format=n(39);function i(e,t){t=t||e,Object.defineProperty(r,e,{get:()=>n(595)(`./${t}.js`),configurable:!0})}t.levels=n(177),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WINDOWS_PATH_VARIABLE_NAME="Path",t.NON_WINDOWS_PATH_VARIABLE_NAME="PATH",t.IS_WINDOWS=/^win/.test(process.platform)},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function s(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=s,t.stringArray=function(e){return s(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(17),s=n(12);class o extends Error{constructor(){super(s.Common.canceled())}}t.CancellationError=o,t.createPromiseFromCancellation=function(e){return new Promise((t,n)=>{e.token&&e.token.onCancellationRequested(()=>{if(e.token.isCancellationRequested){if("resolve"===e.cancelAction)return t(e.defaultValue);if("reject"===e.cancelAction)return n(new o)}})})},t.wrapCancellationTokens=function(...e){const t=new r.CancellationTokenSource;for(const n of e)if(n){if(n.isCancellationRequested)return n;n.onCancellationRequested(()=>t.cancel())}return t.token},function(e){function t(e){return!!e&&e.isCancellationRequested}e.race=function(e,t){if(t){const n=i.createDeferred();return t.onCancellationRequested(()=>{n.completed||n.reject(new o)}),t.isCancellationRequested?n.reject(new o):e(t).then(e=>{n.completed||n.resolve(e)}).catch(e=>{n.completed||n.reject(e)}),n.promise}return e()},e.isCanceled=t,e.throwIfCanceled=function(e){if(t(e))throw new o}}(t.Cancellation||(t.Cancellation={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(33);function s(e,t,n,i,s){var o={},a="number"==typeof s,c=void 0!==s&&a?s.toString():n;if(a&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var l=o[c];if(Array.isArray(l))for(var u=0,d=l;u<d.length;u++){var h=d[u];if(h.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key)}else l=[];l.push(i),o[c]=l,Reflect.defineMetadata(e,o,t)}function o(e,t){Reflect.decorate(e,t)}function a(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){s(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){s(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?o([a(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):o([e],t)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(74),s=n(75),o=n(45),a=n(207),c=n(48),l=n(121),u=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",s=n.split(";"),o=0;o<s.length;o++){n=s[o];if((n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,s[o].length);break}}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map(function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)}).join(""),r=new Buffer(n,"binary").toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var s=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+s+r.substr(16,3)+r.substr(19,12)},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",s=t[r],o=typeof s;if(e.isPrimitive(s))i=s.toString();else if(null===s||"undefined"===o)i="";else{if("function"===o){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(s)?s:e.extractObject(s);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=s.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++){if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(o.parse(t).hostname))return!1}return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[l.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var s=r[i].split("=");if(2==s.length&&s[0]==t)return s[1]}},e.makeRequest=function(t,n,a,l){n&&0===n.indexOf("//")&&(n="https:"+n);var u=o.parse(n),d=r({},a,{host:u.hostname,port:u.port,path:u.pathname}),h=void 0;if("https:"===u.protocol&&(h=t.proxyHttpsUrl||void 0),"http:"===u.protocol&&(h=t.proxyHttpUrl||void 0),h){0===h.indexOf("//")&&(h="http:"+h);var p=o.parse(h);"https:"===p.protocol?(c.info("Proxies that use HTTPS are not supported"),h=void 0):d=r({},d,{host:p.hostname,port:p.port||"80",path:n,headers:r({},d.headers,{Host:u.hostname})})}var f="https:"===u.protocol&&!h;return f&&void 0!==t.httpsAgent?d.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(d.agent=e.tlsRestrictedAgent):d.agent=t.httpAgent,f?s.request(d,l):i.request(d,l)},e.MAX_PROPERTY_LENGTH=1024,e.tlsRestrictedAgent=new s.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LSControl="LS - control",t.LSEnabled="LS - enabled",function(e){e.control="AlwaysDisplayTestExplorer - control",e.experiment="AlwaysDisplayTestExplorer - experiment"}(t.AlwaysDisplayTestExplorerGroups||(t.AlwaysDisplayTestExplorerGroups={})),function(e){e.control="ShowExtensionSurveyPrompt - control",e.enabled="ShowExtensionSurveyPrompt - enabled"}(t.ShowExtensionSurveyPrompt||(t.ShowExtensionSurveyPrompt={})),function(e){e.control="DebugAdapterFactoryInsiders - control",e.experiment="DebugAdapterFactoryInsiders - experiment"}(t.DebugAdapterDescriptorFactory||(t.DebugAdapterDescriptorFactory={})),function(e){e.control="PtvsdWheels37 - control",e.experiment="PtvsdWheels37 - experiment"}(t.DebugAdapterNewPtvsd||(t.DebugAdapterNewPtvsd={})),function(e){e.control="AA_testing - control",e.experiment="AA_testing - experiment"}(t.ValidateABTesting||(t.ValidateABTesting={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(10);t.DiagnosticCommandPromptHandlerServiceId="DiagnosticCommandPromptHandlerServiceId";let l=class{constructor(e){this.appShell=e.get(a.IApplicationShell)}async handle(e,t={commandPrompts:[]}){const n=t.commandPrompts.map(e=>e.prompt),r=await this.displayMessage(t.message?t.message:e.message,e.severity,n);if(!r)return;const i=t.commandPrompts.find(e=>e.prompt===r);i&&i.command&&await i.command.invoke()}async displayMessage(e,t,n){switch(t){case o.DiagnosticSeverity.Error:return this.appShell.showErrorMessage(e,...n);case o.DiagnosticSeverity.Warning:return this.appShell.showWarningMessage(e,...n);default:return this.appShell.showInformationMessage(e,...n)}}};l=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],l),t.DiagnosticCommandPromptHandlerService=l},function(e,t,n){"use strict";const r=n(47).fromPromise,i=n(322);e.exports={pathExists:r(function(e){return i.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:i.existsSync}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentVariablesService=Symbol("IEnvironmentVariablesService"),t.IEnvironmentVariablesProvider=Symbol("IEnvironmentVariablesProvider")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(161),i="'''",s='"""';function o(e,t){const n=/(^[\t\f\v\r ]+|[\t\f\v\r ]+$)/g;if(Array.isArray(e)){let r="";for(let t=0;t<e.length;t+=1){const n=e[t];r=t<e.length-1&&!n.endsWith("\n")?r.concat(`${n}\n`):r.concat(n)}return t?r.replace(n,""):r}return t?e.toString().replace(n,""):e.toString()}function a(e,t){return e.map((n,r)=>{const i=t?t(n):n;return r===e.length-1?`${i}`:`${i}\n`})}function c(e,t,n){let r,o,a=0;for(const c of e){const e=c.trim(),l=e.startsWith(i)?i:e.startsWith(s)?s:void 0,u=e.includes(i)?i:e.includes(s)?s:void 0;if(o)o===u&&(o=void 0),n(c,a);else if(r)r===l&&(r=void 0),r&&t(c,a);else if(u&&!l){const t=e.indexOf(u);o=e.lastIndexOf(u)!==t?void 0:u,n(c,a)}else if(l){const n=e.indexOf(l,3);r=n>=0?void 0:l,e.length>3&&t(e.slice(3,n>=0?n:void 0),a)}else e.startsWith("#")?t(e.slice(1),a):n(c,a);a+=1}}t.concatMultilineStringOutput=function(e){return o(e,!0)},t.concatMultilineStringInput=function(e){return o(e,!1)},t.splitMultilineString=function(e){if(Array.isArray(e))return e;const t=e.toString();if(t.length>0){const e=t.split("\n");return e.map((t,n)=>n<e.length-1?`${t}\n`:t).filter(e=>e.length>0)}return[]},t.stripComments=function(e){let t="";return c(e.splitLines({trim:!1,removeEmptyEntries:!1}),e=>r.noop,e=>t=t.concat(`${e}\n`)),t},t.formatStreamText=function(e){return function(e){let t="",n=0;for(let r=0;r<e.length;r+=1)"\r"===e[r]?r<e.length-1&&"\n"===e[r+1]?(t+=e.substr(n,r-n),t+="\n",n=r+2,r+=1):n=r+1:"\n"===e[r]&&(t+=e.substr(n,r-n+1),n=r+1);return t+=e.substr(n,e.length-n)}(function(e){let t=e;do{t=(e=t).replace(/[^\n]\x08/gm,"")}while(t.length<e.length);return e}(e))},t.appendLineFeed=a,t.generateMarkdownFromCodeLines=function(e){return a(function(e){const t=[];return c(e,e=>t.push(e),e=>r.noop()),t}(e.slice(1)))},t.parseForComments=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(4),s=n(13);n(7);const o=n(20),a=n(1),c=n(1282),l=n(53),u=n(216),d="(?<line>\\d+),(?<column>-?\\d+),(?<type>\\w+),(?<code>\\w+\\d+):(?<message>.*)\\r?(\\n|$)";function h(e,t){const n=u(t,"g").exec(e);if(null!==n)return n.groups()}function p(e,t,n,r=0){const i=h(e,t);if(i)return i.line=Number(i.line),i.column=Number(i.column),{code:i.code,message:i.message,column:isNaN(i.column)||i.column<=0?0:i.column-r,line:i.line,type:i.type,provider:n}}t.matchNamedRegEx=h,t.parseLine=p;t.BaseLinter=class{constructor(e,t,n,r=0){this.outputChannel=t,this.serviceContainer=n,this.columnOffset=r,this._info=n.get(l.ILinterManager).getLinterInfo(e),this.errorHandler=new c.ErrorHandler(this.info.product,t,n),this.configService=n.get(a.IConfigurationService),this.workspace=n.get(i.IWorkspaceService)}get pythonSettings(){return this._pythonSettings}get info(){return this._info}async lint(e,t){return this._pythonSettings=this.configService.getSettings(e.uri),this.runLinter(e,t)}getWorkspaceRootPath(e){const t=this.workspace.getWorkspaceFolder(e.uri),n=t&&"string"==typeof t.uri.fsPath?t.uri.fsPath:void 0;return"string"==typeof n?n:r.dirname(e.uri.fsPath)}get logger(){return this.serviceContainer.get(a.ILogger)}parseMessagesSeverity(e,t){if(t[e]){const n=t[e];switch(n){case"Error":return l.LintMessageSeverity.Error;case"Hint":return l.LintMessageSeverity.Hint;case"Information":return l.LintMessageSeverity.Information;case"Warning":return l.LintMessageSeverity.Warning;default:if(l.LintMessageSeverity[n])return l.LintMessageSeverity[n]}}return l.LintMessageSeverity.Information}async run(e,t,n,r=d){if(!this.info.isEnabled(t.uri))return[];const i=this.info.getExecutionInfo(e,t.uri),s=this.getWorkspaceRootPath(t),a=this.serviceContainer.get(o.IPythonToolExecutionService);try{const e=await a.exec(i,{cwd:s,token:n,mergeStdOutErr:!1},t.uri);return this.displayLinterResultHeader(e.stdout),await this.parseMessages(e.stdout,t,n,r)}catch(e){return await this.handleError(e,t.uri,i),[]}}async parseMessages(e,t,n,r){const i=e.splitLines({removeEmptyEntries:!1,trim:!1});return this.parseLines(i,r)}async handleError(e,t,n){s.isTestExecution()?this.errorHandler.handleError(e,t,n).ignoreErrors():this.errorHandler.handleError(e,t,n).catch(this.logger.logError.bind(this,"Error in errorHandler.handleError")).ignoreErrors()}parseLine(e,t){return p(e,t,this.info.id,this.columnOffset)}parseLines(e,t){const n=[];for(const r of e)try{const e=this.parseLine(r,t);if(e&&(n.push(e),n.length>=this.pythonSettings.linting.maxNumberOfProblems))break}catch(e){this.logger.logError(`Linter '${this.info.id}' failed to parse the line '${r}.`,e)}return n}displayLinterResultHeader(e){this.outputChannel.append(`${"#".repeat(10)}Linting Output - ${this.info.id}${"#".repeat(10)}\n`),this.outputChannel.append(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=function(){function e(){return Math.floor(65536*(Math.random()+1)).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},function(e,t,n){"use strict";const r=n(27),i=n(609),{LEVEL:s}=n(23),o=e.exports=function(e={}){i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};r.inherits(o,i),o.prototype._write=function(e,t,n){if(this.silent||!0===e.exception&&!this.handleExceptions)return n(null);const r=this.level||this.parent&&this.parent.level;if(!r||this.levels[r]>=this.levels[e[s]]){if(e&&!this.format)return this.log(e,n);let t,r;try{r=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!r){if(n(),t)throw t;return}return this.log(r,n)}return n(null)},o.prototype._writev=function(e,t){if(this.logv){const n=e.filter(this._accept,this);return n.length?this.logv(n,t):t(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let r,i;try{i=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(e){r=e}if(r||!i){if(e[n].callback(),r)throw t(null),r}else this.log(i,e[n].callback)}return t(null)},o.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const n=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&n&&!(this.levels[n]>=this.levels[t[s]])||!this.handleExceptions&&!0===t.exception)},o.prototype._nop=function(){}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},s=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=n(4),c=n(9),l=n(11),u=n(38);let d=class{constructor(e,t,n,r,i,s="default"){this.code=e,this.message=t,this.severity=n,this.scope=r,this.resource=i,this.invokeHandler=s}};d=i([o.injectable()],d),t.BaseDiagnostic=d;let h=r=class{constructor(e,t,n,r=!1){this.supportedDiagnosticCodes=e,this.serviceContainer=t,this.runInBackground=r,this.filterService=t.get(u.IDiagnosticFilterService),n.push(this)}dispose(){}async handle(e){if(0===e.length)return;const t=e.filter(e=>{if(e.invokeHandler&&"always"===e.invokeHandler)return!0;const t=this.getDiagnosticsKey(e);return-1===r.handledDiagnosticCodeKeys.indexOf(t)&&(r.handledDiagnosticCodeKeys.push(t),!0)});await this.onHandle(t)}async canHandle(e){return c.sendTelemetryEvent(l.EventName.DIAGNOSTICS_MESSAGE,void 0,{code:e.code}),this.supportedDiagnosticCodes.filter(t=>t===e.code).length>0}getDiagnosticsKey(e){if(e.scope===u.DiagnosticScope.Global)return e.code;const t=this.serviceContainer.get(a.IWorkspaceService),n=e.resource?t.getWorkspaceFolder(e.resource):void 0;return`${e.code}dbe75733-0407-4124-a1b2-ca769dc30523${n?n.uri.fsPath:""}`}};h.handledDiagnosticCodeKeys=[],h=r=i([o.injectable(),s(0,o.unmanaged()),s(1,o.unmanaged()),s(2,o.unmanaged()),s(3,o.unmanaged())],h),t.BaseDiagnosticsService=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDiagnosticsCommandFactory=Symbol("IDiagnosticsCommandFactory")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.InvalidEnvironmentPathVariableDiagnostic="InvalidEnvironmentPathVariableDiagnostic",e.InvalidDebuggerTypeDiagnostic="InvalidDebuggerTypeDiagnostic",e.NoPythonInterpretersDiagnostic="NoPythonInterpretersDiagnostic",e.MacInterpreterSelectedAndNoOtherInterpretersDiagnostic="MacInterpreterSelectedAndNoOtherInterpretersDiagnostic",e.MacInterpreterSelectedAndHaveOtherInterpretersDiagnostic="MacInterpreterSelectedAndHaveOtherInterpretersDiagnostic",e.InvalidPythonPathInDebuggerSettingsDiagnostic="InvalidPythonPathInDebuggerSettingsDiagnostic",e.InvalidPythonPathInDebuggerLaunchDiagnostic="InvalidPythonPathInDebuggerLaunchDiagnostic",e.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic="EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic",e.NoCurrentlySelectedPythonInterpreterDiagnostic="InvalidPythonInterpreterDiagnostic",e.LSNotSupportedDiagnostic="LSNotSupportedDiagnostic",e.JustMyCodeDiagnostic="JustMyCodeDiagnostic",e.ConsoleTypeDiagnostic="ConsoleTypeDiagnostic"}(t.DiagnosticCodes||(t.DiagnosticCodes={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(46),s=n(3),o=n(758),a=n(2),c=n(13);n(7);const l=n(69),u=n(20),d=n(1),h=n(17),p=n(31),f=n(24),m=n(81),g=n(14),y=n(9),v=n(11),_=n(6),b=new Map;b.set("none",a.CompletionItemKind.Value),b.set("type",a.CompletionItemKind.Class),b.set("tuple",a.CompletionItemKind.Class),b.set("dict",a.CompletionItemKind.Class),b.set("dictionary",a.CompletionItemKind.Class),b.set("function",a.CompletionItemKind.Function),b.set("lambda",a.CompletionItemKind.Function),b.set("generator",a.CompletionItemKind.Function),b.set("class",a.CompletionItemKind.Class),b.set("instance",a.CompletionItemKind.Reference),b.set("method",a.CompletionItemKind.Method),b.set("builtin",a.CompletionItemKind.Class),b.set("builtinfunction",a.CompletionItemKind.Function),b.set("module",a.CompletionItemKind.Module),b.set("file",a.CompletionItemKind.File),b.set("xrange",a.CompletionItemKind.Class),b.set("slice",a.CompletionItemKind.Class),b.set("traceback",a.CompletionItemKind.Class),b.set("frame",a.CompletionItemKind.Class),b.set("buffer",a.CompletionItemKind.Class),b.set("dictproxy",a.CompletionItemKind.Class),b.set("funcdef",a.CompletionItemKind.Function),b.set("property",a.CompletionItemKind.Property),b.set("import",a.CompletionItemKind.Module),b.set("keyword",a.CompletionItemKind.Keyword),b.set("constant",a.CompletionItemKind.Variable),b.set("variable",a.CompletionItemKind.Variable),b.set("value",a.CompletionItemKind.Value),b.set("param",a.CompletionItemKind.Variable),b.set("statement",a.CompletionItemKind.Keyword);const S=new Map;function w(e){if(b.has(e)){const t=b.get(e);if(t)return t}return a.CompletionItemKind.Keyword}function C(e){if(S.has(e)){const t=S.get(e);if(t)return t}return a.SymbolKind.Variable}var E;S.set("none",a.SymbolKind.Variable),S.set("type",a.SymbolKind.Class),S.set("tuple",a.SymbolKind.Class),S.set("dict",a.SymbolKind.Class),S.set("dictionary",a.SymbolKind.Class),S.set("function",a.SymbolKind.Function),S.set("lambda",a.SymbolKind.Function),S.set("generator",a.SymbolKind.Function),S.set("class",a.SymbolKind.Class),S.set("instance",a.SymbolKind.Class),S.set("method",a.SymbolKind.Method),S.set("builtin",a.SymbolKind.Class),S.set("builtinfunction",a.SymbolKind.Function),S.set("module",a.SymbolKind.Module),S.set("file",a.SymbolKind.File),S.set("xrange",a.SymbolKind.Array),S.set("slice",a.SymbolKind.Class),S.set("traceback",a.SymbolKind.Class),S.set("frame",a.SymbolKind.Class),S.set("buffer",a.SymbolKind.Array),S.set("dictproxy",a.SymbolKind.Class),S.set("funcdef",a.SymbolKind.Function),S.set("property",a.SymbolKind.Property),S.set("import",a.SymbolKind.Module),S.set("keyword",a.SymbolKind.Variable),S.set("constant",a.SymbolKind.Constant),S.set("variable",a.SymbolKind.Variable),S.set("value",a.SymbolKind.Variable),S.set("param",a.SymbolKind.Variable),S.set("statement",a.SymbolKind.Variable),S.set("boolean",a.SymbolKind.Boolean),S.set("int",a.SymbolKind.Number),S.set("longlean",a.SymbolKind.Number),S.set("float",a.SymbolKind.Number),S.set("complex",a.SymbolKind.Number),S.set("string",a.SymbolKind.String),S.set("unicode",a.SymbolKind.String),S.set("list",a.SymbolKind.Array),function(e){e[e.Arguments=0]="Arguments",e[e.Completions=1]="Completions",e[e.Hover=2]="Hover",e[e.Usages=3]="Usages",e[e.Definitions=4]="Definitions",e[e.Symbols=5]="Symbols"}(E=t.CommandType||(t.CommandType={}));const T=new Map;T.set(E.Arguments,"arguments"),T.set(E.Completions,"completions"),T.set(E.Definitions,"definitions"),T.set(E.Hover,"tooltip"),T.set(E.Usages,"usages"),T.set(E.Symbols,"names");class D{constructor(e,t,n){this.extensionRootDir=e,this.serviceContainer=n,this.cmdId=0,this.previousData="",this.commands=new Map,this.commandQueue=[],this.spawnRetryAttempts=0,this.additionalAutoCompletePaths=[],this.ignoreJediMemoryFootprint=!1,this.pidUsageFailures={timer:new f.StopWatch,counter:0},this.disposables=[],this.workspacePath=t;const r=n.get(d.IConfigurationService);this.pythonSettings=r.getSettings(a.Uri.file(t)),this.lastKnownPythonInterpreter=this.pythonSettings.pythonPath,this.logger=n.get(d.ILogger);const i=n.get(g.IInterpreterService).onDidChangeInterpreter(this.onDidChangeInterpreter.bind(this));this.disposables.push(i),this.initialized=h.createDeferred(),this.startLanguageServer().then(()=>this.initialized.resolve()).ignoreErrors(),this.proposeNewLanguageServerPopup=n.get(d.IPythonExtensionBanner,d.BANNER_NAME_PROPOSE_LS),this.checkJediMemoryFootprint().ignoreErrors()}static getProperty(e,t){return e[t]}dispose(){for(;this.disposables.length>0;){const e=this.disposables.pop();e&&e.dispose()}this.timer&&clearTimeout(this.timer),this.killProcess()}getNextCommandId(){const e=this.cmdId;return this.cmdId+=1,e}async sendCommand(e){if(await this.initialized.promise,await this.languageServerStarted.promise,!this.proc)return Promise.reject(new Error("Python proc not initialized"));const t=e,n=this.createPayload(t);t.deferred=h.createDeferred();try{this.proc.stdin.write(`${JSON.stringify(n)}\n`),this.commands.set(t.id,t),this.commandQueue.push(t.id)}catch(e){return _.traceError(e),"This socket is closed."===e.message?this.killProcess():this.handleError("sendCommand",e.message),Promise.reject(e)}return t.deferred.promise}initialize(){return this.spawnProcess(s.join(this.extensionRootDir,"pythonFiles")).catch(e=>{this.languageServerStarted&&this.languageServerStarted.reject(e),this.handleError("spawnProcess",e)})}shouldCheckJediMemoryFootprint(){return!this.ignoreJediMemoryFootprint&&-1!==this.pythonSettings.jediMemoryLimit&&(!this.lastCmdIdProcessedForPidUsage||!this.lastCmdIdProcessed||this.lastCmdIdProcessedForPidUsage!==this.lastCmdIdProcessed)}async checkJediMemoryFootprint(){-1!==this.pythonSettings.jediMemoryLimit&&(await this.checkJediMemoryFootprintImpl(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>this.checkJediMemoryFootprint(),15e3))}async checkJediMemoryFootprintImpl(){if(!this.proc||this.proc.killed)return;if(!this.shouldCheckJediMemoryFootprint())return;this.lastCmdIdProcessedForPidUsage=this.lastCmdIdProcessed;const e=h.createDeferred();return o.stat(this.proc.pid,async(t,n)=>{if(t)this.pidUsageFailures.counter+=1,this.pidUsageFailures.timer.elapsedTime>6e4&&(this.ignoreJediMemoryFootprint=this.pidUsageFailures.counter>2,this.pidUsageFailures.counter=0,this.pidUsageFailures.timer.reset()),_.traceError("Starlark Extension: (pidusage)",t);else{const e=Math.min(Math.max(this.pythonSettings.jediMemoryLimit,1024),8192);let t=!1;if(n&&n.memory){t=n.memory>1024*e*1024;const r={mem_use:n.memory,limit:1024*e*1024,isUserDefinedLimit:1024!==e,restart:t};y.sendTelemetryEvent(v.EventName.JEDI_MEMORY,void 0,r)}t&&(this.logger.logWarning(`IntelliSense process memory consumption exceeded limit of ${e} MB and process will be restarted.\nThe limit is controlled by the 'python.jediMemoryLimit' setting.`),await this.restartLanguageServer())}e.resolve()}),e.promise}async onDidChangeInterpreter(){this.lastKnownPythonInterpreter!==this.pythonSettings.pythonPath&&(this.lastKnownPythonInterpreter=this.pythonSettings.pythonPath,this.additionalAutoCompletePaths=await this.buildAutoCompletePaths(),this.restartLanguageServer().ignoreErrors())}async environmentVariablesChangeHandler(){const e=await this.buildAutoCompletePaths();this.additionalAutoCompletePaths.join(",")!==e.join(",")&&(this.additionalAutoCompletePaths=e,this.restartLanguageServer().ignoreErrors())}async startLanguageServer(){const e=await this.buildAutoCompletePaths();return this.additionalAutoCompletePaths=e,c.isTestExecution()||await this.proposeNewLanguageServerPopup.showBanner(),this.restartLanguageServer()}restartLanguageServer(){return this.killProcess(),this.clearPendingRequests(),this.initialize()}clearPendingRequests(){this.commandQueue=[],this.commands.forEach(e=>{void 0!==e.deferred&&e.deferred.resolve()}),this.commands.clear()}killProcess(){try{this.proc&&this.proc.kill()}catch(e){}this.proc=void 0}handleError(e,t){_.Logger.error(`${e} jediProxy`,`Error (${e}) ${t}`)}async spawnProcess(e){this.languageServerStarted&&!this.languageServerStarted.completed&&this.languageServerStarted.reject(new Error("Language Server not started.")),this.languageServerStarted=h.createDeferred();const t=await this.serviceContainer.get(u.IPythonExecutionFactory).create({resource:a.Uri.file(this.workspacePath)});if(0===(await t.getExecutablePath().catch(()=>"")).length)return;const n=["completion.py"];"string"==typeof this.pythonSettings.jediPath&&this.pythonSettings.jediPath.length>0?(n.push("custom"),n.push(this.pythonSettings.jediPath)):(n.push("custom"),n.push(`${this.extensionRootDir}/starlark/jedi`));const r=t.execObservable(n,{cwd:e});this.proc=r.proc,this.languageServerStarted.resolve(),this.proc.on("end",e=>{_.Logger.error("spawnProcess.end",`End - ${e}`)}),this.proc.on("error",t=>{this.handleError("error",`${t}`),this.spawnRetryAttempts+=1,this.spawnRetryAttempts<10&&t&&t.message&&t.message.indexOf("This socket has been ended by the other party")>=0&&this.spawnProcess(e).catch(e=>{this.languageServerStarted&&this.languageServerStarted.reject(e),this.handleError("spawnProcess",e)})}),r.out.subscribe(e=>{if("stderr"===e.source)this.handleError("stderr",e.out);else{const t=e.out,n=this.previousData=`${this.previousData}${t}`;let r;try{r=n.splitLines().map(e=>JSON.parse(e)),this.previousData=""}catch(e){return void(-1===e.message.indexOf("Unexpected end of input")&&-1===e.message.indexOf("Unexpected end of JSON input")&&-1===e.message.indexOf("Unexpected token")&&this.handleError("stdout",e.message))}r.forEach(e=>{if(!e)return;const t=D.getProperty(e,"id");if(!this.commands.has(t))return;const n=this.commands.get(t);if(!n)return;if(this.lastCmdIdProcessed=n.id,D.getProperty(e,"arguments"))return void this.commandQueue.splice(this.commandQueue.indexOf(n.id),1);this.commands.delete(t);const r=this.commandQueue.indexOf(n.id);if(r&&this.commandQueue.splice(r,1),n.token.isCancellationRequested)return void this.safeResolve(n,void 0);const i=this.getCommandHandler(n.command);i&&i.call(this,n,e),this.checkQueueLength()})}},e=>this.handleError("subscription.error",`${e}`))}getCommandHandler(e){switch(e){case E.Completions:return this.onCompletion;case E.Definitions:return this.onDefinition;case E.Hover:return this.onHover;case E.Symbols:return this.onSymbols;case E.Usages:return this.onUsages;case E.Arguments:return this.onArguments;default:return}}onCompletion(e,t){let n=D.getProperty(t,"results");(n=Array.isArray(n)?n:[]).forEach(e=>{const t=e.type;e.type=w(t),e.kind=C(t),e.rawType=w(t)});const r={items:n,requestId:e.id};this.safeResolve(e,r)}onDefinition(e,t){const n=D.getProperty(t,"results"),r={requestId:e.id,definitions:[]};n.length>0&&(r.definitions=n.map(e=>{const t=e.type;return{fileName:e.fileName,text:e.text,rawType:t,type:w(t),kind:C(t),container:e.container,range:{startLine:e.range.start_line,startColumn:e.range.start_column,endLine:e.range.end_line,endColumn:e.range.end_column}}})),this.safeResolve(e,r)}onHover(e,t){const n=D.getProperty(t,"results"),r={requestId:e.id,items:n.map(e=>({kind:C(e.type),description:e.description,signature:e.signature,docstring:e.docstring,text:e.text}))};this.safeResolve(e,r)}onSymbols(e,t){let n=D.getProperty(t,"results");n=Array.isArray(n)?n:[];const r={requestId:e.id,definitions:[]};r.definitions=n.map(e=>{const t=e.type;return{fileName:e.fileName,text:e.text,rawType:t,type:w(t),kind:C(t),container:e.container,range:{startLine:e.range.start_line,startColumn:e.range.start_column,endLine:e.range.end_line,endColumn:e.range.end_column}}}),this.safeResolve(e,r)}onUsages(e,t){let n=D.getProperty(t,"results");n=Array.isArray(n)?n:[];const r={requestId:e.id,references:n.map(e=>({columnIndex:e.column,fileName:e.fileName,lineIndex:e.line-1,moduleName:e.moduleName,name:e.name}))};this.safeResolve(e,r)}onArguments(e,t){const n=D.getProperty(t,"results");this.safeResolve(e,{requestId:e.id,definitions:n})}checkQueueLength(){if(this.commandQueue.length>10){this.commandQueue.splice(0,this.commandQueue.length-10).forEach(e=>{if(this.commands.has(e)){const t=this.commands.get(e);try{this.safeResolve(t,void 0)}catch(e){}finally{this.commands.delete(e)}}})}}createPayload(e){const t={id:e.id,prefix:"",lookup:T.get(e.command),path:e.fileName,source:e.source,line:e.lineIndex,column:e.columnIndex,config:this.getConfig()};return e.command===E.Symbols&&(delete t.column,delete t.line),t}async getPathFromPythonCommand(e){try{const t=await this.serviceContainer.get(u.IPythonExecutionFactory).create({resource:a.Uri.file(this.workspacePath)}),n=(await t.exec(e,{cwd:this.workspacePath})).stdout.trim().splitLines();return 0===n.length?"":await i.pathExists(n[0])?n[0]:""}catch(e){return""}}async buildAutoCompletePaths(){const e=[this.getPathFromPythonCommand(["-c","import sys;print(sys.prefix)"]).catch(()=>""),this.getPathFromPythonCommand(["-c","import sys;print(sys.executable)"]).then(e=>s.dirname(e)).catch(()=>""),this.getPathFromPythonCommand(["-c","from distutils.sysconfig import get_python_lib; print(get_python_lib())"]).then(e=>l.IS_WINDOWS&&e.length>0?s.join(e,".."):e).catch(()=>""),this.getPathFromPythonCommand(["-m","site","--user-site"]).catch(()=>"")];try{const t=await this.getEnvironmentVariablesProvider().getEnvironmentVariables(a.Uri.file(this.workspacePath)).then(e=>e?D.getProperty(e,"PYTHONPATH"):"").then(e=>"string"==typeof e&&e.trim().length>0?e.trim():"").then(e=>e.split(s.delimiter).filter(e=>e.trim().length>0)),n=t.filter(e=>!s.isAbsolute(e)).map(e=>s.resolve(this.workspacePath,e));return(await Promise.all(e)).concat(...t,...n).filter(e=>e.length>0)}catch(e){return _.traceError("Starlark Extension: jediProxy.filePaths",e),[]}}getEnvironmentVariablesProvider(){return this.environmentVariablesProvider||(this.environmentVariablesProvider=this.serviceContainer.get(m.IEnvironmentVariablesProvider),this.environmentVariablesProvider.onDidEnvironmentVariablesChange(this.environmentVariablesChangeHandler.bind(this))),this.environmentVariablesProvider}getConfig(){const e=this.pythonSettings.autoComplete?this.pythonSettings.autoComplete.extraPaths.map(e=>s.isAbsolute(e)?e:"string"!=typeof this.workspacePath?"":s.join(this.workspacePath,e)):[];return"string"==typeof this.workspacePath&&e.unshift(this.workspacePath),{extraPaths:e.concat(this.additionalAutoCompletePaths).filter(e=>e.length>0).filter((e,t,n)=>n.indexOf(e)===t),useSnippets:!1,caseInsensitiveCompletion:!0,showDescriptions:!0,fuzzyMatcher:!0}}safeResolve(e,t){e&&e.deferred&&e.deferred.resolve(t)}}r([p.swallowExceptions("JediProxy")],D.prototype,"onDidChangeInterpreter",null),r([p.swallowExceptions("JediProxy")],D.prototype,"environmentVariablesChangeHandler",null),r([p.swallowExceptions("JediProxy")],D.prototype,"startLanguageServer",null),t.JediProxy=D;t.JediProxyHandler=class{constructor(e){this.jediProxy=e,this.commandCancellationTokenSources=new Map}get JediProxy(){return this.jediProxy}dispose(){this.jediProxy&&this.jediProxy.dispose()}sendCommand(e,t){const n=e;if(n.id=n.id||this.jediProxy.getNextCommandId(),this.commandCancellationTokenSources.has(e.command)){const t=this.commandCancellationTokenSources.get(e.command);t&&t.cancel()}const r=new a.CancellationTokenSource;return this.commandCancellationTokenSources.set(e.command,r),n.token=r.token,this.jediProxy.sendCommand(n).catch(e=>{_.traceError(e)})}sendCommandNonCancellableCommand(e,t){const n=e;return n.id=n.id||this.jediProxy.getNextCommandId(),t&&(n.token=t),this.jediProxy.sendCommand(n).catch(e=>{_.traceError(e)})}}},function(e,t){e.exports=require("./node_modules/diff-match-patch")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(52),s=n(816),o=n(817),a=n(70),c=n(818),l=n(92);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(52));class u{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}}var d,h,p,f,m;!function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(d=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(h=t.CloseAction||(t.CloseAction={}));class g{constructor(e){this.name=e,this.restarts=[]}error(e,t,n){return n&&n<=3?d.Continue:d.Shutdown}closed(){if(this.restarts.push(Date.now()),this.restarts.length<5)return h.Restart;return this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(r.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`),h.DoNotRestart):(this.restarts.shift(),h.Restart)}}!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(p=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(f=t.State||(t.State={})),function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.StartFailed=2]="StartFailed",e[e.Running=3]="Running",e[e.Stopping=4]="Stopping",e[e.Stopped=5]="Stopped"}(m||(m={}));const y=[i.SymbolKind.File,i.SymbolKind.Module,i.SymbolKind.Namespace,i.SymbolKind.Package,i.SymbolKind.Class,i.SymbolKind.Method,i.SymbolKind.Property,i.SymbolKind.Field,i.SymbolKind.Constructor,i.SymbolKind.Enum,i.SymbolKind.Interface,i.SymbolKind.Function,i.SymbolKind.Variable,i.SymbolKind.Constant,i.SymbolKind.String,i.SymbolKind.Number,i.SymbolKind.Boolean,i.SymbolKind.Array,i.SymbolKind.Object,i.SymbolKind.Key,i.SymbolKind.Null,i.SymbolKind.EnumMember,i.SymbolKind.Struct,i.SymbolKind.Event,i.SymbolKind.Operator,i.SymbolKind.TypeParameter],v=[i.CompletionItemKind.Text,i.CompletionItemKind.Method,i.CompletionItemKind.Function,i.CompletionItemKind.Constructor,i.CompletionItemKind.Field,i.CompletionItemKind.Variable,i.CompletionItemKind.Class,i.CompletionItemKind.Interface,i.CompletionItemKind.Module,i.CompletionItemKind.Property,i.CompletionItemKind.Unit,i.CompletionItemKind.Value,i.CompletionItemKind.Enum,i.CompletionItemKind.Keyword,i.CompletionItemKind.Snippet,i.CompletionItemKind.Color,i.CompletionItemKind.File,i.CompletionItemKind.Reference,i.CompletionItemKind.Folder,i.CompletionItemKind.EnumMember,i.CompletionItemKind.Constant,i.CompletionItemKind.Struct,i.CompletionItemKind.Event,i.CompletionItemKind.Operator,i.CompletionItemKind.TypeParameter];function _(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var b;!function(e){e.is=function(e){let t=e;return t&&a.func(t.register)&&a.func(t.unregister)&&a.func(t.dispose)&&void 0!==t.messages}}(b||(b={}));class S{constructor(e,t,n,r,i,s){this._client=e,this._event=t,this._type=n,this._middleware=r,this._createParams=i,this._selectorFilter=s,this._selectors=new Map}static textDocumentFilter(e,t){for(const n of e)if(r.languages.match(n,t))return!0;return!1}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,e=>this._client.sendNotification(this._type,this._createParams(e))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class w extends S{constructor(e,t){super(e,r.workspace.onDidOpenTextDocument,i.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t),S.textDocumentFilter),this._syncedDocuments=t}get messages(){return i.DidOpenTextDocumentNotification.type}fillClientCapabilities(e){_(_(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){if(super.register(e,t),!t.registerOptions.documentSelector)return;let n=t.registerOptions.documentSelector;r.workspace.textDocuments.forEach(e=>{let t=e.uri.toString();if(!this._syncedDocuments.has(t)&&r.languages.match(n,e)){let n=this._client.clientOptions.middleware,r=e=>{this._client.sendNotification(this._type,this._createParams(e))};n.didOpen?n.didOpen(e,r):r(e),this._syncedDocuments.set(t,e)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class C extends S{constructor(e,t){super(e,r.workspace.onDidCloseTextDocument,i.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t),S.textDocumentFilter),this._syncedDocuments=t}get messages(){return i.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){_(_(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(e=>{if(r.languages.match(t,e)&&!this._selectorFilter(n,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,n):n(e)}})}}class E{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get messages(){return i.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){_(_(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==i.TextDocumentSyncKind.None&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(t.id,{documentSelector:t.registerOptions.documentSelector,syncKind:t.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(r.languages.match(t.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(t.syncKind===i.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,()=>this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t)):this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===i.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))})):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new c.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))},-1))};n.didChange?n.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}}class T extends S{constructor(e){super(e,r.workspace.onWillSaveTextDocument,i.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),(e,t)=>S.textDocumentFilter(e,t.document))}get messages(){return i.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){_(_(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}}class D{constructor(e){this._client=e,this._selectors=new Map}get messages(){return i.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){_(_(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){if(S.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,n=e=>this._client.sendRequest(i.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then(e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class P extends S{constructor(e){super(e,r.workspace.onDidSaveTextDocument,i.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),S.textDocumentFilter)}get messages(){return i.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){_(_(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.save&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{includeText:!!n.save.includeText})})}register(e,t){this._includeText=!!t.registerOptions.includeText,super.register(e,t)}}class k{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get messages(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){_(_(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e,t){if(!Array.isArray(t.registerOptions.watchers))return;let n=[];for(let e of t.registerOptions.watchers){if(!a.string(e.globPattern))continue;let t=!0,s=!0,o=!0;void 0!==e.kind&&null!==e.kind&&(t=0!=(e.kind&i.WatchKind.Create),s=0!=(e.kind&i.WatchKind.Change),o=0!=(e.kind&i.WatchKind.Delete));let c=r.workspace.createFileSystemWatcher(e.globPattern,!t,!s,!o);this.hookListeners(c,t,s,o),n.push(c)}this._watchers.set(t.id,n)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,s){t&&e.onDidCreate(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created}),null,s),n&&e.onDidChange(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed}),null,s),r&&e.onDidDelete(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted}),null,s)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}}class I{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wrong feature. Requested ${e.method} but reached feature ${this.messages.method}`);if(!t.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach(e=>{e.dispose()}),this._providers.clear()}}t.TextDocumentFeature=I;class M{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wron feature. Requested ${e.method} but reached feature ${this.messages.method}`);let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach(e=>{e.dispose()}),this._providers.clear()}}class x extends I{constructor(e){super(e,i.CompletionRequest.type)}fillClientCapabilities(e){let t=_(_(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0},t.completionItemKind={valueSet:v}}initialize(e,t){e.completionProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.completionProvider)})}registerLanguageProvider(e){let t=e.triggerCharacters||[],n=this._client,s=(e,t,r,s)=>n.sendRequest(i.CompletionRequest.type,n.code2ProtocolConverter.asCompletionParams(e,t,r),s).then(n.protocol2CodeConverter.asCompletionResult,e=>(n.logFailedRequest(i.CompletionRequest.type,e),Promise.resolve([]))),o=(e,t)=>n.sendRequest(i.CompletionResolveRequest.type,n.code2ProtocolConverter.asCompletionItem(e),t).then(n.protocol2CodeConverter.asCompletionItem,t=>(n.logFailedRequest(i.CompletionResolveRequest.type,t),Promise.resolve(e))),a=this._client.clientOptions.middleware;return r.languages.registerCompletionItemProvider(e.documentSelector,{provideCompletionItems:(e,t,n,r)=>a.provideCompletionItem?a.provideCompletionItem(e,t,r,n,s):s(e,t,r,n),resolveCompletionItem:e.resolveProvider?(e,t)=>a.resolveCompletionItem?a.resolveCompletionItem(e,t,o):o(e,t):void 0},...t)}}class A extends I{constructor(e){super(e,i.HoverRequest.type)}fillClientCapabilities(e){const t=_(_(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[i.MarkupKind.Markdown,i.MarkupKind.PlainText]}initialize(e,t){e.hoverProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.HoverRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asHover,e=>(t.logFailedRequest(i.HoverRequest.type,e),Promise.resolve(null))),s=t.clientOptions.middleware;return r.languages.registerHoverProvider(e.documentSelector,{provideHover:(e,t,r)=>s.provideHover?s.provideHover(e,t,r,n):n(e,t,r)})}}class O extends I{constructor(e){super(e,i.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=_(_(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0}}initialize(e,t){e.signatureHelpProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.signatureHelpProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.SignatureHelpRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asSignatureHelp,e=>(t.logFailedRequest(i.SignatureHelpRequest.type,e),Promise.resolve(null))),s=t.clientOptions.middleware,o=e.triggerCharacters||[];return r.languages.registerSignatureHelpProvider(e.documentSelector,{provideSignatureHelp:(e,t,r)=>s.provideSignatureHelp?s.provideSignatureHelp(e,t,r,n):n(e,t,r)},...o)}}class L extends I{constructor(e){super(e,i.DefinitionRequest.type)}fillClientCapabilities(e){let t=_(_(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){e.definitionProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.DefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(i.DefinitionRequest.type,e),Promise.resolve(null))),s=t.clientOptions.middleware;return r.languages.registerDefinitionProvider(e.documentSelector,{provideDefinition:(e,t,r)=>s.provideDefinition?s.provideDefinition(e,t,r,n):n(e,t,r)})}}class R extends I{constructor(e){super(e,i.ReferencesRequest.type)}fillClientCapabilities(e){_(_(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){e.referencesProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,s)=>t.sendRequest(i.ReferencesRequest.type,t.code2ProtocolConverter.asReferenceParams(e,n,r),s).then(t.protocol2CodeConverter.asReferences,e=>(t.logFailedRequest(i.ReferencesRequest.type,e),Promise.resolve([]))),s=t.clientOptions.middleware;return r.languages.registerReferenceProvider(e.documentSelector,{provideReferences:(e,t,r,i)=>s.provideReferences?s.provideReferences(e,t,r,i,n):n(e,t,r,i)})}}class j extends I{constructor(e){super(e,i.DocumentHighlightRequest.type)}fillClientCapabilities(e){_(_(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){e.documentHighlightProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.DocumentHighlightRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDocumentHighlights,e=>(t.logFailedRequest(i.DocumentHighlightRequest.type,e),Promise.resolve([]))),s=t.clientOptions.middleware;return r.languages.registerDocumentHighlightProvider(e.documentSelector,{provideDocumentHighlights:(e,t,r)=>s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,r,n):n(e,t,r)})}}class F extends I{constructor(e){super(e,i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=_(_(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:y},t.hierarchicalDocumentSymbolSupport=!0}initialize(e,t){e.documentSymbolProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.DocumentSymbolRequest.type,t.code2ProtocolConverter.asDocumentSymbolParams(e),n).then(e=>{if(null!==e){if(0===e.length)return[];{let n=e[0];return i.DocumentSymbol.is(n)?t.protocol2CodeConverter.asDocumentSymbols(e):t.protocol2CodeConverter.asSymbolInformations(e)}}},e=>(t.logFailedRequest(i.DocumentSymbolRequest.type,e),Promise.resolve([]))),s=t.clientOptions.middleware;return r.languages.registerDocumentSymbolProvider(e.documentSelector,{provideDocumentSymbols:(e,t)=>s.provideDocumentSymbols?s.provideDocumentSymbols(e,t,n):n(e,t)})}}class N extends M{constructor(e){super(e,i.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=_(_(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:y}}initialize(e){e.workspaceSymbolProvider&&this.register(this.messages,{id:l.generateUuid(),registerOptions:void 0})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.WorkspaceSymbolRequest.type,{query:e},n).then(t.protocol2CodeConverter.asSymbolInformations,e=>(t.logFailedRequest(i.WorkspaceSymbolRequest.type,e),Promise.resolve([]))),s=t.clientOptions.middleware;return r.languages.registerWorkspaceSymbolProvider({provideWorkspaceSymbols:(e,t)=>s.provideWorkspaceSymbols?s.provideWorkspaceSymbols(e,t,n):n(e,t)})}}class Y extends I{constructor(e){super(e,i.CodeActionRequest.type)}fillClientCapabilities(e){const t=_(_(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.codeActionLiteralSupport={codeActionKind:{valueSet:["",i.CodeActionKind.QuickFix,i.CodeActionKind.Refactor,i.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorRewrite,i.CodeActionKind.Source,i.CodeActionKind.SourceOrganizeImports]}}}initialize(e,t){if(!e.codeActionProvider||!t)return;let n=void 0;a.boolean(e.codeActionProvider)||(n=e.codeActionProvider.codeActionKinds),this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t,codeActionKinds:n}})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,s)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),context:t.code2ProtocolConverter.asCodeActionContext(r)};return t.sendRequest(i.CodeActionRequest.type,o,s).then(e=>{if(null===e)return;let n=[];for(let r of e)i.Command.is(r)?n.push(t.protocol2CodeConverter.asCommand(r)):n.push(t.protocol2CodeConverter.asCodeAction(r));return n},e=>(t.logFailedRequest(i.CodeActionRequest.type,e),Promise.resolve([])))},s=t.clientOptions.middleware;return r.languages.registerCodeActionsProvider(e.documentSelector,{provideCodeActions:(e,t,r,i)=>s.provideCodeActions?s.provideCodeActions(e,t,r,i,n):n(e,t,r,i)},e.codeActionKinds?{providedCodeActionKinds:t.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0)}}class B extends I{constructor(e){super(e,i.CodeLensRequest.type)}fillClientCapabilities(e){_(_(e,"textDocument"),"codeLens").dynamicRegistration=!0}initialize(e,t){e.codeLensProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.codeLensProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.CodeLensRequest.type,t.code2ProtocolConverter.asCodeLensParams(e),n).then(t.protocol2CodeConverter.asCodeLenses,e=>(t.logFailedRequest(i.CodeLensRequest.type,e),Promise.resolve([]))),s=(e,n)=>t.sendRequest(i.CodeLensResolveRequest.type,t.code2ProtocolConverter.asCodeLens(e),n).then(t.protocol2CodeConverter.asCodeLens,n=>(t.logFailedRequest(i.CodeLensResolveRequest.type,n),e)),o=t.clientOptions.middleware;return r.languages.registerCodeLensProvider(e.documentSelector,{provideCodeLenses:(e,t)=>o.provideCodeLenses?o.provideCodeLenses(e,t,n):n(e,t),resolveCodeLens:e.resolveProvider?(e,t)=>o.resolveCodeLens?o.resolveCodeLens(e,t,s):s(e,t):void 0})}}class H extends I{constructor(e){super(e,i.DocumentFormattingRequest.type)}fillClientCapabilities(e){_(_(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){e.documentFormattingProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),options:t.code2ProtocolConverter.asFormattingOptions(n)};return t.sendRequest(i.DocumentFormattingRequest.type,s,r).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(i.DocumentFormattingRequest.type,e),Promise.resolve([])))},s=t.clientOptions.middleware;return r.languages.registerDocumentFormattingEditProvider(e.documentSelector,{provideDocumentFormattingEdits:(e,t,r)=>s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,r,n):n(e,t,r)})}}class W extends I{constructor(e){super(e,i.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){_(_(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentRangeFormattingProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,s)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),options:t.code2ProtocolConverter.asFormattingOptions(r)};return t.sendRequest(i.DocumentRangeFormattingRequest.type,o,s).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(i.DocumentRangeFormattingRequest.type,e),Promise.resolve([])))},s=t.clientOptions.middleware;return r.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,{provideDocumentRangeFormattingEdits:(e,t,r,i)=>s.provideDocumentRangeFormattingEdits?s.provideDocumentRangeFormattingEdits(e,t,r,i,n):n(e,t,r,i)})}}class U extends I{constructor(e){super(e,i.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){_(_(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentOnTypeFormattingProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentOnTypeFormattingProvider)})}registerLanguageProvider(e){let t=this._client,n=e.moreTriggerCharacter||[],s=(e,n,r,s,o)=>{let a={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),ch:r,options:t.code2ProtocolConverter.asFormattingOptions(s)};return t.sendRequest(i.DocumentOnTypeFormattingRequest.type,a,o).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(i.DocumentOnTypeFormattingRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return r.languages.registerOnTypeFormattingEditProvider(e.documentSelector,{provideOnTypeFormattingEdits:(e,t,n,r,i)=>o.provideOnTypeFormattingEdits?o.provideOnTypeFormattingEdits(e,t,n,r,i,s):s(e,t,n,r,i)},e.firstTriggerCharacter,...n)}}class V extends I{constructor(e){super(e,i.RenameRequest.type)}fillClientCapabilities(e){let t=_(_(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0}initialize(e,t){if(!e.renameProvider||!t)return;let n=Object.assign({},{documentSelector:t});a.boolean(e.renameProvider)?n.prepareProvider=!1:n.prepareProvider=e.renameProvider.prepareProvider,this.register(this.messages,{id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,s)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),newName:r};return t.sendRequest(i.RenameRequest.type,o,s).then(t.protocol2CodeConverter.asWorkspaceEdit,e=>(t.logFailedRequest(i.RenameRequest.type,e),Promise.reject(new Error(e.message))))},s=(e,n,r)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n)};return t.sendRequest(i.PrepareRenameRequest.type,s,r).then(e=>i.Range.is(e)?t.protocol2CodeConverter.asRange(e):e&&e.range?{range:t.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:null,e=>(t.logFailedRequest(i.PrepareRenameRequest.type,e),Promise.reject(new Error(e.message))))},o=t.clientOptions.middleware;return r.languages.registerRenameProvider(e.documentSelector,{provideRenameEdits:(e,t,r,i)=>o.provideRenameEdits?o.provideRenameEdits(e,t,r,i,n):n(e,t,r,i),prepareRename:e.prepareProvider?(e,t,n)=>o.prepareRename?o.prepareRename(e,t,n,s):s(e,t,n):void 0})}}class $ extends I{constructor(e){super(e,i.DocumentLinkRequest.type)}fillClientCapabilities(e){_(_(e,"textDocument"),"documentLink").dynamicRegistration=!0}initialize(e,t){e.documentLinkProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentLinkProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.DocumentLinkRequest.type,t.code2ProtocolConverter.asDocumentLinkParams(e),n).then(t.protocol2CodeConverter.asDocumentLinks,e=>{t.logFailedRequest(i.DocumentLinkRequest.type,e),Promise.resolve(new Error(e.message))}),s=(e,n)=>t.sendRequest(i.DocumentLinkResolveRequest.type,t.code2ProtocolConverter.asDocumentLink(e),n).then(t.protocol2CodeConverter.asDocumentLink,e=>{t.logFailedRequest(i.DocumentLinkResolveRequest.type,e),Promise.resolve(new Error(e.message))}),o=t.clientOptions.middleware;return r.languages.registerDocumentLinkProvider(e.documentSelector,{provideDocumentLinks:(e,t)=>o.provideDocumentLinks?o.provideDocumentLinks(e,t,n):n(e,t),resolveDocumentLink:e.resolveProvider?(e,t)=>o.resolveDocumentLink?o.resolveDocumentLink(e,t,s):s(e,t):void 0})}}class q{constructor(e){this._client=e,this._listeners=new Map}get messages(){return i.DidChangeConfigurationNotification.type}fillClientCapabilities(e){_(_(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{section:e}})}register(e,t){let n=r.workspace.onDidChangeConfiguration(e=>{this.onDidChangeConfiguration(t.registerOptions.section,e)});this._listeners.set(t.id,n),void 0!==t.registerOptions.section&&this.onDidChangeConfiguration(t.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(void 0!==(n=a.string(e)?[e]:e)&&void 0!==t){if(!n.some(e=>t.affectsConfiguration(e)))return}let r=e=>{void 0!==e?this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}):this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null})},s=this.getMiddleware();s?s(n,r):r(n)}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let r=n[t[e]];r||(r=Object.create(null),n[t[e]]=r),n=r}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(c=a>=0?r.workspace.getConfiguration(o.substr(0,a),n).get(o.substr(a+1)):r.workspace.getConfiguration(o,n)){let n=e[s].split(".");t(i,n)[n[n.length-1]]=c}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class G{constructor(e){this._client=e,this._commands=new Map}get messages(){return i.ExecuteCommandRequest.type}fillClientCapabilities(e){_(_(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e,t){let n=this._client;if(t.registerOptions.commands){let e=[];for(const s of t.registerOptions.commands)e.push(r.commands.registerCommand(s,(...e)=>{let t={command:s,arguments:e};return n.sendRequest(i.ExecuteCommandRequest.type,t).then(void 0,e=>{n.logFailedRequest(i.ExecuteCommandRequest.type,e)})}));this._commands.set(t.id,e)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(e=>e.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(e=>e.dispose())}),this._commands.clear()}}!function(e){e.is=function(e){return e&&i.MessageReader.is(e.reader)&&i.MessageWriter.is(e.writer)}}(t.MessageTransports||(t.MessageTransports={}));class z{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}t.BaseLanguageClient=class{constructor(e,t,n){this._traceFormat=i.TraceFormat.Text,this._features=[],this._method2Message=new Map,this._dynamicFeatures=new Map,this._id=e,this._name=t,n=n||{},this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||p.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,errorHandler:n.errorHandler||new g(this._name),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this.state=m.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new z(e,t)}),this._onStop=void 0,this._telemetryEmitter=new i.Emitter,this._stateChangeEmitter=new i.Emitter,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=s.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=o.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){return this.state===m.Running?f.Running:this.state===m.Starting?f.Starting:f.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onRequest(e,t)}catch(t){throw this.error(`Registering request handler ${a.string(e)?e:e.method} failed.`,t),t}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onNotification(e,t)}catch(t){throw this.error(`Registering notification handler ${a.string(e)?e:e.method} failed.`,t),t}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=r.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(){return new g(this._name)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof i.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=p.Info&&this.outputChannel.show(!0)}warn(e,t){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=p.Warn&&this.outputChannel.show(!0)}error(e,t){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=p.Error&&this.outputChannel.show(!0)}logTrace(e,t){this.outputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.outputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.outputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.outputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===m.Initial||this.state===m.Stopping||this.state===m.Stopped}needsStop(){return this.state===m.Starting||this.state===m.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===m.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new z(e,t)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?r.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):r.languages.createDiagnosticCollection()),this.state=m.Starting,this.resolveConnection().then(e=>(e.onLogMessage(e=>{switch(e.type){case i.MessageType.Error:this.error(e.message);break;case i.MessageType.Warning:this.warn(e.message);break;case i.MessageType.Info:this.info(e.message);break;default:this.outputChannel.appendLine(e.message)}}),e.onShowMessage(e=>{switch(e.type){case i.MessageType.Error:r.window.showErrorMessage(e.message);break;case i.MessageType.Warning:r.window.showWarningMessage(e.message);break;case i.MessageType.Info:r.window.showInformationMessage(e.message);break;default:r.window.showInformationMessage(e.message)}}),e.onRequest(i.ShowMessageRequest.type,e=>{let t;switch(e.type){case i.MessageType.Error:t=r.window.showErrorMessage;break;case i.MessageType.Warning:t=r.window.showWarningMessage;break;case i.MessageType.Info:t=r.window.showInformationMessage;break;default:t=r.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)}),e.onTelemetry(e=>{this._telemetryEmitter.fire(e)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=m.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),r.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new r.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),s={processId:process.pid,rootPath:n||null,rootUri:n?this._c2p.asUri(r.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:i.Trace.toString(this._trace),workspaceFolders:null};return this.fillInitializeParams(s),e.initialize(s).then(t=>{this._resolvedConnection=e,this._initializeResult=t,this.state=m.Running;let n=void 0;return a.number(t.capabilities.textDocumentSync)?n=t.capabilities.textDocumentSync===i.TextDocumentSyncKind.None?{openClose:!1,change:i.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==t.capabilities.textDocumentSync&&null!==t.capabilities.textDocumentSync&&(n=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:n}),e.onDiagnostics(e=>this.handleDiagnostics(e)),e.onRequest(i.RegistrationRequest.type,e=>this.handleRegistrationRequest(e)),e.onRequest("client/registerFeature",e=>this.handleRegistrationRequest(e)),e.onRequest(i.UnregistrationRequest.type,e=>this.handleUnregistrationRequest(e)),e.onRequest("client/unregisterFeature",e=>this.handleUnregistrationRequest(e)),e.onRequest(i.ApplyWorkspaceEditRequest.type,e=>this.handleApplyWorkspaceEdit(e)),e.sendNotification(i.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t}).then(void 0,t=>{this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof i.ResponseError&&t.data&&t.data.retry?r.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then(n=>{n&&"retry"===n.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))}):(t&&t.message&&r.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t))})}_clientGetRootPath(){let e=r.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===m.Stopping&&this._onStop?this._onStop:(this.state=m.Stopping,this.cleanUp(),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.dispose(),this.state=m.Stopped,this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=m.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach(e=>e.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(e=>e.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let e of this._dynamicFeatures.values())e.dispose();e&&this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}notifyFileEvent(e){this._fileEvents.push(e),this._fileEventDelayer.trigger(()=>{this.onReady().then(()=>{this.resolveConnection().then(e=>{this.isConnectionActive()&&e.didChangeWatchedFiles({changes:this._fileEvents}),this._fileEvents=[]})},e=>{this.error("Notify file events failed.",e)})})}forceDocumentSync(){this._dynamicFeatures.get(i.DidChangeTextDocumentNotification.type.method).forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),r=this.clientOptions.middleware.handleDiagnostics;r?r(t,n,(e,t)=>this.setDiagnostics(e,t)):this.setDiagnostics(t,n)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,n)=>{this.handleConnectionError(e,t,n)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(n=>(function(e,t,n,r){let s=new u,o=i.createProtocolConnection(e,t,s);return o.onError(e=>{n(e[0],e[1],e[2])}),o.onClose(r),{listen:()=>o.listen(),sendRequest:(e,...t)=>o.sendRequest(a.string(e)?e:e.method,...t),onRequest:(e,t)=>o.onRequest(a.string(e)?e:e.method,t),sendNotification:(e,t)=>o.sendNotification(a.string(e)?e:e.method,t),onNotification:(e,t)=>o.onNotification(a.string(e)?e:e.method,t),trace:(e,t,n)=>{const r={sendNotification:!1,traceFormat:i.TraceFormat.Text};void 0===n?o.trace(e,t,r):(a.boolean(n),o.trace(e,t,n))},initialize:e=>o.sendRequest(i.InitializeRequest.type,e),shutdown:()=>o.sendRequest(i.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(i.ExitNotification.type),onLogMessage:e=>o.onNotification(i.LogMessageNotification.type,e),onShowMessage:e=>o.onNotification(i.ShowMessageNotification.type,e),onTelemetry:e=>o.onNotification(i.TelemetryEventNotification.type,e),didChangeConfiguration:e=>o.sendNotification(i.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>o.sendNotification(i.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>o.sendNotification(i.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>o.sendNotification(i.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>o.sendNotification(i.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>o.sendNotification(i.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>o.onNotification(i.PublishDiagnosticsNotification.type,e),dispose:()=>o.dispose()}})(n.reader,n.writer,e,t))}handleConnectionClosed(){if(this.state===m.Stopping||this.state===m.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(e){}let e=h.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===h.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state=m.Stopped,this.cleanUp(!1,!0)):e===h.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=m.Initial,this.start())}handleConnectionError(e,t,n){this._clientOptions.errorHandler.error(e,t,n)===d.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){r.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,t=!1){let n=r.workspace.getConfiguration(this._id),s=i.Trace.Off,o=i.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?s=i.Trace.fromString(e):(s=i.Trace.fromString(n.get("trace.server.verbosity","off")),o=i.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=s,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n])&&this._dynamicFeatures.get(i.DidChangeWatchedFilesNotification.type.method).registerRaw(l.generateUuid(),t)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),b.is(e)){let t=e.messages;if(Array.isArray(t))for(let n of t)this._method2Message.set(n.method,n),this._dynamicFeatures.set(n.method,e);else this._method2Message.set(t.method,t),this._dynamicFeatures.set(t.method,e)}}registerBuiltinFeatures(){this.registerFeature(new q(this)),this.registerFeature(new w(this,this._syncedDocuments)),this.registerFeature(new E(this)),this.registerFeature(new T(this)),this.registerFeature(new D(this)),this.registerFeature(new P(this)),this.registerFeature(new C(this,this._syncedDocuments)),this.registerFeature(new k(this,e=>this.notifyFileEvent(e))),this.registerFeature(new x(this)),this.registerFeature(new A(this)),this.registerFeature(new O(this)),this.registerFeature(new L(this)),this.registerFeature(new R(this)),this.registerFeature(new j(this)),this.registerFeature(new F(this)),this.registerFeature(new N(this)),this.registerFeature(new Y(this)),this.registerFeature(new B(this)),this.registerFeature(new H(this)),this.registerFeature(new W(this)),this.registerFeature(new U(this)),this.registerFeature(new V(this)),this.registerFeature(new $(this)),this.registerFeature(new G(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};_(e,"workspace").applyEdit=!0;let t=_(_(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[i.ResourceOperationKind.Create,i.ResourceOperationKind.Rename,i.ResourceOperationKind.Delete],t.failureHandling=i.FailureHandlingKind.TextOnlyTransactional,_(_(e,"textDocument"),"publishDiagnostics").relatedInformation=!0;for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let e of this._features)e.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise((t,n)=>{for(let t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const r=t.registerOptions||{};r.documentSelector=r.documentSelector||this._clientOptions.documentSelector;const i={id:t.id,registerOptions:r};e.register(this._method2Message.get(t.method),i)}t()})}handleUnregistrationRequest(e){return new Promise((t,n)=>{for(let t of e.unregisterations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}t()})}handleApplyWorkspaceEdit(e){let t=e.edit,n=new Map;r.workspace.textDocuments.forEach(e=>n.set(e.uri.toString(),e));let s=!1;if(t.documentChanges)for(const e of t.documentChanges)if(i.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){let t=n.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){s=!0;break}}return s?Promise.resolve({applied:!1}):r.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(e=>({applied:e}))}logFailedRequest(e,t){t instanceof i.ResponseError&&t.code===i.ErrorCodes.RequestCancelled||this.error(`Request ${e.method} failed.`,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class i extends r{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}function s(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=s;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return o.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return s().asHex()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2),s=n(335);class o{resolve(e){return s.isString(e)?this.__resolveString(e):s.isArray(e)?this.__resolveArray(e):s.isObject(e)?this.__resolveLiteral(e):e}resolveAny(e){return s.isString(e)?this.__resolveString(e):s.isArray(e)?this.__resolveAnyArray(e):s.isObject(e)?this.__resolveAnyLiteral(e):e}__resolveString(e){return e.replace(/\$\{(.*?)\}/g,(e,t)=>{const n=this[t];return s.isString(n)?n:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e})}__resolveLiteral(e){const t=Object.create(null);return Object.keys(e).forEach(n=>{const r=e[n];t[n]=this.resolve(r)}),t}__resolveAnyLiteral(e){const t=Object.create(null);return Object.keys(e).forEach(n=>{const r=e[n];t[n]=this.resolveAny(r)}),t}__resolveArray(e){return e.map(e=>this.__resolveString(e))}__resolveAnyArray(e){return e.map(e=>this.resolveAny(e))}}t.SystemVariables=class extends o{constructor(e,t,n,s){super();const o=n&&e?n.getWorkspaceFolder(e):void 0;this._workspaceFolder=o?o.uri.fsPath:t||__dirname,this._workspaceFolderName=r.basename(this._workspaceFolder),this._filePath=e?e.fsPath:void 0,s&&s.activeTextEditor&&(this._lineNumber=s.activeTextEditor.selection.anchor.line+1,this._selectedText=s.activeTextEditor.document.getText(new i.Range(s.activeTextEditor.selection.start,s.activeTextEditor.selection.end))),this._execPath=process.execPath,Object.keys(process.env).forEach(e=>{this[`env:${e}`]=this[`env.${e}`]=process.env[e]})}get cwd(){return this.workspaceFolder}get workspaceRoot(){return this._workspaceFolder}get workspaceFolder(){return this._workspaceFolder}get workspaceRootFolderName(){return this._workspaceFolderName}get workspaceFolderBasename(){return this._workspaceFolderName}get file(){return this._filePath}get relativeFile(){return this.file?r.relative(this._workspaceFolder,this.file):void 0}get relativeFileDirname(){return this.relativeFile?r.dirname(this.relativeFile):void 0}get fileBasename(){return this.file?r.basename(this.file):void 0}get fileBasenameNoExtension(){return this.file?r.parse(this.file).name:void 0}get fileDirname(){return this.file?r.dirname(this.file):void 0}get fileExtname(){return this.file?r.extname(this.file):void 0}get lineNumber(){return this._lineNumber}get selectedText(){return this._selectedText}get execPath(){return this._execPath}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(16),i=n(15);t.CellMatcher=class{constructor(e){this.codeMatchRegEx=this.createRegExp(e?e.codeRegularExpression:void 0,i.RegExpValues.PythonCellMarker),this.markdownMatchRegEx=this.createRegExp(e?e.markdownRegularExpression:void 0,i.RegExpValues.PythonMarkdownCellMarker),this.codeExecRegEx=new RegExp(`${this.codeMatchRegEx.source}(.*)`),this.markdownExecRegEx=new RegExp(`${this.markdownMatchRegEx.source}(.*)`)}isCell(e){return this.codeMatchRegEx.test(e)||this.markdownMatchRegEx.test(e)}isMarkdown(e){return this.markdownMatchRegEx.test(e)}isCode(e){return this.codeMatchRegEx.test(e)}getCellType(e){return this.isMarkdown(e)?"markdown":"code"}stripFirstMarker(e){const t=e.splitLines({trim:!1,removeEmptyEntries:!1});return t.length>0&&(this.isCode(t[0])||this.isMarkdown(t[0]))?t.slice(1).join("\n"):e}exec(e){let t=null;if(this.codeMatchRegEx.test(e)?(this.codeExecRegEx.lastIndex=-1,t=this.codeExecRegEx.exec(e)):this.markdownMatchRegEx.test(e)&&(this.markdownExecRegEx.lastIndex=-1,t=this.markdownExecRegEx.exec(e)),t)return t.length>1?t[t.length-1].trim():""}createRegExp(e,t){try{if(e)return new RegExp(e)}catch(e){r.noop()}return t}}},function(e,t,n){var r=n(1094),i=n(1097);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(213),a=n(2),c=n(4);n(7);const l=n(6),u=n(1),d=n(17),h=n(24),p=n(9),f=n(11);let m=class{constructor(e,t,n=!1){this.name=e,this.serviceContainer=t,this.cachePerWorkspace=n,this.promisesPerResource=new Map,this.handlersAddedToResource=new Set,this.locating=new a.EventEmitter,this._hasInterpreters=d.createDeferred(),this.cacheKeyPrefix=`INTERPRETERS_CACHE_v3_${e}`}get onLocating(){return this.locating.event}get hasInterpreters(){return this._hasInterpreters.promise}async getInterpreters(e,t){const n=this.getCacheKey(e);let r=this.promisesPerResource.get(n);if(!r||t){r=d.createDeferred(),this.promisesPerResource.set(n,r),this.addHandlersForInterpreterWatchers(n,e).ignoreErrors();const t=new h.StopWatch;this.getInterpretersImplementation(e).then(async n=>{await this.cacheInterpreters(n,e),l.traceVerbose(`Interpreters returned by ${this.name} are of count ${Array.isArray(n)?n.length:0}`),l.traceVerbose(`Interpreters returned by ${this.name} are ${JSON.stringify(n)}`),p.sendTelemetryEvent(f.EventName.PYTHON_INTERPRETER_DISCOVERY,t.elapsedTime,{locator:this.name,interpreters:Array.isArray(n)?n.length:0}),r.resolve(n)}).catch(e=>{p.sendTelemetryEvent(f.EventName.PYTHON_INTERPRETER_DISCOVERY,t.elapsedTime,{locator:this.name},e),r.reject(e)}),this.locating.fire(r.promise)}if(r.promise.then(e=>this._hasInterpreters.resolve(e.length>0)).catch(e=>this._hasInterpreters.resolve(!1)),r.completed)return r.promise;const i=t?void 0:this.getCachedInterpreters(e);return Array.isArray(i)?i:r.promise}async addHandlersForInterpreterWatchers(e,t){if(this.handlersAddedToResource.has(e))return;this.handlersAddedToResource.add(e);const n=await this.getInterpreterWatchers(t),r=this.serviceContainer.get(u.IDisposableRegistry);n.forEach(n=>{n.onDidCreate(()=>{l.Logger.verbose(`Interpreter Watcher change handler for ${this.cacheKeyPrefix}`),this.promisesPerResource.delete(e),this.getInterpreters(t).ignoreErrors()},this,r)})}async getInterpreterWatchers(e){return[]}createPersistenceStore(e){const t=this.getCacheKey(e),n=this.serviceContainer.get(u.IPersistentStateFactory);return this.cachePerWorkspace?n.createWorkspacePersistentState(t,void 0):n.createGlobalPersistentState(t,void 0)}getCachedInterpreters(e){const t=this.createPersistenceStore(e);if(Array.isArray(t.value))return t.value.map(e=>({...e,cachedEntry:!0}))}async cacheInterpreters(e,t){const n=this.createPersistenceStore(t);await n.updateValue(e)}getCacheKey(e){if(!e||!this.cachePerWorkspace)return this.cacheKeyPrefix;const t=this.serviceContainer.get(c.IWorkspaceService);if(!Array.isArray(t.workspaceFolders))return this.cacheKeyPrefix;const n=t.getWorkspaceFolder(e);return n?`${this.cacheKeyPrefix}:${o(n.uri.fsPath)}`:this.cacheKeyPrefix}};r([l.traceDecorators.verbose("Get Interpreters in CacheableLocatorService")],m.prototype,"getInterpreters",null),m=r([s.injectable(),i(0,s.unmanaged()),i(1,s.unmanaged()),i(2,s.unmanaged())],m),t.CacheableLocatorService=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITestCodeNavigatorCommandHandler=Symbol("ITestCodeNavigatorCommandHandler"),function(e){e.testFile="testFile",e.testFunction="testFunction",e.testSuite="testSuite"}(t.NavigableItemType||(t.NavigableItemType={})),t.ITestCodeNavigator=Symbol("ITestCodeNavigator"),t.ITestNavigatorHelper=Symbol("ITestNavigatorHelper"),t.ITestExplorerCommandHandler=Symbol("ITestExplorerCommandHandler")},function(e,t){e.exports=r,r.default=r,r.stable=s,r.stableStringify=s;var n=[];function r(e,t,r){!function e(t,r,i,s){var o;if("object"==typeof t&&null!==t){for(o=0;o<i.length;o++)if(i[o]===t)return s[r]="[Circular]",void n.push([s,r,t]);if(i.push(t),Array.isArray(t))for(o=0;o<t.length;o++)e(t[o],o,i,t);else{var a=Object.keys(t);for(o=0;o<a.length;o++){var c=a[o];e(t[c],c,i,t)}}i.pop()}}(e,"",[],void 0);for(var i=JSON.stringify(e,t,r);0!==n.length;){var s=n.pop();s[0][s[1]]=s[2]}return i}function i(e,t){return e<t?-1:e>t?1:0}function s(e,t,r){for(var s=function e(t,r,s,o){var a;if("object"==typeof t&&null!==t){for(a=0;a<s.length;a++)if(s[a]===t)return o[r]="[Circular]",void n.push([o,r,t]);if("function"==typeof t.toJSON)return;if(s.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,s,t);else{var c={},l=Object.keys(t).sort(i);for(a=0;a<l.length;a++){var u=l[a];e(t[u],u,s,t),c[u]=t[u]}if(void 0===o)return c;n.push([o,r,t]),o[r]=c}s.pop()}}(e,"",[],void 0)||e,o=JSON.stringify(s,t,r);0!==n.length;){var a=n.pop();a[0][a[1]]=a[2]}return o}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";const r={};function i(e,t,n){n||(n=Error);class i extends n{constructor(e,n,r){super(function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(e,n,r))}}i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map(e=>String(e)),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,n){let r;var i,o;let a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a=`The ${e} ${r} ${s(t,"type")}`;else{a=`The "${e}" ${function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument"} ${r} ${s(t,"type")}`}return a+=`. Received type ${typeof n}`},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(296),s=n(300);n(61)(l,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var c=o[a];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,n){"use strict";var r,i=n(68),s=i.Buffer,o={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(o[r]=i[r]);var a=o.Buffer={};for(r in s)s.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=s[r]);if(o.Buffer.prototype=s.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return s(e,t,n)}),a.alloc||(a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=s(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!o.kStringMaxLength)try{o.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContextKey=class{constructor(e,t){this.name=e,this.commandManager=t}async set(e){this.lastValue!==e&&(this.lastValue=e,await this.commandManager.executeCommand("setContext",this.name,this.lastValue))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(36),i=n(2),s=n(161),o=n(94),a=n(82),c=n(19);function l(e){return/^#\s*!/.test(e)?/^#\s*!\s*%%?/.test(e)?e.replace(/^#\s*!\s*/,""):e.replace(/^#\s*/,""):e}function u(e,t,n,r,i){return{data:{source:a.appendLineFeed(e,i?l:void 0),cell_type:"code",outputs:[],metadata:{},execution_count:0},id:r,file:t,line:n,state:c.CellState.init}}function d(e,t,n,r){return{id:r,file:t,line:n,state:c.CellState.finished,data:{cell_type:"markdown",source:a.generateMarkdownFromCodeLines(e),metadata:{}}}}function h(e,t,n,i,c,l){const h=t.splitLines({trim:!1}),p=h[0],f=new o.CellMatcher(e),{magicCommandsAsComments:m=!1}=e||{};if(f.isMarkdown(p)){let e=-1;return a.parseForComments(h,(e,t)=>s.noop(),(t,n)=>{t&&t.length>0&&-1===e&&(e=c?n:-1)}),e>=0?[d(h.slice(0,e),n,i,l),u(h.slice(e),n,i+e,r(),m)]:[d(h,n,i,l)]}return[u(h,n,i,l,m)]}function p(e,t){const n=new o.CellMatcher(t),r=[];for(let t=0;t<e.lineCount;t+=1){const s=e.lineAt(t);if(n.isCell(s.text)){if(r.length>0){const n=r[r.length-1];n.range=new i.Range(n.range.start,e.lineAt(t-1).range.end)}const o=n.exec(s.text);void 0!==o&&r.push({range:s.range,title:o,cell_type:n.getCellType(s.text)})}}if(r.length>=1){const t=e.lineAt(e.lineCount-1),n=r[r.length-1];n.range=new i.Range(n.range.start,t.range.end)}return r}t.generateCells=h,t.hasCells=function(e,t){const n=new o.CellMatcher(t);for(let t=0;t<e.lineCount;t+=1){const r=e.lineAt(t);if(n.isCell(r.text))return!0}return!1},t.generateCellRanges=p,t.generateCellsFromDocument=function(e,t){const n=p(e,t);return Array.prototype.concat(...n.map(n=>{const i=e.getText(n.range);return h(t,i,e.fileName,n.range.start.line,!1,r())}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(996),i=n(233),s=r.parser.yy.parseError;s=function(e,t){this.indents=[0],this.indent=0,this.dedents=0,this.brackets_count=0,s.call(this,e,t)},t.parse=function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),r.parse(e.replace(/\r/g,"")+"\n")},t.locationString=function(e){return e.last_line+":"+e.first_column+"-"+e.last_line+":"+e.last_column},t.locationContains=function(e,t){function n(e,t,n){return(e.first_line<t||e.first_line===t&&e.first_column<=n)&&(t<e.last_line||t===e.last_line&&n<=e.last_column)}return n(e,t.first_line,t.first_column)&&n(e,t.last_line,t.last_column)};function o(e){return[].concat.apply([],e)}t.MODULE="module",t.IMPORT="import",t.FROM="from",t.DECORATOR="decorator",t.DECORATE="decorate",t.DEF="def",t.PARAMETER="parameter",t.ASSIGN="assign",t.ASSERT="assert",t.PASS="pass",t.RETURN="return",t.YIELD="yield",t.RAISE="raise",t.BREAK="break",t.CONTINUE="continue",t.GLOBAL="global",t.NONLOCAL="nonlocal",t.IF="if",t.WHILE="while",t.ELSE="else",t.FOR="for",t.COMPFOR="comp_for",t.COMPIF="comp_if",t.TRY="try",t.WITH="with",t.CALL="call",t.ARG="arg",t.INDEX="index",t.SLICE="slice",t.DOT="dot",t.IFEXPR="ifexpr",t.LAMBDA="lambda",t.UNOP="unop",t.BINOP="binop",t.STARRED="starred",t.TUPLE="tuple",t.LIST="list",t.SET="set",t.DICT="dict",t.NAME="name",t.LITERAL="literal",t.CLASS="class",t.isEquivalent=function(e,t){return e&&t?i.printNode(e)===i.printNode(t):e===t},t.flatten=o,t.walk=function(e,n){return function e(n,r,i){if(!n)return console.error("Node undefined. Ancestors:",r),[];r.push(n),i&&i.onEnterNode&&i.onEnterNode(n,r);var s=[];switch(n.type){case t.MODULE:case t.DEF:case t.CLASS:s=n.code;break;case t.IF:s=[n.cond].concat(n.code).concat(n.elif?o(n.elif.map(function(e){return[e.cond].concat(e.code)})):[]).concat(n.else?[n.else]:[]);break;case t.ELSE:s=n.code;break;case t.WHILE:s=[n.cond].concat(n.code);break;case t.WITH:s=o(n.items.map(function(e){return[e.with,e.as]})).concat(n.code);break;case t.FOR:s=n.iter.concat(n.target).concat(n.code);break;case t.TRY:s=n.code.concat(o((n.excepts||[]).map(function(e){return(e.cond?[e.cond]:[]).concat(e.code)}))).concat(n.else||[]).concat(n.finally||[]);break;case t.DECORATE:s=[n.def];break;case t.LAMBDA:s=[n.code];break;case t.CALL:s=[n.func].concat(n.args.map(function(e){return e.actual}));break;case t.IFEXPR:s=[n.test,n.then,n.else];break;case t.COMPFOR:s=n.for.concat([n.in]);break;case t.UNOP:s=[n.operand];break;case t.BINOP:s=[n.left,n.right];break;case t.STARRED:s=[n.value];break;case t.SET:s=n.entries.concat(n.comp_for?n.comp_for:[]);break;case t.LIST:case t.TUPLE:s=n.items;break;case t.DICT:s=o(n.entries.map(function(e){return[e.k,e.v]})).concat(n.comp_for?n.comp_for:[]);break;case t.ASSIGN:n.sources||console.log(n),s=n.sources.concat(n.targets);break;case t.ASSERT:s=[n.cond].concat(n.err?[n.err]:[]);break;case t.DOT:s=[n.value];break;case t.INDEX:s=[n.value].concat(n.args);break;case t.SLICE:s=(n.start?[n.start]:[]).concat(n.stop?[n.stop]:[]).concat(n.step?[n.step]:[]);break;case t.COMPFOR:s=n.for.concat([n.in]);break;case t.COMPIF:s=[n.test];break;case t.YIELD:s=n.value?n.value:[];break;case t.RETURN:s=n.values?n.values:[];break;case t.RAISE:s=n.err?[n.err]:[];break;case t.IFEXPR:s=[n.test,n.then,n.else]}var a=[n];s.some(function(e){return!e})&&console.log("BAD CHILDREN",n);var c=o(s.map(function(t){return e(t,r,i)}));return a=a.concat(c),i&&i.onExitNode&&i.onExitNode(n,r),r.pop(),a}(e,[],n)}},function(e,t,n){"use strict";function r(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",s=n?"!":"",o=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return s+"Array.isArray("+t+")";case"object":return"("+s+t+i+"typeof "+t+r+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+o+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t){switch(e.length){case 1:return r(e[0],t,!0);default:var n="",i=s(e);for(var o in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(o,t,!0);return n}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var s=t[r];i[s]?n[n.length]=s:"array"===e&&"array"===s&&(n[n.length]=s)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:s,getProperty:c,escapeQuotes:l,equal:n(238),ucs2length:n(1039),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},cleanUpCode:function(e){return e.replace(u,"").replace(d,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var n=e.match(p);n&&2==n.length&&(e=t?e.replace(m,"").replace(v,_):e.replace(f,"").replace(g,y));return(n=e.match(b))&&3===n.length?e.replace(S,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},toQuotedString:w,getPathExpr:function(e,t,n,r){return T(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var r=w(n?"/"+D(t):c(t));return T(e,r)},getData:function(e,t,n){var r,i,s,o;if(""===e)return"rootData";if("/"==e[0]){if(!C.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,s="rootData"}else{if(!(o=e.match(E)))throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],"#"==(i=o[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(s="data"+(t-r||""),!i)return s}for(var a=s,l=i.split("/"),u=0;u<l.length;u++){var d=l[u];d&&(s+=c(P(d)),a+=" && "+s)}return a},unescapeFragment:function(e){return P(decodeURIComponent(e))},escapeFragment:function(e){return encodeURIComponent(D(e))},escapeJsonPointer:D};var i=s(["string","number","integer","boolean","null"]);function s(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var o=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":o.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var u=/else\s*{\s*}/g,d=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var p=/[^v\.]errors/g,f=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,g="return errors === 0;",y="validate.errors = null; return true;",v=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,_="return data;",b=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,S=/if \(rootData === undefined\) rootData = data;/;function w(e){return"'"+l(e)+"'"}var C=/^\/(?:[^~]|~0|~1)*$/,E=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function T(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function D(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function P(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41);n(7);const i=n(16),s=n(1168);function o(e,t,n,s){return class extends e{constructor(...e){if(super(...e),this.actualRole=r.Role.None,this.wantedRole=t,e.length>0){const t=e[0];this.api=t.getApi(),this.api.then(e=>{this.finishedApi=e,this.onSessionChange(e).ignoreErrors()}).ignoreErrors()}else this.api=Promise.resolve(null)}get role(){return this.actualRole}async onPeerChange(e){i.noop()}async onAttach(e){i.noop()}waitForServiceName(){return Promise.resolve(n)}onDetach(e){return e&&this.serviceFullName&&e.session&&e.session.role===r.Role.Host?e.unshareService(this.serviceFullName):Promise.resolve()}async onSessionChange(e){this.servicePromise=void 0;const t=null!==e&&e.session?e.session.role:r.Role.None;t!==this.actualRole&&(this.actualRole=t,t===this.wantedRole?this.onAttach(e).ignoreErrors():this.onDetach(e).ignoreErrors())}async waitForService(){if(this.servicePromise)return this.servicePromise;const e=await this.api;return e&&e.session.role===this.wantedRole?(this.serviceFullName=this.sanitizeServiceName(await this.waitForServiceName()),this.servicePromise=s(e,this.serviceFullName)):this.servicePromise=Promise.resolve(void 0),this.servicePromise}sanitizeServiceName(e){return e.replace(".","")}}}t.LiveShareParticipantDefault=class{constructor(...e){i.noop()}async dispose(){i.noop()}},t.LiveShareParticipantGuest=function(e,t){return o(e,r.Role.Guest,t,s.waitForGuestService)},t.LiveShareParticipantHost=function(e,t){return o(e,r.Role.Host,t,s.waitForHostService)}},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPythonPathUpdaterServiceFactory=Symbol("IPythonPathUpdaterServiceFactory"),t.IPythonPathUpdaterServiceManager=Symbol("IPythonPathUpdaterServiceManager"),t.IInterpreterSelector=Symbol("IInterpreterSelector"),t.IInterpreterComparer=Symbol("IInterpreterComparer")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(49);n(7);const a=n(6),c=n(8),l=n(1),u=n(24),d=n(9),h=n(11);var p;!function(e){e.runNextRule="runNextRule",e.exit="exit"}(p=t.NextAction||(t.NextAction={}));let f=class{constructor(e,t,n){this.ruleName=e,this.fs=t,this.stateStore=n.createGlobalPersistentState(`InterpreterAutoSeletionRule-${this.ruleName}`,void 0)}setNextRule(e){this.nextRule=e}async autoSelectInterpreter(e,t){await this.clearCachedInterpreterIfInvalid(e);const n=new u.StopWatch,r=await this.onAutoSelectInterpreter(e,t);a.traceVerbose(`Rule = ${this.ruleName}, result = ${r}`);const i=r===p.runNextRule;d.sendTelemetryEvent(h.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,{elapsedTime:n.elapsedTime},{rule:this.ruleName,identified:i}),r===p.runNextRule&&await this.next(e,t)}getPreviouslyAutoSelectedInterpreter(e){const t=this.stateStore.value;return a.traceVerbose(`Current value for rule ${this.ruleName} is ${t?JSON.stringify(t):"nothing"}`),t}async setGlobalInterpreter(e,t){if(await this.cacheSelectedInterpreter(void 0,e),!e||!t||!e.version)return!1;const n=t.getAutoSelectedInterpreter(void 0),r=n&&n.version?o.compare(e.version.raw,n.version.raw):1;return r>0?(await t.setGlobalInterpreter(e),!0):0===r}async clearCachedInterpreterIfInvalid(e){this.stateStore.value&&!await this.fs.fileExists(this.stateStore.value.path)&&(d.sendTelemetryEvent(h.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,{},{rule:this.ruleName,interpreterMissing:!0}),await this.cacheSelectedInterpreter(e,void 0))}async cacheSelectedInterpreter(e,t){const n=(t?t.path:"")===(this.stateStore.value?this.stateStore.value.path:"");d.sendTelemetryEvent(h.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,{},{rule:this.ruleName,updated:n}),await this.stateStore.updateValue(t)}async next(e,t){return a.traceVerbose(`Executing next rule from ${this.ruleName}`),this.nextRule&&t?this.nextRule.autoSelectInterpreter(e,t):void 0}};r([a.traceDecorators.verbose("autoSelectInterpreter")],f.prototype,"autoSelectInterpreter",null),r([a.traceDecorators.verbose("setGlobalInterpreter")],f.prototype,"setGlobalInterpreter",null),f=r([s.injectable(),i(0,s.unmanaged()),i(1,s.inject(c.IFileSystem)),i(2,s.inject(l.IPersistentStateFactory))],f),t.BaseRuleService=f},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=!1);var n=0,r=e.length,a="",c=0,l=16,u=0,d=0,h=0,p=0,f=0;function m(t,r){for(var i=0,s=0;i<t||!r;){var o=e.charCodeAt(n);if(o>=48&&o<=57)s=16*s+o-48;else if(o>=65&&o<=70)s=16*s+o-65+10;else{if(!(o>=97&&o<=102))break;s=16*s+o-97+10}n++,i++}return i<t&&(s=-1),s}function g(){if(a="",f=0,c=n,d=u,p=h,n>=r)return c=r,l=17;var t=e.charCodeAt(n);if(i(t)){do{n++,a+=String.fromCharCode(t),t=e.charCodeAt(n)}while(i(t));return l=15}if(s(t))return n++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,a+="\n"),u++,h=n,l=14;switch(t){case 123:return n++,l=1;case 125:return n++,l=2;case 91:return n++,l=3;case 93:return n++,l=4;case 58:return n++,l=6;case 44:return n++,l=5;case 34:return n++,a=function(){for(var t="",i=n;;){if(n>=r){t+=e.substring(i,n),f=2;break}var o=e.charCodeAt(n);if(34===o){t+=e.substring(i,n),n++;break}if(92!==o){if(o>=0&&o<=31){if(s(o)){t+=e.substring(i,n),f=2;break}f=6}n++}else{if(t+=e.substring(i,n),++n>=r){f=2;break}switch(o=e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=m(4,!0);a>=0?t+=String.fromCharCode(a):f=4;break;default:f=5}i=n}}return t}(),l=10;case 47:var g=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!s(e.charCodeAt(n));)n++;return a=e.substring(g,n),l=12}if(42===e.charCodeAt(n+1)){n+=2;for(var v=r-1,_=!1;n<v;){var b=e.charCodeAt(n);if(42===b&&47===e.charCodeAt(n+1)){n+=2,_=!0;break}n++,s(b)&&(13===b&&10===e.charCodeAt(n)&&n++,u++,h=n)}return _||(n++,f=1),a=e.substring(g,n),l=13}return a+=String.fromCharCode(t),n++,l=16;case 45:if(a+=String.fromCharCode(t),++n===r||!o(e.charCodeAt(n)))return l=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&o(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&o(e.charCodeAt(n))))return f=3,e.substring(t,n);for(n++;n<e.length&&o(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&o(e.charCodeAt(n))){for(n++;n<e.length&&o(e.charCodeAt(n));)n++;r=n}else f=3;return e.substring(t,r)}(),l=11;default:for(;n<r&&y(t);)n++,t=e.charCodeAt(n);if(c!==n){switch(a=e.substring(c,n)){case"true":return l=8;case"false":return l=9;case"null":return l=7}return l=16}return a+=String.fromCharCode(t),n++,l=16}}function y(e){if(i(e)||s(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,a="",c=0,l=16,f=0},getPosition:function(){return n},scan:t?function(){var e;do{e=g()}while(e>=12&&e<=15);return e}:g,getToken:function(){return l},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return d},getTokenStartCharacter:function(){return c-p},getTokenError:function(){return f}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function s(e){return 10===e||13===e||8232===e||8233===e}function o(e){return e>=48&&e<=57}function a(e,t,n){var i,s,o,a,u;if(t){for(a=t.offset,u=a+t.length,o=a;o>0&&!l(e,o-1);)o--;for(var d=u;d<e.length&&!l(e,d);)d++;s=e.substring(o,d),i=function(e,t){var n=0,r=0,i=t.tabSize||4;for(;n<e.length;){var s=e.charAt(n);if(" "===s)r++;else{if("\t"!==s)break;r+=i}n++}return Math.floor(r/i)}(s,n)}else s=e,i=0,o=0,a=0,u=e.length;var h,p=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),f=!1,m=0;h=n.insertSpaces?c(" ",n.tabSize||4):"\t";var g=r(s,!1),y=!1;function v(){return p+c(h,i+m)}function _(){var e=g.scan();for(f=!1;15===e||14===e;)f=f||14===e,e=g.scan();return y=16===e||0!==g.getTokenError(),e}var b=[];function S(t,n,r){!y&&n<u&&r>a&&e.substring(n,r)!==t&&b.push({offset:n,length:r-n,content:t})}var w=_();if(17!==w){var C=g.getTokenOffset()+o;S(c(h,i),o,C)}for(;17!==w;){for(var E=g.getTokenOffset()+g.getTokenLength()+o,T=_(),D="";!f&&(12===T||13===T);){S(" ",E,g.getTokenOffset()+o),E=g.getTokenOffset()+g.getTokenLength()+o,D=12===T?v():"",T=_()}if(2===T)1!==w&&(m--,D=v());else if(4===T)3!==w&&(m--,D=v());else{switch(w){case 3:case 1:m++,D=v();break;case 5:case 12:D=v();break;case 13:D=f?v():" ";break;case 6:D=" ";break;case 10:if(6===T){D="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===T||13===T?D=" ":5!==T&&17!==T&&(y=!0);break;case 16:y=!0}!f||12!==T&&13!==T||(D=v())}S(D,E,g.getTokenOffset()+o),w=T}return b}function c(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function l(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var u;function d(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=u.DEFAULT);var r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function s(e){return r.children.push(e),e}p(e,{onObjectBegin:function(e){r=s({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:function(e,t,n){(r=s({type:"property",offset:t,length:-1,parent:r,children:[]})).children.push({type:"string",value:e,offset:t,length:n,parent:r})},onObjectEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,i(e+t)},onArrayBegin:function(e,t){r=s({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,i(e+t)},onLiteralValue:function(e,t,n){s({type:f(e),offset:t,length:n,parent:r,value:e}),i(t+n)},onSeparator:function(e,t,n){"property"===r.type&&(":"===e?r.colonOffset=t:","===e&&i(t))},onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n);var o=r.children[0];return o&&delete o.parent,o}function h(e,t){if(e){for(var n=e,r=0,i=t;r<i.length;r++){var s=i[r];if("string"==typeof s){if("object"!==n.type||!Array.isArray(n.children))return;for(var o=!1,a=0,c=n.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===s){n=l.children[1],o=!0;break}}if(!o)return}else{var u=s;if("array"!==n.type||u<0||!Array.isArray(n.children)||u>=n.children.length)return;n=n.children[u]}}return n}}function p(e,t,n){void 0===n&&(n=u.DEFAULT);var i=r(e,!1);function s(e){return e?function(){return e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}function o(e){return e?function(t){return e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}var a=s(t.onObjectBegin),c=o(t.onObjectProperty),l=s(t.onObjectEnd),d=s(t.onArrayBegin),h=s(t.onArrayEnd),p=o(t.onLiteralValue),f=o(t.onSeparator),m=s(t.onComment),g=o(t.onError),y=n&&n.disallowComments,v=n&&n.allowTrailingComma;function _(){for(;;){var e=i.scan();switch(i.getTokenError()){case 4:b(14);break;case 5:b(15);break;case 3:b(13);break;case 1:y||b(11);break;case 2:b(12);break;case 6:b(16)}switch(e){case 12:case 13:y?b(10):m();break;case 16:b(1);break;case 15:case 14:break;default:return e}}}function b(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),g(e),t.length+n.length>0)for(var r=i.getToken();17!==r;){if(-1!==t.indexOf(r)){_();break}if(-1!==n.indexOf(r))break;r=_()}}function S(e){var t=i.getTokenValue();return e?p(t):c(t),_(),!0}function w(){switch(i.getToken()){case 3:return function(){d(),_();for(var e=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||b(4,[],[]),f(","),_(),4===i.getToken()&&v)break}else e&&b(6,[],[]);w()||b(4,[],[4,5]),e=!0}return h(),4!==i.getToken()?b(8,[4],[]):_(),!0}();case 1:return function(){a(),_();for(var e=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||b(4,[],[]),f(","),_(),2===i.getToken()&&v)break}else e&&b(6,[],[]);(10!==i.getToken()?(b(3,[],[2,5]),0):(S(!1),6===i.getToken()?(f(":"),_(),w()||b(4,[],[2,5])):b(5,[],[2,5]),1))||b(4,[],[2,5]),e=!0}return l(),2!==i.getToken()?b(7,[2],[]):_(),!0}();case 10:return S(!0);default:return function(){switch(i.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(i.getTokenValue()))&&(b(2),e=0)}catch(e){b(2)}p(e);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return _(),!0}()}}return _(),17===i.getToken()||(w()?(17!==i.getToken()&&b(9,[],[]),!0):(b(4,[],[]),!1))}function f(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function m(e,t,n,r,i){for(var s,o=t.slice(),a=d(e,[]),c=void 0,l=void 0;o.length>0&&(l=o.pop(),void 0===(c=h(a,o))&&void 0!==n);)"string"==typeof l?((s={})[l]=n,n=s):n=[n];if(c){if("object"===c.type&&"string"==typeof l&&Array.isArray(c.children)){var u=h(c,[l]);if(void 0!==u){if(void 0===n){if(!u.parent)throw new Error("Malformed AST");var p=c.children.indexOf(u.parent),f=void 0,m=u.parent.offset+u.parent.length;if(p>0)f=(w=c.children[p-1]).offset+w.length;else if(f=c.offset+1,c.children.length>1)m=c.children[1].offset;return g(e,{offset:f,length:m-f,content:""},r)}return g(e,{offset:u.offset,length:u.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var y=JSON.stringify(l)+": "+JSON.stringify(n),v=i?i(c.children.map(function(e){return e.children[0].value})):c.children.length,_=void 0;return g(e,_=v>0?{offset:(w=c.children[v-1]).offset+w.length,length:0,content:","+y}:0===c.children.length?{offset:c.offset+1,length:0,content:y}:{offset:c.offset+1,length:0,content:y+","},r)}if("array"===c.type&&"number"==typeof l&&Array.isArray(c.children)){if(-1===l){y=""+JSON.stringify(n),_=void 0;if(0===c.children.length)_={offset:c.offset+1,length:0,content:y};else _={offset:(w=c.children[c.children.length-1]).offset+w.length,length:0,content:","+y};return g(e,_,r)}if(void 0===n&&c.children.length>=0){var b=l,S=c.children[b];_=void 0;if(1===c.children.length)_={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===b){var w,C=(w=c.children[b-1]).offset+w.length;_={offset:C,length:c.offset+c.length-2-C,content:""}}else _={offset:S.offset,length:c.children[b+1].offset-S.offset,content:""};return g(e,_,r)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof l?"index":"property")+" to parent of type "+c.type)}if(void 0===n)throw new Error("Can not delete in empty document");return g(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(n)},r)}function g(e,t,n){var r=y(e,t),i=t.offset,s=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!l(r,i-1);)i--;for(;s<r.length&&!l(r,s);)s++}for(var o=a(r,{offset:i,length:s-i},n),c=o.length-1;c>=0;c--){var u=o[c];r=y(r,u),i=Math.min(i,u.offset),s=Math.max(s,u.offset+u.length),s+=u.content.length-u.length}return[{offset:i,length:e.length-(r.length-s)-i,content:r.substring(i,s)}]}function y(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}n.r(t),function(e){e.DEFAULT={allowTrailingComma:!1}}(u||(u={})),n.d(t,"createScanner",function(){return v}),n.d(t,"getLocation",function(){return _}),n.d(t,"parse",function(){return b}),n.d(t,"parseTree",function(){return S}),n.d(t,"findNodeAtLocation",function(){return w}),n.d(t,"findNodeAtOffset",function(){return C}),n.d(t,"getNodePath",function(){return E}),n.d(t,"getNodeValue",function(){return T}),n.d(t,"visit",function(){return D}),n.d(t,"stripComments",function(){return P}),n.d(t,"printParseErrorCode",function(){return k}),n.d(t,"format",function(){return I}),n.d(t,"modify",function(){return M}),n.d(t,"applyEdits",function(){return x});var v=r,_=function(e,t){var n=[],r=new Object,i=void 0,s={value:{},offset:0,length:0,type:"object",parent:void 0},o=!1;function a(e,t,n,r){s.value=e,s.offset=t,s.length=n,s.type=r,s.colonOffset=void 0,i=s}try{p(e,{onObjectBegin:function(e,s){if(t<=e)throw r;i=void 0,o=t>e,n.push("")},onObjectProperty:function(e,i,s){if(t<i)throw r;if(a(e,i,s,"property"),n[n.length-1]=e,t<=i+s)throw r},onObjectEnd:function(e,s){if(t<=e)throw r;i=void 0,n.pop()},onArrayBegin:function(e,s){if(t<=e)throw r;i=void 0,n.push(0)},onArrayEnd:function(e,s){if(t<=e)throw r;i=void 0,n.pop()},onLiteralValue:function(e,n,i){if(t<n)throw r;if(a(e,n,i,f(e)),t<=n+i)throw r},onSeparator:function(e,s,a){if(t<=s)throw r;if(":"===e&&i&&"property"===i.type)i.colonOffset=s,o=!1,i=void 0;else if(","===e){var c=n[n.length-1];"number"==typeof c?n[n.length-1]=c+1:(o=!0,n[n.length-1]=""),i=void 0}}})}catch(e){if(e!==r)throw e}return{path:n,previousNode:i,isAtPropertyKey:o,matches:function(e){for(var t=0,r=0;t<e.length&&r<n.length;r++)if(e[t]===n[r]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},b=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=u.DEFAULT);var r=null,i=[],s=[];function o(e){Array.isArray(i)?i.push(e):r&&(i[r]=e)}return p(e,{onObjectBegin:function(){var e={};o(e),s.push(i),i=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var e=[];o(e),s.push(i),i=e,r=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),i[0]},S=d,w=h,C=function e(t,n,r){if(void 0===r&&(r=!1),function(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}(t,n,r)){var i=t.children;if(Array.isArray(i))for(var s=0;s<i.length&&i[s].offset<=n;s++){var o=e(i[s],n,r);if(o)return o}return t}},E=function e(t){if(!t.parent||!t.parent.children)return[];var n=e(t.parent);if("property"===t.parent.type){var r=t.parent.children[0].value;n.push(r)}else if("array"===t.parent.type){var i=t.parent.children.indexOf(t);-1!==i&&n.push(i)}return n},T=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var n=Object.create(null),r=0,i=t.children;r<i.length;r++){var s=i[r],o=s.children[1];o&&(n[s.children[0].value]=e(o))}return n;case"null":case"string":case"number":case"boolean":return t.value;default:return}},D=p,P=function(e,t){var n,i,s=r(e),o=[],a=0;do{switch(i=s.getPosition(),n=s.scan()){case 12:case 13:case 17:a!==i&&o.push(e.substring(a,i)),void 0!==t&&o.push(s.getTokenValue().replace(/[^\r\n]/g,t)),a=s.getPosition()}}while(17!==n);return o.join("")};function k(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function I(e,t,n){return a(e,t,n)}function M(e,t,n,r){return m(e,t,n,r.formattingOptions,r.getInsertionIndex)}function x(e,t){for(var n=t.length-1;n>=0;n--)e=y(e,t[n]);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function s(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach(function(e){var t="Object";null!==e.implementationType&&(t=s(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)})),r},t.circularDependencyToException=function e(t){t.childRequests.forEach(function(t){if(function e(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||e(t.parentRequest,n))}(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)})},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach(function(e){n+=e.toString()+"\n"})," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(134),s=n(23),o=s.LEVEL,a=s.MESSAGE;i.enabled=!0;var c=/\s+/,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.colors&&this.addColors(t.colors),this.options=t}var t,n,s;return t=e,s=[{key:"addColors",value:function(t){var n=Object.keys(t).reduce(function(e,n){return e[n]=c.test(t[n])?t[n].split(c):t[n],e},{});return e.allColors=Object.assign({},e.allColors||{},n),e.allColors}}],(n=[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,n,r){if(void 0===r&&(r=n),!Array.isArray(e.allColors[t]))return i[e.allColors[t]](r);for(var s=0,o=e.allColors[t].length;s<o;s++)r=i[e.allColors[t][s]](r);return r}},{key:"transform",value:function(e,t){return t.all&&"string"==typeof e[a]&&(e[a]=this.colorize(e[o],e.level,e[a])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[o],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[o],e.level,e.message)),e}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=function(e){return new l(e)},e.exports.Colorizer=e.exports.Format=l},function(e,t,n){var r=n(68),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r=n(284),i=n(286);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(139),i=n(617),s=n(618),o="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:o:c&&c in Object(e)?i(e):s(e)}},function(e,t,n){var r=n(43);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(296)).Stream=r||t,t.Readable=t,t.Writable=n(300),t.Duplex=n(102),t.Transform=n(302),t.PassThrough=n(637),t.finished=n(199),t.pipeline=n(638))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GetCssRequest="get_css_request",e.GetCssResponse="get_css_response",e.GetMonacoThemeRequest="get_monaco_theme_request",e.GetMonacoThemeResponse="get_monaco_theme_response"}(t.CssMessages||(t.CssMessages={})),function(e){e.UpdateSettings="update_settings",e.Started="started"}(t.SharedMessages||(t.SharedMessages={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),i=n(205),s=function(){function e(){}return e.getCurrentContext=function(){return e.enabled?Zone.current.get("context"):null},e.generateContextObject=function(e,t,n,r){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t},customProperties:new o(r)}:null},e.runWithContext=function(t,n){e.enabled?Zone.current.fork({name:"AI-"+(t&&t.operation.parentId||"Unknown"),properties:{context:t}}).run(n):n()},e.wrapCallback=function(t){return e.enabled?Zone.current.wrap(t,"User-wrapped method"):t},e.enable=function(){if(!this.enabled)if(this.isNodeVersionCompatible()){if(!e.hasEverEnabled){this.hasEverEnabled=!0;try{"undefined"==typeof Zone&&n(677)}catch(e){r.warn("Failed to require zone.js")}i.registerContextPreservation(function(e){return Zone.current.wrap(e,"AI-ContextPreservation")}),this.patchError(),this.patchTimers(["setTimeout","setInterval"])}this.enabled=!0}else this.enabled=!1},e.disable=function(){this.enabled=!1},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.patchTimers=function(e){e.forEach(function(e){var t=global[e];global[e]=function(){var e=t.apply(this,arguments);return e.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)},e}})},e.patchError=function(){var e=global.Error;function t(){if(!(this instanceof t))return t.apply(Object.create(t.prototype),arguments);var n=e.stackRewrite;if(e.prepareStackTrace){e.stackRewrite=!1;var r=e.prepareStackTrace;e.prepareStackTrace=function(e,t){for(var n=!1,i=0;i<t.length;i++){var s=t[i].getFileName();if(s)if(-1===s.indexOf("AutoCollection/CorrelationContextManager")&&-1===s.indexOf("AutoCollection\\CorrelationContextManager")){if(n)break}else n=!0}return i=Math.max(0,i-1),n&&t.splice(0,i),r(e,t)}}if(e.apply(this,arguments),e.stackRewrite=n,this.stack&&"string"==typeof this.stack){var i=this.stack.split("\n");i.length>3&&0===i[2].trim().indexOf("at Error.AppInsightsAsyncCorrelatedErrorWrapper")&&i.splice(2,1),this.stack=i.map(function(e){var t=e.indexOf(") [");return t>-1&&(e=e.substr(0,t+1)),e}).join("\n")}for(var s=Object.getOwnPropertyNames(this).concat(Object.keys(this)),o=0;o<s.length;o++){var a=s[o],c=Zone.__symbol__(a);Object.defineProperty(this,a,{enumerable:!1}),Object.defineProperty(this,c,{enumerable:!1,writable:!0})}return this}t.prototype=e.prototype;for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r];t[i]||Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}global.Error=t},e.enabled=!1,e.hasEverEnabled=!1,e}();t.CorrelationContextManager=s;var o=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map(function(e){var t=e.split("=");return{key:t[0],value:t[1]}}).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map(function(e){return e.key+"="+e.value}).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n))r.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);else{for(var i=0;i<this.props.length;++i){var s=this.props[i];if(s.key===t)return void(s.value=n)}this.props.push({key:t,value:n})}},e.bannedCharacters=/[,=]/,e}()},function(e,t,n){"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){if(e<0)throw new Error("start must be non-negative");if(t<0)throw new Error("length must be non-negative");this.start=e,this.length=t}static fromBounds(e,t){return new r(e,t-e)}get end(){return this.start+this.length}contains(e){return e>=this.start&&e<this.end}}t.TextRange=r,r.empty=r.fromBounds(0,0),function(e){e[e.Unknown=0]="Unknown",e[e.String=1]="String",e[e.Comment=2]="Comment",e[e.Keyword=3]="Keyword",e[e.Number=4]="Number",e[e.Identifier=5]="Identifier",e[e.Operator=6]="Operator",e[e.Colon=7]="Colon",e[e.Semicolon=8]="Semicolon",e[e.Comma=9]="Comma",e[e.OpenBrace=10]="OpenBrace",e[e.CloseBrace=11]="CloseBrace",e[e.OpenBracket=12]="OpenBracket",e[e.CloseBracket=13]="CloseBracket",e[e.OpenCurly=14]="OpenCurly",e[e.CloseCurly=15]="CloseCurly"}(t.TokenType||(t.TokenType={})),function(e){e[e.CommentsAndStrings=0]="CommentsAndStrings",e[e.Full=1]="Full"}(t.TokenizerMode||(t.TokenizerMode={}))},function(e,t,n){var r=n(793);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IModuleInstaller=Symbol("IModuleInstaller"),t.IPythonInstallation=Symbol("IPythonInstallation"),t.IInstallationChannelManager=Symbol("IInstallationChannelManager"),t.IProductService=Symbol("IProductService"),t.IProductPathService=Symbol("IProductPathService"),t.INSIDERS_INSTALLER="INSIDERS_INSTALLER",t.STABLE_INSTALLER="STABLE_INSTALLER",t.IExtensionBuildInstaller=Symbol("IExtensionBuildInstaller")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(6),c=n(8),l=n(20),u=n(1),d=n(10);let h=class{constructor(e,t,n){this.serviceContainer=e,this.persistentFactory=t,this.fs=n}isWindowsStoreInterpreter(e){const t=e.toUpperCase().replace(/\//g,"\\");return t.includes("\\Microsoft\\WindowsApps\\".toUpperCase())||t.includes("\\Program Files\\WindowsApps\\".toUpperCase())||t.includes("\\Microsoft\\WindowsApps\\PythonSoftwareFoundation".toUpperCase())}isHiddenInterpreter(e){const t=e.toUpperCase().replace(/\//g,"\\");return t.includes("\\Program Files\\WindowsApps\\".toUpperCase())||t.includes("\\Microsoft\\WindowsApps\\PythonSoftwareFoundation".toUpperCase())}async getInterpreterHash(e){const t=`WINDOWS_STORE_INTERPRETER_HASH_${e}`,n=this.persistentFactory.createGlobalPersistentState(t,void 0,36e5);if(n.value)return n.value;const r=this.serviceContainer.get(l.IPythonExecutionFactory),i=await r.create({pythonPath:e}),s=await i.getExecutablePath(),a=await this.fs.getFileHash(s).catch(()=>this.fs.getFileHash(o.dirname(s)));return await n.updateValue(a),a}};r([a.traceDecorators.error("Get Windows Store Interpreter Hash")],h.prototype,"getInterpreterHash",null),h=r([s.injectable(),i(0,s.inject(d.IServiceContainer)),i(1,s.inject(u.IPersistentStateFactory)),i(2,s.inject(c.IFileSystem))],h),t.WindowsStoreInterpreter=h},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=n(64),i=n(127);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,s=8;s<this.padLength;s++)r[i++]=0;return r}},function(e,t,n){"use strict";const r=n(22).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a string, got ${typeof e}`);return r?e.replace(/^~(?=$|\/|\\)/,r):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeExecutionService=Symbol("ICodeExecutionService"),t.ICodeExecutionHelper=Symbol("ICodeExecutionHelper"),t.ICodeExecutionManager=Symbol("ICodeExecutionManager"),t.ITerminalAutoActivation=Symbol("ITerminalAutoActivation")},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.getIdentifier=e,this._items={},this.getIdentifier=e,this._items={},this.add.apply(this,t)}return Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e.prototype.add=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){return e._items[e.getIdentifier(t)]=t})},e.prototype.remove=function(e){delete this._items[this.getIdentifier(e)]},e.prototype.contains=function(e){return null!=this._items[this.getIdentifier(e)]},Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return Object.keys(this._items).map(function(t){return e._items[t]})},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){return this.size==e.size&&this.items.every(function(t){return e.contains(t)})},Object.defineProperty(e.prototype,"empty",{get:function(){return 0==Object.keys(this._items).length},enumerable:!0,configurable:!0}),e.prototype.union=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(e.bind.apply(e,[void 0,this.getIdentifier].concat((t=this.items).concat.apply(t,n.map(function(e){return e.items})))))},e.prototype.intersect=function(t){return new(e.bind.apply(e,[void 0,this.getIdentifier].concat(this.items.filter(function(e){return t.contains(e)}))))},e.prototype.filter=function(t){return new(e.bind.apply(e,[void 0,this.getIdentifier].concat(this.items.filter(t))))},e.prototype.map=function(t,n){return new(e.bind.apply(e,[void 0,t].concat(this.items.map(n))))},e.prototype.minus=function(t){return new(e.bind.apply(e,[void 0,this.getIdentifier].concat(this.items.filter(function(e){return!t.contains(e)}))))},e.prototype.take=function(){if(this.empty)throw"cannot take from an empty set";var e=parseInt(Object.keys(this._items)[0]),t=this._items[e];return this.remove(t),t},e.prototype.product=function(t){var n=this;return new(e.bind.apply(e,[void 0,function(e){var r=e[0],i=e[1];return n.getIdentifier(r)+t.getIdentifier(i)}].concat(c.apply(void 0,this.items.map(function(e){return c(t.items.map(function(t){return[e,t]}))})))))},e}();t.Set=s;var o=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,[function(e){return e}].concat(t))||this}return i(t,e),t}(s);t.StringSet=o;var a=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,[function(e){return e.toString()}].concat(t))||this}return i(t,e),t}(s);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[].concat.apply([],e)}t.NumberSet=a,t.range=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return new(a.bind.apply(a,[void 0].concat(n)))}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1025)),r(n(1026)),r(n(1027)),r(n(374)),r(n(1028)),r(n(1029))},function(e,t,n){"use strict";const r=n(134),{LEVEL:i,MESSAGE:s}=n(23);r.enabled=!0;const o=/\s+/;class a{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce((t,n)=>(t[n]=o.test(e[n])?e[n].split(o):e[n],t),{});return a.allColors=Object.assign({},a.allColors||{},t),a.allColors}addColors(e){return a.addColors(e)}colorize(e,t,n){if(void 0===n&&(n=t),!Array.isArray(a.allColors[e]))return r[a.allColors[e]](n);for(let t=0,i=a.allColors[e].length;t<i;t++)n=r[a.allColors[e][t]](n);return n}transform(e,t){return t.all&&"string"==typeof e[s]&&(e[s]=this.colorize(e[i],e.level,e[s])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new a(e),e.exports.Colorizer=e.exports.Format=a},function(e,t,n){var r=n(581);e.exports=r},function(e,t,n){"use strict";var r=n(114).Colorizer;e.exports=function(e){return r.addColors(e.colors||e),e}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(23),o=s.configs,a=s.LEVEL,c=s.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:o.npm.levels};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}var t,n,s;return t=e,s=[{key:"getLongestLevel",value:function(e){var t=Object.keys(e).map(function(e){return e.length});return Math.max.apply(Math,r(t))}},{key:"paddingForLevel",value:function(e,t,n){var r=n+1-e.length,i=Math.floor(r/t.length);return"".concat(t).concat(t.repeat(i)).slice(0,r)}},{key:"paddingForLevels",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=e.getLongestLevel(t);return Object.keys(t).reduce(function(t,i){return t[i]=e.paddingForLevel(i,n,r),t},{})}}],(n=[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[a]]).concat(e.message),e[c]&&(e[c]="".concat(this.paddings[e[a]]).concat(e[c])),e}}])&&i(t.prototype,n),s&&i(t,s),e}();e.exports=function(e){return new l(e)},e.exports.Padder=e.exports.Format=l},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,r)});default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return process.nextTick(function(){e.apply(null,i)})}}}:e.exports=process},function(e,t,n){"use strict";var r=n(137),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var s=n(193);s.inherits=n(61);var o=n(611),a=n(279);s.inherits(d,o);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(57).Symbol;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var r,i=n(619),s=(r=i)&&r.__esModule?r:{default:r};var o="function"==typeof Symbol;function a(e){return o&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return a(e)?(0,s.default)(e):e},t.isAsync=a},function(e,t,n){var r=n(289),i=n(632),s=n(116);e.exports=function(e){return s(e)?r(e):i(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";var r=n(639),i=n(647),s=n(649),o=n(27),a=n(652).isatty(1),c=process.stdout;function l(e,t){return i(e)?((t=t||{}).colors="colors"in t?t.colors:a,t.ansi=t.colors?s(e,r(e)):e,t.stream=t.stream||c,Array.isArray(t.stream)||(t.stream=[t.stream]),function(e){e instanceof Error&&(e=e.stack||e.message||e),e=[t.ansi," ",e].join(""),e=o.format.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))+"\n",t.stream.forEach(function(t){t.write(e)})}):function(){}}l.to=function(e){return c=e,l},e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INugetService=Symbol("INugetService"),t.INugetRepository=Symbol("INugetRepository")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(743);e.exports={remove:r(i),removeSync:i.sync}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(762);function i(e){switch(e){case 95:return!0;case 6277:case 6278:case 8472:case 8494:case 12443:case 12444:return!0}switch(r.getUnicodeCategory(e)){case r.UnicodeCategory.UppercaseLetter:case r.UnicodeCategory.LowercaseLetter:case r.UnicodeCategory.TitlecaseLetter:case r.UnicodeCategory.ModifierLetter:case r.UnicodeCategory.OtherLetter:case r.UnicodeCategory.LetterNumber:return!0}return!1}function s(e){return e>=48&&e<=57||95===e}t.isIdentifierStartChar=i,t.isIdentifierChar=function(e){if(i(e))return!0;switch(e){case 183:case 903:case 4969:case 4970:case 4971:case 4972:case 4973:case 4974:case 4975:case 4976:case 4977:case 6618:return!0}switch(r.getUnicodeCategory(e)){case r.UnicodeCategory.NonSpacingMark:case r.UnicodeCategory.SpacingCombiningMark:case r.UnicodeCategory.DecimalDigitNumber:case r.UnicodeCategory.ConnectorPunctuation:return!0}return!1},t.isWhiteSpace=function(e){return e<=32||8203===e},t.isLineBreak=function(e){return 13===e||10===e},t.isNumber=function(e){return e>=48&&e<=57||95===e},t.isDecimal=s,t.isHex=function(e){return s(e)||e>=97&&e<=102||e>=65&&e<=70||95===e},t.isOctal=function(e){return e>=48&&e<=55||95===e},t.isBinary=function(e){return 48===e||49===e||95===e}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(90),s=n(46),o=n(0),a=n(213),c=n(22),l=n(3),u=n(2);var d;!function(e){e[e.Delete=0]="Delete",e[e.Insert=1]="Insert",e[e.Replace=2]="Replace"}(d||(d={}));const h=c.EOL.length;class p{constructor(e,t){this.action=e,this.start=t,this.text=""}apply(){switch(this.action){case d.Insert:return u.TextEdit.insert(this.start,this.text);case d.Delete:return u.TextEdit.delete(new u.Range(this.start,this.end));case d.Replace:return u.TextEdit.replace(new u.Range(this.start,this.end),this.text);default:return new u.TextEdit(new u.Range(new u.Position(0,0),new u.Position(0,0)),"")}}}function f(e,t,r=0){let i=r,s=0;if(i>0){e.split(/\r?\n/g).filter((e,t)=>t<i).forEach(e=>s+=e.length+h)}const o=[];let a=null;for(let e=0;e<t.length;e+=1){const r=new u.Position(i,s);for(let n=0;n<t[e][1].length;n+=1)"\n"!==t[e][1][n]?s+=1:(s=0,i+=1);const c=n(90);switch(t[e][0]){case c.DIFF_DELETE:if(null===a)a=new p(d.Delete,r);else if(a.action!==d.Delete)throw new Error("cannot format due to an internal error.");a.end=new u.Position(i,s);break;case c.DIFF_INSERT:null===a?a=new p(d.Insert,r):a.action===d.Delete&&(a.action=d.Replace),i=r.line,s=r.character,a.text+=t[e][1];break;case c.DIFF_EQUAL:null!==a&&(o.push(a),a=null)}}return null!==a&&o.push(a),o}function m(e){const t=[];if(!e)return t;const r=e.split(/[\r\n]/);let s=0;const o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;for(;s<r.length;){const e=r[s].match(o);if(!e)throw new Error(`Invalid patch string: ${r[s]}`);const a=new i.diff_match_patch.patch_obj;t.push(a),a.start1=parseInt(e[1],10),""===e[2]?(a.start1-=1,a.length1=1):"0"===e[2]?a.length1=0:(a.start1-=1,a.length1=parseInt(e[2],10)),a.start2=parseInt(e[3],10),""===e[4]?(a.start2-=1,a.length2=1):"0"===e[4]?a.length2=0:(a.start2-=1,a.length2=parseInt(e[4],10)),s+=1;const c=n(90);for(;s<r.length;){const e=r[s].charAt(0);let t;try{t=r[s].substring(1)}catch(e){throw new Error("Illegal escape in patch_fromText")}if("-"===e)a.diffs.push([c.DIFF_DELETE,t]);else if("+"===e)a.diffs.push([c.DIFF_INSERT,t]);else if(" "===e)a.diffs.push([c.DIFF_EQUAL,t]);else{if("@"===e)break;if(""!==e)throw new Error(`Invalid patch mode '${e}' in: ${t}`)}s+=1}}return t}t.getTextEditsFromPatch=function(e,t){if(t.startsWith("---")&&(t=t.substring(t.indexOf("@@"))),0===t.length)return[];t=t.replace(/\\ No newline at end of file[\r\n]/,"");const r=new(n(90).diff_match_patch),i=m.call(r,t);if(!Array.isArray(i)||0===i.length)throw new Error("Unable to parse Patch string");const s=[];return i.forEach(t=>{t.diffs.forEach(e=>{e[1]+=c.EOL}),f(e,t.diffs,t.start1).forEach(e=>s.push(e.apply()))}),s},t.getWorkspaceEditsFromPatch=function(e,t){const r=new u.WorkspaceEdit;return e.forEach(e=>{const i=e.indexOf("@@");if(-1===i)return;const o=e.substring(0,i).split(/\r?\n/g).map(e=>e.trim()).filter(e=>e.length>0&&e.toLowerCase().endsWith(".py")&&e.indexOf(" a")>0);if(e.startsWith("---")&&(e=e.substring(i)),0===e.length)return;if(0===o.length)return;let a=o[0].substring(o[0].indexOf(" a")+3).trim();if(a=t&&!l.isAbsolute(a)?l.resolve(t,a):a,!s.existsSync(a))return;e=e.replace(/\\ No newline at end of file[\r\n]/,"");const h=new(n(90).diff_match_patch),p=m.call(h,e);if(!Array.isArray(p)||0===p.length)throw new Error("Unable to parse Patch string");const g=s.readFileSync(a).toString("utf8"),y=u.Uri.file(a);p.forEach(e=>{e.diffs.forEach(e=>{e[1]+=c.EOL}),f(g,e.diffs,e.start1).forEach(e=>{switch(e.action){case d.Delete:r.delete(y,new u.Range(e.start,e.end));break;case d.Insert:r.insert(y,e.start,e.text);break;case d.Replace:r.replace(y,new u.Range(e.start,e.end),e.text)}})})}),r},t.getTextEdits=function(e,t){return f(e,(new(n(90).diff_match_patch)).diff_main(e,t)).map(e=>e.apply())},t.getTempFileWithDocumentContents=function(e){return new Promise((t,n)=>{const r=l.extname(e.uri.fsPath),i=`${e.uri.fsPath}.${a(e.uri.fsPath)}${r}`;s.writeFile(i,e.getText(),e=>{e&&n(`Failed to create a temporary file, ${e.message}`),t(i)})})};let g=class{getWorkspaceEditsFromPatch(e,t,r){const i=new u.WorkspaceEdit;if(t.startsWith("---")&&(t=t.substring(t.indexOf("@@"))),0===t.length)return i;t=t.replace(/\\ No newline at end of file[\r\n]/,"");const s=new(n(90).diff_match_patch),o=m.call(s,t);if(!Array.isArray(o)||0===o.length)throw new Error("Unable to parse Patch string");return o.forEach(t=>{t.diffs.forEach(e=>{e[1]+=c.EOL}),f(e,t.diffs,t.start1).forEach(e=>{switch(e.action){case d.Delete:i.delete(r,new u.Range(e.start,e.end));break;case d.Insert:i.insert(r,e.start,e.text);break;case d.Replace:i.replace(r,new u.Range(e.start,e.end),e.text)}})}),i}};g=r([o.injectable()],g),t.EditorUtils=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),i=n(214);t.isNotInstalledError=function(e){const t=e;if("object"!=typeof e||null===e)return!1;if(e instanceof i.ModuleNotInstalledError)return!0;const n=e.message.indexOf("No module named")>=0;return"ENOENT"===t.code||127===t.code||n},t.skipIfTest=function(e){return function(t,n,i){const s=i.value;return i.value=function(...t){return r.isTestExecution()?e?Promise.resolve():void 0:s.apply(this,t)},i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(26),i=n(3),s=n(338);t.fsExistsAsync=function(e){return new Promise(t=>{r.exists(e,e=>t(e))})},t.fsReaddirAsync=function(e){return new Promise(t=>{r.readdir(e,(n,r)=>{if(n)return t([]);t(r.map(t=>i.join(e,t)))})})},t.getSubDirectories=function(e){return new Promise(t=>{r.readdir(e,(n,s)=>{if(n)return t([]);const o=[];s.forEach(t=>{const n=i.join(e,t);try{r.statSync(n).isDirectory()&&o.push(n)}catch(e){}}),t(o)})})},t.createTemporaryFile=function(e,t){const n={postfix:e};return t&&(n.dir=t),new Promise((e,t)=>{s.file(n,(n,r,i,s)=>{if(n)return t(n);e({filePath:r,cleanupCallback:s})})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59),i=n(26),s=n(49),o=n(91),a=n(2),c=n(52),l=n(819),u=n(820),d=n(821),h=n(822),p=n(823),f=n(824),m=n(825),g=n(70),y=n(826);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(91));const v="^1.30";var _,b,S,w,C,E,T;!function(e){e.is=function(e){return g.string(e.command)}}(_||(_={})),function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(b=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){let t=e;return t&&t.kind===b.socket&&g.number(t.port)}}(S||(S={})),function(e){e.is=function(e){return g.string(e.module)}}(w||(w={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(C||(C={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(E||(E={}));t.LanguageClient=class extends o.BaseLanguageClient{constructor(e,t,n,r,i){let s,o,a,c,l;g.string(t)?(s=e,o=t,a=n,c=r,l=!!i):(s=e.toLowerCase(),o=e,a=t,c=n,l=r),void 0===l&&(l=!1),super(s,o,c),this._serverOptions=a,this._forceDebug=l;try{this.checkVersion()}catch(e){throw g.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){let e=s.parse(a.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${a.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!s.satisfies(e,v))throw new Error(`The language client requires VS Code version ${v} but received version ${a.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){e&&setTimeout(()=>{try{process.kill(e.pid,0),y.terminate(e)}catch(e){}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}createMessageTransports(e){let t,n=this._serverOptions;if(g.func(n))return n().then(t=>{if(o.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(C.is(t))return this._isDetached=!!t.detached,{reader:new c.StreamMessageReader(t.reader),writer:new c.StreamMessageWriter(t.writer)};{let n;return E.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),{reader:new c.StreamMessageReader(n.stdout),writer:new c.StreamMessageWriter(n.stdin)}}});let i=n;return t=i.run||i.debug?"object"==typeof v8debug||this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some(e=>/^--debug=?/.test(e)||/^--debug-brk=?/.test(e)||/^--inspect=?/.test(e)||/^--inspect-brk=?/.test(e))}()?i.debug:i.run:n,this._getServerWorkingDir(t.options).then(i=>{if(w.is(t)&&t.module){let n=t,s=n.transport||b.stdio;if(!n.runtime){let t=void 0;return new Promise((o,a)=>{let l=n.args&&n.args.slice()||[];s===b.ipc?l.push("--node-ipc"):s===b.stdio?l.push("--stdio"):s===b.pipe?(t=c.generateRandomPipeName(),l.push(`--pipe=${t}`)):S.isSocket(s)&&l.push(`--socket=${s.port}`),l.push(`--clientProcessId=${process.pid.toString()}`);let u=n.options||Object.create(null);if(u.execArgv=u.execArgv||[],u.cwd=i,u.silent=!0,s===b.ipc||s===b.stdio){let t=r.fork(n.module,l||[],u);this._serverProcess=t,t.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),s===b.ipc?(t.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),o({reader:new c.IPCMessageReader(this._serverProcess),writer:new c.IPCMessageWriter(this._serverProcess)})):o({reader:new c.StreamMessageReader(t.stdout),writer:new c.StreamMessageWriter(t.stdin)})}else s===b.pipe?c.createClientPipeTransport(t).then(t=>{let i=r.fork(n.module,l||[],u);this._serverProcess=i,i.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),i.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),t.onConnected().then(e=>{o({reader:e[0],writer:e[1]})})}):S.isSocket(s)&&c.createClientSocketTransport(s.port).then(t=>{let i=r.fork(n.module,l||[],u);this._serverProcess=i,i.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),i.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),t.onConnected().then(e=>{o({reader:e[0],writer:e[1]})})})})}{let t=[],o=n.options||Object.create(null);o.execArgv&&o.execArgv.forEach(e=>t.push(e)),t.push(n.module),n.args&&n.args.forEach(e=>t.push(e));let a=Object.create(null);a.cwd=i,a.env=function(e){if(!e)return process.env;let t=Object.create(null);return Object.keys(process.env).forEach(e=>t[e]=process.env[e]),Object.keys(e).forEach(n=>t[n]=e[n]),t}(o.env);let l=void 0;if(s===b.ipc?(a.stdio=[null,null,null,"ipc"],t.push("--node-ipc")):s===b.stdio?t.push("--stdio"):s===b.pipe?(l=c.generateRandomPipeName(),t.push(`--pipe=${l}`)):S.isSocket(s)&&t.push(`--socket=${s.port}`),t.push(`--clientProcessId=${process.pid.toString()}`),s===b.ipc||s===b.stdio){let i=r.spawn(n.runtime,t,a);return i&&i.pid?(this._serverProcess=i,i.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),s===b.ipc?(i.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),Promise.resolve({reader:new c.IPCMessageReader(i),writer:new c.IPCMessageWriter(i)})):Promise.resolve({reader:new c.StreamMessageReader(i.stdout),writer:new c.StreamMessageWriter(i.stdin)})):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}if(s==b.pipe)return c.createClientPipeTransport(l).then(i=>{let s=r.spawn(n.runtime,t,a);return s&&s.pid?(this._serverProcess=s,s.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),s.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),i.onConnected().then(e=>({reader:e[0],writer:e[1]}))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)});if(S.isSocket(s))return c.createClientSocketTransport(s.port).then(i=>{let s=r.spawn(n.runtime,t,a);return s&&s.pid?(this._serverProcess=s,s.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),s.stdout.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),i.onConnected().then(e=>({reader:e[0],writer:e[1]}))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)})}}else if(_.is(t)&&t.command){let n=t,s=n.args||[],o=Object.assign({},n.options);o.cwd=o.cwd||i;let a=r.spawn(n.command,s,o);return a&&a.pid?(a.stderr.on("data",t=>this.outputChannel.append(g.string(t)?t:t.toString(e))),this._serverProcess=a,this._isDetached=!!o.detached,Promise.resolve({reader:new c.StreamMessageReader(a.stdout),writer:new c.StreamMessageWriter(a.stdin)})):Promise.reject(`Launching server using command ${n.command} failed.`)}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(n,null,4)))})}registerProposedFeatures(){this.registerFeatures(T.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new u.ConfigurationFeature(this)),this.registerFeature(new h.TypeDefinitionFeature(this)),this.registerFeature(new d.ImplementationFeature(this)),this.registerFeature(new l.ColorProviderFeature(this)),this.registerFeature(new p.WorkspaceFoldersFeature(this)),this.registerFeature(new f.FoldingRangeFeature(this)),this.registerFeature(new m.DeclarationFeature(this))}_mainGetRootPath(){let e=a.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(e=>{i.lstat(t,(n,r)=>{e(!n&&r.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return a.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new a.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,r=n?a.workspace.getConfiguration(t).get(n,!1):a.workspace.getConfiguration(t);r&&this._client.needsStart()?this._client.start():!r&&this._client.needsStop()&&this._client.stop()}},function(e){e.createAll=function(e){return[]}}(T=t.ProposedFeatures||(t.ProposedFeatures={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,s=n.length;i<s;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let s;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),s={dispose:()=>{this._callbacks.remove(e,t),s.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentActivationService=Symbol("IEnvironmentActivationService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.ProductNames=new Map,t.ProductNames.set(r.Product.autopep8,"autopep8"),t.ProductNames.set(r.Product.bandit,"bandit"),t.ProductNames.set(r.Product.black,"black"),t.ProductNames.set(r.Product.flake8,"flake8"),t.ProductNames.set(r.Product.mypy,"mypy"),t.ProductNames.set(r.Product.nosetest,"nosetest"),t.ProductNames.set(r.Product.pycodestyle,"pycodestyle"),t.ProductNames.set(r.Product.pylama,"pylama"),t.ProductNames.set(r.Product.prospector,"prospector"),t.ProductNames.set(r.Product.pydocstyle,"pydocstyle"),t.ProductNames.set(r.Product.pylint,"pylint-starlark"),t.ProductNames.set(r.Product.pytest,"pytest"),t.ProductNames.set(r.Product.yapf,"yapf"),t.ProductNames.set(r.Product.rope,"rope"),t.ProductNames.set(r.Product.jupyter,"jupyter")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(26),s=n(0),o=n(3),a=n(2),c=n(14),l=n(9),u=n(11),d=n(13),h=n(28),p=n(1),f=n(16);let m=class{constructor(e){this.serviceContainer=e}async installModule(e,t){l.sendTelemetryEvent(u.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:this.displayName});const n=await this.getExecutionInfo(e,t),r=this.serviceContainer.get(h.ITerminalServiceFactory).getTerminalService(t),i=await this.processInstallArgs(n.args,t);if(n.moduleName){const e=this.serviceContainer.get(p.IConfigurationService).getSettings(t),s=["-m",n.moduleName].concat(i),a=e.pythonPath,l=this.serviceContainer.get(c.IInterpreterService),u=await l.getActiveInterpreter(t);u&&u.type===c.InterpreterType.Unknown?(e.globalModuleInstallation,await this.isPathWritableAsync(o.dirname(a))?await r.sendCommand(a,s):this.elevatedInstall(a,s)):await r.sendCommand(a,s)}else await r.sendCommand(n.execPath,i)}async processInstallArgs(e,t){const n=e.findIndex(e=>"PYLINT"===e.toUpperCase());if(-1===n)return e;const r=this.serviceContainer.get(c.IInterpreterService),i=await r.getActiveInterpreter(t);if(i&&i.version&&2===i.version.major){const t=[...e];return t[n]='"pylint<2.0.0"',t}return e}async isPathWritableAsync(e){const t=`${e}${o.sep}___vscpTest___`;return new Promise(e=>{i.open(t,i.constants.O_CREAT|i.constants.O_RDWR,(n,r)=>(n||i.close(r,()=>{i.unlink(t,f.noop)}),e(!n)))})}elevatedInstall(e,t){const r=this.serviceContainer.get(p.IOutputChannel,d.STANDARD_OUTPUT_CHANNEL),i=`"${e.replace(/\\/g,"/")}" ${t.join(" ")}`;r.appendLine(""),r.appendLine(`[Elevated] ${i}`),n(870).exec(i,{name:"VS Code Python"},(e,t,n)=>{e?a.window.showErrorMessage(e):(r.show(),t&&(r.appendLine(""),r.append(t)),n&&(r.appendLine(""),r.append(`Warning: ${n}`)))})}};m=r([s.injectable()],m),t.ModuleInstaller=m},function(e,t,n){e.exports=f,f.Minimatch=m;var r={sep:"/"};try{r=n(3)}catch(e){}var i=f.GLOBSTAR=m.GLOBSTAR={},s=n(880),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",u="(?:(?!(?:\\/|^)\\.).)*?",d="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var h=/\/+/;function p(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:s(e)}f.filter=function(e,t){return t=t||{},function(n,r,i){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,i){return t.minimatch(n,r,p(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,p(e,r))},n},m.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(h)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,s=e.length;i<s&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return g(e,t)},m.prototype.braceExpand=g,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,s="",l=!!n.nocase,u=!1,h=[],p=[],f=!1,m=-1,g=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",_=this;function b(){if(r){switch(r){case"*":s+=c,l=!0;break;case"?":s+=a,l=!0;break;default:s+="\\"+r}_.debug("clearStateChar %j %j",r,s),r=!1}}for(var S,w=0,C=e.length;w<C&&(S=e.charAt(w));w++)if(this.debug("%s\t%s %s %j",e,w,s,S),u&&d[S])s+="\\"+S,u=!1;else switch(S){case"/":return!1;case"\\":b(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,w,s,S),f){this.debug("  in class"),"!"===S&&w===g+1&&(S="^"),s+=S;continue}_.debug("call clearStateChar %j",r),b(),r=S,n.noext&&b();continue;case"(":if(f){s+="(";continue}if(!r){s+="\\(";continue}h.push({type:r,start:w-1,reStart:s.length,open:o[r].open,close:o[r].close}),s+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,s),r=!1;continue;case")":if(f||!h.length){s+="\\)";continue}b(),l=!0;var E=h.pop();s+=E.close,"!"===E.type&&p.push(E),E.reEnd=s.length;continue;case"|":if(f||!h.length||u){s+="\\|",u=!1;continue}b(),s+="|";continue;case"[":if(b(),f){s+="\\"+S;continue}f=!0,g=w,m=s.length,s+=S;continue;case"]":if(w===g+1||!f){s+="\\"+S,u=!1;continue}if(f){var T=e.substring(g+1,w);try{RegExp("["+T+"]")}catch(e){var D=this.parse(T,y);s=s.substr(0,m)+"\\["+D[0]+"\\]",l=l||D[1],f=!1;continue}}l=!0,f=!1,s+=S;continue;default:b(),u?u=!1:!d[S]||"^"===S&&f||(s+="\\"),s+=S}f&&(T=e.substr(g+1),D=this.parse(T,y),s=s.substr(0,m)+"\\["+D[0],l=l||D[1]);for(E=h.pop();E;E=h.pop()){var P=s.slice(E.reStart+E.open.length);this.debug("setting tail",s,E),P=P.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",P,P,E,s);var k="*"===E.type?c:"?"===E.type?a:"\\"+E.type;l=!0,s=s.slice(0,E.reStart)+k+"\\("+P}b(),u&&(s+="\\\\");var I=!1;switch(s.charAt(0)){case".":case"[":case"(":I=!0}for(var M=p.length-1;M>-1;M--){var x=p[M],A=s.slice(0,x.reStart),O=s.slice(x.reStart,x.reEnd-8),L=s.slice(x.reEnd-8,x.reEnd),R=s.slice(x.reEnd);L+=R;var j=A.split("(").length-1,F=R;for(w=0;w<j;w++)F=F.replace(/\)[+*?]?/,"");var N="";""===(R=F)&&t!==y&&(N="$");var Y=A+O+R+N+L;s=Y}""!==s&&l&&(s="(?=.)"+s);I&&(s=v+s);if(t===y)return[s,l];if(!l)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var B=n.nocase?"i":"";try{var H=new RegExp("^"+s+"$",B)}catch(e){return new RegExp("$.")}return H._glob=e,H._src=s,H};var y={};f.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?l:u,r=t.nocase?"i":"",s=e.map(function(e){return e.map(function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new m(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(h),this.debug(this.pattern,"split",e);var i,s,o=this.set;for(this.debug(this.pattern,"set",o),s=e.length-1;s>=0&&!(i=e[s]);s--);for(s=0;s<o.length;s++){var a=o[s],c=e;n.matchBase&&1===a.length&&(c=[i]);var l=this.matchOne(c,a,t);if(l)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,c=t.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var l,u=t[o],d=e[s];if(this.debug(t,u,d),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,d]);var h=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof u?(l=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(s===a&&o===c)return!0;if(s===a)return n;if(o===c)return s===a-1&&""===e[s];throw new Error("wtf?")}},function(e,t,n){"use strict";var r=n(228),i=n(907),s=n(914),o=n(915),a=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=i.toSubscriber(e,t,n);if(r?r.call(s,this.source):s.add(this.source||!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[s.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:o.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();t.Observable=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(28),c=new Map;c.set(a.TerminalShellType.powershell,/(powershell.exe$|powershell$)/i),c.set(a.TerminalShellType.gitbash,/(gitbash.exe$)/i),c.set(a.TerminalShellType.bash,/(bash.exe$|bash$)/i),c.set(a.TerminalShellType.wsl,/(wsl.exe$)/i),c.set(a.TerminalShellType.zsh,/(zsh$)/i),c.set(a.TerminalShellType.ksh,/(ksh$)/i),c.set(a.TerminalShellType.commandPrompt,/(cmd.exe$|cmd$)/i),c.set(a.TerminalShellType.fish,/(fish$)/i),c.set(a.TerminalShellType.tcshell,/(tcsh$)/i),c.set(a.TerminalShellType.cshell,/(csh$)/i),c.set(a.TerminalShellType.powershellCore,/(pwsh.exe$|pwsh$)/i),c.set(a.TerminalShellType.xonsh,/(xonsh$)/i);let l=class{constructor(e){this.priority=e}identifyShellFromShellPath(e){const t=Array.from(c.keys()).reduce((t,n)=>{if(t===a.TerminalShellType.other){const t=c.get(n);if(t&&t.test(e))return n}return t},a.TerminalShellType.other);return o.traceVerbose(`Shell path '${e}'`),o.traceVerbose(`Shell path identified as shell '${t}'`),t}};l=r([s.injectable(),i(0,s.unmanaged())],l),t.BaseShellDetector=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=async function(e){return new Promise(t=>setTimeout(t,e))},t.noop=function(){},t.isWindows=/^win/.test(process.platform)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(15);t.JupyterInstallError=class extends Error{constructor(e,t){super(e),this.action=r.HelpLinks.PythonInteractiveHelpLink,this.actionTitle=t.format(r.HelpLinks.PythonInteractiveHelpLink)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(373),s=function(){function e(e){this.sender=e}return e.prototype.connect=function(e,t){return r.connect(this,e,t)},e.prototype.disconnect=function(e,t){return r.disconnect(this,e,t)},e.prototype.emit=function(e){r.emit(this,e)},e}();t.Signal=s,function(e){e.disconnectBetween=function(e,t){r.disconnectBetween(e,t)},e.disconnectSender=function(e){r.disconnectSender(e)},e.disconnectReceiver=function(e){r.disconnectReceiver(e)},e.disconnectAll=function(e){r.disconnectAll(e)},e.clearData=function(e){r.disconnectAll(e)},e.getExceptionHandler=function(){return r.exceptionHandler},e.setExceptionHandler=function(e){var t=r.exceptionHandler;return r.exceptionHandler=e,t}}(s=t.Signal||(t.Signal={})),t.Signal=s,function(e){e.exceptionHandler=function(e){console.error(e)},e.connect=function(e,r,i){i=i||void 0;var s=t.get(e.sender);if(s||(s=[],t.set(e.sender,s)),o(s,e,r,i))return!1;var a=i||r,c=n.get(a);c||(c=[],n.set(a,c));var l={signal:e,slot:r,thisArg:i};return s.push(l),c.push(l),!0},e.disconnect=function(e,r,i){i=i||void 0;var s=t.get(e.sender);if(!s||0===s.length)return!1;var a=o(s,e,r,i);if(!a)return!1;var l=i||r,u=n.get(l);return a.signal=null,c(s),c(u),!0},e.disconnectBetween=function(e,r){var s=t.get(e);if(s&&0!==s.length){var o=n.get(r);o&&0!==o.length&&(i.each(o,function(t){t.signal&&t.signal.sender===e&&(t.signal=null)}),c(s),c(o))}},e.disconnectSender=function(e){var r=t.get(e);r&&0!==r.length&&(i.each(r,function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,c(n.get(t))}}),c(r))},e.disconnectReceiver=function(e){var r=n.get(e);r&&0!==r.length&&(i.each(r,function(e){if(e.signal){var n=e.signal.sender;e.signal=null,c(t.get(n))}}),c(r))},e.disconnectAll=function(e){var r=t.get(e);r&&r.length>0&&(i.each(r,function(e){e.signal=null}),c(r));var s=n.get(e);s&&s.length>0&&(i.each(s,function(e){e.signal=null}),c(s))},e.emit=function(e,n){var r=t.get(e.sender);if(r&&0!==r.length)for(var i=0,s=r.length;i<s;++i){var o=r[i];o.signal===e&&a(o,n)}};var t=new WeakMap,n=new WeakMap,r=new Set,s="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function o(e,t,n,r){return i.find(e,function(e){return e.signal===t&&e.slot===n&&e.thisArg===r})}function a(t,n){var r=t.signal,i=t.slot,s=t.thisArg;try{i.call(s,r.sender,n)}catch(t){e.exceptionHandler(t)}}function c(e){0===r.size&&s(l),r.add(e)}function l(){r.forEach(u),r.clear()}function u(e){i.ArrayExt.removeAllWhere(e,d)}function d(e){return null===e.signal}}(r||(r={}))},function(e,t,n){var r=n(1084),i=n(1085),s=n(1086),o=n(1087),a=n(1088);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(512);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(95)(Object,"create");e.exports=r},function(e,t,n){var r=n(1107);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(514),i=n(515);e.exports=function(e,t,n,s){var o=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=s?s(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?i(n,l,u):r(n,l,u)}return n}},function(e,t,n){"use strict";const r=n(1194),i=n(143),s=n(247),{kStatusCode:o,NOOP:a}=n(109),c=Buffer.from([0,0,255,255]),l=Buffer.from([0]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");let m;function g(e){this[p].push(e),this[d]+=e.length}function y(e){this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload?this[p].push(e):(this[f]=new RangeError("Max payload size exceeded"),this[f][o]=1009,this.removeListener("data",y),this.reset())}function v(e){this[u]._inflate=null,e[o]=1007,this[h](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!m){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;m=new r({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(this._deflate.close(),this._deflate=null)}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{var n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){m.push(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){m.push(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const r=this._isServer?"client":"server";if(!this._inflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits:t})),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",v),this._inflate.on("data",y)}this._inflate[h]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[f];if(e)return this._inflate.close(),this._inflate=null,void n(e);const i=s.concat(this._inflate[p],this._inflate[d]);t&&this.params[`${r}_no_context_takeover`]?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[]),n(null,i)})}_compress(e,t,n){if(!e||0===e.length)return void process.nextTick(n,null,l);const r=this._isServer?"server":"client";if(!this._deflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw(Object.assign({},this._options.zlibDeflateOptions,{windowBits:t})),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("error",a),this._deflate.on("data",g)}this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(this._deflate){var e=s.concat(this._deflate[p],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),t&&this.params[`${r}_no_context_takeover`]?(this._deflate.close(),this._deflate=null):(this._deflate[d]=0,this._deflate[p]=[]),n(null,e)}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDebugSessionEventHandlers=Symbol("IDebugSessionEventHandlers"),t.IChildProcessAttachService=Symbol("IChildProcessAttachService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IVirtualEnvironmentManager=Symbol("VirtualEnvironmentManager")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPythonInPathCommandProvider=Symbol("IPythonInPathCommandProvider"),t.IPipEnvServiceHelper=Symbol("IPipEnvServiceHelper")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnacondaCompanyNames=["Anaconda, Inc.","Continuum Analytics, Inc."],t.AnacondaCompanyName="Anaconda, Inc.",t.AnacondaDisplayName="Anaconda",t.AnacondaIdentfiers=["Anaconda","Conda","Continuum"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(46),i=n(3),s=n(2),o=n(4),a=n(13);n(7);const c=n(150),l=n(6),u=n(20),d=n(1),h=n(149),p=n(221);t.BaseFormatter=class{constructor(e,t,n){this.Id=e,this.product=t,this.serviceContainer=n,this.outputChannel=n.get(d.IOutputChannel,a.STANDARD_OUTPUT_CHANNEL),this.helper=n.get(p.IFormatterHelper),this.workspace=n.get(o.IWorkspaceService)}getDocumentPath(e,t){return i.basename(e.uri.fsPath)===e.uri.fsPath?t:i.dirname(e.fileName)}getWorkspaceUri(e){const t=this.workspace.getWorkspaceFolder(e.uri);if(t)return t.uri;const n=this.workspace.workspaceFolders;return Array.isArray(n)&&n.length>0?n[0].uri:s.Uri.file(__dirname)}async provideDocumentFormattingEdits(e,t,n,r,i){"string"==typeof i&&0!==i.length||(i=this.getWorkspaceUri(e).fsPath);const s=await this.createTempFile(e);if(this.checkCancellation(e.fileName,s,n))return[];const a=this.helper.getExecutionInfo(this.product,r,e.uri);a.args.push(s);const c=this.serviceContainer.get(u.IPythonToolExecutionService).exec(a,{cwd:i,throwOnStdErr:!1,token:n},e.uri).then(e=>e.stdout).then(t=>this.checkCancellation(e.fileName,s,n)?[]:h.getTextEditsFromPatch(e.getText(),t)).catch(t=>this.checkCancellation(e.fileName,s,n)?[]:(this.handleError(this.Id,t,e.uri).catch(()=>{}),[])).then(t=>(this.deleteTempFile(e.fileName,s).ignoreErrors(),t)),l=this.serviceContainer.get(o.IApplicationShell),p=this.serviceContainer.get(d.IDisposableRegistry),f=l.setStatusBarMessage(`Formatting with ${this.Id}`,c);return p.push(f),c}async handleError(e,t,n){let r=`Formatting with ${this.Id} failed.`;if(c.isNotInstalledError(t)){const e=this.serviceContainer.get(d.IInstaller);await e.isInstalled(this.product,n)||(r+=`\nYou could either install the '${this.Id}' formatter, turn it off or use another formatter.`,e.promptToInstall(this.product,n).catch(e=>l.traceError("Starlark Extension: promptToInstall",e)))}this.outputChannel.appendLine(`\n${r}\n${t}`)}async createTempFile(e){return e.isDirty?h.getTempFileWithDocumentContents(e):e.fileName}deleteTempFile(e,t){return e!==t?r.unlink(t):Promise.resolve()}checkCancellation(e,t,n){return!(!n||!n.isCancellationRequested||(this.deleteTempFile(e,t).ignoreErrors(),0))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),i=n(259),s=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=s},function(e,t,n){"use strict";const{Colorizer:r}=n(133);e.exports=e=>(r.addColors(e.colors||e),e)},function(e,t,n){"use strict";const{configs:r,LEVEL:i,MESSAGE:s}=n(23);class o{constructor(e={levels:r.npm.levels}){this.paddings=o.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map(e=>e.length);return Math.max(...t)}static paddingForLevel(e,t,n){const r=n+1-e.length,i=Math.floor(r/t.length);return`${t}${t.repeat(i)}`.slice(0,r)}static paddingForLevels(e,t=" "){const n=o.getLongestLevel(e);return Object.keys(e).reduce((e,r)=>(e[r]=o.paddingForLevel(r,t,n),e),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[s]&&(e[s]=`${this.paddings[e[i]]}${e[s]}`),e}}e.exports=e=>new o(e),e.exports.Padder=e.exports.Format=o},function(e,t,n){"use strict";const r=n(39),{MESSAGE:i}=n(23),s=n(98);function o(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=r((e,t={})=>(e[i]=s(e,t.replacer||o,t.space),e))},function(e,t,n){"use strict";var r=n(37);e.exports=r(function(e){return e.message="\t".concat(e.message),e})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(114).Colorizer,s=n(136).Padder,o=n(23),a=o.configs,c=o.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.levels||(t.levels=a.npm.levels),this.colorizer=new i(t),this.padder=new s(t),this.options=t}var t,n,o;return t=e,(n=[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[c]="".concat(e.level,":").concat(e.message),e}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=function(e){return new l(e)},e.exports.Format=l},function(e,t,n){"use strict";var r=n(37);function i(e){if(e.every(s))return function(t){for(var n=t,r=0;r<e.length;r++)if(!(n=e[r].transform(n,e[r].options)))return!1;return n}}function s(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=r(i(t)),o=s();return o.Format=s.Format,o},e.exports.cascade=i},function(e,t,n){"use strict";var r=n(37),i=n(23).MESSAGE,s=n(98);function o(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=r(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i]=s(e,t.replacer||o,t.space),e})},function(e,t,n){"use strict";var r=n(37);e.exports=r(function(e,t){return t.message?(e.message="[".concat(t.label,"] ").concat(e.message),e):(e.label=t.label,e)})},function(e,t,n){"use strict";var r=n(37),i=n(23).MESSAGE,s=n(98);e.exports=r(function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=s(t),e})},function(e,t,n){"use strict";var r=n(37);function i(e,t,n){var r,i,s,o=t.reduce(function(t,n){return t[n]=e[n],delete e[n],t},{}),a=Object.keys(e).reduce(function(t,n){return t[n]=e[n],delete e[n],t},{});return Object.assign(e,o,(s=a,(i=n)in(r={})?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,r)),e}function s(e,t,n){return e[n]=t.reduce(function(t,n){return t[n]=e[n],delete e[n],t},{}),e}e.exports=r(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="metadata";t.key&&(n=t.key);var r=[];return t.fillExcept||t.fillWith||(r.push("level"),r.push("message")),t.fillExcept&&(r=t.fillExcept),r.length>0?i(e,r,n):t.fillWith?s(e,t.fillWith,n):e})},function(e,t,n){"use strict";var r=n(27).inspect,i=n(37),s=n(23),o=s.LEVEL,a=s.MESSAGE,c=s.SPLAT;e.exports=i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);return delete n[o],delete n[a],delete n[c],e[a]=r(n,!1,t.depth||null,t.colorize),e})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(23).MESSAGE,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}var t,n,s;return t=e,(n=[{key:"transform",value:function(e){return e[i]=this.template(e),e}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=function(e){return new s(e)},e.exports.Printf=e.exports.Format=s},function(e,t,n){"use strict";var r=n(37),i=n(23).MESSAGE,s=n(98);e.exports=r(function(e){var t=s(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),n=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?"".concat(e.level,":").concat(n," ").concat(e.message," ").concat(t):"".concat(e.level,":").concat(n," ").concat(e.message),e})},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(27),o=n(23).SPLAT,a=/%[scdjifoO%]/g,c=/%%/g,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,n,l;return t=e,(n=[{key:"_splat",value:function(e,t){var n=e.message,i=e[o]||e.splat||[],a=n.match(c),l=a&&a.length||0,u=t.length-l-i.length,d=u<0?i.splice(u,-1*u):[],h=d.length;if(h)for(var p=0;p<h;p++)Object.assign(e,d[p]);return e.message=s.format.apply(s,[n].concat(r(i))),e}},{key:"transform",value:function(e){var t=e.message,n=e[o]||e.splat;if(!n||!n.length)return e;var r=t&&t.match&&t.match(a);if(!r&&(n||n.length)){var i=n.length>1?n.splice(0):n,s=i.length;if(s)for(var c=0;c<s;c++)Object.assign(e,i[c]);return e}return r?this._splat(e,r):e}}])&&i(t.prototype,n),l&&i(t,l),e}();e.exports=function(e){return new l(e)}},function(e,t,n){"use strict";var r=n(271),i=n(37);e.exports=i(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.format&&(e.timestamp="function"==typeof t.format?t.format():r.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e})},function(e,t,n){"use strict";var r=n(134),i=n(37),s=n(23).MESSAGE;e.exports=i(function(e,t){return!1!==t.level&&(e.level=r.strip(e.level)),!1!==t.message&&(e.message=r.strip(e.message)),!1!==t.raw&&e[s]&&(e[s]=r.strip(e[s])),e})},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r},e.exports=t.default},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(285),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i&&r.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}).call(this,n(100)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){"use strict";var r=n(101).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var o=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,o||s.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,d=!0,a||s.call(t)},p=function(e){s.call(t,e)},f=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",f),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",u),!1!==n.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t){e.exports=require("string_decoder")},function(e,t,n){"use strict";var r=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};r.writable=function(e){return r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},r.readable=function(e){return r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},r.duplex=function(e){return r.writable(e)&&r.readable(e)},r.transform=function(e){return r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,n){"use strict";const r=n(67),{configs:i}=n(23);t.cli=r.levels(i.cli),t.npm=r.levels(i.npm),t.syslog=r.levels(i.syslog),t.addColors=r.levels},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,r.default)(e,(0,i.default)((0,s.default)(t)),n)};var r=o(n(657)),i=o(n(658)),s=o(n(140));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t){function n(e){for(var t in e)this[t]=e[t]}t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var s=r.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=n,s},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map(function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var r=null,i=null,s=null,o=null,a=null,c="native"===n[5];if(n[1]){var l=(s=n[1]).lastIndexOf(".");if("."==s[l-1]&&l--,l>0){r=s.substr(0,l),i=s.substr(l+1);var u=r.indexOf(".Module");u>0&&(s=s.substr(u+1),r=r.substr(0,u))}o=null}i&&(o=r,a=i),"<anonymous>"===i&&(a=null,s=null);var d={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:s,typeName:o,methodName:a,columnNumber:parseInt(n[4],10)||null,native:c};return t._createParsedCallSite(d)}}).filter(function(e){return!!e})};["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(e){n.prototype[e]=null,n.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}}),["topLevel","eval","native","constructor"].forEach(function(e){n.prototype[e]=!1,n.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}}),t._createParsedCallSite=function(e){return new n(e)}},function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL,t.IsInitialized){var r=n(663),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),s={bunyan:r.bunyan,console:r.console,mongodb:r.mongodb,mongodbCore:r.mongodbCore,mysql:r.mysql,redis:r.redis,pg:r.pg,pgPool:r.pgPool,winston:r.winston};for(var o in s)-1===i.indexOf(o)&&s[o].enable()}t.registerContextPreservation=function(e){t.IsInitialized&&n(34).channel.addContextPreservation(e)}},function(e,t,n){"use strict";var r=n(74),i=n(75),s=n(48),o=n(77),a=n(121),c=n(702),l=n(120),u=n(205),d=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),u.IsInitialized&&(n(703).enable(e,this._client),n(704).enable(e,this._client),n(705).enable(e,this._client),n(706).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;r.get;var n=r.request,s=i.request,o=function(n,r){var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];n[e.alreadyAutoCollectedFlag]=!0,n&&r&&i&&e.trackRequest(t._client,{options:r,request:n})};r.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s=n.call.apply(n,[r,e].concat(t));return o(s,e),s},i.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=s.call.apply(s,[i,e].concat(t));return o(r,e),r},r.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,s=(i=r.request).call.apply(i,[r,e].concat(t));return s.end(),s},i.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,s=(r=i.request).call.apply(r,[i,e].concat(t));return s.end(),s}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r=new c(n.options,n.request),i=l.CorrelationContextManager.getCurrentContext(),u=i&&i.operation&&i.operation.parentId+e.requestNumber+++".";if(o.canIncludeCorrelationHeader(t,r.getUrl())&&n.request.getHeader&&n.request.setHeader){if(t.config&&t.config.correlationId){var d=n.request.getHeader(a.requestContextHeader);if(d){var h=d.split(","),p=a.requestContextSourceKey+"=";h.some(function(e){return e.substring(0,p.length)===p})||n.request.setHeader(a.requestContextHeader,d+","+a.requestContextSourceKey+"="+t.config.correlationId)}else n.request.setHeader(a.requestContextHeader,a.requestContextSourceKey+"="+t.config.correlationId)}if(i&&i.operation){n.request.setHeader(a.requestIdHeader,u),n.request.setHeader(a.parentIdHeader,i.operation.id),n.request.setHeader(a.rootIdHeader,u);var f=i.customProperties.serializeToHeader();f&&n.request.setHeader(a.correlationContextHeader,f)}}n.request.on&&(n.request.on("response",function(e){r.onResponse(e);var i=r.getDependencyTelemetry(n,u);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)}),n.request.on("error",function(e){r.onError(e);var i=r.getDependencyTelemetry(n,u);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)}))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=d},function(e,t){e.exports=require("constants")},function(e,t,n){"use strict";var r=n(77),i=n(48),s=function(){function e(){}return e.queryCorrelationId=function(t,n){var s=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(s))n(e.completedLookups[s]);else if(e.pendingLookups[s])e.pendingLookups[s].push(n);else{e.pendingLookups[s]=[n];var o=function(){if(e.pendingLookups[s]){var n={method:"GET",disableAppInsightsAutoCollection:!0};i.info(e.TAG,n);var a=r.makeRequest(t,s,n,function(n){if(200===n.statusCode){var r="";n.setEncoding("utf-8"),n.on("data",function(e){r+=e}),n.on("end",function(){i.info(e.TAG,r);var t=e.correlationIdPrefix+r;e.completedLookups[s]=t,e.pendingLookups[s]&&e.pendingLookups[s].forEach(function(e){return e(t)}),delete e.pendingLookups[s]})}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[s]=void 0,delete e.pendingLookups[s]):setTimeout(o,t.correlationIdRetryIntervalMs)});a&&(a.on("error",function(t){i.warn(e.TAG,t)}),a.end())}};setTimeout(o,0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter(function(e){return e!=n}),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,i){if(t.length+n.length<e.requestIdMaxLength)return t+n+i;var s=e.requestIdMaxLength-9;if(t.length>s)for(;s>1;--s){var o=t[s-1];if("."===o||"_"===o)break}if(s<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,s)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();e.exports=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(58),s=n(0);function o(e=0,t=10){return e+function(){let e=0;const t=i.randomBytes(2);return(e=(t.readUInt8(0)<<8)+t.readUInt8(1))/(Math.pow(16,4)-1)}()*(t-e)}t.getRandomBetween=o;let a=class{getRandomInt(e=0,t=10){return o(e,t)}};a=r([s.injectable()],a),t.Random=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IApplicationDiagnostics=Symbol("IApplicationDiagnostics")},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(745);e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(328),s=n(122);function o(e,t,n){const s=e.getText(new r.Range(new r.Position(0,0),t));return(new i.Tokenizer).tokenize(s,0,s.length,n)}t.getDocumentTokens=o,t.isPositionInsideStringOrComment=function(e,t){const n=o(e,t.translate(1,0),s.TokenizerMode.CommentsAndStrings),r=e.offsetAt(t),i=n.getItemContaining(r-1);if(i>=0){const e=n.getItemAt(i);return e.type===s.TokenType.String||e.type===s.TokenType.Comment}if(r>0&&i>=0){const e=n.getItemAt(i);return e.end===r&&e.type===s.TokenType.Comment}return!1}},function(e,t,n){var r,i,s,o,a;r=n(779),i=n(333).utf8,s=n(780),o=n(333).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,d=-1732584194,h=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=a._ff,m=a._gg,g=a._hh,y=a._ii;for(p=0;p<n.length;p+=16){var v=l,_=u,b=d,S=h;l=f(l,u,d,h,n[p+0],7,-680876936),h=f(h,l,u,d,n[p+1],12,-389564586),d=f(d,h,l,u,n[p+2],17,606105819),u=f(u,d,h,l,n[p+3],22,-1044525330),l=f(l,u,d,h,n[p+4],7,-176418897),h=f(h,l,u,d,n[p+5],12,1200080426),d=f(d,h,l,u,n[p+6],17,-1473231341),u=f(u,d,h,l,n[p+7],22,-45705983),l=f(l,u,d,h,n[p+8],7,1770035416),h=f(h,l,u,d,n[p+9],12,-1958414417),d=f(d,h,l,u,n[p+10],17,-42063),u=f(u,d,h,l,n[p+11],22,-1990404162),l=f(l,u,d,h,n[p+12],7,1804603682),h=f(h,l,u,d,n[p+13],12,-40341101),d=f(d,h,l,u,n[p+14],17,-1502002290),l=m(l,u=f(u,d,h,l,n[p+15],22,1236535329),d,h,n[p+1],5,-165796510),h=m(h,l,u,d,n[p+6],9,-1069501632),d=m(d,h,l,u,n[p+11],14,643717713),u=m(u,d,h,l,n[p+0],20,-373897302),l=m(l,u,d,h,n[p+5],5,-701558691),h=m(h,l,u,d,n[p+10],9,38016083),d=m(d,h,l,u,n[p+15],14,-660478335),u=m(u,d,h,l,n[p+4],20,-405537848),l=m(l,u,d,h,n[p+9],5,568446438),h=m(h,l,u,d,n[p+14],9,-1019803690),d=m(d,h,l,u,n[p+3],14,-187363961),u=m(u,d,h,l,n[p+8],20,1163531501),l=m(l,u,d,h,n[p+13],5,-1444681467),h=m(h,l,u,d,n[p+2],9,-51403784),d=m(d,h,l,u,n[p+7],14,1735328473),l=g(l,u=m(u,d,h,l,n[p+12],20,-1926607734),d,h,n[p+5],4,-378558),h=g(h,l,u,d,n[p+8],11,-2022574463),d=g(d,h,l,u,n[p+11],16,1839030562),u=g(u,d,h,l,n[p+14],23,-35309556),l=g(l,u,d,h,n[p+1],4,-1530992060),h=g(h,l,u,d,n[p+4],11,1272893353),d=g(d,h,l,u,n[p+7],16,-155497632),u=g(u,d,h,l,n[p+10],23,-1094730640),l=g(l,u,d,h,n[p+13],4,681279174),h=g(h,l,u,d,n[p+0],11,-358537222),d=g(d,h,l,u,n[p+3],16,-722521979),u=g(u,d,h,l,n[p+6],23,76029189),l=g(l,u,d,h,n[p+9],4,-640364487),h=g(h,l,u,d,n[p+12],11,-421815835),d=g(d,h,l,u,n[p+15],16,530742520),l=y(l,u=g(u,d,h,l,n[p+2],23,-995338651),d,h,n[p+0],6,-198630844),h=y(h,l,u,d,n[p+7],10,1126891415),d=y(d,h,l,u,n[p+14],15,-1416354905),u=y(u,d,h,l,n[p+5],21,-57434055),l=y(l,u,d,h,n[p+12],6,1700485571),h=y(h,l,u,d,n[p+3],10,-1894986606),d=y(d,h,l,u,n[p+10],15,-1051523),u=y(u,d,h,l,n[p+1],21,-2054922799),l=y(l,u,d,h,n[p+8],6,1873313359),h=y(h,l,u,d,n[p+15],10,-30611744),d=y(d,h,l,u,n[p+6],15,-1560198380),u=y(u,d,h,l,n[p+13],21,1309151649),l=y(l,u,d,h,n[p+4],6,-145523070),h=y(h,l,u,d,n[p+11],10,-1120210379),d=y(d,h,l,u,n[p+2],15,718787259),u=y(u,d,h,l,n[p+9],21,-343485551),l=l+v>>>0,u=u+_>>>0,d=d+b>>>0,h=h+S>>>0}return r.endian([l,u,d,h])})._ff=function(e,t,n,r,i,s,o){var a=e+(t&n|~t&r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._gg=function(e,t,n,r,i,s,o){var a=e+(t&r|n&~r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._hh=function(e,t,n,r,i,s,o){var a=e+(t^n^r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._ii=function(e,t,n,r,i,s,o){var a=e+(n^(t|~r))+(i>>>0)+o;return(a<<s|a>>>32-s)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ModuleNotInstalledError=class extends Error{constructor(e){super(`Module '${e}' not installed.`)}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){"use strict";!function(t){var n,r=/^[$_a-z][$_a-z0-9]*$/i;function i(e){var t,n,i,s,o,a,c,l={},u=0,d="",h=!1;for(t=0;t<e.length;++t)if(n=e[t],s=(i=e[t+1])+e[t+2],d+=n,"\\"===n)if(h||"k<"!==s)d+=i,++t;else{if((o=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named backreference.");if(!(c=l[a=e.substring(t+3,o)]))throw new Error("Named group '"+a+"' is not defined in backreference.");if("number"!=typeof c)throw new Error("Named backreference referencing duplicate named group '"+a+"'.");t=o,d+=c}else if(h)"]"===n&&(h=!1);else if("["===n)h=!0;else if("("===n&&"?:"!==s&&"?="!==s&&"?!"!==s&&(u++,"?<"===s||":<"===s)){if((o=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named group.");if(a=e.substring(t+3,o),!r.test(a))throw new Error("Invalide group name '"+a+"'. Regexp group name should start with '_$a-zA-Z' and can contain only '_$a-zA-Z0-9'.");void 0===(c=l[a])?l[a]=u:"number"==typeof c?l[a]=[c,u]:c.push(u),t=o}return{mapper:l,regexText:d}}e.exports=function(e,t){if("boolean"!=typeof e){"string"!=typeof e&&(t=(e.global?"g":"")+(e.multiline?"m":"")+(e.ignoreCase?"i":""),e=e.source);var r=n?n[e]||(n[e]=i(e)):i(e),s=new RegExp(r.regexText,t);return s.groupsIndices=r.mapper,s.exec=function(e){var t=RegExp.prototype.exec.call(this,e);return t&&o(t),t},s.execGroups=function(e,t){var n=this.exec(e);return n?n.groups(t):null},s.replace=function(e,t){if("function"==typeof t)return e.replace(s,function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-2);return o(e),t.apply(e,arguments)});var n=function(e,t){var n,r,i,s,o,a,c="";for(n=0;n<e.length;++n)if(r=e[n],i=e[n+1],c+=r,"$"===r)if("$"===i)c+=i,++n;else if("{"===i){if((o=e.indexOf("}",n+2))<0)throw new Error("'>' missing in replacement named group.");if(void 0===(a=t[s=e.substring(n+2,o)]))throw new Error("Named group '"+s+"' is not defined in replacement text.");if("number"!=typeof a)throw new Error("Named replacement referencing duplicate named group '"+s+"'.");c+=a,n=o}return c}(t,this.groupsIndices);return e.replace(this,n)},s}function o(e){var t,n,i=r.mapper;return e.group=function(t,n){var r=i[t];if("number"==typeof r)return e[r];if(n)return r.map(function(t){return e[t]});if(r)for(var s=0;s<r.length;++s){var o=e[r[s]];if(void 0!==o)return o}},e.groups=function(r){var s=r?n:t;if(s)return s;for(var o in s={},i)s[o]=e.group(o,r);return r?n=s:t=s},e}!1===e?n=void 0:n||(n={})}}("undefined"==typeof window||window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(153),i=n(124);let s=8192,o=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0],c="\r\n";class l{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(s)}append(e){var t=e;if("string"==typeof e){var n=e,r=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(r)).write(n,0,r,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/s)+1)*s;0===this.index?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==o||this.buffer[t+1]!==a||this.buffer[t+2]!==o||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(c).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class u{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=u;class d extends u{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new l(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=d;t.IPCMessageReader=class extends u{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends d{constructor(e,t="utf-8"){super(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(153),i=n(124);let s="Content-Length: ",o="\r\n";!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a;t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[s,n.toString(),o,o];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[s,n.toString(),o,o];try{this.sending=!0,this.socket.write(r.join(""),"ascii",n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(n){this.handleError(n,e)}})}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDotNetCompatibilityService=Symbol("IDotNetCompatibilityService"),t.IOSDotNetCompatibilityService=Symbol("IOSDotNetCompatibilityService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseDiagnosticCommand=class{constructor(e){this.diagnostic=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFormatterHelper=Symbol("IFormatterHelper")},function(e,t,n){e.exports=_;var r=n(26),i=n(346),s=n(158),o=(s.Minimatch,n(61)),a=n(56).EventEmitter,c=n(3),l=n(146),u=n(223),d=n(883),h=n(347),p=(h.alphasort,h.alphasorti,h.setopts),f=h.ownProp,m=n(884),g=(n(27),h.childrenIgnored),y=h.isIgnored,v=n(349);function _(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new S(e,t,n)}_.sync=d;var b=_.GlobSync=d.GlobSync;function S(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof S))return new S(e,t,n);p(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var s=!0,o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,a);function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}s=!1}_.glob=_,_.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new S(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},_.Glob=S,o(S,a),S.prototype._finish=function(){if(l(this instanceof S),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},S.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},S.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),s=this,o=r.length;if(0===o)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=s._makeAbs(n),i.realpath(n,s.realpathCache,function(r,i){r?"stat"===r.syscall?a[n]=!0:s.emit("error",r):a[i]=!0,0==--o&&(s.matches[e]=a,t())})})},S.prototype._mark=function(e){return h.mark(this,e)},S.prototype._makeAbs=function(e){return h.makeAbs(this,e)},S.prototype.abort=function(){this.aborted=!0,this.emit("abort")},S.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},S.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},S.prototype._process=function(e,t,n,r){if(l(this instanceof S),l("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,o).join("/")}var a,c=e.slice(o);null===i?a=".":u(i)||u(e.join("/"))?(i&&u(i)||(i="/"+i),a=i):a=i;var d=this._makeAbs(a);if(g(this,a))return r();c[0]===s.GLOBSTAR?this._processGlobStar(i,a,d,c,t,n,r):this._processReaddir(i,a,d,c,t,n,r)}},S.prototype._processReaddir=function(e,t,n,r,i,s,o){var a=this;this._readdir(n,s,function(c,l){return a._processReaddir2(e,t,n,r,i,s,l,o)})},S.prototype._processReaddir2=function(e,t,n,r,i,s,o,a){if(!o)return a();for(var l=r[0],u=!!this.minimatch.negate,d=l._glob,h=this.dot||"."===d.charAt(0),p=[],f=0;f<o.length;f++){if("."!==(g=o[f]).charAt(0)||h)(u&&!e?!g.match(l):g.match(l))&&p.push(g)}var m=p.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(f=0;f<m;f++){var g=p[f];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(i,g)}return a()}r.shift();for(f=0;f<m;f++){g=p[f];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,s,a)}a()},S.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},S.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=m("lstat\0"+e,function(r,i){if(r&&"ENOENT"===r.code)return t();var s=i&&i.isSymbolicLink();n.symlinks[e]=s,s||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});i&&r.lstat(e,i)}},S.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},S.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},S.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},S.prototype._processGlobStar=function(e,t,n,r,i,s,o){var a=this;this._readdir(n,s,function(c,l){a._processGlobStar2(e,t,n,r,i,s,l,o)})},S.prototype._processGlobStar2=function(e,t,n,r,i,s,o,a){if(!o)return a();var c=r.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,i,!1,a);var d=this.symlinks[n],h=o.length;if(d&&s)return a();for(var p=0;p<h;p++){if("."!==o[p].charAt(0)||this.dot){var f=l.concat(o[p],c);this._process(f,i,!0,a);var m=l.concat(o[p],r);this._process(m,i,!0,a)}}a()},S.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(i,s){r._processSimple2(e,t,i,s,n)})},S.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&u(e)&&!this.nomount){var s=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),s&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},S.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var s=this.cache[n];if(Array.isArray(s)&&(s="DIR"),!i||"DIR"===s)return t(null,s);if(i&&"FILE"===s)return t()}var o=this.statCache[n];if(void 0!==o){if(!1===o)return t(null,o);var a=o.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,o)}var c=this,l=m("stat\0"+n,function(i,s){if(s&&s.isSymbolicLink())return r.stat(n,function(r,i){r?c._stat2(e,n,null,s,t):c._stat2(e,n,r,i,t)});c._stat2(e,n,i,s,t)});l&&r.lstat(n,l)},S.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var s="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var o=!0;return r&&(o=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,s&&"FILE"===o?i():i(null,o,r)}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(49);t.parseVersion=function(e){e=e.replace(/\.00*(?=[1-9]|0\.)/,".");const t=r.coerce(e);return null!==t&&r.valid(t)?t:new r.SemVer("0.0.0")},t.parsePythonVersion=function(e){if(!e||0===e.trim().length)return;const t=(e||"").split(".").map(e=>e.trim()).filter(e=>e.length>0).filter((e,t)=>t<4);if(t.length>0&&t[t.length-1].indexOf("-")>0){const e=t[t.length-1];t[t.length-1]=e.split("-")[0].trim(),t.push(e.split("-")[1].trim())}for(;t.length<4;)t.push("");for(let e=0;e<3;e+=1)t[e]=/^\d+$/.test(t[e])?t[e]:"0";-1===["alpha","beta","candidate","final"].indexOf(t[3])&&t.pop();const n=`${t[0]}.${t[1]}.${t[2]}`,i=4===t.length?`${n}-${t[3]}`:n;return new r.SemVer(i)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(35),o=n(8);var a;!function(e){e.x86="x86",e.x64="x64"}(a||(a={}));let c=class{async getKeys(e,t,r){return async function(e){const t=n(226);return new Promise(n=>{new t(e).keys((e,t)=>{if(e||!Array.isArray(t))return n([]);n(t.filter(e=>"string"==typeof e.key).map(e=>e.key))})})}({hive:u(t),arch:l(r),key:e})}async getValue(e,t,r,i=""){return async function(e,t=""){const r=n(226);return new Promise(n=>{new r(e).get(t,(e,t)=>{if(e||!t||"string"!=typeof t.value)return n(void 0);n(t.value)})})}({hive:u(t),arch:l(r),key:e},i)}};function l(e){switch(e){case s.Architecture.x86:return a.x86;case s.Architecture.x64:return a.x64;default:return}}function u(e){const t=n(226);switch(e){case o.RegistryHive.HKCU:return t.HKCU;case o.RegistryHive.HKLM:return t.HKLM;default:return}}c=r([i.injectable()],c),t.RegistryImplementation=c,t.getArchitectureDisplayName=function(e){switch(e){case s.Architecture.x64:return"64-bit";case s.Architecture.x86:return"32-bit";default:return""}}},function(e,t,n){var r=n(27),i=n(3),s=n(59).spawn,o="HKLM",a=[o,"HKCU","HKCR","HKU","HKCC"],c=["REG_SZ","REG_MULTI_SZ","REG_EXPAND_SZ","REG_DWORD","REG_QWORD","REG_BINARY","REG_NONE"],l=/(\\[a-zA-Z0-9_\s]+)*/,u=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,d=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function h(e,t){if(!(this instanceof h))return new h(e,t);Error.captureStackTrace(this,h),this.__defineGetter__("name",function(){return h.name}),this.__defineGetter__("message",function(){return e}),this.__defineGetter__("code",function(){return t})}function p(e){var t={stdout:"",stderr:""};return e.stdout.on("data",function(e){t.stdout+=e.toString()}),e.stderr.on("data",function(e){t.stderr+=e.toString()}),t}function f(e,t,n){var i=n.stdout.trim(),s=n.stderr.trim();return new h(r.format("%s command exited with code %d:\n%s\n%s",e,t,i,s),t)}function m(e,t){t&&e.push("/reg:"+function(e){if("x64"==e)return"64";if("x86"==e)return"32";throw new Error("illegal architecture: "+e+" (use x86 or x64)")}(t))}function g(){return"win32"===process.platform?i.join(process.env.windir,"system32","reg.exe"):"REG"}function y(e,t,n,r,i,s,o){if(!(this instanceof y))return new y(e,t,n,r,i,s,o);var a=e,c=t,l=n,u=r,d=i,h=s,p=o;this.__defineGetter__("host",function(){return a}),this.__defineGetter__("hive",function(){return c}),this.__defineGetter__("key",function(){return l}),this.__defineGetter__("name",function(){return u}),this.__defineGetter__("type",function(){return d}),this.__defineGetter__("value",function(){return h}),this.__defineGetter__("arch",function(){return p})}function v(e){if(!(this instanceof v))return new v(e);var t=e||{},n=""+(t.host||""),r=""+(t.hive||o),i=""+(t.key||""),s=t.arch||null;if(this.__defineGetter__("host",function(){return n}),this.__defineGetter__("hive",function(){return r}),this.__defineGetter__("key",function(){return i}),this.__defineGetter__("path",function(){return(0==n.length?"":"\\\\"+n+"\\")+r+i}),this.__defineGetter__("arch",function(){return s}),this.__defineGetter__("parent",function(){var e=i.lastIndexOf("\\");return new v({host:this.host,hive:this.hive,key:-1==e?"":i.substring(0,e),arch:this.arch})}),-1==a.indexOf(r))throw new Error("illegal hive specified.");if(!l.test(i))throw new Error("illegal key specified.");if(s&&"x64"!=s&&"x86"!=s)throw new Error("illegal architecture specified (use x86 or x64)")}r.inherits(h,Error),r.inherits(y,Object),v.HKLM=o,v.HKCU="HKCU",v.HKCR="HKCR",v.HKU="HKU",v.HKCC="HKCC",v.HIVES=a,v.REG_SZ="REG_SZ",v.REG_MULTI_SZ="REG_MULTI_SZ",v.REG_EXPAND_SZ="REG_EXPAND_SZ",v.REG_DWORD="REG_DWORD",v.REG_QWORD="REG_QWORD",v.REG_BINARY="REG_BINARY",v.REG_NONE="REG_NONE",v.REG_TYPES=c,v.DEFAULT_VALUE="",v.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];m(t,this.arch);var n=s(g(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,o=null,a=p(n);return n.on("close",function(t){if(!o)if(0!==t)e(f("QUERY",t,a),null);else{for(var n=[],s=[],c=r.split("\n"),l=0,u=0,h=c.length;u<h;u++){var p=c[u].trim();p.length>0&&(0!=l&&n.push(p),++l)}for(u=0,h=n.length;u<h;u++){var m,g,v,_=d.exec(n[u]);_&&(m=_[1].trim(),g=_[2].trim(),v=_[3],s.push(new y(i.host,i.hive,i.key,m,g,v,i.arch)))}e(null,s)}}),n.stdout.on("data",function(e){r+=e.toString()}),n.on("error",function(t){o=t,e(t)}),this},v.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];m(t,this.arch);var n=s(g(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,o=null,a=p(n);return n.on("close",function(t){o||0!==t&&e(f("QUERY",t,a),null)}),n.stdout.on("data",function(e){r+=e.toString()}),n.stdout.on("end",function(){for(var t=[],n=[],s=r.split("\n"),o=0,a=s.length;o<a;o++){var c=s[o].trim();c.length>0&&t.push(c)}for(o=0,a=t.length;o<a;o++){var l,d=u.exec(t[o]);d&&(d[1],(l=d[2])&&l!==i.key&&n.push(new v({host:i.host,hive:i.hive,key:l,arch:i.arch})))}e(null,n)}),n.on("error",function(t){o=t,e(t)}),this},v.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=["QUERY",this.path];""==e?n.push("/ve"):n=n.concat(["/v",e]),m(n,this.arch);var r=s(g(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",o=this,a=null,c=p(r);return r.on("close",function(e){if(!a)if(0!==e)t(f("QUERY",e,c),null);else{for(var n=[],r=null,s=i.split("\n"),l=0,u=0,h=s.length;u<h;u++){var p=s[u].trim();p.length>0&&(0!=l&&n.push(p),++l)}var m,g,v,_=n[n.length-1]||"",b=d.exec(_);b&&(m=b[1].trim(),g=b[2].trim(),v=b[3],r=new y(o.host,o.hive,o.key,m,g,v,o.arch)),t(null,r)}}),r.stdout.on("data",function(e){i+=e.toString()}),r.on("error",function(e){a=e,t(e)}),this},v.prototype.set=function(e,t,n,r){if("function"!=typeof r)throw new TypeError("must specify a callback");if(-1==c.indexOf(t))throw Error("illegal type specified.");var i=["ADD",this.path];""==e?i.push("/ve"):i=i.concat(["/v",e]),m(i=i.concat(["/t",t,"/d",n,"/f"]),this.arch);var o=s(g(),i,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),a=null,l=p(o);return o.on("close",function(e){a||r(0!==e?f("ADD",e,l):null)}),o.stdout.on("data",function(e){}),o.on("error",function(e){a=e,r(e)}),this},v.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];m(n,this.arch);var r=s(g(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,o=p(r);return r.on("close",function(e){i||(0!==e?t(f("DELETE",e,o),null):t(null))}),r.stdout.on("data",function(e){}),r.on("error",function(e){i=e,t(e)}),this},v.prototype.clear=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"];m(t,this.arch);var n=s(g(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=p(n);return n.on("close",function(t){r||(0!==t?e(f("DELETE",t,i),null):e(null))}),n.stdout.on("data",function(e){}),n.on("error",function(t){r=t,e(t)}),this},v.prototype.erase=v.prototype.clear,v.prototype.destroy=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f"];m(t,this.arch);var n=s(g(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=p(n);return n.on("close",function(t){r||(0!==t?e(f("DELETE",t,i),null):e(null))}),n.stdout.on("data",function(e){}),n.on("error",function(t){r=t,e(t)}),this},v.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"];m(t,this.arch);var n=s(g(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=p(n);return n.on("close",function(t){r||(0!==t?e(f("ADD",t,i),null):e(null))}),n.stdout.on("data",function(e){}),n.on("error",function(t){r=t,e(t)}),this},v.prototype.keyExists=function(e){return this.values(function(t,n){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)}),this},v.prototype.valueExists=function(e,t){return this.get(e,function(e,n){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)}),this},e.exports=v},function(e){e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},function(e,t,n){"use strict";var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,s="undefined"!=typeof global&&global,o=r||s||i;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionChannelRule=Symbol("IExtensionChannelRule"),t.IExtensionChannelService=Symbol("IExtensionChannelService"),t.IInsiderExtensionPrompt=Symbol("IInsiderExtensionPrompt"),function(e){e.off="off",e.weekly="weekly",e.daily="daily"}(t.ExtensionChannel||(t.ExtensionChannel={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(22);n(7);const a=n(12),c=n(10),l=n(9),u=n(11),d=n(4),h=n(13),p=n(8),f=n(20),m=n(28),g=n(1),y=n(156),v=n(125);var _=n(1);t.Product=_.Product;const b="darwin"===o.platform()?"brew install ctags":"sudo apt-get install exuberant-ctags";class S{constructor(e,t){this.serviceContainer=e,this.outputChannel=t,this.appShell=e.get(d.IApplicationShell),this.configService=e.get(g.IConfigurationService),this.workspaceService=e.get(d.IWorkspaceService),this.productService=e.get(v.IProductService)}promptToInstall(e,t){const n=t?this.workspaceService.getWorkspaceFolder(t):void 0,r=`${e}${n?n.uri.fsPath:""}`;if(S.PromptPromises.has(r))return S.PromptPromises.get(r);const i=this.promptToInstallImplementation(e,t);return S.PromptPromises.set(r,i),i.then(()=>S.PromptPromises.delete(r)).ignoreErrors(),i.catch(()=>S.PromptPromises.delete(r)).ignoreErrors(),i}async install(e,t){if(e===g.Product.unittest)return g.InstallerResponse.Installed;const n=this.serviceContainer.get(v.IInstallationChannelManager),r=await n.getInstallationChannel(e,t);if(!r)return g.InstallerResponse.Ignore;const i=I(e,g.ModuleNamePurpose.install),s=this.serviceContainer.get(g.ILogger);return await r.installModule(i,t).catch(s.logError.bind(s,`Error in installing the module '${i}'`)),this.isInstalled(e,t).then(e=>e?g.InstallerResponse.Installed:g.InstallerResponse.Ignore)}async isInstalled(e,t){if(e===g.Product.unittest||e===g.Product.jupyter)return!0;const n=this.getExecutableNameFromSettings(e,t);if(this.isExecutableAModule(e,t)){return(await this.serviceContainer.get(f.IPythonExecutionFactory).create({resource:t})).isModuleInstalled(n)}return(await this.serviceContainer.get(f.IProcessServiceFactory).create(t)).exec(n,["--version"],{mergeStdOutErr:!0}).then(()=>!0).catch(()=>!1)}getExecutableNameFromSettings(e,t){const n=this.productService.getProductType(e);return this.serviceContainer.get(v.IProductPathService,n).getExecutableNameFromSettings(e,t)}isExecutableAModule(e,t){const n=this.productService.getProductType(e);return this.serviceContainer.get(v.IProductPathService,n).isExecutableAModule(e,t)}}t.BaseInstaller=S,S.PromptPromises=new Map;class w extends S{constructor(e,t){super(e,t)}async install(e,t){if(this.serviceContainer.get(p.IPlatformService).isWindows)this.outputChannel.appendLine("Install Universal Ctags Win32 to enable support for Workspace Symbols"),this.outputChannel.appendLine("Download the CTags binary from the Universal CTags site."),this.outputChannel.appendLine("Option 1: Extract ctags.exe from the downloaded zip to any folder within your PATH so that Visual Studio Code can run it."),this.outputChannel.appendLine("Option 2: Extract to any folder and add the path to this folder to the command setting."),this.outputChannel.appendLine("Option 3: Extract to any folder and define that path in the python.workspaceSymbols.ctagsPath setting of your user settings file (settings.json)."),this.outputChannel.show();else{const e=this.serviceContainer.get(m.ITerminalServiceFactory).getTerminalService(t),n=this.serviceContainer.get(g.ILogger);e.sendCommand(b,[]).catch(n.logError.bind(n,`Failed to install ctags. Script sent '${b}'.`))}return g.InstallerResponse.Ignore}async promptToInstallImplementation(e,t){return"Yes"===await this.appShell.showErrorMessage("Install CTags to enable Python workspace symbols?","Yes","No")?this.install(e,t):g.InstallerResponse.Ignore}}t.CTagsInstaller=w;class C extends S{async promptToInstallImplementation(e,t){const n=[g.Product.autopep8,g.Product.black,g.Product.yapf],r=n.map(e=>y.ProductNames.get(e)),i=y.ProductNames.get(e);r.splice(r.indexOf(i),1);const s=[...r.map(e=>`Use ${e}`)];let o=`Formatter ${i} is not installed. Install?`;if(this.isExecutableAModule(e,t))s.splice(0,0,"Yes");else{o=`Path to the ${i} formatter is invalid (${this.getExecutableNameFromSettings(e,t)})`}const a=await this.appShell.showErrorMessage(o,...s);if("Yes"===a)return this.install(e,t);if("string"==typeof a)for(const e of n){const n=y.ProductNames.get(e);if(a.endsWith(n))return await this.configService.updateSetting("formatting.provider",n,t),this.install(e,t)}return g.InstallerResponse.Ignore}}t.FormatterInstaller=C;class E extends S{async promptToInstallImplementation(e,t){const n=e===g.Product.pylint,r=y.ProductNames.get(e),i=`${r}_DisableLinterInstallPrompt`;if(n&&!0===this.getStoredResponse(i))return g.InstallerResponse.Ignore;const s=n?["Do not show again"]:["Select Linter"];let o=`Linter ${r} is not installed.`;if(this.isExecutableAModule(e,t))s.splice(0,0,"Install");else{o=`Path to the ${r} linter is invalid (${this.getExecutableNameFromSettings(e,t)})`}const a=await this.appShell.showErrorMessage(o,...s);if("Install"===a)return l.sendTelemetryEvent(u.EventName.LINTER_NOT_INSTALLED_PROMPT,void 0,{tool:r,action:"install"}),this.install(e,t);if("Do not show again"===a)return await this.setStoredResponse(i,!0),l.sendTelemetryEvent(u.EventName.LINTER_NOT_INSTALLED_PROMPT,void 0,{tool:r,action:"disablePrompt"}),g.InstallerResponse.Ignore;if("Select Linter"===a){l.sendTelemetryEvent(u.EventName.LINTER_NOT_INSTALLED_PROMPT,void 0,{action:"select"});const e=this.serviceContainer.get(d.ICommandManager);await e.executeCommand(h.Commands.Set_Linter)}return g.InstallerResponse.Ignore}getStoredResponse(e){return!0===this.serviceContainer.get(g.IPersistentStateFactory).createGlobalPersistentState(e,void 0).value}async setStoredResponse(e,t){const n=this.serviceContainer.get(g.IPersistentStateFactory).createGlobalPersistentState(e,void 0);n&&n.value!==t&&await n.updateValue(t)}}t.LinterInstaller=E;class T extends S{async promptToInstallImplementation(e,t){const n=y.ProductNames.get(e),r=[];let i=`Test framework ${n} is not installed. Install?`;if(this.isExecutableAModule(e,t))r.push("Yes","No");else{i=`Path to the ${n} test framework is invalid (${this.getExecutableNameFromSettings(e,t)})`}return"Yes"===await this.appShell.showErrorMessage(i,...r)?this.install(e,t):g.InstallerResponse.Ignore}}t.TestFrameworkInstaller=T;class D extends S{async promptToInstallImplementation(e,t){const n=y.ProductNames.get(e);return"Yes"===await this.appShell.showErrorMessage(`Refactoring library ${n} is not installed. Install?`,"Yes","No")?this.install(e,t):g.InstallerResponse.Ignore}}t.RefactoringLibraryInstaller=D;class P extends S{async promptToInstallImplementation(e,t){const n=y.ProductNames.get(e);return"Yes"===await this.appShell.showErrorMessage(a.DataScience.libraryNotInstalled().format(n),"Yes","No")?this.install(e,t):g.InstallerResponse.Ignore}}t.DataScienceInstaller=P;let k=class{constructor(e,t){this.serviceContainer=e,this.outputChannel=t,this.productService=e.get(v.IProductService)}dispose(){}async promptToInstall(e,t){return this.createInstaller(e).promptToInstall(e,t)}async install(e,t){return this.createInstaller(e).install(e,t)}async isInstalled(e,t){return this.createInstaller(e).isInstalled(e,t)}translateProductToModuleName(e,t){return I(e,t)}createInstaller(e){switch(this.productService.getProductType(e)){case g.ProductType.Formatter:return new C(this.serviceContainer,this.outputChannel);case g.ProductType.Linter:return new E(this.serviceContainer,this.outputChannel);case g.ProductType.WorkspaceSymbols:return new w(this.serviceContainer,this.outputChannel);case g.ProductType.TestFramework:return new T(this.serviceContainer,this.outputChannel);case g.ProductType.RefactoringLibrary:return new D(this.serviceContainer,this.outputChannel);case g.ProductType.DataScience:return new P(this.serviceContainer,this.outputChannel)}throw new Error(`Unknown product ${e}`)}};function I(e,t){switch(e){case g.Product.mypy:return"mypy";case g.Product.nosetest:return t===g.ModuleNamePurpose.install?"nose":"nosetests";case g.Product.pylama:return"pylama";case g.Product.prospector:return"prospector";case g.Product.pylint:return"pylint-starlark";case g.Product.pytest:return"pytest";case g.Product.autopep8:return"autopep8";case g.Product.black:return"black";case g.Product.pycodestyle:return"pycodestyle";case g.Product.pydocstyle:return"pydocstyle";case g.Product.yapf:return"yapf";case g.Product.flake8:return"flake8";case g.Product.unittest:return"unittest";case g.Product.rope:return"rope";case g.Product.bandit:return"bandit";case g.Product.jupyter:return"jupyter";default:throw new Error(`Product ${e} cannot be installed as a Python Module.`)}}k=r([s.injectable(),i(0,s.inject(c.IServiceContainer)),i(1,s.inject(g.IOutputChannel)),i(1,s.named(h.STANDARD_OUTPUT_CHANNEL))],k),t.ProductInstaller=k},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(6),a=n(17),c=n(16),l=n(24),u=n(9),d=n(15),h=n(119);let p=class{constructor(e,t,n,r,i,s,o,a,c){this.configService=e,this.provider=t,this.cssGenerator=n,this.themeFinder=r,this.workspaceService=i,this.mainScriptPath=o,this.title=a,this.viewColumn=c,this.viewState={visible:!1,active:!1},this.disposed=!1,this.startupStopwatch=new l.StopWatch,this.webPanelViewStateChanged=e=>{const t=e.isVisible(),n=e.isActive();this.onViewStateChanged(t,n),this.viewState.visible=t,this.viewState.active=n},this.onPossibleSettingsChange=e=>{if(e.affectsConfiguration("workbench.colorTheme")||e.affectsConfiguration("editor.fontSize")||e.affectsConfiguration("editor.fontFamily")||e.affectsConfiguration("editor.cursorStyle")||e.affectsConfiguration("editor.cursorBlinking")||e.affectsConfiguration("editor.autoClosingBrackets")||e.affectsConfiguration("editor.autoClosingQuotes")||e.affectsConfiguration("editor.autoSurround")||e.affectsConfiguration("editor.autoIndent")||e.affectsConfiguration("editor.fontLigatures")||e.affectsConfiguration("files.autoSave")||e.affectsConfiguration("files.autoSaveDelay")||e.affectsConfiguration("python.dataScience.enableGather")){const e=this.generateDataScienceExtraSettings();if(e){const t=JSON.stringify(e);this.postMessageInternal(h.SharedMessages.UpdateSettings,t).ignoreErrors()}}},this.onDataScienceSettingsChanged=()=>{const e=JSON.stringify(this.generateDataScienceExtraSettings());this.postMessageInternal(h.SharedMessages.UpdateSettings,e).ignoreErrors()},this.messageListener=s(this.onMessage.bind(this),this.webPanelViewStateChanged.bind(this),this.dispose.bind(this)),this.themeChangeHandler=this.workspaceService.onDidChangeConfiguration(this.onPossibleSettingsChange,this),this.settingsChangeHandler=this.configService.getSettings().onDidChange(this.onDataScienceSettingsChanged.bind(this)),this.reload()}async show(e){this.isDisposed||this.webPanel&&await this.webPanel.show(e)}dispose(){this.isDisposed||(this.disposed=!0,this.webPanel&&(this.webPanel.close(),this.webPanel=void 0),this.themeChangeHandler&&(this.themeChangeHandler.dispose(),this.themeChangeHandler=void 0),this.settingsChangeHandler&&(this.settingsChangeHandler.dispose(),this.settingsChangeHandler=void 0))}setTitle(e){!this.isDisposed&&this.webPanel&&(this.webPanel.title=e)}setTheme(e){this.themeIsDarkPromise&&!this.themeIsDarkPromise.resolved?this.themeIsDarkPromise.resolve(e):(this.themeIsDarkPromise=a.createDeferred(),this.themeIsDarkPromise.resolve(e))}reload(){this.disposed=!1,this.webPanelInit=a.createDeferred(),this.themeIsDarkPromise=a.createDeferred(),this.loadWebPanel()}get isDisposed(){return this.disposed}onMessage(e,t){switch(e){case h.SharedMessages.Started:this.webPanelRendered();break;case h.CssMessages.GetCssRequest:this.handleCssRequest(t).ignoreErrors();break;case h.CssMessages.GetMonacoThemeRequest:this.handleMonacoThemeRequest(t).ignoreErrors()}}postMessage(e,t){return this.postMessageInternal(e.toString(),t)}shareMessage(e,t){this.messageListener.onMessage(e.toString(),t)}onViewStateChanged(e,t){c.noop()}async postMessageInternal(e,t){this.webPanel&&this.webPanelInit&&(await this.webPanelInit.promise,this.webPanel.postMessage({type:e.toString(),payload:t}))}generateDataScienceExtraSettings(){const e=this.workspaceService.getConfiguration("editor"),t=this.workspaceService.getConfiguration("workbench"),n=t?t.get("colorTheme",d.DefaultTheme):d.DefaultTheme;return{...this.configService.getSettings().datascience,extraSettings:{editor:{cursor:this.getValue(e,"cursorStyle","line"),cursorBlink:this.getValue(e,"cursorBlinking","blink"),autoClosingBrackets:this.getValue(e,"autoClosingBrackets","languageDefined"),autoClosingQuotes:this.getValue(e,"autoClosingQuotes","languageDefined"),autoSurround:this.getValue(e,"autoSurround","languageDefined"),autoIndent:this.getValue(e,"autoIndent",!1),fontLigatures:this.getValue(e,"fontLigatures",!1)},fontSize:this.getValue(e,"fontSize",14),fontFamily:this.getValue(e,"fontFamily","Consolas, 'Courier New', monospace"),theme:n},intellisenseOptions:{quickSuggestions:{other:this.getValue(e,"quickSuggestions.other",!0),comments:this.getValue(e,"quickSuggestions.comments",!1),strings:this.getValue(e,"quickSuggestions.strings",!1)},acceptSuggestionOnEnter:this.getValue(e,"acceptSuggestionOnEnter","on"),quickSuggestionsDelay:this.getValue(e,"quickSuggestionsDelay",10),suggestOnTriggerCharacters:this.getValue(e,"suggestOnTriggerCharacters",!0),tabCompletion:this.getValue(e,"tabCompletion","on"),suggestLocalityBonus:this.getValue(e,"suggest.localityBonus",!0),suggestSelection:this.getValue(e,"suggestSelection","recentlyUsed"),wordBasedSuggestions:this.getValue(e,"wordBasedSuggestions",!0),parameterHintsEnabled:this.getValue(e,"parameterHints.enabled",!0)}}}isDark(){return this.themeIsDarkPromise.promise}getValue(e,t,n){return e?e.get(t,n):n}async handleCssRequest(e){const t=this.generateDataScienceExtraSettings(),n=!t.ignoreVscodeTheme&&e.isDark;this.setTheme(n);const r=!t.ignoreVscodeTheme&&await this.themeFinder.isThemeDark(t.extraSettings.theme),i=await this.cssGenerator.generateThemeCss(n,t.extraSettings.theme);return this.postMessageInternal(h.CssMessages.GetCssResponse,{css:i,theme:t.extraSettings.theme,knownDark:r})}async handleMonacoThemeRequest(e){const t=this.generateDataScienceExtraSettings(),n=!t.ignoreVscodeTheme&&e.isDark;this.setTheme(n);const r=await this.cssGenerator.generateMonacoTheme(n,t.extraSettings.theme);return this.postMessageInternal(h.CssMessages.GetMonacoThemeResponse,{theme:r})}webPanelRendered(){this.webPanelInit&&!this.webPanelInit.resolved&&(u.sendTelemetryEvent(d.Telemetry.WebviewStartup,this.startupStopwatch.elapsedTime,{type:this.title}),this.webPanelInit.resolve())}loadWebPanel(){if(o.traceInfo(`Loading web panel. Panel is ${this.webPanel?"set":"notset"}`),void 0===this.webPanel){const e=this.generateDataScienceExtraSettings();o.traceInfo("Loading web view..."),this.webPanel=this.provider.create(this.viewColumn,this.messageListener,this.title,this.mainScriptPath,"",e),o.traceInfo("Web view created.")}}};r([u.captureTelemetry(d.Telemetry.WebviewStyleUpdate)],p.prototype,"handleCssRequest",null),r([u.captureTelemetry(d.Telemetry.WebviewMonacoStyleUpdate)],p.prototype,"handleMonacoThemeRequest",null),p=r([s.injectable(),i(0,s.unmanaged()),i(1,s.unmanaged()),i(2,s.unmanaged()),i(3,s.unmanaged()),i(4,s.unmanaged()),i(5,s.unmanaged()),i(6,s.unmanaged()),i(7,s.unmanaged()),i(8,s.unmanaged())],p),t.WebViewHost=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);t.JupyterSelfCertsError=class extends Error{constructor(e){super(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=", ";function i(e,t){var n=" ".repeat(4*t);switch(e.type){case"assert":return n+"assert "+l(e.cond);case"assign":return n+a(e.targets)+" "+(e.op||"=")+" "+a(e.sources);case"binop":return"("+l(e.left)+e.op+l(e.right)+")";case"break":return n+"break";case"call":return l(e.func)+"("+e.args.map(o)+")";case"class":return n+"class "+e.name+(e.extends?"("+a(e.extends)+")":"")+":"+c(e.code,t+1);case"comp_for":case"comp_if":throw"not implemented";case"continue":return n+"continue";case"decorator":return"@"+e.decorator+(e.args?"("+a(e.args)+")":"");case"decorate":return n+c(e.decorators,t)+i(e.def,t);case"def":return n+"def "+e.name+"("+e.params.map(s).join(r)+"):"+c(e.code,t+1);case"dict":return"{"+e.entries.map(function(e){return e.k+":"+e.v})+"}";case"dot":return l(e.value)+"."+e.name;case"else":return n+"else:"+c(e.code,t+1);case"for":return n+"for "+a(e.target)+" in "+a(e.iter)+":"+c(e.code,t+1)+(e.else?c(e.else,t+1):"");case"from":return n+"from "+e.base+" import "+e.imports.map(function(e){return e.path+(e.name?" as "+e.name:"")}).join(r);case"global":return n+"global "+e.names.join(r);case"if":return n+"if "+l(e.cond)+":"+c(e.code,t+1)+(e.elif?e.elif.map(function(e){return n+"elif "+e.cond+":"+c(e.code,t+1)}):"")+(e.else?n+"else:"+c(e.else.code,t+1):"");case"ifexpr":return l(e.then)+" if "+l(e.test)+" else "+l(e.else);case"import":return n+"import "+e.names.map(function(e){return e.path+(e.name?" as "+e.name:"")}).join(r);case"index":return l(e.value)+"["+a(e.args)+"]";case"lambda":return"lambda "+e.args.map(s).join(r)+": "+l(e.code);case"list":return"["+e.items.map(function(e){return l(e)}).join(r)+"]";case"literal":return"string"==typeof e.value&&e.value.indexOf("\n")>=0?'""'+e.value+'""':e.value.toString();case"module":return c(e.code,t);case"name":return e.id;case"nonlocal":return n+"nonlocal "+e.names.join(r);case"raise":return n+"raise "+l(e.err);case"return":return n+"return "+(e.values?a(e.values):"");case"set":return"{"+a(e.entries)+"}";case"slice":return(e.start?l(e.start):"")+":"+(e.stop?l(e.stop):"")+(e.step?":"+l(e.step):"");case"starred":return"*"+l(e.value);case"try":return n+"try:"+c(e.code,t+1)+(e.excepts?e.excepts.map(function(e){return n+"except "+(e.cond?l(e.cond)+(e.name?" as "+e.name:""):"")+":"+c(e.code,t+1)}):"")+(e.else?n+"else:"+c(e.else,t+1):"")+(e.finally?n+"finally:"+c(e.finally,t+1):"");case"tuple":return"("+a(e.items)+")";case"unop":return e.op+"("+l(e.operand)+")";case"while":return n+"while "+l(e.cond)+":"+c(e.code,t+1);case"with":return n+"with "+e.items.map(function(e){return e.with+(e.as?" as "+e.as:"")}).join(r)+":"+c(e.code,t+1);case"yield":return n+"yield "+(e.from?l(e.from):"")+(e.value?a(e.value):"")}}function s(e){return(e.star?"*":"")+(e.starstar?"**":"")+e.name+(e.default_value?"="+l(e.default_value):"")+(e.anno?l(e.anno):"")}function o(e){return(e.kwargs?"**":"")+(e.varargs?"*":"")+(e.keyword?l(e.keyword)+"=":"")+l(e.actual)+(e.loop?" for "+e.loop.for+" in "+e.loop.in:"")}function a(e){return e.map(l).join(r)}function c(e,t){return e.map(function(e){return i(e,t)}).join(0===t?"\n\n":"\n")}function l(e){return i(e,0)}t.printNode=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(106)),a=n(131),c=n(233),l=function(){function e(e,t,n,r){void 0===r&&(r=[]),this.id=e,this.hint=t,this.statements=n,this.loopVariables=r}return e.prototype.toString=function(){return"BLOCK "+this.id+" ("+this.hint+")\n"+this.statements.map(function(e){return e.location.first_line+": "+c.printNode(e)}).join("\n")},e}();t.Block=l;var u=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,[function(e){return e.id.toString()}].concat(t))||this}return i(t,e),t}(a.Set),d=function(){function e(e,t,n){this.loopHead=e,this.loopExit=t,this.exceptionBlock=n}return e.prototype.forLoop=function(t,n){return new e(t,n,this.exceptionBlock)},e.prototype.forExcepts=function(t){return new e(this.loopHead,this.loopExit,t)},e}(),h=function(){function e(e){var t;if(this._blocks=[],this.globalId=0,this.successors=new a.Set(function(e){var t=e[0],n=e[1];return t.id+","+n.id}),this.loopVariables=[],this.postdominators=new f,!e)throw"argument undefined";var n=[];e.type==o.MODULE?n=Array.isArray(e.code)?e.code:[e.code]:e.type==o.DEF&&(n=Array.isArray(e.code)?e.code:[e.code]),t=this.makeCFG("entry",n,new d(null,null,this.makeBlock("exceptional exit"))),this.entry=t[0],this.exit=t[1]}return e.prototype.makeBlock=function(e,t){void 0===t&&(t=[]);var n=new l(this.globalId++,e,t);return this.loopVariables.length&&(n.loopVariables=this.loopVariables[this.loopVariables.length-1]),this._blocks.push(n),n},Object.defineProperty(e.prototype,"blocks",{get:function(){for(var e=[],t=new u(this.entry),n=function(){var n=t.take();e.push(n),r.successors.items.forEach(function(r){var i=r[0],s=r[1];i===n&&e.indexOf(s)<0&&t.add(s)})},r=this;t.size;)n();return e},enumerable:!0,configurable:!0}),e.prototype.getSuccessors=function(e){return this.successors.items.filter(function(t){var n=t[0];t[1];return n==e}).map(function(e){e[0];return e[1]})},e.prototype.getPredecessors=function(e){return this.successors.items.filter(function(t){t[0];return t[1]==e}).map(function(e){var t=e[0];e[1];return t})},e.prototype.print=function(){var e=this;console.log("CFG","ENTRY:",this.entry.id,"EXIT:",this.exit.id),this.blocks.forEach(function(t){console.log(t.toString()),t===e.exit?console.log("    EXIT"):console.log("    SUCC",e.getSuccessors(t).map(function(e){return e.id.toString()}).join(","))})},e.prototype.link=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n++)this.successors.add([e[n-1],e[n]])},e.prototype.handleIf=function(e,t,n){var r=this,i=this.makeBlock("if cond",[e.cond]);e.code||console.log(e);var s=this.makeCFG("if body",e.code,n),o=s[0],a=s[1];this.link(t,i),this.link(i,o);var c=this.makeBlock("conditional join");this.link(a,c);var l=i;if(e.elif&&e.elif.forEach(function(e){var t=r.makeBlock("elif cond",[e.cond]);r.link(l,t);var i=r.makeCFG("elif body",e.code,n),s=i[0],o=i[1];r.link(t,s),r.link(o,c),l=t}),e.else){var u=e.else;if(u.code&&u.code.length){var d=this.makeBlock("else cond",[u]);this.link(l,d);var h=this.makeCFG("else body",u.code,n),p=h[0],f=h[1];this.link(d,p),this.link(f,c),l=d}}return this.link(l,c),c},e.prototype.handleWhile=function(e,t,n){var r=this.makeBlock("while loop head",[e.cond]);this.link(t,r);var i=this.makeBlock("while loop join");this.loopVariables.push([e.cond]);var s=this.makeCFG("while body",e.code,n.forLoop(r,i)),o=s[0],a=s[1];return this.loopVariables.pop(),this.link(r,o),this.link(a,r),this.link(r,i),i},e.prototype.handleFor=function(e,t,n){var r=this.makeBlock("for loop head",[{type:o.ASSIGN,op:void 0,sources:e.iter,targets:e.target,location:e.decl_location}]);this.link(t,r);var i=this.makeBlock("for loop join");this.loopVariables.push(e.target);var s=this.makeCFG("for body",e.code,n.forLoop(r,i)),a=s[0],c=s[1];return this.loopVariables.pop(),this.link(r,a),this.link(c,r),this.link(r,i),i},e.prototype.handleWith=function(e,t,n){var r=e.items.map(function(e){var t=e.with,n=e.as;return{type:o.ASSIGN,targets:[n],sources:[t],location:t.location}}),i=this.makeBlock("with",r);this.link(t,i);var s=this.makeCFG("with body",e.code,n),a=s[0],c=s[1];return this.link(i,a),c},e.prototype.handleTry=function(e,t,n){var r=this,i=this.makeBlock("try join"),s=n,o=[],a=void 0;if(e.excepts){a=this.makeBlock("handlers");var c=e.excepts.map(function(e){return r.makeCFG("handler body",e.code,n)});c.forEach(function(e){var t=e[0];e[1];return r.link(a,t)}),s=n.forExcepts(a),o=c.map(function(e){e[0];return e[1]})}var l=this.makeCFG("try body",e.code,s),u=l[0],d=l[1];this.link(t,u);var h=d;if(a&&this.link(d,a),e.else){var p=this.makeCFG("try else body",e.else,n),f=p[0],m=p[1];this.link(h,f),h=m}if(e.finally){var g=this.makeCFG("finally body",e.finally,n),y=g[0],v=g[1];this.link(h,y),this.link(v,i),o.forEach(function(e){return r.link(e,y)})}else o.forEach(function(e){return r.link(e,i)}),this.link(h,i);return i},e.prototype.makeCFG=function(e,t,n){var r=this;if(!e)throw"hint undefined";if(!t)throw"statements undefined";if(!n)throw"context undefined";var i=this.makeBlock(e),s=i;return t.forEach(function(e){switch(e.type){case o.IF:s=r.handleIf(e,s,n);break;case o.WHILE:s=r.handleWhile(e,s,n);break;case o.FOR:s=r.handleFor(e,s,n);break;case o.WITH:s=r.handleWith(e,s,n);break;case o.TRY:s=r.handleTry(e,s,n);break;case o.RAISE:return void r.link(s,n.exceptionBlock);case o.BREAK:return void r.link(s,n.loopExit);case o.CONTINUE:return void r.link(s,n.loopHead);case o.DEF:case o.CLASS:default:s.statements.push(e)}}),[i,s]},e.prototype.visitControlDependencies=function(e){var t=this.blocks;this.postdominators=this.findPostdominators(t),this.immediatePostdominators=this.getImmediatePostdominators(this.postdominators.items),this.reverseDominanceFrontiers=this.buildReverseDominanceFrontiers(t);for(var n=0,r=t;n<r.length;n++){var i=r[n];if(this.reverseDominanceFrontiers.hasOwnProperty(i.id))for(var s=0,o=this.reverseDominanceFrontiers[i.id].items;s<o.length;s++)for(var a=0,c=o[s].statements;a<c.length;a++)for(var l=c[a],u=0,d=i.statements;u<d.length;u++){e(l,d[u])}}},e.prototype.postdominatorExists=function(e,t){return this.postdominators.filter(function(n){return n.block==e&&n.postdominator==t}).size>0},e.prototype.getImmediatePostdominator=function(e){return this.immediatePostdominators.items.filter(function(t){return t.block==e})[0]},e.prototype.findPostdominators=function(e){for(var t=this,n={},r=0,i=e;r<i.length;r++){var s=i[r];n[s.id]=new f;for(var o=0,a=e;o<a.length;o++){var c=a[o],l=s.id==c.id?0:1/0;n[s.id].add(new p(l,s,c))}}var u=e.filter(function(e){return 0==t.getSuccessors(e).length})[0];n[u.id]=new f(new p(0,u,u));for(var d=!0;1==d;){d=!1;for(var h=function(e){if(e==u)return"continue";var t=n[e.id],r=m.getSuccessors(e),i=new(f.bind.apply(f,[void 0].concat([].concat.apply([],r.map(function(e){return n[e.id].items})).reduce(function(t,n){var r,i=t.findIndex(function(e){return e.p.postdominator==n.postdominator});return-1==i?(r={p:new p(n.distance+1,e,n.postdominator),count:0},t.push(r)):(r=t[i],t[i].p.distance=Math.min(t[i].p.distance,n.distance+1)),r.count++,t},[]).filter(function(e){return e.count==r.length}).map(function(e){return e.p}))));i.add(new p(0,e,e)),t.equals(i)||(n[e.id]=i,d=!0)},m=this,g=0,y=e;g<y.length;g++){h(s=y[g])}}var v=new f;return Object.keys(n).forEach(function(e){v=v.union(n[e])}),v},e.prototype.getImmediatePostdominators=function(e){var t=e.filter(function(e){return e.block!=e.postdominator}).reduce(function(e,t){return e.hasOwnProperty(t.block.id)||(e[t.block.id]=[]),e[t.block.id].push(t),e},{}),n=[];return Object.keys(t).forEach(function(e){n.push(t[e].sort(function(e,t){return e.distance-t.distance})[0])}),new(f.bind.apply(f,[void 0].concat(n)))},e.prototype.buildReverseDominanceFrontiers=function(e){for(var t={},n=function(e){var n=r.getSuccessors(e);if(n.length>1)for(var i=n,s=[],o=r.getImmediatePostdominator(e);i.length>0;){var a=i.pop();if(!r.postdominatorExists(e,a))t.hasOwnProperty(a.id)||(t[a.id]=new u),t[a.id].add(e),r.getImmediatePostdominator(a).postdominator!=o.postdominator&&r.getSuccessors(a).forEach(function(e){-1==s.indexOf(e)&&(s.push(e),i.push(e))})}},r=this,i=0,s=e;i<s.length;i++){n(s[i])}return t},e}();t.ControlFlowGraph=h;var p=function(e,t,n){this.distance=e,this.block=t,this.postdominator=n},f=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,[function(e){return e.block.id+","+e.postdominator.id}].concat(t))||this}return i(t,e),t}(a.Set)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,a,c=s(n(106)),l=n(234),u=n(131),d=n(236),h=n(1003),p=function(){function e(e,t,n){void 0===e&&(e=new m),void 0===t&&(t=new m),void 0===n&&(n=new m),this.DEFINITION=e,this.UPDATE=t,this.USE=n}return Object.defineProperty(e.prototype,"defs",{get:function(){return this.DEFINITION.union(this.UPDATE)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uses",{get:function(){return this.UPDATE.union(this.USE)},enumerable:!0,configurable:!0}),e.prototype.union=function(t){return new e(this.DEFINITION.union(t.DEFINITION),this.UPDATE.union(t.UPDATE),this.USE.union(t.USE))},e.prototype.update=function(e){for(var t={USE:[o.UPDATE,o.DEFINITION],UPDATE:[o.DEFINITION],DEFINITION:[]},n={DEFINITION:[o.DEFINITION,o.UPDATE],UPDATE:[o.DEFINITION,o.UPDATE],USE:[]},r=function(r){for(var s=new m,o=0,a=t[r];o<a.length;o++){var c=a[o];s=s.union(e[c])}var l=i[r].filter(function(e){return s.items.some(function(t){return t.name==e.name&&-1!=n[t.level].indexOf(e.level)})});i[r]=i[r].minus(l).union(s)},i=this,s=0,a=Object.keys(o);s<a.length;s++){r(a[s])}},e.prototype.equals=function(e){return this.DEFINITION.equals(e.DEFINITION)&&this.UPDATE.equals(e.UPDATE)&&this.USE.equals(e.USE)},e.prototype.createFlowsFrom=function(e){for(var t=new m,n=new u.Set(P),r=0,i=Object.keys(o);r<i.length;r++)for(var s=i[r],a=0,c=this[s].items;a<c.length;a++)for(var l=c[a],d=0,h=e[s].items;d<h.length;d++){var p=h[d];p.name==l.name&&(t.add(l),n.add({fromNode:p.node,toNode:l.node,fromRef:p,toRef:l}))}return[n,t]},e}(),f=function(){function e(e){this._defUsesCache={},this._symbolTable=new h.SymbolTable(e||d.DefaultSpecs)}return e.prototype.getDefUseForStatement=function(e,t){var n=c.locationString(e.location),r=this._defUsesCache[n];if(r)return r;var i=this.getDefs(e,t),s=this.getUses(e),a=new p(i.filter(function(e){return e.level===o.DEFINITION}),i.filter(function(e){return e.level===o.UPDATE}),s);return this._defUsesCache[n]=a,a},e.prototype.analyze=function(e,t){var n=e.blocks.reverse(),r=new m,i=new u.Set(P),s=new Map(n.map(function(e){return[e.id,new p]}));for(t&&s.get(e.blocks[0].id).update(new p(t));n.length;){for(var o=n.pop(),a=s.get(o.id),c=e.getPredecessors(o).reduce(function(e,t){return e.union(s.get(t.id))},a),l=0,d=o.statements;l<d.length;l++){var h=d[l],f=this.getDefUseForStatement(h,c.defs),g=f.createFlowsFrom(c),y=g[0],v=g[1];i=i.union(y),r=r.union(f.uses).minus(v),c.update(f)}if(!a.equals(c)){s.set(o.id,c);for(var _=0,b=e.getSuccessors(o);_<b.length;_++){var S=b[_];n.indexOf(S)<0&&n.push(S)}}}return e.visitControlDependencies(function(e,t){return i.add({fromNode:e,toNode:t})}),{dataflows:i,undefinedRefs:r}},e.prototype.getDefs=function(e,t){if(!e)return new m;var n=b(w,t,e,this._symbolTable).union(b(S,t,e,this._symbolTable));switch(e.type){case c.IMPORT:n=n.union(this.getImportDefs(e));break;case c.FROM:n=n.union(this.getImportFromDefs(e));break;case c.DEF:n=n.union(this.getFuncDefs(e,t));break;case c.CLASS:n=n.union(this.getClassDefs(e));break;case c.ASSIGN:n=n.union(this.getAssignDefs(e))}return n},e.prototype.getClassDefs=function(e){return new m({type:a.CLASS,level:o.DEFINITION,name:e.name,location:e.location,node:e})},e.prototype.getFuncDefs=function(e,t){return b(E,t,e,this._symbolTable),new m({type:a.FUNCTION,level:o.DEFINITION,name:e.name,location:e.location,node:e})},e.prototype.getAssignDefs=function(e){return new C(e,this._symbolTable).defs},e.prototype.getImportFromDefs=function(e){return this._symbolTable.importModuleDefinitions(e.base,e.imports),new(m.bind.apply(m,[void 0].concat(e.imports.map(function(t){return{type:a.IMPORT,level:o.DEFINITION,name:t.name||t.path,location:t.location,node:e}}))))},e.prototype.getImportDefs=function(e){var t=this;return e.names.forEach(function(e){t._symbolTable.importModule(e.path,e.name)}),new(m.bind.apply(m,[void 0].concat(e.names.map(function(t){return{type:a.IMPORT,level:o.DEFINITION,name:t.name||t.path,location:t.location,node:e}}))))},e.prototype.getUses=function(e){switch(e.type){case c.ASSIGN:return this.getAssignUses(e);case c.DEF:return this.getFuncDeclUses(e);case c.CLASS:return this.getClassDeclUses(e);default:return this.getNameUses(e)}},e.prototype.getNameUses=function(e){var t=v(e);return new(m.bind.apply(m,[void 0].concat(t.items.map(function(t){var n=t[0],r=t[1];return{type:a.VARIABLE,level:o.USE,name:n,location:r.location,node:e}}))))},e.prototype.getClassDeclUses=function(e){var t=this;return e.code.reduce(function(e,n){return e.union(t.getUses(n))},new m)},e.prototype.getFuncDeclUses=function(e){var t=new l.ControlFlowGraph(e);return this.analyze(t,T(e)).undefinedRefs.filter(function(e){return e.level==o.USE})},e.prototype.getAssignUses=function(e){var t=v(e.targets),n=new(m.bind.apply(m,[void 0].concat(t.items.map(function(t){var n=t[0],r=t[1];return{type:a.VARIABLE,level:o.USE,name:n,location:r.location,node:e}})))),r=v(e.sources);return(new(m.bind.apply(m,[void 0].concat(r.items.map(function(t){var n=t[0],r=t[1];return{type:a.VARIABLE,level:o.USE,name:n,location:r.location,node:e}}))))).union(e.op?n:new m)},e}();t.DataflowAnalyzer=f,function(e){e.DEFINITION="DEFINITION",e.UPDATE="UPDATE",e.USE="USE"}(o=t.ReferenceType||(t.ReferenceType={})),function(e){e[e.VARIABLE=0]="VARIABLE",e[e.CLASS=1]="CLASS",e[e.FUNCTION=2]="FUNCTION",e[e.IMPORT=3]="IMPORT",e[e.MUTATION=4]="MUTATION",e[e.MAGIC=5]="MAGIC"}(a=t.SymbolType||(t.SymbolType={}));var m=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,[function(e){return e.name+e.level+c.locationString(e.location)}].concat(t))||this}return i(t,e),t}(u.Set);function g(e){var t=e[0],n=e[1];return n.location||console.log("***",n),t+"@"+c.locationString(n.location)}t.RefSet=m,t.sameLocation=function(e,t){return e.first_column===t.first_column&&e.first_line===t.first_line&&e.last_column===t.last_column&&e.last_line===t.last_line};var y=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,[g].concat(t))||this}return i(t,e),t}(u.Set);function v(e){var t;return Array.isArray(e)?(t=new y).union.apply(t,e.map(v)):new(y.bind.apply(y,[void 0].concat(c.walk(e).filter(function(e){return e.type==c.NAME}).map(function(e){return[e.id,e]}))))}var _=function(e,t){this._statement=e,this.symbolTable=t,this.defs=new m};function b(e,t,n,r){var i=new e(n,r,t);return c.walk(n,i),i.defs}var S=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.onEnterNode=function(e){if(e.type==c.LITERAL){var t=e;if("string"==typeof t.value||t.value instanceof String){var n=t.value.match(/"defs: (.*)"/);if(n&&n.length>=2){var r=n[1].replace(/\\"/g,'"');try{for(var i=JSON.parse(r),s=0,l=i;s<l.length;s++){var u=l[s];this.defs.add({type:a.MAGIC,level:o.DEFINITION,name:u.name,location:{first_line:u.pos[0][0]+e.location.first_line,first_column:u.pos[0][1],last_line:u.pos[1][0]+e.location.first_line,last_column:u.pos[1][1]},node:this._statement})}}catch(e){}}}}},t}(_),w=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.variableDefs=r,i}return i(t,e),t.prototype.onEnterNode=function(e,t){var n=this;if(e.type===c.CALL){var r,i=e.func;if(i.type===c.DOT&&i.value.type===c.NAME){var s=i.value,l=this.symbolTable.modules[s.id];if(l)r=l.functions.find(function(e){return e.name===i.name});else{var u=this.variableDefs.items.find(function(e){return e.name===s.id});if(u){var d=u.inferredType;if(d){var h=i.name;r=d.methods.find(function(e){return e.name===h})}}}}else i.type===c.NAME&&(r=this.symbolTable.lookupFunction(i.id));if(r&&r.updates)r.updates.forEach(function(t){var r="string"==typeof t?parseInt(t):t;if(!isNaN(r)){var i;if(0<r&&r-1<e.args.length){var s=e.args[r-1].actual;s.type===c.NAME&&(i=s.id)}else 0===r&&e.func.type===c.DOT&&e.func.value.type===c.NAME&&(i=e.func.value.id);i&&n.defs.add({type:a.MUTATION,level:o.UPDATE,name:i,location:e.location,node:n._statement})}});else if(e.args.forEach(function(t){if(t.actual.type===c.NAME){var r=t.actual.id;n.defs.add({type:a.MUTATION,level:o.UPDATE,name:r,location:e.location,node:n._statement})}}),e.func.type===c.DOT&&e.func.value.type===c.NAME){var p=e.func.value.id;this.defs.add({type:a.MUTATION,level:o.UPDATE,name:p,location:e.location,node:this._statement})}}},t}(_),C=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.isAugAssign=!!t.op,t.targets)for(var i=0,s=t.targets;i<s.length;i++){var o=s[i];c.walk(o,r)}return t.sources.forEach(function(e,i){if(e.type===c.CALL){var s=n.lookupNode(e.func),o=t.targets[i];if(s&&o&&o.type===c.NAME){var a=r.defs.items.find(function(e){return e.name===o.id});a&&(a.inferredType=s.returnsType)}}}),r}return i(t,e),t.prototype.onEnterNode=function(e,t){if(e.type==c.NAME){if(t.length>1){var n=t[0];if(n.type===c.INDEX&&n.args.some(function(t){return t===e}))return}var r=this.isAugAssign||t.some(function(e){return e.type==c.DOT||e.type==c.INDEX});this.defs.add({type:a.VARIABLE,level:r?o.UPDATE:o.DEFINITION,location:e.location,name:e.id,node:this._statement})}},t}(_),E=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.def=t;var i=new l.ControlFlowGraph(t);return r.flows=(new f).analyze(i,T(t)).dataflows,r.flows=r.getTransitiveClosure(r.flows),r.symbolTable.functions[t.name]=r.spec={name:t.name,updates:[]},r}return i(t,e),t.prototype.getTransitiveClosure=function(e){var t=e.map(D,function(e){return e.fromNode}).union(e.map(D,function(e){return e.toNode})),n=new(u.Set.bind.apply(u.Set,[void 0,P].concat(e.items)));return t.items.forEach(function(r){return t.items.forEach(function(i){return t.items.forEach(function(t){e.contains({fromNode:r,toNode:t})&&e.contains({fromNode:t,toNode:i})&&n.add({fromNode:r,toNode:i})})})}),n},t.prototype.checkParameterFlow=function(e){var t=this;this.def.params.forEach(function(n,r){var i=t.isMethod?r:r+1;t.flows.contains({fromNode:n,toNode:e})&&t.spec.updates.indexOf(i)<0&&t.spec.updates.push(i)})},t.prototype.onEnterNode=function(e,t){var n=this;switch(e.type){case c.ASSIGN:for(var r=0,i=e.targets;r<i.length;r++){var s=i[r];s.type===c.DOT?this.checkParameterFlow(e):s.type===c.INDEX&&this.checkParameterFlow(e)}break;case c.CALL:var o=this.symbolTable.lookupNode(e.func),a=e.args.map(function(e){return e.actual});this.def.params.forEach(function(t,r){var i=n.isMethod?r:r+1;if(o){var s=n.flows.filter(function(n){return n.fromNode===t&&n.toNode===e&&void 0!==n.toRef}),l=o.updates.filter(function(e){return"number"==typeof e});l.length>0&&!s.empty&&n.spec.updates.indexOf(i)<0&&s.items.forEach(function(t){l.find(function(e){return e>0&&c.walk(a[e-1]).find(function(e){return e.type===c.NAME&&e.id===t.toRef.name})})?n.spec.updates.push(i):l.indexOf(0)>=0&&e.func.type===c.DOT&&e.func.value.type===c.NAME&&e.func.value.id===t.toRef.name&&n.spec.updates.push(0)})}else n.spec.updates.push(i)})}},t}(_);function T(e){return new(m.bind.apply(m,[void 0].concat(e.params.map(function(e){return{name:e.name,level:o.DEFINITION,type:a.VARIABLE,location:e.location,node:e}}))))}function D(e){return""+c.locationString(e.location)}function P(e){return e.fromNode.location||console.log("*** FROM",e.fromNode,e.fromNode.location),e.toNode.location||console.log("*** TO",e.toNode,e.toNode.location),D(e.fromNode)+"->"+D(e.toNode)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(997)),o=i(n(998)),a=i(n(999)),c=i(n(1e3)),l=i(n(1001)),u=i(n(1002));t.DefaultSpecs=r({},s,o,a,c,l,u)},function(e,t,n){"use strict";var r=n(45),i=n(238),s=n(107),o=n(377),a=n(1040);function c(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return c.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof o)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,s,a,u=l.call(this,t,n);return u&&(i=u.schema,t=u.root,a=u.baseId),i instanceof o?s=i.validate||e.call(this,i.schema,t,void 0,a):void 0!==i&&(s=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,a)),s}function l(e,t){var n=r.parse(t,!1,!0),i=m(n),s=f(this._getId(e.schema));if(i!==s){var a=y(i),c=this._refs[a];if("string"==typeof c)return function(e,t,n){var r=l.call(this,e,t);if(r){var i=r.schema,s=r.baseId;e=r.root;var o=this._getId(i);return o&&(s=v(s,o)),d.call(this,n,s,i,e)}}.call(this,e,c,n);if(c instanceof o)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[a])instanceof o))return;if(c.validate||this._compile(c),a==y(t))return{schema:c,root:e,baseId:s};e=c}if(!e.schema)return;s=f(this._getId(e.schema))}return d.call(this,n,s,e.schema,e)}e.exports=c,c.normalizeId=y,c.fullPath=f,c.url=v,c.ids=function(e){var t=y(this._getId(e)),n={"":t},o={"":f(t,!1)},c={},l=this;return a(e,{allKeys:!0},function(e,t,a,u,d,h,p){if(""!==t){var f=l._getId(e),m=n[u],g=o[u]+"/"+d;if(void 0!==p&&(g+="/"+("number"==typeof p?p:s.escapeFragment(p))),"string"==typeof f){f=m=y(m?r.resolve(m,f):f);var v=l._refs[f];if("string"==typeof v&&(v=l._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=y(g))if("#"==f[0]){if(c[f]&&!i(e,c[f]))throw new Error('id "'+f+'" resolves to more than one schema');c[f]=e}else l._refs[f]=g}n[t]=m,o[t]=g}}),c},c.inlineRef=p,c.schema=l;var u=s.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(e,t,n,r){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var i=e.hash.split("/"),o=1;o<i.length;o++){var a=i[o];if(a){if(void 0===(n=n[a=s.unescapeFragment(a)]))break;var c;if(!u[a]&&((c=this._getId(n))&&(t=v(t,c)),n.$ref)){var d=v(t,n.$ref),h=l.call(this,r,d);h&&(n=h.schema,r=h.root,t=h.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var h=s.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(n=t[i])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&(r+=e(n)),r==1/0)return 1/0}else for(var s in t){if("$ref"==s)return 1/0;if(h[s])r++;else if("object"==typeof(n=t[s])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function f(e,t){return!1!==t&&(e=y(e)),m(r.parse(e,!1,!0))}function m(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}var g=/#\/?$/;function y(e){return e?e.replace(g,""):""}function v(e,t){return t=y(t),r.resolve(e,t)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),s=Array.isArray(n);if(i&&s){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=s)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o=Object.keys(t);if(o.length!==Object.keys(n).length)return!1;var a=t instanceof Date,c=n instanceof Date;if(a&&c)return t.getTime()==n.getTime();if(a!=c)return!1;var l=t instanceof RegExp,u=n instanceof RegExp;if(l&&u)return t.toString()==n.toString();if(l!=u)return!1;for(r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=0;r<o.length;r++)if(!e(t[o[r]],n[o[r]]))return!1;return!0}return!1}},function(e,t,n){"use strict";var r=n(237);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function s(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:s(function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}),MissingRef:s(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){var r=n(95)(n(57),"Map");e.exports=r},function(e,t,n){var r=n(1120),i=n(517),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return s.call(e,t)}))}:i;e.exports=a},function(e,t,n){var r=n(1124),i=n(240),s=n(1125),o=n(1126),a=n(1127),c=n(117),l=n(513),u=l(r),d=l(i),h=l(s),p=l(o),f=l(a),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||s&&"[object Promise]"!=m(s.resolve())||o&&"[object Set]"!=m(new o)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(1130);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=new Map([[0,9],[1,18],[2,0],[3,1],[4,2],[5,3],[6,4],[7,5],[8,7],[9,8],[10,9],[11,12],[12,13],[13,15],[14,17],[15,25],[16,19],[17,20],[18,21],[19,23],[20,16],[21,14],[22,6],[23,10],[24,11],[25,24]]),i=new Map([["method",0],["function",1],["constructor",2],["field",3],["variable",4],["class",5],["struct",6],["interface",7],["module",8],["property",9],["event",10],["operator",11],["unit",12],["value",13],["constant",14],["enum",15],["enumMember",16],["keyword",17],["text",18],["color",19],["file",20],["reference",21],["customcolor",22],["folder",23],["typeParameter",24],["snippet",25],["<unknown>",25]]);function s(e){if(e)return{startLineNumber:e.start.line+1,startColumn:e.start.character+1,endLineNumber:e.end.line+1,endColumn:e.end.character+1}}function o(e,t){const n={...e};t&&(n.kind=function(e){const t=e?r.get(e):9;return t||9}(e.kind)),!n.insertText&&n.label&&(n.insertText=n.label);const i=n;return i._documentPosition&&delete i._documentPosition,n}function a(e){if(e.hasOwnProperty("kind")){return[{value:e.value}]}if(e.hasOwnProperty("value")){return[{value:e.value}]}if("string"==typeof e)return[{value:e.toString()}];if(Array.isArray(e)){return e.map(e=>a(e)[0])}return[]}t.convertToMonacoCompletionList=function(e,t){if(e){if(e.hasOwnProperty("items")){const n=e;return{suggestions:n.items.map(e=>o(e,t)),incomplete:n.isIncomplete}}return{suggestions:e.map(e=>o(e,t)),incomplete:!1}}return{suggestions:[],incomplete:!1}},t.convertToMonacoHover=function(e){return e?{contents:a(e.contents),range:s(e.range)}:{contents:[]}},t.convertStringsToSuggestions=function(e,t,n){let r;return n&&n._jupyter_types_experimental&&(r=n._jupyter_types_experimental.map(e=>{const t=i.get(e.type);return t||3})),e.map((e,n)=>({label:e,insertText:e,sortText:e,kind:r?r[n]:3,range:t}))},t.convertToMonacoSignatureHelp=function(e){return e||{signatures:[],activeParameter:0,activeSignature:0}}},function(e,t,n){var r=n(1174).convert,i=n(201),s=n(43).PassThrough,o=n(532);function a(e,t){t=t||{},this.body=e,this.bodyUsed=!1,this.size=t.size||0,this.timeout=t.timeout||0,this._raw=[],this._abort=!1}e.exports=a,a.prototype.json=function(){var e=this;return this._decode().then(function(t){try{return JSON.parse(t.toString())}catch(t){return a.Promise.reject(new o("invalid json response body at "+e.url+" reason: "+t.message,"invalid-json"))}})},a.prototype.text=function(){return this._decode().then(function(e){return e.toString()})},a.prototype.buffer=function(){return this._decode()},a.prototype._decode=function(){var e=this;return this.bodyUsed?a.Promise.reject(new Error("body used already for: "+this.url)):(this.bodyUsed=!0,this._bytes=0,this._abort=!1,this._raw=[],new a.Promise(function(t,n){var r;return"string"==typeof e.body?(e._bytes=e.body.length,e._raw=[new Buffer(e.body)],t(e._convert())):e.body instanceof Buffer?(e._bytes=e.body.length,e._raw=[e.body],t(e._convert())):(e.timeout&&(r=setTimeout(function(){e._abort=!0,n(new o("response timeout at "+e.url+" over limit: "+e.timeout,"body-timeout"))},e.timeout)),e.body.on("error",function(t){n(new o("invalid response body at: "+e.url+" reason: "+t.message,"system",t))}),e.body.on("data",function(t){if(!e._abort&&null!==t){if(e.size&&e._bytes+t.length>e.size)return e._abort=!0,void n(new o("content size at "+e.url+" over limit: "+e.size,"max-size"));e._bytes+=t.length,e._raw.push(t)}}),void e.body.on("end",function(){e._abort||(clearTimeout(r),t(e._convert()))}))}))},a.prototype._convert=function(e){e=e||"utf-8";var t,n,i=this.headers.get("content-type"),s="utf-8";if(i){if(!/text\/html|text\/plain|\+xml|\/xml/i.test(i))return Buffer.concat(this._raw);t=/charset=([^;]*)/i.exec(i)}if(!t&&this._raw.length>0){for(var o=0;o<this._raw.length&&!((n+=this._raw[o].toString()).length>1024);o++);n=n.substr(0,1024)}return!t&&n&&(t=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!t&&n&&(t=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n))&&(t=/charset=(.*)/i.exec(t.pop())),!t&&n&&(t=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),t&&("gb2312"!==(s=t.pop())&&"gbk"!==s||(s="gb18030")),r(Buffer.concat(this._raw),e,s)},a.prototype._clone=function(e){var t,n,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i(r)&&"function"!=typeof r.getBoundary&&(t=new s,n=new s,r.pipe(t),r.pipe(n),e.body=t,r=n),r},a.Promise=global.Promise},function(e,t){function n(e){var t=this;for(var r in this._headers={},e instanceof n&&(e=e.raw()),e)e.hasOwnProperty(r)&&("string"==typeof e[r]?this.set(r,e[r]):"number"!=typeof e[r]||isNaN(e[r])?Array.isArray(e[r])&&e[r].forEach(function(e){t.append(r,e.toString())}):this.set(r,e[r].toString()))}e.exports=n,n.prototype.get=function(e){var t=this._headers[e.toLowerCase()];return t?t[0]:null},n.prototype.getAll=function(e){return this.has(e)?this._headers[e.toLowerCase()]:[]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this._headers).forEach(function(n){this._headers[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},n.prototype.set=function(e,t){this._headers[e.toLowerCase()]=[t]},n.prototype.append=function(e,t){this.has(e)?this._headers[e.toLowerCase()].push(t):this.set(e,t)},n.prototype.has=function(e){return this._headers.hasOwnProperty(e.toLowerCase())},n.prototype.delete=function(e){delete this._headers[e.toLowerCase()]},n.prototype.raw=function(){return this._headers}},function(e,t,n){"use strict";const{EMPTY_BUFFER:r}=n(109);function i(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);for(var i=0,s=0;s<e.length;s++){const t=e[s];t.copy(n,i),i+=t.length}return n}function s(e,t,n,r,i){for(var s=0;s<i;s++)n[r+s]=e[s]^t[3&s]}function o(e,t){const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){return c.readOnly=!0,Buffer.isBuffer(e)?e:(e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=function(e){const t=Buffer.from(e.buffer);if(e.byteLength!==e.buffer.byteLength)return t.slice(e.byteOffset,e.byteOffset+e.byteLength);return t}(e):(t=Buffer.from(e),c.readOnly=!1),t);var t}try{const t=n(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),r=t.BufferUtil||t;e.exports={concat:i,mask(e,t,n,i,o){o<48?s(e,t,n,i,o):r.mask(e,t,n,i,o)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?o(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:s,toArrayBuffer:a,toBuffer:c,unmask:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDebugConfigurationResolver=Symbol("IDebugConfigurationResolver"),t.IDebugConfigurationProviderFactory=Symbol("IDebugConfigurationProviderFactory")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(543),c=n(126);let l=class{constructor(e,t,n,r){this.configService=e,this.windowsStoreInterpreter=t,this.windowsStoreHashProvider=n,this.hashProvider=r}async create(e){const t="pythonPath"in e?e.pythonPath:this.configService.getSettings(e.resource).pythonPath;return this.windowsStoreInterpreter.isWindowsStoreInterpreter(t)?this.windowsStoreHashProvider:this.hashProvider}};l=r([s.injectable(),i(0,s.inject(o.IConfigurationService)),i(1,s.inject(c.WindowsStoreInterpreter)),i(2,s.inject(c.WindowsStoreInterpreter)),i(3,s.inject(a.InterpreterHashProvider))],l),t.InterpeterHashProviderFactory=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(6),c=n(69),l=n(8),u=n(151),d=n(14),h=n(172),p=c.IS_WINDOWS?/^python(\d+(.\d+)?)?\.exe$/:/^python(\d+(.\d+)?)?$/;t.lookForInterpretersInDirectory=function(e){return u.fsReaddirAsync(e).then(e=>e.filter(e=>p.test(o.basename(e)))).catch(e=>(a.traceError("Starlark Extension (lookForInterpretersInDirectory.fsReaddirAsync):",e),[]))};let f=class{constructor(e,t){this.fs=e,this.pipEnvServiceHelper=t}async mergeInterpreters(e){const t=e.map(e=>({...e})).map(e=>(e.path=o.normalize(e.path),e)).reduce((e,t)=>{const n=t&&t.version?t.version.raw:void 0,r=e.find(e=>!!(e.version&&e.version.raw===n&&e.path&&t.path&&this.fs.arePathsSame(o.dirname(e.path),o.dirname(t.path))));if(r){r.type===d.InterpreterType.Unknown&&t.type!==d.InterpreterType.Unknown&&(r.type=t.type);const e=["envName","envPath","path","sysPrefix","architecture","sysVersion","version"];for(const n of e)!r[n]&&t[n]&&(r[n]=t[n])}else e.push(t);return e},[]);return await Promise.all(t.map(async e=>{const t=await this.pipEnvServiceHelper.getPipEnvInfo(e.path);t&&(e.type=d.InterpreterType.Pipenv,e.pipEnvWorkspaceFolder=t.workspaceFolder.fsPath,e.envName=t.envName||e.envName)})),t}};f=r([s.injectable(),i(0,s.inject(l.IFileSystem)),i(1,s.inject(h.IPipEnvServiceHelper))],f),t.InterpreterLocatorHelper=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4);n(7);const c=n(8),l=n(28),u=n(1);let d=class{constructor(e,t,n,r,i){this.terminalServiceFactory=e,this.configurationService=t,this.workspace=n,this.disposables=r,this.platformService=i}async executeFile(e){const t=this.configurationService.getSettings(e);await this.setCwdForFileExecution(e);const n=this.platformService.isWindows?t.pythonPath.replace(/\\/g,"/"):t.pythonPath,r=t.terminal.launchArgs;await this.getTerminalService(e).sendCommand(n,r.concat(e.fsPath.fileToCommandArgument()))}async execute(e,t){e&&0!==e.trim().length&&(await this.initializeRepl(),await this.getTerminalService(t).sendText(e))}async initializeRepl(e){this.replActive&&await this.replActive?await this._terminalService.show():(this.replActive=new Promise(async t=>{const n=this.getReplCommandArgs(e);await this.getTerminalService(e).sendCommand(n.command,n.args),setTimeout(()=>t(!0),1e3)}),await this.replActive)}getReplCommandArgs(e){const t=this.configurationService.getSettings(e);return{command:this.platformService.isWindows?t.pythonPath.replace(/\\/g,"/"):t.pythonPath,args:t.terminal.launchArgs.slice()}}getTerminalService(e){return this._terminalService||(this._terminalService=this.terminalServiceFactory.getTerminalService(e,this.terminalTitle),this.disposables.push(this._terminalService.onDidCloseTerminal(()=>{this.replActive=void 0}))),this._terminalService}async setCwdForFileExecution(e){if(!this.configurationService.getSettings(e).terminal.executeInFileDir)return;const t=o.dirname(e.fsPath),n=this.workspace.getWorkspaceFolder(e);(!n||t!==n.uri.fsPath)&&t.length>0&&await this.getTerminalService(e).sendText(`cd ${t.fileToCommandArgument()}`)}};d=r([s.injectable(),i(0,s.inject(l.ITerminalServiceFactory)),i(1,s.inject(u.IConfigurationService)),i(2,s.inject(a.IWorkspaceService)),i(3,s.inject(u.IDisposableRegistry)),i(4,s.inject(c.IPlatformService))],d),t.TerminalCodeExecutionProvider=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(4),s=n(1),o=n(17),a=n(151),c=n(21),l=n(25);t.TestConfigurationManager=class{constructor(e,t,n,r){this.workspace=e,this.product=t,this.serviceContainer=n,this.outputChannel=n.get(s.IOutputChannel,l.TEST_OUTPUT_CHANNEL),this.installer=n.get(s.IInstaller),this.testConfigSettingsService=r||n.get(c.ITestConfigSettingsService)}async enable(){await Promise.all(l.UNIT_TEST_PRODUCTS.filter(e=>e!==this.product).map(e=>this.testConfigSettingsService.disable(this.workspace,e))),await this.testConfigSettingsService.enable(this.workspace,this.product)}async disable(){return this.testConfigSettingsService.enable(this.workspace,this.product)}selectTestDir(e,t,n=[]){let s=t.map(t=>{const n=r.relative(e,t);if(0!==n.indexOf("."))return{label:n,description:""}}).filter(e=>void 0!==e).map(e=>e);s=[{label:".",description:"Root directory"},...s],s=n.concat(s);const a=o.createDeferred();return this.serviceContainer.get(i.IApplicationShell).showQuickPick(s,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the directory containing the tests"}).then(e=>{e?a.resolve(e.label):this.handleCancelled()}),a.promise}selectTestFilePattern(){const e=o.createDeferred();return this.serviceContainer.get(i.IApplicationShell).showQuickPick([{label:"*test.py",description:"Python Files ending with 'test'"},{label:"*_test.py",description:"Python Files ending with '_test'"},{label:"test*.py",description:"Python Files beginning with 'test'"},{label:"test_*.py",description:"Python Files beginning with 'test_'"},{label:"*test*.py",description:"Python Files containing the word 'test'"}],{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the pattern to identify test files"}).then(t=>{t?e.resolve(t.label):this.handleCancelled()}),e.promise}getTestDirs(e){return a.getSubDirectories(e).then(e=>{e.sort();const t=e.filter(e=>e.match(/test/i)),n=e.filter(e=>-1===t.indexOf(e));return t.push(...n),t})}handleCancelled(){throw this.serviceContainer.get(s.ILogger).logInformation("testing configuration (in UI) cancelled"),Error("cancelled")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(4);n(7);const s=n(150),o=n(6),a=n(8),c=n(1),l=n(546),u=n(16),d=n(11),h=n(9),p=n(21),f=n(54),m=n(25),g=n(18);var y;!function(e){e[e.testDiscovery=0]="testDiscovery",e[e.testRunner=1]="testRunner"}(y||(y={}));t.BaseTestManager=class{constructor(e,t,n,s,o){this.testProvider=e,this.product=t,this.workspaceFolder=n,this.rootDirectory=s,this.serviceContainer=o,this._status=g.TestStatus.Unknown,this._onDidStatusChange=new r.EventEmitter,this.updateStatus(g.TestStatus.Unknown);const a=o.get(c.IConfigurationService);this.settings=a.getSettings(this.rootDirectory?r.Uri.file(this.rootDirectory):void 0);const l=o.get(c.IDisposableRegistry);this._outputChannel=this.serviceContainer.get(c.IOutputChannel,m.TEST_OUTPUT_CHANNEL),this.testCollectionStorage=this.serviceContainer.get(g.ITestCollectionStorageService),this._testResultsService=this.serviceContainer.get(g.ITestResultsService),this.workspaceService=this.serviceContainer.get(i.IWorkspaceService),this.diagnosticCollection=r.languages.createDiagnosticCollection(this.testProvider),this.unitTestDiagnosticService=o.get(p.ITestDiagnosticService),this.testsStatusUpdaterService=o.get(g.ITestsStatusUpdaterService),this.commandManager=o.get(i.ICommandManager),l.push(this)}get outputChannel(){return this._outputChannel}get testResultsService(){return this._testResultsService}get installer(){return this._installer||(this._installer=this.serviceContainer.get(c.IInstaller)),this._installer}get testDiscoveryCancellationToken(){return this.testDiscoveryCancellationTokenSource?this.testDiscoveryCancellationTokenSource.token:void 0}get testRunnerCancellationToken(){return this.testRunnerCancellationTokenSource?this.testRunnerCancellationTokenSource.token:void 0}dispose(){this.stop()}get status(){return this._status}get onDidStatusChange(){return this._onDidStatusChange.event}get workingDirectory(){return this.settings.testing.cwd&&this.settings.testing.cwd.length>0?this.settings.testing.cwd:this.rootDirectory}stop(){this.testDiscoveryCancellationTokenSource&&this.testDiscoveryCancellationTokenSource.cancel(),this.testRunnerCancellationTokenSource&&this.testRunnerCancellationTokenSource.cancel()}reset(){this.tests=void 0,this.updateStatus(g.TestStatus.Unknown)}resetTestResults(){this.tests&&this.testResultsService.resetResults(this.tests)}async discoverTests(e,t=!1,n=!1,r=!1,i=!1){return this.discoverTestsPromise?this.discoverTestsPromise:(this.discoverTestsPromise=this._discoverTests(e,t,n,r,i),this.discoverTestsPromise.catch(u.noop).then(()=>this.discoverTestsPromise=void 0).ignoreErrors(),this.discoverTestsPromise)}async _discoverTests(e,t=!1,n=!1,i=!1,a=!1){if(!t&&this.tests&&this.tests.testFunctions.length>0)return this.updateStatus(g.TestStatus.Idle),Promise.resolve(this.tests);i&&this.testsStatusUpdaterService.updateStatusAsDiscovering(this.workspaceFolder,this.tests),this.updateStatus(g.TestStatus.Discovering),i&&this.stop();const c={tool:this.testProvider,trigger:e,failed:!1};this.commandManager.executeCommand("setContext","testsDiscovered",!0).then(u.noop,u.noop),this.createCancellationToken(y.testDiscovery);const l=this.getDiscoveryOptions(t);return this.serviceContainer.get(g.ITestDiscoveryService,this.testProvider).discoverTests(l).then(e=>{const t=this.workspaceService.getWorkspaceFolder(r.Uri.file(this.rootDirectory)).uri,i=this.testCollectionStorage.getTests(t);a?this.resetTestResults():i&&(f.copyDesiredTestResults(i,e),this._testResultsService.updateResults(e)),this.testCollectionStorage.storeTests(t,e),this.tests=e,this.updateStatus(g.TestStatus.Idle),this.discoverTestsPromise=void 0;let s=!1;return e.testFiles.forEach(e=>{e.errorsWhenDiscovering&&e.errorsWhenDiscovering.length>0&&(s=!0,this.outputChannel.append("_".repeat(10)),this.outputChannel.append(`There was an error in identifying unit tests in ${e.nameToRun}`),this.outputChannel.appendLine("_".repeat(10)),this.outputChannel.appendLine(e.errorsWhenDiscovering))}),s&&!n&&this.serviceContainer.get(g.ITestsHelper).displayTestErrorMessage("There were some errors in discovering unit tests"),this.disposeCancellationToken(y.testDiscovery),h.sendTelemetryEvent(d.EventName.UNITTEST_DISCOVER,void 0,c),e}).catch(async e=>{i&&this.testsStatusUpdaterService.updateStatusAsUnknown(this.workspaceFolder,this.tests),!s.isNotInstalledError(e)||n||await this.installer.isInstalled(this.product,this.workspaceFolder)||this.installer.promptToInstall(this.product,this.workspaceFolder).catch(e=>o.traceError("isNotInstalledError",e)),this.tests=void 0,this.discoverTestsPromise=void 0,this.testDiscoveryCancellationToken&&this.testDiscoveryCancellationToken.isCancellationRequested?(e=m.CANCELLATION_REASON,this.updateStatus(g.TestStatus.Idle)):(c.failed=!0,h.sendTelemetryEvent(d.EventName.UNITTEST_DISCOVER,void 0,c),this.updateStatus(g.TestStatus.Error),this.outputChannel.appendLine("Test Discovery failed: "),this.outputChannel.appendLine(e.toString()));const t=this.workspaceService.getWorkspaceFolder(r.Uri.file(this.rootDirectory)).uri;return this.testCollectionStorage.storeTests(t,void 0),this.disposeCancellationToken(y.testDiscovery),Promise.reject(e)})}async runTest(e,t,n,r){const i={Test_Provider:this.testProvider,Run_Failed_Tests:"false",Run_Specific_File:"false",Run_Specific_Class:"false",Run_Specific_Function:"false"},s=l.getNamesAndValues(m.CommandSource).map(e=>e.value),o={tool:this.testProvider,scope:"all",debugging:!0===r,triggerSource:-1===s.indexOf(e)?"commandpalette":e,failed:!1};n||t||this.testsStatusUpdaterService.updateStatusAsRunning(this.workspaceFolder,this.tests),this.updateStatus(g.TestStatus.Running),this.testRunnerCancellationTokenSource&&this.testRunnerCancellationTokenSource.cancel(),!0===n&&(i.Run_Failed_Tests=n.toString(),o.scope="failed",this.testsStatusUpdaterService.updateStatusAsRunningFailedTests(this.workspaceFolder,this.tests)),t&&"object"==typeof t&&(Array.isArray(t.testFile)&&t.testFile.length>0&&(o.scope="file",i.Run_Specific_File="true"),Array.isArray(t.testSuite)&&t.testSuite.length>0&&(o.scope="class",i.Run_Specific_Class="true"),Array.isArray(t.testFunction)&&t.testFunction.length>0&&(o.scope="function",i.Run_Specific_Function="true"),this.testsStatusUpdaterService.updateStatusAsRunningSpecificTests(this.workspaceFolder,t,this.tests)),this.testsStatusUpdaterService.triggerUpdatesToTests(this.workspaceFolder,this.tests);const a=!(n||i.Run_Specific_File||i.Run_Specific_Class||i.Run_Specific_Function);return this.discoverTests(e,a,!0,!0).catch(e=>this.testDiscoveryCancellationToken&&this.testDiscoveryCancellationToken.isCancellationRequested?Promise.reject(e):(this.serviceContainer.get(g.ITestsHelper).displayTestErrorMessage("Errors in discovering tests, continuing with tests"),{rootTestFolders:[],testFiles:[],testFolders:[],testFunctions:[],testSuites:[],summary:{errors:0,failures:0,passed:0,skipped:0}})).then(e=>(this.updateStatus(g.TestStatus.Running),this.createCancellationToken(y.testRunner),this.runTestImpl(e,t,n,r))).then(()=>(this.updateStatus(g.TestStatus.Idle),this.disposeCancellationToken(y.testRunner),h.sendTelemetryEvent(d.EventName.UNITTEST_RUN,void 0,o),this.testsStatusUpdaterService.updateStatusOfRunningTestsAsIdle(this.workspaceFolder,this.tests),this.testsStatusUpdaterService.triggerUpdatesToTests(this.workspaceFolder,this.tests),this.tests)).catch(e=>(this.testsStatusUpdaterService.updateStatusOfRunningTestsAsIdle(this.workspaceFolder,this.tests),this.testsStatusUpdaterService.triggerUpdatesToTests(this.workspaceFolder,this.tests),this.testRunnerCancellationToken&&this.testRunnerCancellationToken.isCancellationRequested?(e=m.CANCELLATION_REASON,this.updateStatus(g.TestStatus.Idle)):(this.updateStatus(g.TestStatus.Error),o.failed=!0,h.sendTelemetryEvent(d.EventName.UNITTEST_RUN,void 0,o)),this.disposeCancellationToken(y.testRunner),Promise.reject(e)))}async updateDiagnostics(e,t){await this.stripStaleDiagnostics(e,t);const n=t.reduce((e,t)=>(-1===e.indexOf(t.testFilePath)&&void 0!==t.testFilePath&&e.push(t.testFilePath),e),[]),i=this.serviceContainer.get(a.IFileSystem);for(const e of n){const n=r.Uri.file(e);if(!this.diagnosticCollection.has(n)){const e=[];this.diagnosticCollection.set(n,e)}const s=this.diagnosticCollection.get(n),o=[];for(const e of s)o.push(e);for(const e of t)if(i.arePathsSame(n.fsPath,r.Uri.file(e.testFilePath).fsPath)&&e.status!==g.TestStatus.Pass){const t=this.createDiagnostics(e);o.push(t)}this.diagnosticCollection.set(n,o)}}updateStatus(e){this._status=e,setTimeout(()=>this._onDidStatusChange.fire({workspace:this.workspaceFolder,status:e}),1)}createCancellationToken(e){this.disposeCancellationToken(e),e===y.testDiscovery?this.testDiscoveryCancellationTokenSource=new r.CancellationTokenSource:this.testRunnerCancellationTokenSource=new r.CancellationTokenSource}disposeCancellationToken(e){e===y.testDiscovery?(this.testDiscoveryCancellationTokenSource&&this.testDiscoveryCancellationTokenSource.dispose(),this.testDiscoveryCancellationTokenSource=void 0):(this.testRunnerCancellationTokenSource&&this.testRunnerCancellationTokenSource.dispose(),this.testRunnerCancellationTokenSource=void 0)}async stripStaleDiagnostics(e,t){this.diagnosticCollection.forEach((n,r,i)=>{const s=[];for(const n of r)void 0===t.find(e=>e.code===n.code)&&void 0!==e.testFunctions.find(e=>e.testFunction.nameToRun===n.code)&&s.push(n);i.set(n,s)})}createDiagnostics(e){const t=e.locationStack[0],n=this.unitTestDiagnosticService.getMessagePrefix(e.status),i=this.unitTestDiagnosticService.getSeverity(e.severity),s=e.message?e.message.split("\n")[0]:"",o=new r.Diagnostic(t.location.range,`${n?`${n}: `:""}${s}`,i);o.code=e.code,o.source=e.provider;const a=[];for(const t of e.locationStack){const e=new r.DiagnosticRelatedInformation(t.location,t.lineText);a.push(e)}return o.relatedInformation=a,o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(33),s=n(55),o=n(72),a=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=a,t.inject=function(e){return function(t,n,a){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new s.Metadata(i.INJECT_TAG,e);"number"==typeof a?o.tagParameter(t,n,a,c):o.tagProperty(t,n,c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(84),s=n(55),o=n(561),a=function(){function e(e,t,n,a){this.guid=i.guid(),this.type=e,this.serviceIdentifier=n,this.name=new o.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof a?c=new s.Metadata(r.NAMED_TAG,a):a instanceof s.Metadata&&(c=a),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some(function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG})},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===r.NAMED_TAG})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG}):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var s=i[r];if(s.key===e&&s.value===n)return!0}return!1}},e}();t.Target=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175),i=n(176),s=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(55),s=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||s(n,t))};t.traverseAncerstors=s;var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var a=o(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},function(e,t,n){"use strict";const r=n(39);e.exports=r(e=>(e.message=`\t${e.message}`,e))},function(e,t,n){"use strict";const{Colorizer:r}=n(133),{Padder:i}=n(178),{configs:s,MESSAGE:o}=n(23);class a{constructor(e={}){e.levels||(e.levels=s.npm.levels),this.colorizer=new r(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[o]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},function(e,t,n){"use strict";const r=n(39);function i(e){if(e.every(s))return t=>{let n=t;for(let t=0;t<e.length;t++)if(!(n=e[t].transform(n,e[t].options)))return!1;return n}}function s(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=r(i(e)),n=t();return n.Format=t.Format,n},e.exports.cascade=i},function(e,t,n){"use strict";const r=n(39);e.exports=r((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))},function(e,t,n){"use strict";const r=n(39),{MESSAGE:i}=n(23),s=n(98);e.exports=r(e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=s(t),e})},function(e,t,n){"use strict";const r=n(39);e.exports=r((e,t={})=>{let n="metadata";t.key&&(n=t.key);let r=[];return t.fillExcept||t.fillWith||(r.push("level"),r.push("message")),t.fillExcept&&(r=t.fillExcept),r.length>0?function(e,t,n){const r=t.reduce((t,n)=>(t[n]=e[n],delete e[n],t),{}),i=Object.keys(e).reduce((t,n)=>(t[n]=e[n],delete e[n],t),{});return Object.assign(e,r,{[n]:i}),e}(e,r,n):t.fillWith?function(e,t,n){return e[n]=t.reduce((t,n)=>(t[n]=e[n],delete e[n],t),{}),e}(e,t.fillWith,n):e})},function(e,t,n){"use strict";const r=n(27).inspect,i=n(39),{LEVEL:s,MESSAGE:o,SPLAT:a}=n(23);e.exports=i((e,t={})=>{const n=Object.assign({},e);return delete n[s],delete n[o],delete n[a],e[o]=r(n,!1,t.depth||null,t.colorize),e})},function(e,t,n){"use strict";const{MESSAGE:r}=n(23);class i{constructor(e){this.template=e}transform(e){return e[r]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},function(e,t,n){"use strict";const r=n(39),{MESSAGE:i}=n(23),s=n(98);e.exports=r(e=>{const t=s(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),n=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${n} ${e.message} ${t}`:`${e.level}:${n} ${e.message}`,e})},function(e,t,n){"use strict";const r=n(27),{SPLAT:i}=n(23),s=/%[scdjifoO%]/g,o=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const n=e.message,s=e[i]||e.splat||[],a=n.match(o),c=a&&a.length||0,l=t.length-c-s.length,u=l<0?s.splice(l,-1*l):[],d=u.length;if(d)for(let t=0;t<d;t++)Object.assign(e,u[t]);return e.message=r.format(n,...s),e}transform(e){const t=e.message,n=e[i]||e.splat;if(!n||!n.length)return e;const r=t&&t.match&&t.match(s);if(!r&&(n||n.length)){const t=n.length>1?n.splice(0):n,r=t.length;if(r)for(let n=0;n<r;n++)Object.assign(e,t[n]);return e}return r?this._splat(e,r):e}}e.exports=e=>new a(e)},function(e,t,n){"use strict";const r=n(271),i=n(39);e.exports=i((e,t={})=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():r.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))},function(e,t,n){var r;!function(i){"use strict";var s={},o=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=/\d\d?/,c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,l=/\[([^]*?)\]/gm,u=function(){};function d(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}function h(e){return function(t,n,r){var i=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(t.month=i)}}function p(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],g=d(m,3),y=d(f,3);s.i18n={dayNamesShort:y,dayNames:f,monthNamesShort:g,monthNames:m,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var v={D:function(e){return e.getDate()},DD:function(e){return p(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return p(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return p(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return p(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return p(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return p(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return p(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return p(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return p(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return p(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+p(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},_={D:[a,function(e,t){e.day=t}],Do:[new RegExp(a.source+c.source),function(e,t){e.day=parseInt(t,10)}],M:[a,function(e,t){e.month=t-1}],YY:[a,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[a,function(e,t){e.hour=t}],m:[a,function(e,t){e.minute=t}],s:[a,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[a,u],ddd:[c,u],MMM:[c,h("monthNamesShort")],MMMM:[c,h("monthNames")],a:[c,function(e,t,n){var r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(e,t){"Z"===t&&(t="+00:00");var n,r=(t+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),e.timezoneOffset="+"===r[0]?n:-n)}]};_.dd=_.d,_.dddd=_.ddd,_.DD=_.D,_.mm=_.m,_.hh=_.H=_.HH=_.h,_.MM=_.M,_.ss=_.s,_.A=_.a,s.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s.format=function(e,t,n){var r=n||s.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=s.masks[t]||t||s.masks.default;var i=[];return(t=(t=t.replace(l,function(e,t){return i.push(t),"??"})).replace(o,function(t){return t in v?v[t](e,r):t.slice(1,t.length-1)})).replace(/\?\?/g,function(){return i.shift()})},s.parse=function(e,t,n){var r=n||s.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=s.masks[t]||t,e.length>1e3)return!1;var i=!0,a={};if(t.replace(o,function(t){if(_[t]){var n=_[t],s=e.search(n[0]);~s?e.replace(n[0],function(t){return n[1](a,t,r),e=e.substr(s+t.length),t}):i=!1}return _[t]?"":t.slice(1,t.length-1)}),!i)return!1;var c,l=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):c=new Date(a.year||l.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),c},e.exports?e.exports=s:void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";const r=n(134),i=n(39),{MESSAGE:s}=n(23);e.exports=i((e,t)=>(!1!==t.level&&(e.level=r.strip(e.level)),!1!==t.message&&(e.message=r.strip(e.message)),!1!==t.raw&&e[s]&&(e[s]=r.strip(e[s])),e))},function(e,t,n){"use strict";var r=t.format=n(37);t.levels=n(135),Object.defineProperty(r,"align",{value:n(180)}),Object.defineProperty(r,"cli",{value:n(181)}),Object.defineProperty(r,"combine",{value:n(182)}),Object.defineProperty(r,"colorize",{value:n(114)}),Object.defineProperty(r,"json",{value:n(183)}),Object.defineProperty(r,"label",{value:n(184)}),Object.defineProperty(r,"logstash",{value:n(185)}),Object.defineProperty(r,"metadata",{value:n(186)}),Object.defineProperty(r,"padLevels",{value:n(136)}),Object.defineProperty(r,"prettyPrint",{value:n(187)}),Object.defineProperty(r,"printf",{value:n(188)}),Object.defineProperty(r,"simple",{value:n(189)}),Object.defineProperty(r,"splat",{value:n(190)}),Object.defineProperty(r,"timestamp",{value:n(191)}),Object.defineProperty(r,"uncolorize",{value:n(192)})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(37),s=n(23),o=s.LEVEL,a=s.MESSAGE;e.exports=i(function(e,t){var n=t.stack;if(e instanceof Error){var i,s=Object.assign({},e,(r(i={level:e.level},o,e[o]||e.level),r(i,"message",e.message),r(i,a,e[a]||e.message),i));return n&&(s.stack=e.stack),s}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);var c=e.message;return e.message=c.message,e[a]=c.message,n&&(e.stack=c.stack),e})},function(e,t,n){"use strict";var r=t.format=n(37);function i(e,t){t=t||e,Object.defineProperty(r,e,{get:function(){return n(597)("./".concat(t,".js"))},configurable:!0})}t.levels=n(135),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,n){"use strict";var r=n(37),i=n(277);e.exports=r(function(e){var t=+new Date;return(void 0).diff=t-((void 0).prevTime||t),(void 0).prevTime=t,e.ms="+".concat(i((void 0).diff)),e})},function(e,t){var n=1e3,r=60*n,i=60*r,s=24*i,o=7*s,a=365.25*s;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*s;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return c(e,t,s,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";const{format:r}=n(27);t.warn={deprecated:e=>()=>{throw new Error(r("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([r("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,n,r){r.forEach(r=>{e[r]=t.warn[n](r)})},moved(e,t,n){function i(){return()=>{throw new Error([r("winston.%s was moved in winston@3.0.0.",n),r("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,n,{get:i,set:i})},forProperties(e,n,r){r.forEach(r=>{const i=t.warn[n](r);Object.defineProperty(e,r,{get:i,set:i})})}}},function(e,t,n){"use strict";var r=n(137);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var s,o=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var a=n(193);a.inherits=n(61);var c={deprecate:n(280)},l=n(281),u=n(115).Buffer,d=global.Uint8Array||function(){};var h,p=n(282);function f(){}function m(e,t){s=s||n(138),e=e||{};var a=t instanceof s;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),w(e,t))}(e,n,i,t,s);else{var a=b(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),i?o(v,e,n,a,s):v(e,n,a,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(s=s||n(138),!(h.call(g,this)||this instanceof s))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function y(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),w(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,s=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)s[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;s.allBuffers=c,y(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),w(e,t)})}function w(e,t){var n=b(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,a=!s.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=f),s.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),r.nextTick(i,o),s=!1),s}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,r,i,s);return c}(this,s,a,e,t,n)),o},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){e.exports=n(27).deprecate},function(e,t,n){e.exports=n(43)},function(e,t,n){"use strict";var r=n(137);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(115).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var r=n(117),i=n(73),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==o||t==a||t==s||t==c}},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,s){(0,r.default)(t)(e,(0,i.default)(n),s)};var r=s(n(623)),i=s(n(140));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,n){var r=n(626),i=n(290),s=n(142),o=n(291),a=n(629),c=n(630),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&c(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(e,t,n){var r=n(627),i=n(99),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,n){(function(e){var r=n(57),i=n(628),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===s?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(this,n(100)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n,r,i){return e(n,t,r,i)}},e.exports=t.default},function(e,t,n){"use strict";var r;e.exports=C,C.ReadableState=w;n(56).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=n(297),o=n(68).Buffer,a=global.Uint8Array||function(){};var c,l=n(27);c=l&&l.debuglog?l.debuglog("stream"):function(){};var u,d,h=n(634),p=n(298),f=n(299).getHighWaterMark,m=n(101).codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b=n(635).emitExperimentalWarning;n(61)(C,s);var S=["error","close","destroy","pause","resume"];function w(e,t,i){r=r||n(102),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=f(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=n(301).StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function C(e){if(r=r||n(102),!(this instanceof C))return new C(e);var t=this instanceof r;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function E(e,t,n,r,i){c("readableAddChunk",t);var s,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}(e,l);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(l,t)),s)e.emit("error",s);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)l.endEmitted?e.emit("error",new _):T(e,l,t,!0);else if(l.ended)e.emit("error",new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?T(e,l,t,!1):M(e,l)):T(e,l,t,!1)}else r||(l.reading=!1,M(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),M(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},C.prototype.unshift=function(e){return E(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){return u||(u=n(301).StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var D=8388608;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(I,e))}function I(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,R(e)}function M(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(x,e,t))}function x(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function A(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(N,t,e))}function N(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Y(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):k(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&F(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t))),null===(r=e>0?j(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){this.emit("error",new v("_read()"))},C.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function o(t,i){c("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",m),n.removeListener("data",d),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function a(){c("onend"),e.end()}r.endEmitted?process.nextTick(s):n.once("end",s),e.on("unpipe",o);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,R(e))}}(n);e.on("drain",l);var u=!1;function d(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==Y(r.pipes,e))&&!u&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function h(t){c("onerror",t),m(),e.removeListener("error",h),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",f),m()}function f(){c("onfinish"),e.removeListener("close",p),m()}function m(){c("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Y(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?k(this):r.reading||process.nextTick(O,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(A,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(A,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return b("Readable[Symbol.asyncIterator]"),void 0===d&&(d=n(636)),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=j,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,n){e.exports=n(43)},function(e,t,n){"use strict";function r(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(process.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t?(process.nextTick(i,n),t(e)):process.nextTick(i,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(101).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=w;var s={deprecate:n(280)},o=n(297),a=n(68).Buffer,c=global.Uint8Array||function(){};var l,u=n(298),d=n(299).getHighWaterMark,h=n(101).codes,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING;function S(){}function w(e,t,s){i=i||n(102),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}(e,n,r,t,i);else{var s=P(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||D(e,n),r?process.nextTick(T,e,n,s,i):T(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(e){var t=this instanceof(i=i||n(102));if(!t&&!l.call(C,this))return new C(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function E(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function T(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),I(e,t)}function D(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)s[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;s.allBuffers=c,E(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(E(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function I(e,t){var n=P(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}n(61)(C,o),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===C&&(e&&e._writableState instanceof w)}})):l=function(e){return e instanceof this},C.prototype.pipe=function(){this.emit("error",new g)},C.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,o=!i.objectMode&&(r=e,a.isBuffer(r)||r instanceof c);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new _;e.emit("error",n),process.nextTick(t,n)}(this,n):(o||function(e,t,n,r){var i;return null===n?i=new v:"string"==typeof n||t.objectMode||(i=new p("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var c=t.objectMode?1:r.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,r,i,s);return l}(this,i,o,e,t,n)),s},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||D(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new f("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=u.destroy,C.prototype._undestroy=u.undestroy,C.prototype._destroy=function(e,t){t(e)}},function(e,t,n){"use strict";var r=n(115).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=u;var r=n(101).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(102);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,n){h(e,t,n)})}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}n(61)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(303),i={};for(var s in r)r.hasOwnProperty(s)&&(i[r[s]]=s);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in o)if(o.hasOwnProperty(a)){if(!("channels"in o[a]))throw new Error("missing channels property: "+a);if(!("labels"in o[a]))throw new Error("missing channel labels property: "+a);if(o[a].labels.length!==o[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=o[a].channels,l=o[a].labels;delete o[a].channels,delete o[a].labels,Object.defineProperty(o[a],"channels",{value:c}),Object.defineProperty(o[a],"labels",{value:l})}o.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(r,i,s),a=Math.max(r,i,s),c=a-o;return a===o?t=0:r===a?t=(i-s)/c:i===a?t=2+(s-r)/c:s===a&&(t=4+(r-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+a)/2,[t,100*(a===o?0:n<=.5?c/(a+o):c/(2-a-o)),100*n]},o.rgb.hsv=function(e){var t,n,r,i,s,o=e[0]/255,a=e[1]/255,c=e[2]/255,l=Math.max(o,a,c),u=l-Math.min(o,a,c),d=function(e){return(l-e)/6/u+.5};return 0===u?i=s=0:(s=u/l,t=d(o),n=d(a),r=d(c),o===l?i=r-n:a===l?i=1/3+t-r:c===l&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*l]},o.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[o.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},o.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,s,o,a=1/0;for(var c in r)if(r.hasOwnProperty(c)){var l=r[c],u=(s=e,o=l,Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)+Math.pow(s[2]-o[2],2));u<a&&(a=u,n=c)}return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.hsl.rgb=function(e){var t,n,r,i,s,o=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[s=255*c,s,s];t=2*c-(n=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var l=0;l<3;l++)(r=o+1/3*-(l-1))<0&&r++,r>1&&r--,s=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*s;return i},o.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,s=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=s<=1?s:2-s,[t,100*(0===r?2*i/(s+i):2*n/(r+n)),100*((r+n)/2)]},o.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*r*(1-n),a=255*r*(1-n*s),c=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,c,o];case 1:return[a,r,o];case 2:return[o,r,c];case 3:return[o,a,r];case 4:return[c,o,r];case 5:return[r,o,a]}},o.hsv.hsl=function(e){var t,n,r,i=e[0],s=e[1]/100,o=e[2]/100,a=Math.max(o,.01);return r=(2-s)*o,n=s*a,[i,100*(n=(n/=(t=(2-s)*a)<=1?t:2-t)||0),100*(r/=2)]},o.hwb.rgb=function(e){var t,n,r,i,s,o,a,c=e[0]/360,l=e[1]/100,u=e[2]/100,d=l+u;switch(d>1&&(l/=d,u/=d),r=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(r=1-r),i=l+r*((n=1-u)-l),t){default:case 6:case 0:s=n,o=i,a=l;break;case 1:s=i,o=n,a=l;break;case 2:s=l,o=n,a=i;break;case 3:s=l,o=i,a=n;break;case 4:s=i,o=l,a=n;break;case 5:s=n,o=l,a=i}return[255*s,255*o,255*a]},o.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(e){var t,n,r,i=e[0]/100,s=e[1]/100,o=e[2]/100;return n=-.9689*i+1.8758*s+.0415*o,r=.0557*i+-.204*s+1.057*o,t=(t=3.2406*i+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},o.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var s=Math.pow(n,3),o=Math.pow(t,3),a=Math.pow(r,3);return n=s>.008856?s:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},o.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},o.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var s=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,s=Math.max(Math.max(n,r),i),o=Math.min(Math.min(n,r),i),a=s-o;return t=a<=0?0:s===n?(r-i)/a%6:s===r?2+(i-n)/a:4+(n-r)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},o.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,s=[0,0,0],o=t%1*6,a=o%1,c=1-a;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=c,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=c,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=c}return i=(1-n)*r,[255*(n*s[0]+i),255*(n*s[1]+i),255*(n*s[2]+i)]},o.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){"use strict";const{LEVEL:r}=n(23),i=n(202),s=n(656),o=n(144)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends s{constructor(e){super(e)}}const n=new t(e);return Object.keys(e.levels).forEach(function(e){o('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||n;if(1===t.length){const[s]=t,o=s&&s.message&&s||{message:s};return o.level=o[r]=e,i._addDefaultMeta(o),i.write(o),this||n}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||n).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),n}},function(e,t,n){"use strict";const r=n(22),i=n(203),s=n(144)("winston:exception"),o=n(307),a=n(204),c=n(308);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`uncaughtException: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:r.loadavg(),uptime:r.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),n=this._getExceptionHandlers();let r,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){s("doExit",a),s("process._exiting",process._exiting),a&&!process._exiting&&(r&&clearTimeout(r),process.exit(1))}if(!n.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!n||0===n.length)return process.nextTick(c);i(n,(e,t)=>{const n=o(t),r=e.transport||e;function i(e){return()=>{s(e),n()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(r=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>{return(e.transport||e).handleExceptions})}}},function(e,t,n){"use strict";e.exports=function(e){var t,n=0;function r(){return n?t:(n=1,t=e.apply(this,arguments),e=null,t)}return r.displayName=e.displayName||e.name||r.displayName||r.name,r}},function(e,t,n){"use strict";const{Writable:r}=n(118);e.exports=class extends r{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,n){return e.exception?this.transport.log(e,n):(n(),!0)}}},function(e,t,n){"use strict";const r=n(22),i=n(203),s=n(144)("winston:rejection"),o=n(307),a=n(204),c=n(308);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`unhandledRejection: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:r.loadavg(),uptime:r.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),n=this._getRejectionHandlers();let r,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){s("doExit",a),s("process._exiting",process._exiting),a&&!process._exiting&&(r&&clearTimeout(r),process.exit(1))}if(!n.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!n||0===n.length)return process.nextTick(c);i(n,(e,t)=>{const n=o(t),r=e.transport||e;function i(e){return()=>{s(e),n()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(r=setTimeout(c,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>{return(e.transport||e).handleRejections})}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var s=n(26),o=n(22),a=n(3),c=n(2),l=n(662),u=function(e){function t(t,n,r){var i=e.call(this,function(){return i.toDispose.forEach(function(e){return e&&e.dispose()})})||this;i.extensionId=t,i.extensionVersion=n,i.userOptIn=!1,i.toDispose=[];var o=process.env.VSCODE_LOGS||"";return o&&t&&"trace"===process.env.VSCODE_LOG_LEVEL&&(o=a.join(o,t+".txt"),i.logStream=s.createWriteStream(o,{flags:"a",encoding:"utf8",autoClose:!0})),i.updateUserOptIn(r),i.toDispose.push(c.workspace.onDidChangeConfiguration(function(){return i.updateUserOptIn(r)})),i}return i(t,e),t.prototype.updateUserOptIn=function(e){var n=c.workspace.getConfiguration(t.TELEMETRY_CONFIG_ID);this.userOptIn!==n.get(t.TELEMETRY_CONFIG_ENABLED_ID,!0)&&(this.userOptIn=n.get(t.TELEMETRY_CONFIG_ENABLED_ID,!0),this.userOptIn?this.createAppInsightsClient(e):this.dispose())},t.prototype.createAppInsightsClient=function(e){l.defaultClient?(this.appInsightsClient=new l.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(l.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=l.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")},t.prototype.getCommonProperties=function(){var e=Object.create(null);return e["common.os"]=o.platform(),e["common.platformversion"]=(o.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,c&&c.env&&(e["common.vscodemachineid"]=c.env.machineId,e["common.vscodesessionid"]=c.env.sessionId,e["common.vscodeversion"]=c.version),e},t.prototype.sendTelemetryEvent=function(e,t,n){this.userOptIn&&e&&this.appInsightsClient&&(this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:t,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:n})+"\n"))},t.prototype.dispose=function(){var e=this,t=new Promise(function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()}),n=new Promise(function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)});return Promise.all([n,t])},t.TELEMETRY_CONFIG_ID="telemetry",t.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",t}(c.Disposable);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(49),s=n(312),o=Object.keys(process.binding("natives")),a=s.prototype.require;t.makePatchingRequire=function(e){var t={};return function(n){var c=a.apply(this,arguments);if(e[n]){var l=s._resolveFilename(n,this);if(t.hasOwnProperty(l))return t[l];var u=void 0;if(o.indexOf(n)<0)try{u=a.call(this,r.join(n,"package.json")).version}catch(e){return c}else u=process.version.substring(1);var d=u.indexOf("-");d>=0&&(u=u.substring(0,d));for(var h=c,p=0,f=e[n];p<f.length;p++){var m=f[p];i.satisfies(u,m.versionSpecifier)&&(h=m.patch(h,l))}return t[l]=h}return c}}},function(e,t){e.exports=require("module")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=n(683),t.Base=n(314),t.ContextTagKeys=n(684),t.Data=n(685),t.DataPoint=n(686),t.DataPointType=n(315),t.Domain=n(76),t.Envelope=n(687),t.EventData=n(316),t.ExceptionData=n(688),t.ExceptionDetails=n(689),t.MessageData=n(690),t.MetricData=n(691),t.PageViewData=n(692),t.RemoteDependencyData=n(693),t.RequestData=n(694),t.SeverityLevel=n(695),t.StackFrame=n(696)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(76));e.exports=s},function(e,t,n){"use strict";var r=n(22),i=n(48),s=function(){function e(t){if(e.INSTANCE)throw new Error("Performance tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._isInitialized=!1,this._client=t}return e.prototype.enable=function(t){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._handle=setInterval(function(){return n.trackPerformance()},6e4),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r=this;if(e.isEnabled()){var s=+new Date;t&&n?"function"==typeof n.once&&n.once("finish",function(){var t=+new Date;r._lastRequestExecutionTime=t-s,e._totalRequestCount++,n.statusCode>=400&&e._totalFailedRequestCount++}):i.warn("AutoCollectPerformance.countRequest was called with invalid parameters: ",!!t,!!n)}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,i=0,s=0,o=0,a=0;e&&a<e.length;a++){var c=e[a],l=this._lastCpus[a],u=(c.model,c.speed,c.times),d=l.times;t+=u.user-d.user||0,n+=u.sys-d.sys||0,i+=u.nice-d.nice||0,s+=u.idle-d.idle||0,o+=u.irq-d.irq||0}var h=t+n+i+s+o||1;this._client.trackMetric({name:"\\Processor(_Total)\\% Processor Time",value:(h-s)/h*100}),this._client.trackMetric({name:"\\Process(??APP_WIN32_PROC??)\\% Processor Time",value:t/h*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.totalmem(),t=r.freemem(),n=e-t;this._client.trackMetric({name:"\\Process(??APP_WIN32_PROC??)\\Private Bytes",value:n}),this._client.trackMetric({name:"\\Memory\\Available Bytes",value:t})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,i=(t.totalFailedRequestCount,n.time-t.time),s=i/1e3;if(i>0){var o=r/s;this._client.trackMetric({name:"\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",value:o}),this._client.trackMetric({name:"\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time",value:e._lastRequestExecutionTime})}this._lastRequests=n},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=r},function(e,t,n){"use strict";var r=n(74),i=n(75),s=n(48),o=n(77),a=n(121),c=n(707),l=n(120),u=n(317),d=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e){e&&!this._isAutoCorrelating?l.CorrelationContextManager.enable():!e&&this._isAutoCorrelating&&l.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return l.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){var s=new c(r),o=t._generateCorrelationContext(s);l.CorrelationContextManager.runWithContext(o,function(){t._isEnabled&&e.trackRequest(t._client,{request:r,response:i},s),u.countRequest(r,i),"function"==typeof n&&n(r,i)})}}},s=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},o=r.createServer;r.createServer=function(e){var t=o(n(e));return s(t),t};var a=i.createServer;i.createServer=function(e,t){var r=a(e,n(t));return s(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=l.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else s.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=l.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);o.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",function(){e.endRequest(t,a,n,null,null)}),n.request.on&&n.request.on("error",function(r){e.endRequest(t,a,n,null,r)})}else s.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);if(n){var r=n.split(","),i=a.requestContextSourceKey+"=";r.some(function(e){return e.substring(0,i.length)===i})||t.setHeader(a.requestContextHeader,n+","+a.requestContextSourceKey+"="+e.config.correlationId)}else t.setHeader(a.requestContextHeader,a.requestContextSourceKey+"="+e.config.correlationId)}},e.endRequest=function(e,t,n,r,i){i?t.onError(i,r):t.onResponse(n.response,r);var s=t.getRequestTelemetry(n);if(s.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var o in n.tagOverrides)s.tagOverrides[o]=n.tagOverrides[o];s.contextObjects=s.contextObjects||{},s.contextObjects["http.ServerRequest"]=n.request,s.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(s)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();e.exports=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(29),c=n(1),l=n(12),u=n(10),d=n(86),h=n(87),p=n(88),f=n(79),m=n(38);class g extends d.BaseDiagnostic{constructor(e,t){super(p.DiagnosticCodes.LSNotSupportedDiagnostic,e,o.DiagnosticSeverity.Warning,m.DiagnosticScope.Global,t)}}t.LSNotSupportedDiagnostic=g,t.LSNotSupportedDiagnosticServiceId="LSNotSupportedDiagnosticServiceId";let y=class extends d.BaseDiagnosticsService{constructor(e,t,n,r){super([p.DiagnosticCodes.LSNotSupportedDiagnostic],e,r,!1),this.lsCompatibility=t,this.messageService=n}async diagnose(e){return await this.lsCompatibility.isSupported()?[]:[new g(l.Diagnostics.lsNotSupported(),e)]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(h.IDiagnosticsCommandFactory),r=[{prompt:"More Info",command:n.createCommand(t,{type:"launch",options:"https://aka.ms/pythonlsrequirements"})},{prompt:"Do not show again",command:n.createCommand(t,{type:"ignore",options:m.DiagnosticScope.Global})}];await this.messageService.handle(t,{commandPrompts:r})}};y=r([i(0,s.inject(u.IServiceContainer)),i(1,s.inject(a.ILanguageServerCompatibilityService)),i(2,s.inject(m.IDiagnosticHandlerService)),i(2,s.named(f.DiagnosticCommandPromptHandlerServiceId)),i(3,s.inject(c.IDisposableRegistry))],y),t.LSNotSupportedDiagnosticService=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(89);t.JediFactory=class{constructor(e,t){this.extensionRootPath=e,this.serviceContainer=t,this.disposables=[],this.jediProxyHandlers=new Map}dispose(){this.disposables.forEach(e=>e.dispose()),this.disposables=[]}getJediProxyHandler(e){const t=e?r.workspace.getWorkspaceFolder(e):void 0;let n=t?t.uri.fsPath:void 0;if(n||(n=Array.isArray(r.workspace.workspaceFolders)&&r.workspace.workspaceFolders.length>0?r.workspace.workspaceFolders[0].uri.fsPath:__dirname),!this.jediProxyHandlers.has(n)){const e=new i.JediProxy(this.extensionRootPath,n,this.serviceContainer),t=new i.JediProxyHandler(e);this.disposables.push(e,t),this.jediProxyHandlers.set(n,t)}return this.jediProxyHandlers.get(n)}}},function(e,t,n){const r=n(47).fromCallback,i=n(32),s=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.keys(i).forEach(e=>{t[e]=i[e]}),s.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,n,r,s,o){return"function"==typeof o?i.read(e,t,n,r,s,o):new Promise((o,a)=>{i.read(e,t,n,r,s,(e,t,n)=>{if(e)return a(e);o({bytesRead:t,buffer:n})})})},t.write=function(e,t,n,r,s,o){return"function"==typeof arguments[arguments.length-1]?i.write(e,t,n,r,s,o):"string"==typeof t?new Promise((s,o)=>{i.write(e,t,n,r,(e,t,n)=>{if(e)return o(e);s({bytesWritten:t,buffer:n})})}):new Promise((o,a)=>{i.write(e,t,n,r,s,(e,t,n)=>{if(e)return a(e);o({bytesWritten:t,buffer:n})})})}},function(e,t,n){var r=n(32),i=n(3),s=n(738);e.exports=function(e,t,n,o){o||(o=n,n={});var a=process.cwd(),c=i.resolve(a,e),l=i.resolve(a,t),u=n.filter,d=n.transform,h=n.overwrite;void 0===h&&(h=n.clobber),void 0===h&&(h=!0);var p=n.errorOnExist,f=n.dereference,m=!0===n.preserveTimestamps,g=0,y=0,v=0,_=!1;function b(e){if(g++,u)if(u instanceof RegExp){if(console.warn("Warning: fs-extra: Passing a RegExp filter is deprecated, use a function"),!u.test(e))return P(!0)}else if("function"==typeof u&&!u(e,t))return P(!0);return function(e){var t=f?r.stat:r.lstat;v++,t(e,function(t,n){if(t)return D(t);var s,o,u={name:e,mode:n.mode,mtime:n.mtime,atime:n.atime,stats:n};if(!n.isDirectory())return n.isFile()||n.isCharacterDevice()||n.isBlockDevice()?function(e){var t=e.name.replace(c,l.replace("$","$$$$"));T(t,function(n){n?S(e,t):h?w(t,function(){S(e,t)}):p?D(new Error(t+" already exists")):P()})}(u):n.isSymbolicLink()?function(e){var t=e.replace(c,l);r.readlink(e,function(e,n){if(e)return D(e);!function(e,t){f&&(e=i.resolve(a,e)),T(t,function(n){if(n)return E(e,t);r.readlink(t,function(n,r){return n?D(n):(f&&(r=i.resolve(a,r)),r===e?P():w(t,function(){E(e,t)}))})})}(n,t)})}(e):void 0;T(o=(s=u).name.replace(c,l.replace("$","$$$$")),function(e){if(e)return function(e,t){r.mkdir(t,e.mode,function(n){if(n)return D(n);r.chmod(t,e.mode,function(t){if(t)return D(t);C(e.name)})})}(s,o);C(s.name)})})}(e)}function S(e,t){var n=r.createReadStream(e.name),i=r.createWriteStream(t,{mode:e.mode});n.on("error",D),i.on("error",D),d?d(n,i,e):i.on("open",function(){n.pipe(i)}),i.once("close",function(){r.chmod(t,e.mode,function(n){if(n)return D(n);m?s.utimesMillis(t,e.atime,e.mtime,function(e){return e?D(e):P()}):P()})})}function w(e,t){r.unlink(e,function(e){return e?D(e):t()})}function C(e){r.readdir(e,function(t,n){return t?D(t):(n.forEach(function(t){b(i.join(e,t))}),P())})}function E(e,t){r.symlink(e,t,function(e){return e?D(e):P()})}function T(e,t){r.lstat(e,function(e){return e&&"ENOENT"===e.code?t(!0):t(!1)})}function D(e){if(!_&&void 0!==o)return _=!0,o(e)}function P(e){if(e||v--,g===++y&&0===v&&void 0!==o)return o(null)}b(c)}},function(e,t,n){"use strict";const r=n(3);function i(e){return(e=r.normalize(r.resolve(e)).split(r.sep)).length>0?e[0]:null}const s=/[<>:"|?*]/;e.exports={getRootPath:i,invalidWin32Path:function(e){const t=i(e);return e=e.replace(t,""),s.test(e)}}},function(e,t,n){e.exports={copySync:n(741)}},function(e,t){e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),s=n(9),o=n(11),a=n(761),c=n(330);class l{constructor(e,t){this.completionSource=new a.CompletionSource(e,t,new c.ItemInfoSource(e)),this.configService=t.get(i.IConfigurationService)}async provideCompletionItems(e,t,n){const r=await this.completionSource.getVsCodeCompletionItems(e,t,n);if(this.configService.isTestExecution())for(let e=0;e<Math.min(3,r.length);e+=1)r[e]=await this.resolveCompletionItem(r[e],n);return r}async resolveCompletionItem(e,t){if(!e.documentation){const n=await this.completionSource.getDocumentation(e,t);n&&n.length>0&&(e.documentation=n[0].tooltip)}return e}}r([s.captureTelemetry(o.EventName.COMPLETION)],l.prototype,"provideCompletionItems",null),t.PythonCompletionItemProvider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(148),i=n(773),s=n(329),o=n(122);var a;!function(e){e[e.None=0]="None",e[e.Single=1]="Single",e[e.Double=2]="Double",e[e.TripleSingle=3]="TripleSingle",e[e.TripleDouble=4]="TripleDouble"}(a||(a={}));class c extends o.TextRange{constructor(e,t,n){super(t,n),this.type=e}}t.Tokenizer=class{constructor(){this.cs=new i.CharacterStream(""),this.tokens=[],this.mode=o.TokenizerMode.Full}tokenize(e,t,n,r){if(void 0===t)t=0;else if(t<0||t>=e.length)throw new Error("Invalid range start");if(void 0===n)n=e.length;else if(n<0||t+n>e.length)throw new Error("Invalid range length");this.mode=void 0!==r?r:o.TokenizerMode.Full,this.cs=new i.CharacterStream(e),this.cs.position=t;const a=t+n;for(;!(this.cs.isEndOfStream()||(this.AddNextToken(),this.cs.position>=a)););return new s.TextRangeCollection(this.tokens)}AddNextToken(){this.cs.skipWhitespace(),this.cs.isEndOfStream()||this.handleCharacter()||this.cs.moveNext()}handleCharacter(){const e=this.getStringPrefixLength();if(e>=0){this.cs.advance(e);const t=this.getQuoteType();if(t!==a.None)return this.handleString(t,e),!0}if(35===this.cs.currentChar)return this.handleComment(),!0;if(this.mode===o.TokenizerMode.CommentsAndStrings)return!1;switch(this.cs.currentChar){case 40:this.tokens.push(new c(o.TokenType.OpenBrace,this.cs.position,1));break;case 41:this.tokens.push(new c(o.TokenType.CloseBrace,this.cs.position,1));break;case 91:this.tokens.push(new c(o.TokenType.OpenBracket,this.cs.position,1));break;case 93:this.tokens.push(new c(o.TokenType.CloseBracket,this.cs.position,1));break;case 123:this.tokens.push(new c(o.TokenType.OpenCurly,this.cs.position,1));break;case 125:this.tokens.push(new c(o.TokenType.CloseCurly,this.cs.position,1));break;case 44:this.tokens.push(new c(o.TokenType.Comma,this.cs.position,1));break;case 59:this.tokens.push(new c(o.TokenType.Semicolon,this.cs.position,1));break;case 58:this.tokens.push(new c(o.TokenType.Colon,this.cs.position,1));break;default:if(this.isPossibleNumber()&&this.tryNumber())return!0;if(46===this.cs.currentChar){this.tokens.push(new c(o.TokenType.Operator,this.cs.position,1));break}return this.tryIdentifier()||this.tryOperator()||this.handleUnknown(),!0}return!1}tryIdentifier(){const e=this.cs.position;if(r.isIdentifierStartChar(this.cs.currentChar))for(this.cs.moveNext();r.isIdentifierChar(this.cs.currentChar);)this.cs.moveNext();return this.cs.position>e&&(this.tokens.push(new c(o.TokenType.Identifier,e,this.cs.position-e)),!0)}isPossibleNumber(){if(r.isDecimal(this.cs.currentChar))return!0;if(46===this.cs.currentChar&&r.isDecimal(this.cs.nextChar))return!0;const e=45===this.cs.currentChar||43===this.cs.currentChar?1:0;if(r.isDecimal(this.cs.lookAhead(e))||46===this.cs.lookAhead(e)){if(0===this.tokens.length)return!0;const e=this.tokens[this.tokens.length-1];if(e.type===o.TokenType.OpenBrace||e.type===o.TokenType.OpenBracket||e.type===o.TokenType.Comma||e.type===o.TokenType.Colon||e.type===o.TokenType.Semicolon||e.type===o.TokenType.Operator)return!0}if(48===this.cs.lookAhead(e)){const t=this.cs.lookAhead(e+1);if(120===t||88===t)return!0;if(98===t||66===t)return!0;if(111===t||79===t)return!0}return!1}tryNumber(){const e=this.cs.position;let t=0;if(45!==this.cs.currentChar&&43!==this.cs.currentChar||(this.cs.moveNext(),t=1),48===this.cs.currentChar){let n=0;if((120===this.cs.nextChar||88===this.cs.nextChar)&&r.isHex(this.cs.lookAhead(2))){for(this.cs.advance(2);r.isHex(this.cs.currentChar);)this.cs.moveNext();n=16}if((98===this.cs.nextChar||66===this.cs.nextChar)&&r.isBinary(this.cs.lookAhead(2))){for(this.cs.advance(2);r.isBinary(this.cs.currentChar);)this.cs.moveNext();n=2}if((111===this.cs.nextChar||79===this.cs.nextChar)&&r.isOctal(this.cs.lookAhead(2))){for(this.cs.advance(2);r.isOctal(this.cs.currentChar);)this.cs.moveNext();n=8}if(n>0){const r=this.cs.getText().substr(e+t,this.cs.position-e-t);if(!isNaN(parseInt(r,n)))return this.tokens.push(new c(o.TokenType.Number,e,r.length+t)),!0}}let n=!1;if(this.cs.currentChar>=49&&this.cs.currentChar<=57){for(;r.isDecimal(this.cs.currentChar);)this.cs.moveNext();n=46!==this.cs.currentChar&&101!==this.cs.currentChar&&69!==this.cs.currentChar}if(48===this.cs.currentChar){for(;48===this.cs.currentChar||95===this.cs.currentChar;)this.cs.moveNext();n=46!==this.cs.currentChar&&101!==this.cs.currentChar&&69!==this.cs.currentChar}if(n){const n=this.cs.getText().substr(e+t,this.cs.position-e-t);if(!isNaN(parseInt(n,10)))return this.tokens.push(new c(o.TokenType.Number,e,n.length+t)),!0}if((this.cs.currentChar>=48&&this.cs.currentChar<=57||46===this.cs.currentChar&&this.cs.nextChar>=48&&this.cs.nextChar<=57)&&this.skipFloatingPointCandidate(!1)){const t=this.cs.getText().substr(e,this.cs.position-e);if(!isNaN(parseFloat(t)))return this.tokens.push(new c(o.TokenType.Number,e,this.cs.position-e)),!0}return this.cs.position=e,!1}tryOperator(){let e=0;const t=this.cs.nextChar;switch(this.cs.currentChar){case 43:case 38:case 124:case 94:case 61:case 33:case 37:case 126:e=61===t?2:1;break;case 45:e=61===t||62===t?2:1;break;case 42:e=42===t?61===this.cs.lookAhead(2)?3:2:61===t?2:1;break;case 47:e=47===t?61===this.cs.lookAhead(2)?3:2:61===t?2:1;break;case 60:e=62===t?2:60===t?61===this.cs.lookAhead(2)?3:2:61===t?2:1;break;case 62:e=62===t?61===this.cs.lookAhead(2)?3:2:61===t?2:1;break;case 64:e=61===t?2:1;break;default:return!1}return this.tokens.push(new c(o.TokenType.Operator,this.cs.position,e)),this.cs.advance(e),e>0}handleUnknown(){const e=this.cs.position;this.cs.skipToWhitespace();const t=this.cs.position-e;return t>0&&(this.tokens.push(new c(o.TokenType.Unknown,e,t)),!0)}handleComment(){const e=this.cs.position;this.cs.skipToEol(),this.tokens.push(new c(o.TokenType.Comment,e,this.cs.position-e))}getStringPrefixLength(){if(39===this.cs.currentChar||34===this.cs.currentChar)return 0;if(39===this.cs.nextChar||34===this.cs.nextChar)switch(this.cs.currentChar){case 102:case 70:case 114:case 82:case 98:case 66:case 117:case 85:return 1}if(39===this.cs.lookAhead(2)||34===this.cs.lookAhead(2))switch(this.cs.getText().substr(this.cs.position,2).toLowerCase()){case"rf":case"ur":case"br":return 2}return-1}getQuoteType(){return 39===this.cs.currentChar?39===this.cs.nextChar&&39===this.cs.lookAhead(2)?a.TripleSingle:a.Single:34===this.cs.currentChar?34===this.cs.nextChar&&34===this.cs.lookAhead(2)?a.TripleDouble:a.Double:a.None}handleString(e,t){const n=this.cs.position-t;e===a.Single||e===a.Double?(this.cs.moveNext(),this.skipToSingleEndQuote(e===a.Single?39:34)):(this.cs.advance(3),this.skipToTripleEndQuote(e===a.TripleSingle?39:34)),this.tokens.push(new c(o.TokenType.String,n,this.cs.position-n))}skipToSingleEndQuote(e){for(;!this.cs.isEndOfStream();){if(10===this.cs.currentChar||13===this.cs.currentChar)return;if(92!==this.cs.currentChar||this.cs.nextChar!==e){if(this.cs.currentChar===e)break;this.cs.moveNext()}else this.cs.advance(2)}this.cs.moveNext()}skipToTripleEndQuote(e){for(;!this.cs.isEndOfStream()&&(this.cs.currentChar!==e||this.cs.nextChar!==e||this.cs.lookAhead(2)!==e);)this.cs.moveNext();this.cs.advance(3)}skipFloatingPointCandidate(e){const t=this.cs.position;return this.skipFractionalNumber(e),this.cs.position>t&&(101!==this.cs.currentChar&&69!==this.cs.currentChar||this.cs.moveNext(),this.skipDecimalNumber(!0)),this.cs.position>t}skipFractionalNumber(e){this.skipDecimalNumber(e),46===this.cs.currentChar&&this.cs.moveNext(),this.skipDecimalNumber(!1)}skipDecimalNumber(e){for(!e||45!==this.cs.currentChar&&43!==this.cs.currentChar||this.cs.moveNext();r.isDecimal(this.cs.currentChar);)this.cs.moveNext()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TextRangeCollection=class{constructor(e){this.items=e}get start(){return this.items.length>0?this.items[0].start:0}get end(){return this.items.length>0?this.items[this.items.length-1].end:0}get length(){return this.end-this.start}get count(){return this.items.length}contains(e){return e>=this.start&&e<this.end}getItemAt(e){if(e<0||e>=this.items.length)throw new Error("index is out of range");return this.items[e]}getItemAtPosition(e){if(0===this.count)return-1;if(e<this.start)return-1;if(e>=this.end)return-1;let t=0,n=this.count-1;for(;t<=n;){const r=Math.floor(t+(n-t)/2),i=this.items[r];if(i.start===e)return r;e<i.start?n=r-1:t=r+1}return-1}getItemContaining(e){if(0===this.count)return-1;if(e<this.start)return-1;if(e>this.end)return-1;let t=0,n=this.count-1;for(;t<=n;){const r=Math.floor(t+(n-t)/2),i=this.items[r];if(i.contains(e))return r;if(r<this.count-1&&i.end<=e&&e<this.items[r+1].start)return-1;e<i.start?n=r-1:t=r+1}return-1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),i=n(2),s=n(775),o=n(89);class a{constructor(e,t,n){this.tooltip=e,this.detail=t,this.signature=n}}t.LanguageItemInfo=a;t.ItemInfoSource=class{constructor(e){this.jediFactory=e,this.textConverter=new s.RestTextConverter}async getItemInfoFromText(e,t,n,r,i){const s=await this.getHoverResultFromTextRange(e,t,n,r,i);if(s&&s.items.length)return this.getItemInfoFromHoverResult(s,"")}async getItemInfoFromDocument(e,t,n){const r=e.getWordRangeAtPosition(t);if(!r||r.isEmpty)return;const i=await this.getHoverResultFromDocument(e,t,n);if(!i||!i.items.length)return;const s=e.getText(r);return this.getItemInfoFromHoverResult(i,s)}async getHoverResultFromDocument(e,t,n){if(t.character<=0||e.lineAt(t.line).text.match(/^\s*\/\//))return;const r=e.getWordRangeAtPosition(t);return r&&!r.isEmpty?this.getHoverResultFromDocumentRange(e,r,n):void 0}async getHoverResultFromDocumentRange(e,t,n){const r={command:o.CommandType.Hover,fileName:e.fileName,columnIndex:t.end.character,lineIndex:t.end.line};return e.isDirty&&(r.source=e.getText()),this.jediFactory.getJediProxyHandler(e.uri).sendCommand(r,n)}async getHoverResultFromTextRange(e,t,n,r,i){const s={command:o.CommandType.Hover,fileName:t,columnIndex:n.end.character,lineIndex:n.end.line,source:r};return this.jediFactory.getJediProxyHandler(e).sendCommand(s,i)}getItemInfoFromHoverResult(e,t){const n=[];return e.items.forEach(e=>{const s=this.getSignature(e,t);let o=new i.MarkdownString;if(e.docstring){let c=e.docstring.split(/\r?\n/);if(c.length>0&&0===e.signature.indexOf(c[0])){c.shift();const t=c.findIndex(t=>e.signature.endsWith(t));t>=0&&(c=c.filter((e,n)=>n>t))}c.length>0&&t.length>0&&e.signature.startsWith(t)&&c[0].startsWith(t)&&c[0].endsWith(")")&&c.shift(),s.length>0&&(o=o.appendMarkdown(["```python",s,"```",""].join(r.EOL)));const l=this.textConverter.toMarkdown(c.join(r.EOL));return o=o.appendMarkdown(l),void n.push(new a(o,e.description,new i.MarkdownString(s)))}if(e.description){s.length>0&&o.appendMarkdown(["```python",s,"```",""].join(r.EOL));const t=this.textConverter.toMarkdown(e.description);return o.appendMarkdown(t),void n.push(new a(o,e.description,new i.MarkdownString(s)))}if(e.text){const s=t&&t.length>0?`${t}: ${e.text}`:e.text;o.appendMarkdown(["```python",s,"```",""].join(r.EOL)),n.push(new a(o,"",new i.MarkdownString))}}),n}getSignature(e,t){let{signature:n}=e;switch(e.kind){case i.SymbolKind.Constructor:case i.SymbolKind.Function:case i.SymbolKind.Method:n=`def ${n}`;break;case i.SymbolKind.Class:n=`class ${n}`;break;case i.SymbolKind.Module:n.length>0&&(n=`module ${n}`);break;default:n="string"==typeof e.text&&e.text.length>0?e.text:t}return n}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),s=n(9),o=n(11),a=n(89);class c{constructor(e){this.jediFactory=e}static parseData(e,t){if(e&&Array.isArray(e.definitions)&&e.definitions.length>0){const n=e.definitions.filter(e=>e.text===t),r=n.length>0?n[0]:e.definitions[e.definitions.length-1],s=i.Uri.file(r.fileName),o=new i.Range(r.range.startLine,r.range.startColumn,r.range.endLine,r.range.endColumn);return new i.Location(s,o)}}async provideDefinition(e,t,n){const r=e.fileName;if(e.lineAt(t.line).text.match(/^\s*\/\//))return;if(t.character<=0)return;const i=e.getWordRangeAtPosition(t);if(!i)return;const s=i.isEmpty?t.character:i.end.character,o={command:a.CommandType.Definitions,fileName:r,columnIndex:s,lineIndex:t.line};e.isDirty&&(o.source=e.getText());const l=e.getText(i),u=await this.jediFactory.getJediProxyHandler(e.uri).sendCommand(o,n);return u?c.parseData(u,l):void 0}}r([s.captureTelemetry(o.EventName.DEFINITION)],c.prototype,"provideDefinition",null),t.PythonDefinitionProvider=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),s=n(9),o=n(11),a=n(330);class c{constructor(e){this.itemInfoSource=new a.ItemInfoSource(e)}async provideHover(e,t,n){const r=await this.itemInfoSource.getItemInfoFromDocument(e,t,n);if(r)return new i.Hover(r.map(e=>e.tooltip))}}r([s.captureTelemetry(o.EventName.HOVER_DEFINITION)],c.prototype,"provideHover",null),t.PythonHoverProvider=c},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2);n(7);const s=n(6),o=n(69),a=n(20),c=n(17),l=n(781);t.RefactorProxy=class extends i.Disposable{constructor(e,t,n,r){super(()=>{}),this.workspaceRoot=n,this.serviceContainer=r,this._previousOutData="",this._previousStdErrData="",this._startedSuccessfully=!1,this._extensionDir=e}dispose(){try{this._process.kill()}catch(e){}this._process=void 0}getOffsetAt(e,t){if(!o.IS_WINDOWS)return e.offsetAt(t);const n=e.offsetAt(t);return n-l.getWindowsLineEndingCount(e,n)}rename(e,t,n,r,s){s||(s=i.window.activeTextEditor.options);const o={lookup:"rename",file:n,start:this.getOffsetAt(e,r.start).toString(),id:"1",name:t,indent_size:s.tabSize};return this.sendCommand(JSON.stringify(o))}extractVariable(e,t,n,r,s){s||(s=i.window.activeTextEditor.options);const o={lookup:"extract_variable",file:n,start:this.getOffsetAt(e,r.start).toString(),end:this.getOffsetAt(e,r.end).toString(),id:"1",name:t,indent_size:s.tabSize};return this.sendCommand(JSON.stringify(o))}extractMethod(e,t,n,r,s){if(s||(s=i.window.activeTextEditor.options),!e.lineAt(e.lineCount-1).isEmptyOrWhitespace&&r.start.line===e.lineCount-1)return Promise.reject("Missing blank line at the end of document (PEP8).");const o={lookup:"extract_method",file:n,start:this.getOffsetAt(e,r.start).toString(),end:this.getOffsetAt(e,r.end).toString(),id:"1",name:t,indent_size:s.tabSize};return this.sendCommand(JSON.stringify(o))}sendCommand(e){return this.initialize().then(()=>new Promise((t,n)=>{this._commandResolve=t,this._commandReject=n,this._process.stdin.write(e+"\n")}))}async initialize(){const e=await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:i.Uri.file(this.workspaceRoot)});this.initialized=c.createDeferred();const t=["refactor.py",this.workspaceRoot],n=r.join(this._extensionDir,"pythonFiles"),s=e.execObservable(t,{cwd:n});return this._process=s.proc,s.out.subscribe(e=>{if("stdout"===e.source){if(!this._startedSuccessfully&&e.out.startsWith("STARTED"))return this._startedSuccessfully=!0,this.initialized.resolve();this.onData(e.out)}else this.handleStdError(e.out)},e=>this.handleError(e)),this.initialized.promise}handleStdError(e){let t,n=this._previousStdErrData=this._previousStdErrData+e+"";try{t=n.split(/\r?\n/g).filter(e=>e.length>0).map(e=>JSON.parse(e)),this._previousStdErrData=""}catch(e){return void s.traceError(e)}"string"==typeof t[0].message&&0!==t[0].message.length||(t[0].message=t[0].traceback.splitLines().pop());let r=t[0].message+"\n"+t[0].traceback;if(this._startedSuccessfully)this._commandReject(`Refactor failed. ${r}`);else{if("string"==typeof t[0].type&&"ModuleNotFoundError"===t[0].type)return void this.initialized.reject("Not installed");this.initialized.reject(`Refactor failed. ${r}`)}}handleError(e){if(this._startedSuccessfully)return this._commandReject(e);this.initialized.reject(e)}onData(e){if(!this._commandResolve)return;let t,n=this._previousOutData=this._previousOutData+e+"";try{t=n.split(/\r?\n/g).filter(e=>e.length>0).map(e=>JSON.parse(e)),this._previousOutData=""}catch(e){return}this.dispose(),this._commandResolve(t[0]),this._commandResolve=void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function i(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==r.number||e.constructor!==Array)}function s(e){return typeof e===r.string||e instanceof String}function o(e){return!(typeof e!==r.object||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function a(e){return typeof e===r.undefined}t.isArray=i,t.isString=s,t.isStringArray=function(e){return i(e)&&e.every(e=>s(e))},t.isObject=o,t.isNumber=function(e){return(typeof e===r.number||e instanceof Number)&&!isNaN(e)},t.isBoolean=function(e){return!0===e||!1===e},t.isUndefined=a,t.isUndefinedOrNull=function(e){return a(e)||null===e};const c=Object.prototype.hasOwnProperty;function l(e){return typeof e===r.function}t.isEmptyObject=function(e){if(!o(e))return!1;for(let t in e)if(c.call(e,t))return!1;return!0},t.isFunction=l,t.areFunctions=function(...e){return e&&e.length>0&&e.every(l)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(22),s=n(2),o=n(9),a=n(11),c=n(89),l=n(212),u=["\\s*:type\\s*PARAMNAME:\\s*([^\\n, ]+)","\\s*:param\\s*(\\w?)\\s*PARAMNAME:[^\\n]+","\\s*@type\\s*PARAMNAME:\\s*([^\\n, ]+)"];class d{constructor(e){this.jediFactory=e}static parseData(e){if(e&&Array.isArray(e.definitions)&&e.definitions.length>0){const t=new s.SignatureHelp;return t.activeSignature=0,e.definitions.forEach(e=>{let n,r;if(t.activeParameter=e.paramindex,e.params&&e.params.length>0&&e.docstring&&e.docstring.startsWith(`${e.name}(`)){const t=e.docstring.splitLines();n=t.shift().trim(),r=t.join(i.EOL).trim()}else e.params&&e.params.length>0?(n=`${e.name}(${e.params.map(e=>e.name).join(", ")})`,r=e.docstring):(n=e.description,r=e.docstring);const s={label:n,documentation:r,parameters:[]};e.params&&e.params.length&&(s.parameters=e.params.map(t=>(0===t.docstring.length&&(t.docstring=function(e,t){let n="";return e=e.replace(new RegExp("\\*","g"),"\\\\\\*"),u.forEach(r=>{if(n.length>0)return;r=r.replace("PARAMNAME",e);const i=new RegExp(r).exec(t);i&&i.length>0&&((n=i[0]).indexOf(":")>=0&&(n=n.substring(n.indexOf(":")+1)),n.indexOf(":")>=0&&(n=n.substring(n.indexOf(":")+1)))}),n.trim()}(t.name,e.docstring)),{documentation:t.docstring.length>0?t.docstring:t.description,label:t.name.trim()}))),t.signatures.push(s)}),t}return new s.SignatureHelp}provideSignatureHelp(e,t,n){if(t.character<=0||l.isPositionInsideStringOrComment(e,t))return Promise.resolve(new s.SignatureHelp);const r={command:c.CommandType.Arguments,fileName:e.fileName,columnIndex:t.character,lineIndex:t.line,source:e.getText()};return this.jediFactory.getJediProxyHandler(e.uri).sendCommand(r,n).then(e=>e?d.parseData(e):new s.SignatureHelp)}}r([o.captureTelemetry(a.EventName.SIGNATURE)],d.prototype,"provideSignatureHelp",null),t.PythonSignatureProvider=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),s=n(8),o=n(17),a=n(9),c=n(11),l=n(89);function u(e,t,n=""){const r=[],s=new i.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character),o=e.kind-1,a=new i.SymbolInformation(e.name,i.SymbolKind[i.SymbolKind[o]],n,new i.Location(t,s));if(r.push(a),e.children&&e.children.length>0)for(const n of e.children){const i=u(n,t,e.name);r.push(...i)}return r}t.LanguageServerSymbolProvider=class{constructor(e){this.languageClient=e}async provideDocumentSymbols(e,t){const n=e.uri,r={textDocument:{uri:n.toString()}},i=await this.languageClient.sendRequest("textDocument/documentSymbol",r,t),s=[];for(const e of i){const t=u(e,n);s.push(...t)}return Promise.resolve(s)}};class d{constructor(e,t,n=500){this.jediFactory=t,this.debounceTimeoutMs=n,this.debounceRequest=new Map,this.fs=e.get(s.IFileSystem)}provideDocumentSymbols(e,t){return this.provideDocumentSymbolsThrottled(e,t)}provideDocumentSymbolsThrottled(e,t){const n=`${e.uri.fsPath}`;if(this.debounceRequest.has(n)){const e=this.debounceRequest.get(n);clearTimeout(e.timer),e.deferred.resolve([])}const r=o.createDeferred(),i=setTimeout(()=>{if(t.isCancellationRequested)return r.resolve([]);const n=e.fileName,i={command:l.CommandType.Symbols,fileName:n,columnIndex:0,lineIndex:0};e.isDirty&&(i.source=e.getText()),this.jediFactory.getJediProxyHandler(e.uri).sendCommand(i,t).then(t=>this.parseData(e,t)).then(e=>r.resolve(e)).catch(e=>r.reject(e))},this.debounceTimeoutMs);return t.onCancellationRequested(()=>{clearTimeout(i),r.resolve([]),this.debounceRequest.delete(n)}),e.isUntitled||this.debounceRequest.set(n,{timer:i,deferred:r}),r.promise}parseData(e,t){if(t){return t.definitions.filter(t=>this.fs.arePathsSame(t.fileName,e.fileName)).map(e=>{const t=e.kind,n=new i.Range(e.range.startLine,e.range.startColumn,e.range.endLine,e.range.endColumn),r=i.Uri.file(e.fileName),s=new i.Location(r,n);return new i.SymbolInformation(e.text,t,e.container,s)})}return[]}}r([a.captureTelemetry(c.EventName.SYMBOL)],d.prototype,"provideDocumentSymbols",null),t.JediSymbolProvider=d},function(e,t,n){
/*!
 * Tmp
 *
 * Copyright (c) 2011-2015 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
var r=n(26),i=n(3),s=n(58),o=n(796),a=n(207),c=o(),l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u=/XXXXXX/,d=3,h=a.O_CREAT|a.O_EXCL|a.O_RDWR,p=448,f=384,m=[],g=!1,y=!1;function v(e){var t=[],n=null;try{n=s.randomBytes(e)}catch(t){n=s.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(l[n[r]%l.length]);return t.join("")}function _(e,t){if("function"==typeof e){var n=e;e=t||{},t=n}else void 0===e&&(e={});return[e,t]}function b(e){if(e.name)return i.join(e.dir||c,e.name);if(e.template)return e.template.replace(u,v(6));var t=[e.prefix||"tmp-",process.pid,v(12),e.postfix||""].join("");return i.join(e.dir||c,t)}function S(e,t){var n=_(e,t),i=n[0],s=n[1],o=i.tries||d;return isNaN(o)||o<0?s(new Error("Invalid tries")):i.template&&!i.template.match(u)?s(new Error("Invalid template provided")):void function e(){var t=b(i);r.stat(t,function(n){if(!n)return o-- >0?e():s(new Error("Could not get a unique tmp filename, max tries reached "+t));s(null,t)})}()}function w(e){var t=_(e)[0],n=t.tries||d;if(isNaN(n)||n<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(u))throw new Error("Invalid template provided");do{var i=b(t);try{r.statSync(i)}catch(e){return i}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function C(e){var t=[e];do{for(var n=t.pop(),s=!1,o=r.readdirSync(n),a=0,c=o.length;a<c;a++){var l=i.join(n,o[a]);r.lstatSync(l).isDirectory()?(s||(s=!0,t.push(n)),t.push(l)):r.unlinkSync(l)}s||r.rmdirSync(n)}while(0!==t.length)}function E(e,t,n){var i=D(function(e){try{r.closeSync(e[0])}catch(e){if(e.errno!=-a.EBADF&&e.errno!=-a.ENOENT)throw e}r.unlinkSync(e[1])},[t,e]);return n.keep||m.unshift(i),i}function T(e,t){var n=D(t.unsafeCleanup?C:r.rmdirSync.bind(r),e);return t.keep||m.unshift(n),n}function D(e,t){var n=!1;return function r(){if(!n){var i=m.indexOf(r);i>=0&&m.splice(i,1),n=!0,e(t)}}}function P(){if(!y||g)for(var e=0,t=m.length;e<t;e++)try{m[e].call(null)}catch(e){}}var k=process.versions.node.split(".").map(function(e){return parseInt(e,10)});0===k[0]&&(k[1]<9||9===k[1]&&k[2]<5)&&process.addListener("uncaughtException",function(e){throw y=!0,P(),e}),process.addListener("exit",function(e){e&&(y=!0),P()}),e.exports.tmpdir=c,e.exports.dir=function(e,t){var n=_(e,t),i=n[0],s=n[1];S(i,function(e,t){if(e)return s(e);r.mkdir(t,i.mode||p,function(e){if(e)return s(e);s(null,t,T(t,i))})})},e.exports.dirSync=function(e){var t=_(e)[0],n=w(t);return r.mkdirSync(n,t.mode||p),{name:n,removeCallback:T(n,t)}},e.exports.file=function(e,t){var n=_(e,t),i=n[0],s=n[1];i.postfix=void 0===i.postfix?".tmp":i.postfix,S(i,function(e,t){if(e)return s(e);r.open(t,h,i.mode||f,function(e,n){if(e)return s(e);s(null,t,n,E(t,n,i))})})},e.exports.fileSync=function(e){var t=_(e)[0];t.postfix=t.postfix||".tmp";var n=w(t),i=r.openSync(n,h,t.mode||f);return{name:n,fd:i,removeCallback:E(n,i,t)}},e.exports.tmpName=S,e.exports.tmpNameSync=w,e.exports.setGracefulCleanup=function(){g=!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.CompletionItem{constructor(e){super(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.CodeLens{constructor(e){super(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.DocumentLink{constructor(e,t){super(e,t)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(837),a=n(10);var c;t.azureCDNBlobStorageAccount="https://pvsc.azureedge.net",function(e){e.stable="stable",e.beta="beta",e.daily="daily"}(t.LanguageServerDownloadChannel||(t.LanguageServerDownloadChannel={})),function(e){e.stable="python-language-server-stable",e.beta="python-language-server-beta",e.daily="python-language-server-daily"}(c=t.LanguageServerPackageStorageContainers||(t.LanguageServerPackageStorageContainers={}));let l=class extends o.AzureBlobStoreNugetRepository{constructor(e){super(e,"https://pvsc.blob.core.windows.net",c.stable,t.azureCDNBlobStorageAccount)}};l=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],l),t.StableLanguageServerPackageRepository=l;let u=class extends o.AzureBlobStoreNugetRepository{constructor(e){super(e,"https://pvsc.blob.core.windows.net",c.beta,t.azureCDNBlobStorageAccount)}};u=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],u),t.BetaLanguageServerPackageRepository=u;let d=class extends o.AzureBlobStoreNugetRepository{constructor(e){super(e,"https://pvsc.blob.core.windows.net",c.daily,t.azureCDNBlobStorageAccount)}};d=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],d),t.DailyLanguageServerPackageRepository=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4);n(7);const l=n(6),u=n(1),d=n(12),h=n(93),p=n(40),f=n(14),m=n(10),g=n(86),y=n(87),v=n(88),_=n(79),b=n(38),S={[v.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic]:d.Diagnostics.invalidPythonPathInDebuggerSettings(),[v.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic]:d.Diagnostics.invalidPythonPathInDebuggerLaunch()};class w extends g.BaseDiagnostic{constructor(e,t){super(e,S[e],a.DiagnosticSeverity.Error,b.DiagnosticScope.WorkspaceFolder,t,"always")}}t.InvalidPythonPathInDebuggerDiagnostic=w,t.InvalidPythonPathInDebuggerServiceId="InvalidPythonPathInDebuggerServiceId";let C=class extends g.BaseDiagnosticsService{constructor(e,t,n,r,i,s,o,a){super([v.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic,v.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic],e,o,!0),this.workspace=t,this.commandFactory=n,this.interpreterHelper=r,this.documentManager=i,this.configService=s,this.messageService=a}async diagnose(e){return[]}async validatePythonPath(e,t,n){return"${config:python.pythonPath}"!==(e=e?this.resolveVariables(e,n):void 0)&&e||(e=this.configService.getSettings(n).pythonPath),!!await this.interpreterHelper.getInterpreterInformation(e).catch(()=>void 0)||(l.traceError(`Invalid Python Path '${e}'`),t===p.PythonPathSource.launchJson?this.handle([new w(v.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic,n)]).catch(e=>l.traceError("Failed to handle invalid python path in launch.json debugger",e)).ignoreErrors():this.handle([new w(v.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic,n)]).catch(e=>l.traceError("Failed to handle invalid python path in settings.json debugger",e)).ignoreErrors(),!1)}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0],n=this.getCommandPrompts(t);await this.messageService.handle(t,{commandPrompts:n})}resolveVariables(e,t){return new h.SystemVariables(t,void 0,this.workspace).resolveAny(e)}getCommandPrompts(e){switch(e.code){case v.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic:case v.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic:return[];default:throw new Error("Invalid diagnostic for 'InvalidPythonPathInDebuggerService'")}}getLaunchJsonFile(e){return o.join(e.uri.fsPath,".vscode","launch.json")}};C=r([s.injectable(),i(0,s.inject(m.IServiceContainer)),i(1,s.inject(c.IWorkspaceService)),i(2,s.inject(y.IDiagnosticsCommandFactory)),i(3,s.inject(f.IInterpreterHelper)),i(4,s.inject(c.IDocumentManager)),i(5,s.inject(u.IConfigurationService)),i(6,s.inject(u.IDisposableRegistry)),i(7,s.inject(b.IDiagnosticHandlerService)),i(7,s.named(_.DiagnosticCommandPromptHandlerServiceId))],C),t.InvalidPythonPathInDebuggerService=C},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2);n(7);const a=n(6),c=n(851),l=n(1),u=n(10),d=n(9),h=n(11),p=n(86),f=n(87),m=n(88),g=n(79),y=n(38),v="Activation of the selected Python environment is not supported in PowerShell. Consider changing your shell to Command Prompt.";t.PowershellActivationNotAvailableDiagnostic=class extends p.BaseDiagnostic{constructor(e){super(m.DiagnosticCodes.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic,v,o.DiagnosticSeverity.Warning,y.DiagnosticScope.Global,e,"always")}},t.PowerShellActivationHackDiagnosticsServiceId="EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic";let _=class extends p.BaseDiagnosticsService{constructor(e,t){super([m.DiagnosticCodes.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic],e,t,!0),this.messageService=e.get(y.IDiagnosticHandlerService,g.DiagnosticCommandPromptHandlerServiceId)}async diagnose(e){return[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(f.IDiagnosticsCommandFactory),r=this.serviceContainer.get(l.ICurrentProcess),i=this.serviceContainer.get(l.IConfigurationService),s=[{prompt:"Use Command Prompt",command:{diagnostic:t,invoke:async()=>{d.sendTelemetryEvent(h.EventName.DIAGNOSTICS_ACTION,void 0,{action:"switchToCommandPrompt"}),c.useCommandPromptAsDefaultShell(r,i).catch(e=>a.Logger.error("Use Command Prompt as default shell",e))}}},{prompt:"Ignore"},{prompt:"Always Ignore",command:n.createCommand(t,{type:"ignore",options:y.DiagnosticScope.Global})},{prompt:"More Info",command:n.createCommand(t,{type:"launch",options:"https://aka.ms/CondaPwsh"})}];await this.messageService.handle(t,{commandPrompts:s})}};_=r([s.injectable(),i(0,s.inject(u.IServiceContainer)),i(1,s.inject(l.IDisposableRegistry))],_),t.PowerShellActivationHackDiagnosticsService=_},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2);let a=r=class{get activeDebugConsole(){return o.debug.activeDebugConsole}get activeDebugSession(){return o.debug.activeDebugSession}get breakpoints(){return o.debug.breakpoints}get onDidChangeActiveDebugSession(){return o.debug.onDidChangeActiveDebugSession}get onDidStartDebugSession(){return o.debug.onDidStartDebugSession}get onDidReceiveDebugSessionCustomEvent(){return o.debug.onDidReceiveDebugSessionCustomEvent}get onDidTerminateDebugSession(){return o.debug.onDidTerminateDebugSession}get onDidChangeBreakpoints(){return o.debug.onDidChangeBreakpoints}registerDebugConfigurationProvider(e,t){return o.debug.registerDebugConfigurationProvider(e,t)}registerDebugAdapterTrackerFactory(e,t){return o.debug.registerDebugAdapterTrackerFactory(e,t)}startDebugging(e,t,n){return o.debug.startDebugging(e,t,n)}addBreakpoints(e){o.debug.addBreakpoints(e)}removeBreakpoints(e){o.debug.removeBreakpoints(e)}registerDebugAdapterDescriptorFactory(e,t){return o.debug.registerDebugAdapterDescriptorFactory(e,t)}};a.instance=new r,a=r=i([s.injectable()],a),t.DebugService=a},function(e,t,n){e.exports=u,u.realpath=u,u.sync=d,u.realpathSync=d,u.monkeypatch=function(){r.realpath=u,r.realpathSync=d},u.unmonkeypatch=function(){r.realpath=i,r.realpathSync=s};var r=n(26),i=r.realpath,s=r.realpathSync,o=process.version,a=/^v[0-5]\./.test(o),c=n(879);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,function(r,i){l(r)?c.realpath(e,t,n):n(r,i)})}function d(e,t){if(a)return s(e,t);try{return s(e,t)}catch(n){if(l(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var s=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==s):e.cwd=s;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=o(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var s=e.matches[r];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);t?n.push.apply(n,o):o.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:l));if(e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[d(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!h(e,t)}));e.found=n},t.mark=function(e,t){var n=d(e,t),r=e.cache[n],i=t;if(r){var s="DIR"===r||Array.isArray(r),o="/"===t.slice(-1);if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==t){var a=d(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=h,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var i=n(3),s=n(158),o=n(223),a=s.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):o(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function h(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}}},function(e,t,n){var r=n(348);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(s),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},function(e,t,n){"use strict";var r=n(103).Buffer,i=n(889),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,n){e=""+(e||"");var i=s.getEncoder(t,n),o=i.write(e),a=i.end();return a&&a.length>0?r.concat([o,a]):o},s.decode=function(e,t,n){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=r.from(""+(e||""),"binary"));var i=s.getDecoder(t,n),o=i.write(e),a=i.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=n(890));for(var t=s._canonicalizeEncoding(e),r={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)r[a]=o[a];r.encodingName||(r.encodingName=t),t=o.type;break;case"function":return r.encodingName||(r.encodingName=t),i=new o(r,s),s._codecDataCache[r.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var n=s.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new i.PrependBOM(r,t)),r},s.getDecoder=function(e,t){var n=s.getCodec(e),r=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(r=new i.StripBOM(r,t)),r};var o="undefined"!=typeof process&&process.versions&&process.versions.node;if(o){var a=o.split(".").map(Number);(a[0]>0||a[1]>=10)&&n(904)(s),n(905)(s)}},function(e){e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENCODING="utf8"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59),i=n(56),s=n(159),o=n(17),a=n(353),c=n(20);class l extends i.EventEmitter{constructor(e,t){super(),this.decoder=e,this.env=t,this.processesToKill=new Set}static isAlive(e){try{return process.kill(e,0),!0}catch(e){return!1}}static kill(e){try{"win32"===process.platform?r.execSync(`taskkill /pid ${e} /T /F`):process.kill(e)}catch(e){}}dispose(){this.removeAllListeners(),this.processesToKill.forEach(e=>{try{e.dispose()}catch(e){}})}execObservable(e,t,n={}){const i=this.getDefaultOptions(n),o=i.encoding?i.encoding:"utf8",a=r.spawn(e,t,i);let u=!1;const d={dispose:()=>{!a||a.killed||u||l.kill(a.pid),a&&a.unref()}};this.processesToKill.add(d);const h=new s.Observable(e=>{const t=[],r=(e,n,r)=>{e.on(n,r),t.push({dispose:()=>e.removeListener(n,r)})};n.token&&t.push(n.token.onCancellationRequested(()=>{u||a.killed||(a.kill(),u=!0)}));const i=(t,r)=>{const i=this.decoder.decode([r],o);"stderr"===t&&n.throwOnStdErr?e.error(new c.StdErrError(i)):e.next({source:t,out:i})};r(a.stdout,"data",e=>i("stdout",e)),r(a.stderr,"data",e=>i("stderr",e)),a.once("close",()=>{u=!0,e.complete(),t.forEach(e=>e.dispose())}),a.once("exit",()=>{u=!0,e.complete(),t.forEach(e=>e.dispose())}),a.once("error",n=>{u=!0,e.error(n),t.forEach(e=>e.dispose())})});return this.emit("exec",e,t,n),{proc:a,out:h,dispose:d.dispose}}exec(e,t,n={}){const i=this.getDefaultOptions(n),s=i.encoding?i.encoding:"utf8",a=r.spawn(e,t,i),l=o.createDeferred(),u={dispose:()=>{a.killed||l.completed||a.kill()}};this.processesToKill.add(u);const d=[],h=(e,t,n)=>{e.on(t,n),d.push({dispose:()=>e.removeListener(t,n)})};n.token&&d.push(n.token.onCancellationRequested(u.dispose));const p=[];h(a.stdout,"data",e=>p.push(e));const f=[];return h(a.stderr,"data",e=>{n.mergeStdOutErr?(p.push(e),f.push(e)):f.push(e)}),a.once("close",()=>{if(l.completed)return;const e=0===f.length?void 0:this.decoder.decode(f,s);if(e&&e.length>0&&n.throwOnStdErr)l.reject(new c.StdErrError(e));else{const t=this.decoder.decode(p,s);l.resolve({stdout:t,stderr:e})}d.forEach(e=>e.dispose())}),a.once("error",e=>{l.reject(e),d.forEach(e=>e.dispose())}),this.emit("exec",e,t,n),l.promise}shellExec(e,t={}){const n=this.getDefaultOptions(t);return new Promise((t,i)=>{const s=r.exec(e,n,(e,r,s)=>{e&&null!==e?i(e):n.throwOnStdErr&&s&&s.length?i(new Error(s)):t({stderr:s&&s.length>0?s:void 0,stdout:r})}),o={dispose:()=>{s.killed||s.kill()}};this.processesToKill.add(o)})}getDefaultOptions(e){const t={...e},n=t;if(n){const e=n.encoding="string"==typeof n.encoding&&n.encoding.length>0?n.encoding:a.DEFAULT_ENCODING;delete n.encoding,n.encoding=e}if(t.env&&0!==Object.keys(t.env).length)t.env={...t.env};else{const e=this.env?this.env:process.env;t.env={...e}}return t.env.PYTHONUNBUFFERED="1",t.env.PYTHONIOENCODING||(t.env.PYTHONIOENCODING="utf-8"),t}}t.ProcessService=l},function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){"use strict";t.errorObject={e:{}}},function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=n(228).root.Symbol;t.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(3),o=n(13),a=n(360),c=n(214),l=n(6),u=n(8),d=n(17),h=n(35),p=n(224);let f=class{constructor(e,t,n){this.procService=t,this.pythonPath=n,this.fileSystem=e.get(u.IFileSystem)}async getInterpreterInformation(){const e=s.join(o.EXTENSION_ROOT_DIR,"pythonFiles","interpreterInfo.py");try{const t=await d.waitForPromise(this.procService.exec(this.pythonPath,[e],{mergeStdOutErr:!0}),5e3).then(e=>e?e.stdout.trim():"--timed out--");let n;try{n=JSON.parse(t)}catch(e){return void l.traceError(`Failed to parse interpreter information for '${this.pythonPath}' with JSON ${t}`,e)}const r=4===n.versionInfo.length?`${n.versionInfo.slice(0,3).join(".")}-${n.versionInfo[3]}`:n.versionInfo.join(".");return{architecture:n.is64Bit?h.Architecture.x64:h.Architecture.x86,path:this.pythonPath,version:p.parsePythonVersion(r),sysVersion:n.sysVersion,sysPrefix:n.sysPrefix}}catch(e){l.traceError(`Failed to get interpreter information for '${this.pythonPath}'`,e)}}async getExecutablePath(){return await this.fileSystem.fileExists(this.pythonPath)?this.pythonPath:this.procService.exec(this.pythonPath,["-c","import sys;print(sys.executable)"],{throwOnStdErr:!0}).then(e=>e.stdout.trim())}async isModuleInstalled(e){return this.procService.exec(this.pythonPath,["-c",`import ${e}`],{throwOnStdErr:!0}).then(()=>!0).catch(()=>!1)}execObservable(e,t){const n={...t};return this.procService.execObservable(this.pythonPath,e,n)}execModuleObservable(e,t,n){const r={...n};return this.procService.execObservable(this.pythonPath,["-m",e,...t],r)}async exec(e,t){const n={...t};return this.procService.exec(this.pythonPath,e,n)}async execModule(e,t,n){const r={...n},i=await this.procService.exec(this.pythonPath,["-m",e,...t],r);if(e&&a.ErrorUtils.outputHasModuleNotInstalledError(e,i.stderr)){if(!await this.isModuleInstalled(e))throw new c.ModuleNotInstalledError(e)}return i}};f=r([i.injectable()],f),t.PythonExecutionService=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ErrorUtils=class{static outputHasModuleNotInstalledError(e,t){return!(!t||!(t.indexOf(`No module named ${e}`)>0||t.indexOf(`No module named '${e}'`)>0))}}},function(e,t,n){var r=t;r.utils=n(64),r.common=n(128),r.sha=n(922),r.ripemd=n(926),r.hmac=n(927),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";var r=n(64).rotr32;function i(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}function o(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?o(t,n,r):2===e?s(t,n,r):void 0},t.ch32=i,t.maj32=s,t.p32=o,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(64),i=n(128),s=n(362),o=n(127),a=r.sum32,c=r.sum32_4,l=r.sum32_5,u=s.ch32,d=s.maj32,h=s.s0_256,p=s.s1_256,f=s.g0_256,m=s.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(v,g),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(m(n[r-2]),n[r-7],f(n[r-15]),n[r-16]);var i=this.h[0],s=this.h[1],g=this.h[2],y=this.h[3],v=this.h[4],_=this.h[5],b=this.h[6],S=this.h[7];for(o(this.k.length===n.length),r=0;r<n.length;r++){var w=l(S,p(v),u(v,_,b),this.k[r],n[r]),C=a(h(i),d(i,s,g));S=b,b=_,_=v,v=a(y,w),y=g,g=s,s=i,i=a(w,C)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],_),this.h[6]=a(this.h[6],b),this.h[7]=a(this.h[7],S)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(64),i=n(128),s=n(127),o=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,l=r.shr64_lo,u=r.sum64,d=r.sum64_hi,h=r.sum64_lo,p=r.sum64_4_hi,f=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function b(e,t,n,r,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function S(e,t,n,r,i,s){var o=t&r^~t&s;return o<0&&(o+=4294967296),o}function w(e,t,n,r,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function C(e,t,n,r,i,s){var o=t&r^t&s^r&s;return o<0&&(o+=4294967296),o}function E(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function D(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function P(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=o(e,t,1)^o(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function M(e,t){var n=o(e,t,19)^o(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function x(e,t){var n=a(e,t,19)^a(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(_,y),e.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=M(n[r-4],n[r-3]),s=x(n[r-4],n[r-3]),o=n[r-14],a=n[r-13],c=k(n[r-30],n[r-29]),l=I(n[r-30],n[r-29]),u=n[r-32],d=n[r-31];n[r]=p(i,s,o,a,c,l,u,d),n[r+1]=f(i,s,o,a,c,l,u,d)}},_.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],p=this.h[6],f=this.h[7],y=this.h[8],v=this.h[9],_=this.h[10],k=this.h[11],I=this.h[12],M=this.h[13],x=this.h[14],A=this.h[15];s(this.k.length===n.length);for(var O=0;O<n.length;O+=2){var L=x,R=A,j=D(y,v),F=P(y,v),N=b(y,v,_,k,I),Y=S(y,v,_,k,I,M),B=this.k[O],H=this.k[O+1],W=n[O],U=n[O+1],V=m(L,R,j,F,N,Y,B,H,W,U),$=g(L,R,j,F,N,Y,B,H,W,U);L=E(r,i),R=T(r,i),j=w(r,i,o,a,c),F=C(r,i,o,a,c,l);var q=d(L,R,j,F),G=h(L,R,j,F);x=I,A=M,I=_,M=k,_=y,k=v,y=d(p,f,V,$),v=h(f,f,V,$),p=c,f=l,c=o,l=a,o=r,a=i,r=d(V,$,q,G),i=h(V,$,q,G)}u(this.h,0,r,i),u(this.h,2,o,a),u(this.h,4,c,l),u(this.h,6,p,f),u(this.h,8,y,v),u(this.h,10,_,k),u(this.h,12,I,M),u(this.h,14,x,A)},_.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IImportTracker=Symbol("IImportTracker")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);let o=class{get onDidChangeConfiguration(){return s.workspace.onDidChangeConfiguration}get rootPath(){return Array.isArray(s.workspace.workspaceFolders)?s.workspace.workspaceFolders[0].uri.fsPath:void 0}get workspaceFolders(){return s.workspace.workspaceFolders}get onDidChangeWorkspaceFolders(){return s.workspace.onDidChangeWorkspaceFolders}get hasWorkspaceFolders(){return Array.isArray(s.workspace.workspaceFolders)&&s.workspace.workspaceFolders.length>0}getConfiguration(e,t){return s.workspace.getConfiguration(e,t||null)}getWorkspaceFolder(e){return e?s.workspace.getWorkspaceFolder(e):void 0}asRelativePath(e,t){return s.workspace.asRelativePath(e,t)}createFileSystemWatcher(e,t,n,r){return s.workspace.createFileSystemWatcher(e,n,n,r)}findFiles(e,t,n,r){return s.workspace.findFiles(e,t,n,r)}getWorkspaceFolderIdentifier(e,t=""){const n=e?s.workspace.getWorkspaceFolder(e):void 0;return n?n.uri.fsPath:t}};o=r([i.injectable()],o),t.WorkspaceService=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);function o(e){s.env.openExternal(s.Uri.parse(e))}t.launch=o;let a=class{launch(e){o(e)}};a=r([i.injectable()],a),t.BrowserService=a},function(e,t){e.exports=require("./node_modules/request")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(3),o=n(8),a=n(1);let c=class{constructor(e){this.serviceContainer=e}getActivationCommands(e,t){const n=this.serviceContainer.get(a.IConfigurationService).getSettings(e).pythonPath;return this.getActivationCommandsForInterpreter(n,t)}async findScriptFile(e,t){const n=this.serviceContainer.get(o.IFileSystem);for(const r of t){const t=s.join(s.dirname(e),r);if(await n.fileExists(t))return t}}};c=r([i.injectable()],c),t.BaseActivationCommandProvider=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4);class c{constructor(){}}t.InputFlowAction=c,c.back=new c,c.cancel=new c,c.resume=new c;class l{constructor(e){this.shell=e,this.steps=[]}run(e,t){return this.stepThrough(e,t)}async showQuickPick({title:e,step:t,totalSteps:n,items:r,activeItem:i,placeholder:s,buttons:a,shouldResume:l}){const u=[];try{return await new Promise((d,h)=>{const p=this.shell.createQuickPick();p.title=e,p.step=t,p.totalSteps=n,p.placeholder=s,p.ignoreFocusOut=!0,p.items=r,i&&(p.activeItems=[i]),p.buttons=[...this.steps.length>1?[o.QuickInputButtons.Back]:[],...a||[]],u.push(p.onDidTriggerButton(e=>{e===o.QuickInputButtons.Back?h(c.back):d(e)}),p.onDidChangeSelection(e=>d(e[0])),p.onDidHide(()=>{(async()=>{h(l&&await l()?c.resume:c.cancel)})().catch(h)})),this.current&&this.current.dispose(),this.current=p,this.current.show()})}finally{u.forEach(e=>e.dispose())}}async showInputBox({title:e,step:t,totalSteps:n,value:r,prompt:i,validate:s,buttons:a,shouldResume:l}){const u=[];try{return await new Promise((d,h)=>{const p=this.shell.createInputBox();p.title=e,p.step=t,p.totalSteps=n,p.value=r||"",p.prompt=i,p.ignoreFocusOut=!0,p.buttons=[...this.steps.length>1?[o.QuickInputButtons.Back]:[],...a||[]];let f=s("");u.push(p.onDidTriggerButton(e=>{e===o.QuickInputButtons.Back?h(c.back):d(e)}),p.onDidAccept(async()=>{const e=p.value;p.enabled=!1,p.busy=!0,await s(e)||d(e),p.enabled=!0,p.busy=!1}),p.onDidChangeValue(async e=>{const t=s(e);f=t;const n=await t;t===f&&(p.validationMessage=n)}),p.onDidHide(()=>{(async()=>{h(l&&await l()?c.resume:c.cancel)})().catch(h)})),this.current&&this.current.dispose(),this.current=p,this.current.show()})}finally{u.forEach(e=>e.dispose())}}async stepThrough(e,t){let n=e;for(;n;){this.steps.push(n),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{n=await n(this,t)}catch(e){if(e===c.back)this.steps.pop(),n=this.steps.pop();else if(e===c.resume)n=this.steps.pop();else{if(e!==c.cancel)throw e;n=void 0}}}this.current&&this.current.dispose()}}t.MultiStepInput=l,t.IMultiStepInputFactory=Symbol("IMultiStepInputFactory");let u=class{constructor(e){this.shell=e}create(){return new l(this.shell)}};u=r([s.injectable(),i(0,s.inject(a.IApplicationShell))],u),t.MultiStepInputFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12);t.JupyterDataRateLimitError=class extends Error{constructor(){super(r.DataScience.jupyterDataRateExceeded())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(119);var i;t.CellFetchAllLimit=1e5,t.CellFetchSizeFirst=1e5,t.CellFetchSizeSubsequent=1e6,t.MaxStringCompare=200,t.ColumnWarningSize=1e3,function(e){e.Fetching="fetching",e.Skipped="skipped"}(t.DataViewerRowStates||(t.DataViewerRowStates={})),function(e){e.Started=r.SharedMessages.Started,e.UpdateSettings=r.SharedMessages.UpdateSettings,e.InitializeData="init",e.GetAllRowsRequest="get_all_rows_request",e.GetAllRowsResponse="get_all_rows_response",e.GetRowsRequest="get_rows_request",e.GetRowsResponse="get_rows_response",e.CompletedData="complete"}(i=t.DataViewerMessages||(t.DataViewerMessages={}));t.IDataViewerMapping=class{},i.Started,i.UpdateSettings,i.InitializeData,i.GetAllRowsRequest,i.GetAllRowsResponse,i.GetRowsRequest,i.GetRowsResponse,i.CompletedData,r.CssMessages.GetCssRequest,r.CssMessages.GetCssResponse},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1007)),r(n(1008)),r(n(1009)),r(n(1010)),r(n(1011)),r(n(65)),r(n(1012)),r(n(1013)),r(n(1014)),r(n(1015)),r(n(1016)),r(n(1017)),r(n(1018)),r(n(1019)),r(n(1020)),r(n(1021))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.getRandomValues=function(){var e="undefined"!=typeof window&&(window.crypto||window.msCrypto)||n(58)||null;return e&&"function"==typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:e&&"function"==typeof e.randomFillSync?function(t){return e.randomFillSync(t)}:e&&"function"==typeof e.randomBytes?function(t){for(var n=e.randomBytes(t.length),r=0,i=n.length;r<i;++r)t[r]=n[r]}:function(e){for(var t=0,n=0,r=e.length;n<r;++n)n%4==0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}}()}(t.Random||(t.Random={}))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1032));!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){return"."===i.join(...e)?"":t(i.join(...e))},e.basename=function(e,t){return i.basename(e,t)},e.dirname=function(e){let n=t(i.dirname(e));return"."===n?"":n},e.extname=function(e){return i.extname(e)},e.normalize=function(e){return""===e?"":t(i.normalize(e))},e.resolve=function(...e){return t(i.resolve(...e))},e.relative=function(e,n){return t(i.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1033));!function(e){function t(e){if("undefined"!=typeof document){let t=document.createElement("a");return t.href=e,t}return i.default(e)}function n(...e){const t=(e=e||[])[0]||"",n=0===t.indexOf("//"),r=t.match(/(\w+)(:)(\/\/)?/),i=r&&r[1],s=i&&r[2],o=s&&r[3],a=n?"//":[i,s,o].filter(e=>e).join("");return a+[0===t.indexOf(a)?t.replace(a,""):t].filter(e=>e).concat(e.slice(1).map(e=>e.replace(/^\//,""))).join("/").replace(/\/+/g,"/")}e.parse=t,e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e);return t.length?"?"+t.map(t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")}).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce((e,t)=>{const[n,r]=t.split("=");return e[n]=decodeURIComponent(r||""),e},{})},e.isLocal=function(e){const{protocol:n}=t(e);return 0!==e.toLowerCase().indexOf(n)&&0!==e.indexOf("//")}}(t.URLExt||(t.URLExt={}))},function(e,t,n){"use strict";var r=n(107);e.exports=function(e){r.copy(e,this)}},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(1041);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var o,a="boolean"==typeof t.cycles&&t.cycles,c=t.replacer||function(e,t){return t},l=t.cmp&&(o=t.cmp,function(e){return function(t,n){var r={key:t,value:e[t]},i={key:n,value:e[n]};return o(r,i)}}),u=[];return function e(t,o,d,h){var p=n?"\n"+new Array(h+1).join(n):"",f=n?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=c.call(t,o,d))){if("object"!=typeof d||null===d)return r.stringify(d);if(i(d)){for(var m=[],g=0;g<d.length;g++){var y=e(d,g,d[g],h+1)||r.stringify(null);m.push(p+n+y)}return"["+m.join(",")+p+"]"}if(-1!==u.indexOf(d)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(d);var v=s(d).sort(l&&l(d));for(m=[],g=0;g<v.length;g++){var _=e(d,o=v[g],d[o],h+1);if(_){var b=r.stringify(o)+f+_;m.push(p+n+b)}}return u.splice(u.indexOf(d),1),"{"+m.join(",")+p+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.isTop){if(i){e.async=!0;var a="es7"==e.opts.async;e.yieldAwait=a?"await":"yield"}r+=" var validate = ",i?a?r+=" (async function ":("*"!=e.opts.async&&(r+="co.wrap"),r+="(function* "):r+=" (function ",r+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+o+" */ ")}if("boolean"==typeof e.schema||!s&&!e.schema.$ref){var c=e.level,l=e.dataLevel,u=e.schema["false schema"],d=e.schemaPath+e.util.getProperty("false schema"),h=e.errSchemaPath+"/false schema",p=!e.opts.allErrors,f="data"+(l||""),m="valid"+c;if(!1===e.schema){e.isTop?p=!0:r+=" var "+m+" = false; ",(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var g=r;r=K.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+m+" = true; ";return e.isTop&&(r+=" }); return validate; "),r}if(e.isTop){var y=e.isTop;c=e.level=0,l=e.dataLevel=0,f="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{c=e.level,f="data"+((l=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}m="valid"+c,p=!e.opts.allErrors;var v="",_="",b=e.schema.type,S=Array.isArray(b);if(S&&1==b.length&&(b=b[0],S=!1),e.schema.$ref&&s){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(s=!1,console.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(b){if(e.opts.coerceTypes)var w=e.util.coerceToTypes(e.opts.coerceTypes,b);var C=e.RULES.types[b];if(w||S||!0===C||C&&!J(C)){d=e.schemaPath+".type",h=e.errSchemaPath+"/type",d=e.schemaPath+".type",h=e.errSchemaPath+"/type";var E=S?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[E](b,f,!0)+") { ",w){var T="dataType"+c,D="coerced"+c;r+=" var "+T+" = typeof "+f+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+T+" == 'object' && Array.isArray("+f+")) "+T+" = 'array'; "),r+=" var "+D+" = undefined; ";var P="",k=w;if(k)for(var I,M=-1,x=k.length-1;M<x;)I=k[M+=1],M&&(r+=" if ("+D+" === undefined) { ",P+="}"),"array"==e.opts.coerceTypes&&"array"!=I&&(r+=" if ("+T+" == 'array' && "+f+".length == 1) { "+D+" = "+f+" = "+f+"[0]; "+T+" = typeof "+f+";  } "),"string"==I?r+=" if ("+T+" == 'number' || "+T+" == 'boolean') "+D+" = '' + "+f+"; else if ("+f+" === null) "+D+" = ''; ":"number"==I||"integer"==I?(r+=" if ("+T+" == 'boolean' || "+f+" === null || ("+T+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==I&&(r+=" && !("+f+" % 1)"),r+=")) "+D+" = +"+f+"; "):"boolean"==I?r+=" if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+D+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+D+" = true; ":"null"==I?r+=" if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+D+" = null; ":"array"==e.opts.coerceTypes&&"array"==I&&(r+=" if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+f+" == null) "+D+" = ["+f+"]; ");r+=" "+P+" if ("+D+" === undefined) {   ",(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=S?""+b.join(","):""+b,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+b.join(","):""+b,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";g=r;r=K.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var A=l?"data"+(l-1||""):"parentData";r+=" "+f+" = "+D+"; ",l||(r+="if ("+A+" !== undefined)"),r+=" "+A+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+D+"; } "}else{(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=S?""+b.join(","):""+b,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+b.join(","):""+b,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";g=r;r=K.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!s)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",_+="}");else{e.opts.v5&&e.schema.patternGroups&&console.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var O=e.RULES;if(O)for(var L=-1,R=O.length-1;L<R;)if(J(C=O[L+=1])){if(C.type&&(r+=" if ("+e.util.checkDataType(C.type,f)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==C.type&&e.schema.properties){u=e.schema.properties;var j=Object.keys(u);if(j)for(var F,N=-1,Y=j.length-1;N<Y;){if(void 0!==(H=u[F=j[N+=1]]).default)r+="  if ("+(U=f+e.util.getProperty(F))+" === undefined) "+U+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(H.default)+" ":r+=" "+JSON.stringify(H.default)+" ",r+="; "}}else if("array"==C.type&&Array.isArray(e.schema.items)){var B=e.schema.items;if(B){M=-1;for(var H,W=B.length-1;M<W;){var U;if(void 0!==(H=B[M+=1]).default)r+="  if ("+(U=f+"["+M+"]")+" === undefined) "+U+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(H.default)+" ":r+=" "+JSON.stringify(H.default)+" ",r+="; "}}}var V=C.rules;if(V)for(var $,q=-1,G=V.length-1;q<G;)if(X($=V[q+=1])){var z=$.code(e,$.keyword,C.type);z&&(r+=" "+z+" ",p&&(v+="}"))}if(p&&(r+=" "+v+" ",v=""),C.type&&(r+=" } ",b&&b===C.type&&!w)){r+=" else { ";var K;d=e.schemaPath+".type",h=e.errSchemaPath+"/type";(K=K||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=S?""+b.join(","):""+b,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=S?""+b.join(","):""+b,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";g=r;r=K.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}p&&(r+=" if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",_+="}")}}function J(e){for(var t=e.rules,n=0;n<t.length;n++)if(X(t[n]))return!0}function X(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return p&&(r+=" "+_+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }); return validate;"):r+=" var "+m+" = errors === errs_"+c+";",r=e.util.cleanUpCode(r),y&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t){var n=Array.prototype.slice;function r(e){var t=this,r=n.call(arguments,1);return new Promise(function(n,o){if("function"==typeof e&&(e=e.apply(t,r)),!e||"function"!=typeof e.next)return n(e);function a(t){var n;try{n=e.next(t)}catch(e){return o(e)}l(n)}function c(t){var n;try{n=e.throw(t)}catch(e){return o(e)}l(n)}function l(e){if(e.done)return n(e.value);var r=i.call(t,e.value);return r&&s(r)?r.then(a,c):c(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}a()})}function i(e){return e?s(e)?e:function(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||o(t.prototype))}(e)||o(e)?r.call(this,e):"function"==typeof e?function(e){var t=this;return new Promise(function(r,i){e.call(t,function(e,t){if(e)return i(e);arguments.length>2&&(t=n.call(arguments,1)),r(t)})})}.call(this,e):Array.isArray(e)?function(e){return Promise.all(e.map(i,this))}.call(this,e):Object==e.constructor?function(e){for(var t=new e.constructor,n=Object.keys(e),r=[],o=0;o<n.length;o++){var a=n[o],c=i.call(this,e[a]);c&&s(c)?l(c,a):t[a]=e[a]}return Promise.all(r).then(function(){return t});function l(e,n){t[n]=void 0,r.push(e.then(function(e){t[n]=e}))}}.call(this,e):e:e}function s(e){return"function"==typeof e.then}function o(e){return"function"==typeof e.next&&"function"==typeof e.throw}e.exports=r.default=r.co=r,r.wrap=function(e){return t.__generatorFunction__=e,t;function t(){return r.call(this,e.apply(this,arguments))}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",r="schema"+s):r=a;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],g=p?"<":">",y=p?">":"<",v=void 0;if(e.opts.$data&&m&&m.$data){var _=e.util.getData(m.$data,o,e.dataPathArr),b="exclusive"+s,S="exclType"+s,w="exclIsNumber"+s,C="' + "+(D="op"+s)+" + '";i+=" var schemaExcl"+s+" = "+_+"; ",i+=" var "+b+"; var "+S+" = typeof "+(_="schemaExcl"+s)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ";var E;v=f;(E=E||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var T=i;i=E.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+S+" == 'number' ? ( ("+b+" = "+r+" === undefined || "+_+" "+g+"= "+r+") ? "+d+" "+y+"= "+_+" : "+d+" "+y+" "+r+" ) : ( ("+b+" = "+_+" === true) ? "+d+" "+y+"= "+r+" : "+d+" "+y+" "+r+" ) || "+d+" !== "+d+") { var op"+s+" = "+b+" ? '"+g+"' : '"+g+"=';"}else{C=g;if((w="number"==typeof m)&&h){var D="'"+C+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+g+"= "+r+" ? "+d+" "+y+"= "+m+" : "+d+" "+y+" "+r+" ) || "+d+" !== "+d+") { "}else{w&&void 0===a?(b=!0,v=f,l=e.errSchemaPath+"/"+f,r=m,y+="="):(w&&(r=Math[p?"min":"max"](m,a)),m===(!w||r)?(b=!0,v=f,l=e.errSchemaPath+"/"+f,y+="="):(b=!1,C+="="));D="'"+C+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+" "+y+" "+r+" || "+d+" !== "+d+") { "}}v=v||t,(E=E||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+D+", limit: "+r+", exclusive: "+b+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+C+" ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";T=i;return i=E.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",r="schema"+s):r=a,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"less",i+=" than ",i+=h?"' + "+r+" + '":""+a,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",r="schema"+s):r=a;var p="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+d+".length ":i+=" ucs2length("+d+") ",i+=" "+p+" "+r+") { ";var f=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+r+" + '":""+a,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",r="schema"+s):r=a,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"less",i+=" than ",i+=h?"' + "+r+" + '":""+a,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},s=function(e){return function(t,n,s,o){var a=r(t),c=i[e][r(t)];return 2===a&&(c=c[n?0:1]),c.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:s("s"),ss:s("s"),m:s("m"),mm:s("m"),h:s("h"),hh:s("h"),d:s("d"),dd:s("d"),M:s("M"),MM:s("M"),y:s("y"),yy:s("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(t,i,s,o){var a=n(t),c=r[e][n(t)];return 2===a&&(c=c[i?0:1]),c.replace(/%d/i,t)}},s=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i,s={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i=s[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function r(e){return e>1&&e<5&&1!=~~(e/10)}function i(e,t,n,i){var s=e+" ";switch(n){case"s":return t||i?"pr sekund":"pr sekundami";case"ss":return t||i?s+(r(e)?"sekundy":"sekund"):s+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?s+(r(e)?"minuty":"minut"):s+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?s+(r(e)?"hodiny":"hodin"):s+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?s+(r(e)?"dny":"dn"):s+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?s+(r(e)?"msce":"msc"):s+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?s+(r(e)?"roky":"let"):s+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="";return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n,r=this._calendarEl[e],i=t&&t.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(t)),r.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,i,s){var o="";switch(i){case"s":return s?"muutaman sekunnin":"muutama sekunti";case"ss":return s?"sekunnin":"sekuntia";case"m":return s?"minuutin":"minuutti";case"mm":o=s?"minuutin":"minuuttia";break;case"h":return s?"tunnin":"tunti";case"hh":o=s?"tunnin":"tuntia";break;case"d":return s?"pivn":"piv";case"dd":o=s?"pivn":"piv";break;case"M":return s?"kuukauden":"kuukausi";case"MM":o=s?"kuukauden":"kuukautta";break;case"y":return s?"vuoden":"vuosi";case"yy":o=s?"vuoden":"vuotta"}return o=function(e,r){return e<10?r?n[e]:t[e]:e}(e,s)+" "+o}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10==2?"na":"mh";return e+t},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var s=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?s+(n||i?"sekndur":"sekndum"):s+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?s+(n||i?"mntur":"mntum"):n?s+"mnta":s+"mntu";case"hh":return t(e)?s+(n||i?"klukkustundir":"klukkustundum"):s+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?s+"dagar":s+(i?"daga":"dgum"):n?s+"dagur":s+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?n?s+"mnuir":s+(i?"mnui":"mnuum"):n?s+"mnuur":s+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return t(e)?s+(n||i?"r":"rum"):s+(n||i?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD HH:mm dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,r=e/10;return n(0===t?r:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function s(e,t,s,o){var a=e+" ";return 1===e?a+n(0,t,s[0],o):t?a+(r(e)?i(s)[1]:i(s)[0]):o?a+i(s)[1]:a+(r(e)?i(s)[1]:i(s)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:s,m:n,mm:s,h:n,hh:s,d:n,dd:s,M:n,MM:s,y:n,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"ss":return i+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesice":"miesicy");case"yy":return i+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i,s={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":e+" "+(r=+e,i=s[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var s=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"ss":return t||i?s+(r(e)?"sekundy":"seknd"):s+"sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?s+(r(e)?"minty":"mint"):s+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?s+(r(e)?"hodiny":"hodn"):s+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?s+(r(e)?"dni":"dn"):s+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?s+(r(e)?"mesiace":"mesiacov"):s+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?s+(r(e)?"roky":"rokov"):s+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,i){var s=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,s="";return n>0&&(s+=t[n]+"vatlh"),r>0&&(s+=(""!==s?" ":"")+t[r]+"maH"),i>0&&(s+=(""!==s?" ":"")+t[i]),""===s?"pagh":s}(e);switch(r){case"ss":return s+" lup";case"mm":return s+" tup";case"hh":return s+" rep";case"dd":return s+" jaj";case"MM":return s+" jar";case"yy":return s+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10,i=e%100-r,s=e>=100?100:null;return e+(t[r]||t[i]||t[s])}},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i,s={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i=s[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};if(!e)return n.nominative;var r=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(5))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(5))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(106),o=n(234),a=n(235),c=n(131);function l(e){return c.range(e.first_line,e.last_line+(e.last_column?1:0))}!function(e){e[e.Forward=0]="Forward",e[e.Backward=1]="Backward"}(t.DataflowDirection||(t.DataflowDirection={}));var u=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(this,[function(e){return[e.first_line,e.first_column,e.last_line,e.last_column].toString()}].concat(t))||this}return i(t,e),t}(c.Set);function d(e,t){var n=t.first_line<e.first_line||t.first_line==e.first_line&&t.first_column<=e.first_column,r=t.last_line>e.last_line||t.last_line==e.last_line&&t.last_column>=e.last_column;return n&&r}function h(e,t,n,r,i,s){return(e>n||e==n&&t>=r)&&(e<i||e==i&&t<=s)}function p(e,t){return h(e.first_line,e.first_column,t.first_line,t.first_column,t.last_line,t.last_column)||h(e.last_line,e.last_column,t.first_line,t.first_column,t.last_line,t.last_column)||d(e,t)||d(t,e)}t.LocationSet=u,t.slice=function(e,t,n){n=n||new a.DataflowAnalyzer;var r=new o.ControlFlowGraph(e),i=n.analyze(r).dataflows,s=new u;t.items.forEach(function(e){for(var t=0,n=r.blocks;t<n.length;t++)for(var i=0,o=n[t].statements;i<o.length;i++){var a=o[i];p(e,a.location)&&s.add(a.location)}});var c,l=new(u.bind.apply(u,[void 0].concat(s.items)));do{c=l.size;for(var h=function(e){var t=e.fromNode.location,n=e.toNode.location;s.items.some(function(e){return p(e,n)})&&l.add(n),l.items.some(function(e){return d(n,e)})&&l.add(t)},f=0,m=i.items;f<m.length;f++)h(m[f])}while(l.size>c);return l},t.sliceLines=function(e,t){var n,r=s.parse(e),i=new o.ControlFlowGraph(r),c=(new a.DataflowAnalyzer).analyze(i).dataflows;do{n=t.size;for(var u=0,d=c.items;u<d.length;u++){var h=d[u],p=l(h.fromNode.location),f=l(h.toNode.location),m=p;t.intersect(f).empty||(t=t.union(m))}}while(t.size>n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.cell=e,this._slice=t,this.executionTime=n}return Object.defineProperty(e.prototype,"textSlice",{get:function(){return this.getTextSlice(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textSliceLines",{get:function(){return this.getTextSlice(!0)},enumerable:!0,configurable:!0}),e.prototype.getTextSlice=function(e){var t=this.slice.items,n=this.cell.text.split("\n");return t.sort(function(e,t){return e.first_line-t.first_line}).map(function(t){var r=n.slice(t.first_line-1,t.last_line+(t.last_column>0?0:-1));if(!e)if(t.last_line===t.first_line)r[0]=r[0].slice(t.first_column,t.last_column);else{r[0]=r[0].slice(t.first_column);var i=r.length-1;r[i]=r[i].slice(0,t.last_column)}return r.join("\n")}).filter(function(e){return""!=e}).join("\n")},Object.defineProperty(e.prototype,"slice",{get:function(){return this._slice},set:function(e){this._slice=e},enumerable:!0,configurable:!0}),e}();t.CellSlice=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(163),i=n(508),s=n(510),o=n(507),a=function(){function e(e,t){this.cell=e,this.executionTime=t}return e.prototype.toJSON=function(){return JSON.parse(JSON.stringify(this))},e}();t.CellExecution=a;var c=function(){function e(e,t){this.executionTime=e,this.cellSlices=t}return e.prototype.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r={},s=[],a=0,c=t.concat(this);a<c.length;a++)for(var l=c[a],u=0,d=l.cellSlices;u<d.length;u++){var h=d[u],p=h.cell;if(!r[p.executionEventId]){var f=new i.CellSlice(p.deepCopy(),new o.LocationSet,h.executionTime);r[p.executionEventId]=f,s.push(f)}var m=r[p.executionEventId];m.slice=m.slice.union(h.slice)}return new e(new Date,s.sort(function(e,t){return e.cell.executionCount-t.cell.executionCount}))},e}();t.SlicedExecution=c;var l=function(){function e(e){this._executionLog=[],this.executionLogged=new r.Signal(this),this._dataflowAnalyzer=e,this._programBuilder=new s.ProgramBuilder(e)}return e.prototype.logExecution=function(e){var t=new a(e,new Date);this.addExecutionToLog(t)},e.prototype.addExecutionToLog=function(e){this._programBuilder.add(e.cell),this._executionLog.push(e),this.executionLogged.emit(e)},e.prototype.reset=function(){this._executionLog=[],this._programBuilder.reset()},e.prototype.sliceLatestExecution=function(e,t){return this.sliceAllExecutions(e,t).pop()},e.prototype.sliceAllExecutions=function(e,t){for(var n=this,r={},s=0,a=this._executionLog;s<a.length;s++){var l=a[s];r[l.cell.executionEventId]=l.executionTime}return this._executionLog.filter(function(t){return t.cell.persistentId==e.persistentId}).filter(function(e){return null!=e.cell.executionCount}).map(function(e){var s,a=n._programBuilder.buildTo(e.cell.executionEventId);if(null==a)return null;s=t||new o.LocationSet({first_line:1,first_column:1,last_line:1e4,last_column:1e4});var l=a.cellToLineMap[e.cell.executionEventId],u=Math.min.apply(Math,l.items);s=new(o.LocationSet.bind.apply(o.LocationSet,[void 0].concat(s.items.map(function(e){return{first_line:u+e.first_line-1,first_column:e.first_column,last_line:u+e.last_line-1,last_column:e.last_column}}))));var d=o.slice(a.tree,s,n._dataflowAnalyzer).items.sort(function(e,t){return e.first_line-t.first_line}),h={},p=[];d.forEach(function(e){var t=a.lineToCellMap[e.first_line],n=a.cellToLineMap[t.executionEventId],r=Math.min.apply(Math,n.items);-1==p.indexOf(t)&&p.push(t);var i={first_line:e.first_line-r+1,first_column:e.first_column,last_line:e.last_line-r+1,last_column:e.last_column};h[t.executionEventId]||(h[t.executionEventId]=new o.LocationSet),h[t.executionEventId].add(i)});var f=p.map(function(e){var t=void 0;return r[e.executionEventId]&&(t=r[e.executionEventId]),new i.CellSlice(e,h[e.executionEventId],t)});return new c(e.executionTime,f)}).filter(function(e){return null!=e&&null!=e})},Object.defineProperty(e.prototype,"cellExecutions",{get:function(){return this._executionLog},enumerable:!0,configurable:!0}),e.prototype.getCellProgram=function(e){return this._programBuilder.getCellProgram(e)},e}();t.ExecutionLogSlicer=l},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(106)),s=n(235),o=n(1081),a=n(131),c=function(e,t,n,r){this.text=e,this.tree=t,this.cellToLineMap=n,this.lineToCellMap=r};t.Program=c;var l=function(e,t,n,r,i){this.cell=e,this.statements=t,this.defs=n,this.uses=r,this.hasError=i};t.CellProgram=l;var u=function(){function e(e){this._magicsRewriter=new o.MagicsRewriter,this._dataflowAnalyzer=e,this._cellPrograms=[]}return e.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n],a=[],c=void 0,u=void 0,d=o.hasError;try{var h=i.parse(this._magicsRewriter.rewrite(o.text)+"\n");a=h.code;for(var p=0,f=i.walk(h);p<f.length;p++){var m=f[p];m.hasOwnProperty("type")&&(m.location.path=o.executionEventId)}if(this._dataflowAnalyzer){c=[],u=[];for(var g=0,y=h.code;g<y.length;g++){var v=y[g],_=this._dataflowAnalyzer.getDefUseForStatement(v,new s.RefSet);c.push.apply(c,_.DEFINITION.union(_.UPDATE).items),u.push.apply(u,_.USE.items)}}else c=[],u=[]}catch(e){console.log("Couldn't analyze block",o.text,", error encountered, ",e,", not adding to programs."),d=!0}this._cellPrograms.push(new l(o,a,c,u,d))}},e.prototype.reset=function(){this._cellPrograms=[]},e.prototype.buildTo=function(e){for(var t,n=this,r=!1,s=[],o=this._cellPrograms.length-1;o>=0;o--){var l=this._cellPrograms[o],u=l.cell;if(r||u.executionEventId!==e){if(r){if(u.executionCount>=t)break;l.hasError||s.unshift(l),t=u.executionCount}}else r=!0,t=u.executionCount,s.unshift(l)}var d="",h=1,p={},f={},m={code:[],type:i.MODULE,location:void 0};return s.forEach(function(e){for(var t,r=e.cell,s=[],o=r.text.split("\n").length,c=[],l=0;l<o;l++)c.push(h+l);c.forEach(function(e){p[e]=r,f[r.executionEventId]||(f[r.executionEventId]=new a.NumberSet),f[r.executionEventId].add(e)});var u=n._magicsRewriter.rewrite(r.text);d+=u+"\n",h+=o;for(var g=Math.min.apply(Math,c),y=0,v=e.statements;y<v.length;y++){for(var _=v[y],b=JSON.parse(JSON.stringify(_)),S=0,w=i.walk(b);S<w.length;S++){var C=w[S];C.location&&(C.location.first_line+=g-1,C.location.last_line+=g-1),C.type==i.FOR&&(C.decl_location.first_line+=g-1,C.decl_location.last_line+=g-1)}s.push(b)}(t=m.code).push.apply(t,s)}),new c(d,m,f,p)},e.prototype.getCellProgram=function(e){var t=this._cellPrograms.filter(function(t){return t.cell.executionEventId==e.executionEventId});return t.length>=1?t.pop():null},e}();t.ProgramBuilder=u},function(e,t,n){var r=n(1082),i=1,s=4;e.exports=function(e){return r(e,i|s)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(515),i=n(512),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];s.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(1112);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(289),i=n(1115),s=n(116);e.exports=function(e){return s(e)?r(e,!0):i(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(215),i=n(519),s=n(241),o=n(517),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=i(e);return t}:o;e.exports=a},function(e,t,n){var r=n(292)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(215),i=n(142);e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(3),a=n(36),c=n(2),l=n(30),u=n(71),d=n(6),h=n(17),p=n(82),f=n(15),m=n(44),g=n(244),y=n(1144);let v=class{constructor(e,t,n,r){this.workspaceService=e,this.fileSystem=t,this.jupyterExecution=n,this.interactiveWindowProvider=r,this.postEmitter=new c.EventEmitter,this.cancellationSources=new Map}dispose(){this.temporaryFile&&this.temporaryFile.dispose()}get postMessage(){return this.postEmitter.event}onMessage(e,t){switch(e){case m.InteractiveWindowMessages.CancelCompletionItemsRequest:case m.InteractiveWindowMessages.CancelHoverRequest:this.isActive&&this.dispatchMessage(e,t,this.handleCancel);break;case m.InteractiveWindowMessages.ProvideCompletionItemsRequest:this.isActive&&this.dispatchMessage(e,t,this.handleCompletionItemsRequest);break;case m.InteractiveWindowMessages.ProvideHoverRequest:this.isActive&&this.dispatchMessage(e,t,this.handleHoverRequest);break;case m.InteractiveWindowMessages.ProvideSignatureHelpRequest:this.isActive&&this.dispatchMessage(e,t,this.handleSignatureHelpRequest);break;case m.InteractiveWindowMessages.EditCell:this.dispatchMessage(e,t,this.editCell);break;case m.InteractiveWindowMessages.AddCell:this.dispatchMessage(e,t,this.addCell);break;case m.InteractiveWindowMessages.InsertCell:this.dispatchMessage(e,t,this.insertCell);break;case m.InteractiveWindowMessages.RemoveCell:this.dispatchMessage(e,t,this.removeCell);break;case m.InteractiveWindowMessages.SwapCells:this.dispatchMessage(e,t,this.swapCells);break;case m.InteractiveWindowMessages.DeleteAllCells:this.dispatchMessage(e,t,this.removeAllCells);break;case m.InteractiveWindowMessages.RestartKernel:this.dispatchMessage(e,t,this.restartKernel);break;case m.InteractiveWindowMessages.NotebookIdentity:this.dispatchMessage(e,t,this.setIdentity);break;case m.InteractiveWindowMessages.LoadAllCellsComplete:this.dispatchMessage(e,t,this.loadAllCells)}}getDocument(e){if(!this.documentPromise)if(this.documentPromise=h.createDeferred(),this.workspaceService.rootPath||e){const t=e?o.dirname(e.fsPath):this.workspaceService.rootPath,n=o.join(t,l.HiddenFileFormatString.format(a().replace(/-/g,"")));this.documentPromise.resolve(new y.IntellisenseDocument(n))}else this.fileSystem.createTemporaryFile(".py").then(e=>{this.temporaryFile=e;const t=this.temporaryFile.filePath;this.documentPromise.resolve(new y.IntellisenseDocument(t))}).catch(e=>{this.documentPromise.reject(e)});return this.documentPromise.promise}dispatchMessage(e,t,n){const r=t;n.bind(this)(r)}postResponse(e,t){const n=t;if(n&&n.id){const e=this.cancellationSources.get(n.id);e&&(e.dispose(),this.cancellationSources.delete(n.id))}this.postEmitter.fire({message:e.toString(),payload:t})}handleCancel(e){const t=this.cancellationSources.get(e.requestId);t&&(t.cancel(),t.dispose(),this.cancellationSources.delete(e.requestId))}handleCompletionItemsRequest(e){const t=new c.CancellationTokenSource;this.cancellationSources.set(e.requestId,t),this.postTimedResponse([this.provideCompletionItems(e.position,e.context,e.cellId,t.token),this.provideJupyterCompletionItems(e.position,e.context,e.cellId,t.token)],m.InteractiveWindowMessages.ProvideCompletionItemsResponse,t=>{return{list:this.combineCompletions(t),requestId:e.requestId}})}handleHoverRequest(e){const t=new c.CancellationTokenSource;this.cancellationSources.set(e.requestId,t),this.postTimedResponse([this.provideHover(e.position,e.cellId,t.token)],m.InteractiveWindowMessages.ProvideHoverResponse,t=>t&&t[0]?{hover:t[0],requestId:e.requestId}:{hover:{contents:[]},requestId:e.requestId})}async provideJupyterCompletionItems(e,t,n,r){try{const t=await this.getNotebook(),i=await this.getDocument();if(t&&i){const s=i.getCellData(n);if(s){const n=s.text.splitLines({trim:!1,removeEmptyEntries:!1}).reduce((t,n,r)=>r<e.lineNumber-1?t+n.length+1:r===e.lineNumber-1?t+e.column-1:t,0),o=await t.getCompletion(s.text,n,r);if(o&&o.matches){const e=s.offset,t=i.positionAt(e),n=i.positionAt(o.cursor.start+e),r=i.positionAt(o.cursor.end+e),a={startLineNumber:n.line+1-t.line,startColumn:n.character+1,endLineNumber:r.line+1-t.line,endColumn:r.character+1};return{suggestions:g.convertStringsToSuggestions(o.matches,a,o.metadata),incomplete:!1}}}}}catch(e){e instanceof u.CancellationError||d.traceWarning(e)}return{suggestions:[],incomplete:!1}}postTimedResponse(e,t,n){const r=e.map(e=>h.waitForPromise(e,f.Settings.IntellisenseTimeout));Promise.all(r).then(e=>{this.postResponse(t,n(e))}).catch(e=>{this.postResponse(t,n([null]))})}combineCompletions(e){const t=new Map;return e.forEach(e=>{e&&e.suggestions.forEach(e=>{t.has(e.insertText)||t.set(e.insertText,e)})}),{suggestions:Array.from(t.values()),incomplete:!1}}handleSignatureHelpRequest(e){const t=new c.CancellationTokenSource;this.cancellationSources.set(e.requestId,t),this.postTimedResponse([this.provideSignatureHelp(e.position,e.context,e.cellId,t.token)],m.InteractiveWindowMessages.ProvideSignatureHelpResponse,t=>t&&t[0]?{signatureHelp:t[0],requestId:e.requestId}:{signatureHelp:{signatures:[],activeParameter:0,activeSignature:0},requestId:e.requestId})}async addCell(e){const t=await this.getDocument(e.cell.file===f.Identifiers.EmptyFileName?void 0:c.Uri.file(e.cell.file));if(t){const n=t.addCell(e.fullText,e.currentText,e.cell.id);return this.handleChanges(e.cell.file,t,n)}}async insertCell(e){const t=await this.getDocument();if(t){const n=t.insertCell(e.cell.id,e.code,e.codeCellAboveId);return this.handleChanges(void 0,t,n)}}async editCell(e){const t=await this.getDocument();if(t){const n=t.edit(e.changes,e.id);return this.handleChanges(void 0,t,n)}}async removeCell(e){const t=await this.getDocument();if(t){const n=t.remove(e.id);return this.handleChanges(void 0,t,n)}}async swapCells(e){const t=await this.getDocument();if(t){const n=t.swap(e.firstCellId,e.secondCellId);return this.handleChanges(void 0,t,n)}}async removeAllCells(){const e=await this.getDocument();if(e){const t=e.removeAll();return this.handleChanges(void 0,e,t)}}async loadAllCells(e){const t=await this.getDocument();if(t){const n=t.loadAllCells(e.cells.filter(e=>"code"===e.data.cell_type).map(e=>({code:p.concatMultilineStringInput(e.data.source),id:e.id})));await this.handleChanges(f.Identifiers.EmptyFileName,t,n)}}async restartKernel(){const e=await this.getDocument();if(e){const t=e.removeAllCells();return this.handleChanges(void 0,e,t)}}setIdentity(e){this.notebookIdentity=c.Uri.parse(e.resource)}async getNotebook(){const e=await this.jupyterExecution.getServer(await this.interactiveWindowProvider.getNotebookOptions());if(e&&this.notebookIdentity)return e.getNotebook(this.notebookIdentity)}};v=r([s.injectable(),i(0,s.unmanaged()),i(1,s.unmanaged()),i(2,s.unmanaged()),i(3,s.unmanaged())],v),t.BaseIntellisenseProvider=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(46),o=n(0),a=n(22),c=n(3),l=n(36),u=n(2),d=n(41),h=n(71),p=n(13),f=n(6),m=n(17),g=n(12),y=n(24),v=n(9),_=n(105),b=n(94),S=n(15),w=n(372),C=n(44),E=n(162),T=n(523),D=n(232),P=n(119),k=n(19),I=n(231),M=n(1152);let x=class extends I.WebViewHost{constructor(e,t,n,r,i,s,o,a,c,d,h,p,m,y,_,b,w,E,T,D,P,k,I){super(m,s,a,c,_,(e,n,r)=>new M.InteractiveWindowMessageListener(t,e,n,r),P,k,I),this.listeners=e,this.liveShare=t,this.applicationShell=n,this.documentManager=r,this.interpreterService=i,this.disposables=o,this.statusProvider=d,this.jupyterExecution=h,this.fileSystem=p,this.configuration=m,this.jupyterExporter=y,this.dataExplorerProvider=b,this.jupyterVariables=w,this.jupyterDebugger=E,this.ipynbProvider=T,this.errorHandler=D,this.unfinishedCells=[],this.restartingKernel=!1,this.potentiallyUnfinishedStatus=[],this.executeEvent=new u.EventEmitter,this.variableRequestPendingCount=0,this.exportToFile=async(e,t)=>{if(this.notebook){let n;this.configuration.getSettings().datascience.changeDirOnImportExport&&(n=t);const r=await this.jupyterExporter.translateToNotebook(e,n);try{const e=JSON.stringify(r);await this.fileSystem.writeFile(t,e,{encoding:"utf8",flag:"w"});const n=g.DataScience.exportOpenQuestion1(),i=await this.jupyterExecution.isSpawnSupported()?g.DataScience.exportOpenQuestion():void 0;this.showInformationMessage(g.DataScience.exportDialogComplete().format(t),n,i).then(async r=>{try{r===i&&i&&this.notebook?await this.jupyterExecution.spawnNotebook(t):r===n&&await this.ipynbProvider.open(u.Uri.file(t),e)}catch(e){await this.errorHandler.handleError(e)}})}catch(e){f.traceError("Error in exporting notebook file"),this.applicationShell.showInformationMessage(g.DataScience.exportDialogFailed().format(e))}}},this.setStatus=(e,t)=>{const n=this.statusProvider.set(e,t,void 0,void 0,this);return this.potentiallyUnfinishedStatus.push(n),n},this.logTelemetry=e=>{v.sendTelemetryEvent(e)},this.onInterpreterChanged=()=>{this.loadPromise=this.reloadWithNew()},this.generateSysInfoCell=async e=>{if(this.notebook){const t=await this.generateSysInfoMessage(e),n=await this.notebook.getSysInfo();if(n){let r="";e===C.SysInfoReason.Start&&(r=this.generateConnectionInfoString(this.notebook.server.getConnectionInfo()));const i=n.data;return i&&(i.messages.unshift(t),r&&r.length&&i.messages.unshift(r)),n}}},this.variableExplorerToggle=e=>{if(void 0!==e){const t=e;v.sendTelemetryEvent(S.Telemetry.VariableExplorerToggled,void 0,{open:t})}},this._id=l(),this.interpreterChangedDisposable=this.interpreterService.onDidChangeInterpreter(this.onInterpreterChanged);const x=this.documentManager.onDidChangeActiveTextEditor(()=>this.activating());this.disposables.push(x),this.jupyterExecution.sessionChanged(()=>this.loadPromise=this.reloadAfterShutdown()),this.listeners.forEach(e=>e.postMessage(e=>this.postMessageInternal(e.message,e.payload))),setTimeout(()=>{this.getNotebookIdentity().then(e=>this.listeners.forEach(t=>t.onMessage(C.InteractiveWindowMessages.NotebookIdentity,{resource:e.toString()}))).ignoreErrors()},0)}get id(){return this._id}async show(){if(!this.isDisposed)return await this.loadPromise,await this.addSysInfo(C.SysInfoReason.Start),super.show(!0)}get onExecutedCode(){return this.executeEvent.event}onMessage(e,t){switch(e){case C.InteractiveWindowMessages.GotoCodeCell:this.handleMessage(e,t,this.gotoCode);break;case C.InteractiveWindowMessages.CopyCodeCell:this.handleMessage(e,t,this.copyCode);break;case C.InteractiveWindowMessages.RestartKernel:this.restartKernel().ignoreErrors();break;case C.InteractiveWindowMessages.Interrupt:this.interruptKernel().ignoreErrors();break;case C.InteractiveWindowMessages.SendInfo:this.handleMessage(e,t,this.updateContexts);break;case C.InteractiveWindowMessages.SubmitNewCell:this.handleMessage(e,t,this.submitNewCell);break;case C.InteractiveWindowMessages.ReExecuteCell:this.handleMessage(e,t,this.reexecuteCell);break;case C.InteractiveWindowMessages.DeleteAllCells:this.logTelemetry(S.Telemetry.DeleteAllCells);break;case C.InteractiveWindowMessages.DeleteCell:this.logTelemetry(S.Telemetry.DeleteCell);break;case C.InteractiveWindowMessages.Undo:this.logTelemetry(S.Telemetry.Undo);break;case C.InteractiveWindowMessages.Redo:this.logTelemetry(S.Telemetry.Redo);break;case C.InteractiveWindowMessages.ExpandAll:this.logTelemetry(S.Telemetry.ExpandAll);break;case C.InteractiveWindowMessages.CollapseAll:this.logTelemetry(S.Telemetry.CollapseAll);break;case C.InteractiveWindowMessages.VariableExplorerToggle:this.variableExplorerToggle&&this.variableExplorerToggle(t);break;case C.InteractiveWindowMessages.AddedSysInfo:this.handleMessage(e,t,this.onAddedSysInfo);break;case C.InteractiveWindowMessages.RemoteAddCode:this.handleMessage(e,t,this.onRemoteAddedCode);break;case C.InteractiveWindowMessages.RemoteReexecuteCode:this.handleMessage(e,t,this.onRemoteReexecuteCode);break;case C.InteractiveWindowMessages.ShowDataViewer:this.handleMessage(e,t,this.showDataViewer);break;case C.InteractiveWindowMessages.GetVariablesRequest:this.handleMessage(e,t,this.requestVariables);break;case C.InteractiveWindowMessages.GetVariableValueRequest:this.handleMessage(e,t,this.requestVariableValue);break;case C.InteractiveWindowMessages.LoadTmLanguageRequest:this.handleMessage(e,t,this.requestTmLanguage);break;case C.InteractiveWindowMessages.LoadOnigasmAssemblyRequest:this.handleMessage(e,t,this.requestOnigasm)}switch(this.postMessageToListeners(e,t),super.onMessage(e,t),e){case P.CssMessages.GetCssRequest:this.notebook&&this.isDark().then(e=>this.notebook?this.notebook.setMatplotLibStyle(e):Promise.resolve()).ignoreErrors()}}dispose(){super.dispose(),this.listeners.forEach(e=>e.dispose()),this.interpreterChangedDisposable&&this.interpreterChangedDisposable.dispose(),this.updateContexts(void 0)}startProgress(){this.postMessage(C.InteractiveWindowMessages.StartProgress).ignoreErrors()}stopProgress(){this.postMessage(C.InteractiveWindowMessages.StopProgress).ignoreErrors()}undoCells(){this.postMessage(C.InteractiveWindowMessages.Undo).ignoreErrors()}redoCells(){this.postMessage(C.InteractiveWindowMessages.Redo).ignoreErrors()}removeAllCells(){this.postMessage(C.InteractiveWindowMessages.DeleteAllCells).ignoreErrors()}async restartKernel(){if(this.notebook&&!this.restartingKernel)if(this.shouldAskForRestart()){const e=g.DataScience.restartKernelMessage(),t=g.DataScience.restartKernelMessageYes(),n=g.DataScience.restartKernelMessageDontAskAgain(),r=g.DataScience.restartKernelMessageNo(),i=await this.applicationShell.showInformationMessage(e,t,n,r);i===n?(this.disableAskForRestart(),await this.restartKernelInternal()):i===t&&await this.restartKernelInternal()}else await this.restartKernelInternal()}async interruptKernel(){if(this.notebook&&!this.restartingKernel){const e=this.statusProvider.set(g.DataScience.interruptKernelStatus(),!0,void 0,void 0,this),t=this.configuration.getSettings().datascience.jupyterInterruptTimeout;try{const n=await this.notebook.interruptKernel(t);if(e.dispose(),n===k.InterruptResult.TimedOut){const e=g.DataScience.restartKernelAfterInterruptMessage(),t=g.DataScience.restartKernelMessageYes(),n=g.DataScience.restartKernelMessageNo();await this.applicationShell.showInformationMessage(e,t,n)===t&&await this.restartKernelInternal()}else n===k.InterruptResult.Restarted&&this.addSysInfo(C.SysInfoReason.Interrupt).ignoreErrors()}catch(t){e.dispose(),f.traceError(t),this.applicationShell.showErrorMessage(t)}}}copyCode(e){this.copyCodeInternal(e.source).catch(e=>{this.applicationShell.showErrorMessage(e)})}onViewStateChanged(e,t){t&&!this.viewState.active&&this.activating().ignoreErrors()}async activating(){this.viewState.active&&!this.documentManager.activeTextEditor&&(await super.show(!1),await this.postMessage(C.InteractiveWindowMessages.Activate))}reexecuteCell(e){}async clearResult(e){await this.ensureServerActive(),this.notebook&&this.notebook.clear(e)}async setLaunchingFile(e){e!==S.Identifiers.EmptyFileName&&this.notebook&&await this.notebook.setLaunchingFile(e)}getNotebook(){return this.notebook}async submitCode(e,t,n,r,i,s){f.traceInfo(`Submitting code for ${this.id}`);let o=!0;if(0===new b.CellMatcher(this.configService.getSettings().datascience).stripFirstMarker(e).length)return o;const a=this.setStatus(g.DataScience.executingCode(),!1);r||(r=l(),this.shareMessage(C.InteractiveWindowMessages.RemoteAddCode,{code:e,file:t,line:n,id:r,originator:this.id,debug:void 0!==s&&s}));const c=m.createDeferred(),u=a.dispose.bind(a);a.dispose=()=>{c.resolve(),u()};try{if(await this.ensureServerActive(),await this.ensureDarkSet(),await this.show(),t!==S.Identifiers.EmptyFileName&&await this.addSysInfo(C.SysInfoReason.Start),this.notebook){await this.setLaunchingFile(t),s&&await this.jupyterDebugger.startDebugging(this.notebook),t!==S.Identifiers.EmptyFileName&&await this.notebook.execute(`__file__ = '${t.replace(/\\/g,"\\\\")}'`,t,n,l(),void 0,!0);const i=this.notebook.executeObservable(e,t,n,r,!1);this.executeEvent.fire(e),i.subscribe(e=>{this.sendCellsToWebView(e),this.configuration.getSettings().datascience.stopOnError&&(o=o&&void 0===e.find(e=>e.state===k.CellState.error))},e=>{a.dispose(),e instanceof h.CancellationError||this.applicationShell.showErrorMessage(e.toString())},()=>{a.dispose()}),await c.promise,f.traceInfo(`Finished execution for ${r}`)}}catch(e){const t=g.DataScience.executingCodeFailure().format(e);this.applicationShell.showErrorMessage(t)}finally{a.dispose(),s&&this.notebook&&await this.jupyterDebugger.stopDebugging(this.notebook)}return o}addMessageImpl(e){const t={id:l(),file:S.Identifiers.EmptyFileName,line:0,state:k.CellState.finished,data:{cell_type:"messages",messages:[e],source:[],metadata:{}}};this.sendCellsToWebView([t])}sendCellsToWebView(e){e.forEach(e=>{switch(e.state){case k.CellState.init:this.postMessage(C.InteractiveWindowMessages.StartCell,e).ignoreErrors(),this.unfinishedCells.push(e);break;case k.CellState.executing:this.postMessage(C.InteractiveWindowMessages.UpdateCell,e).ignoreErrors();break;case k.CellState.error:case k.CellState.finished:this.postMessage(C.InteractiveWindowMessages.FinishCell,e).ignoreErrors(),this.unfinishedCells=this.unfinishedCells.filter(t=>t.id!==e.id)}})}postMessage(e,t){return this.postMessageToListeners(e.toString(),t),super.postMessage(e,t)}startServer(){return this.loadPromise||(this.loadPromise=this.startServerImpl()),this.loadPromise}handleMessage(e,t,n){const r=t;n.bind(this)(r)}async addSysInfo(e){if(this.addSysInfoPromise&&e===C.SysInfoReason.Start)this.addSysInfoPromise&&(f.traceInfo(`Wait for sys info for ${this.id} ${e}`),await this.addSysInfoPromise.promise);else{f.traceInfo(`Adding sys info for ${this.id} ${e}`);const t=m.createDeferred();this.addSysInfoPromise=t;const n=await this.generateSysInfoCell(e);n&&this.sendCellsToWebView([n]),e!==C.SysInfoReason.Start&&n&&this.shareMessage(C.InteractiveWindowMessages.AddedSysInfo,{type:e,sysInfoCell:n,id:this.id}),e!==C.SysInfoReason.Restart&&e!==C.SysInfoReason.New||(this.postMessage(C.InteractiveWindowMessages.RestartKernel).ignoreErrors(),this.notebook&&this.jupyterDebugger.onRestart(this.notebook)),f.traceInfo(`Sys info for ${this.id} ${e} complete`),t.resolve(!0)}}postMessageToListeners(e,t){this.listeners&&this.listeners.forEach(n=>n.onMessage(e,t))}async ensureServerActive(){try{f.traceInfo("Waiting for jupyter server and web panel ..."),await this.startServer()}catch(e){throw await this.closeBecauseOfFailure(e),this.loadPromise=void 0,await this.jupyterExecution.refreshCommands(),e}}async startServerImpl(){const e=await this.jupyterExecution.getServer(await this.getNotebookOptions())?this.setStatus(g.DataScience.connectingToJupyter(),!0):this.setStatus(g.DataScience.startingJupyter(),!0);try{if(!await this.checkUsable())throw e.dispose(),new E.JupyterInstallError(g.DataScience.jupyterNotSupported().format(await this.jupyterExecution.getNotebookError()),g.DataScience.pythonInteractiveHelpLink());await this.createNotebook()}catch(e){if(e instanceof D.JupyterSelfCertsError){const t=g.DataScience.jupyterSelfCertEnable(),n=g.DataScience.jupyterSelfCertClose();throw this.applicationShell.showErrorMessage(g.DataScience.jupyterSelfCertFail().format(e.message),t,n).then(r=>{r===t?(v.sendTelemetryEvent(S.Telemetry.SelfCertsMessageEnabled),this.configuration.updateSetting("dataScience.allowUnauthorizedRemoteConnection",!0,void 0,u.ConfigurationTarget.Workspace).ignoreErrors()):r===n&&v.sendTelemetryEvent(S.Telemetry.SelfCertsMessageClose),this.closeBecauseOfFailure(e).ignoreErrors()}),e}throw e}finally{e.dispose()}}shouldAskForRestart(){const e=this.configuration.getSettings();return e&&e.datascience&&!0===e.datascience.askForKernelRestart}disableAskForRestart(){const e=this.configuration.getSettings();e&&e.datascience&&(e.datascience.askForKernelRestart=!1,this.configuration.updateSetting("dataScience.askForKernelRestart",!1,void 0,u.ConfigurationTarget.Global).ignoreErrors())}async checkPandas(){const e=this.notebook?await this.dataExplorerProvider.getPandasVersion(this.notebook):void 0;if(!e)return v.sendTelemetryEvent(S.Telemetry.PandasNotInstalled),this.applicationShell.showErrorMessage(g.DataScience.pandasRequiredForViewing()),!1;if(e.major<1&&e.minor<20){v.sendTelemetryEvent(S.Telemetry.PandasTooOld);const t=`${e.major}.${e.minor}.${e.build}`;return this.applicationShell.showErrorMessage(g.DataScience.pandasTooOldForViewingFormat().format(t)),!1}return!0}shouldAskForLargeData(){const e=this.configuration.getSettings();return e&&e.datascience&&!0===e.datascience.askForLargeDataFrames}disableAskForLargeData(){const e=this.configuration.getSettings();e&&e.datascience&&(e.datascience.askForLargeDataFrames=!1,this.configuration.updateSetting("dataScience.askForLargeDataFrames",!1,void 0,u.ConfigurationTarget.Global).ignoreErrors())}async checkColumnSize(e){if(e>w.ColumnWarningSize&&this.shouldAskForLargeData()){const e=g.DataScience.tooManyColumnsMessage(),t=g.DataScience.tooManyColumnsYes(),n=g.DataScience.tooManyColumnsNo(),r=g.DataScience.tooManyColumnsDontAskAgain(),i=await this.applicationShell.showWarningMessage(e,t,n,r);return i===r&&this.disableAskForLargeData(),i===t}return!0}async showDataViewer(e){try{await this.checkPandas()&&await this.checkColumnSize(e.columnSize)&&await this.dataExplorerProvider.create(e.variableName,this.notebook)}catch(e){this.applicationShell.showErrorMessage(e.toString())}}onAddedSysInfo(e){e.id!==this.id&&e.sysInfoCell&&this.sendCellsToWebView([e.sysInfoCell])}onRemoteReexecuteCode(e){e&&e.id&&e.file&&e.originator!==this.id&&(this.notebook&&this.notebook.clear(e.id),v.sendTelemetryEvent(S.Telemetry.RemoteReexecuteCode),this.submitCode(e.code,e.file,e.line,e.id,void 0,e.debug).ignoreErrors())}onRemoteAddedCode(e){e&&e.id&&e.file&&e.originator!==this.id&&(v.sendTelemetryEvent(S.Telemetry.RemoteAddCode),this.submitCode(e.code,e.file,e.line,e.id,void 0,e.debug).ignoreErrors())}finishOutstandingCells(){this.unfinishedCells.forEach(e=>{e.state=k.CellState.error,this.postMessage(C.InteractiveWindowMessages.FinishCell,e).ignoreErrors()}),this.unfinishedCells=[],this.potentiallyUnfinishedStatus.forEach(e=>e.dispose()),this.potentiallyUnfinishedStatus=[]}async restartKernelInternal(){this.restartingKernel=!0,this.finishOutstandingCells();const e=this.statusProvider.set(g.DataScience.restartingKernelStatus(),!0,void 0,void 0,this);try{if(this.notebook){await this.notebook.restartKernel(this.generateDataScienceExtraSettings().jupyterInterruptTimeout),await this.addSysInfo(C.SysInfoReason.Restart);const e=await this.isDark();await this.notebook.setMatplotLibStyle(e)}}catch(e){e instanceof T.JupyterKernelPromiseFailedError&&this.notebook?(await this.notebook.dispose(),await this.createNotebook(),await this.addSysInfo(C.SysInfoReason.Restart)):(this.applicationShell.showErrorMessage(e),f.traceError(e))}finally{e.dispose(),this.restartingKernel=!1}}async stopServer(){if(this.loadPromise&&(await this.loadPromise,this.loadPromise=void 0,this.notebook)){const e=this.notebook;this.notebook=void 0,await e.dispose()}}async reloadWithNew(){const e=this.setStatus(g.DataScience.startingJupyter(),!0);try{await this.stopServer(),await this.startServer(),await this.addSysInfo(C.SysInfoReason.New)}finally{e.dispose()}}async reloadAfterShutdown(){try{this.stopServer().ignoreErrors()}catch(e){this.notebook=void 0}return this.startServer()}gotoCode(e){this.gotoCodeInternal(e.file,e.line).catch(e=>{this.applicationShell.showErrorMessage(e)})}async gotoCodeInternal(e,t){let n;await s.pathExists(e)?n=await this.documentManager.showTextDocument(u.Uri.file(e),{viewColumn:u.ViewColumn.One}):(n=this.documentManager.visibleTextEditors.find(t=>t.document.fileName===e))&&n.show(),n&&(n.revealRange(new u.Range(t,0,t,0)),n.selection=new u.Selection(new u.Position(t,0),new u.Position(t,0)))}async copyCodeInternal(e){let t=this.documentManager.activeTextEditor;if(!t||t.document.languageId!==p.PYTHON_LANGUAGE){const e=this.documentManager.visibleTextEditors.filter(e=>e.document.languageId===p.PYTHON_LANGUAGE||e.document.isUntitled);e.length>0&&(t=e[0])}if(t&&(t.document.languageId===p.PYTHON_LANGUAGE||t.document.isUntitled)){const n=_.generateCellRanges(t.document,this.generateDataScienceExtraSettings()),r=n.length>0,i=t.selection.start.line,s=i+1,o=this.configService.getSettings().datascience.defaultCellMarker||S.Identifiers.DefaultCodeCellMarker;let c=`${e}${a.EOL}`;if(r){const r=n.find(e=>e.range.start.line<=i&&e.range.end.line>=i);c=r&&r.range.start.line<i&&i<t.document.lineCount-1?`${o}${a.EOL}${e}${a.EOL}${o}${a.EOL}`:`${o}${a.EOL}${e}${a.EOL}`}else(t.document.lineCount<=0||t.document.isUntitled)&&(c=`${o}${a.EOL}${e}${a.EOL}`);await t.edit(e=>{e.insert(new u.Position(i,0),c)}),t.revealRange(new u.Range(s,0,s+e.split("\n").length+3,0));const l=i+c.split("\n").length-1;t.selection=new u.Selection(new u.Position(l,0),new u.Position(l,0))}}showInformationMessage(e,t,n){return n?this.applicationShell.showInformationMessage(e,t,n):this.applicationShell.showInformationMessage(e,t)}async ensureDarkSet(){if(this.setDarkPromise)await this.setDarkPromise.promise;else{this.setDarkPromise=m.createDeferred();const e=await this.isDark();this.notebook&&await this.notebook.setMatplotLibStyle(e),this.setDarkPromise.resolve(!0)}}async createNotebook(){f.traceInfo("Getting jupyter server options ...");const e=await this.getNotebookOptions();f.traceInfo("Connecting to jupyter server ...");const t=await this.jupyterExecution.connectToNotebookServer(e);t&&(this.notebook=await t.createNotebook(await this.getNotebookIdentity())),f.traceInfo("Connected to jupyter server.")}async generateSysInfoMessage(e){switch(e){case C.SysInfoReason.Start:return await this.jupyterExecution.isKernelCreateSupported()?g.DataScience.pythonVersionHeader():g.DataScience.pythonVersionHeaderNoPyKernel();case C.SysInfoReason.Restart:return g.DataScience.pythonRestartHeader();case C.SysInfoReason.Interrupt:return g.DataScience.pythonInterruptFailedHeader();case C.SysInfoReason.New:return g.DataScience.pythonNewHeader();default:return f.traceError("Invalid SysInfoReason"),""}}generateConnectionInfoString(e){if(!e)return"";const t=e.token.length>0?`?token=${e.token}`:"",n=`${e.baseUrl}${t}`;return`${g.DataScience.sysInfoURILabel()}${n}`}async checkUsable(){let e;try{const t=await this.getNotebookOptions();if(t&&!t.uri){e=await this.interpreterService.getActiveInterpreter();const t=await this.jupyterExecution.getUsableJupyterPython();if(t){const e=await this.liveShare.getApi();if(!e||e.session&&e.session.role!==d.Role.Guest){const e=await this.interpreterService.getActiveInterpreter(),n=e?e.displayName:void 0,r=e?e.path:void 0,i=t?t.displayName:void 0,s=t?t.path:void 0,o=await this.jupyterExecution.getNotebookError();r&&s&&!this.fileSystem.arePathsSame(r,s)&&n&&i&&this.applicationShell.showWarningMessage(g.DataScience.jupyterKernelNotSupportedOnActive().format(n,i,o))}}return!!t}return!0}catch(t){if(e){const n=e.displayName?e.displayName:e.path;throw new Error(g.DataScience.jupyterNotSupportedBecauseOfEnvironment().format(n,t.toString()))}throw new E.JupyterInstallError(g.DataScience.jupyterNotSupported().format(await this.jupyterExecution.getNotebookError()),g.DataScience.pythonInteractiveHelpLink())}}async requestVariables(e){this.variableRequestStopWatch=new y.StopWatch;const t=this.notebook?await this.jupyterVariables.getVariables(this.notebook):[],n={executionCount:e,variables:t};n.variables.forEach(t=>{t.executionCount=e});const r=this.configuration.getSettings().datascience.variableExplorerExclude;if(r){const e=r.split(";");n.variables=n.variables.filter(t=>-1===e.indexOf(t.type))}this.variableRequestPendingCount=n.variables.length,this.postMessage(C.InteractiveWindowMessages.GetVariablesResponse,n).ignoreErrors(),v.sendTelemetryEvent(S.Telemetry.VariableExplorerVariableCount,void 0,{variableCount:n.variables.length})}async requestVariableValue(e){if(e&&this.notebook){const t=e,n=await this.jupyterVariables.getValue(t,this.notebook);this.postMessage(C.InteractiveWindowMessages.GetVariableValueResponse,n).ignoreErrors(),1===this.variableRequestPendingCount&&this.variableRequestStopWatch?(this.variableRequestPendingCount-=1,v.sendTelemetryEvent(S.Telemetry.VariableExplorerFetchTime,this.variableRequestStopWatch.elapsedTime),this.variableRequestStopWatch=void 0):this.variableRequestPendingCount=Math.max(0,this.variableRequestPendingCount-1)}}requestTmLanguage(){f.traceInfo("Request for tmlanguage file."),this.themeFinder.findTmLanguage(p.PYTHON_LANGUAGE).then(e=>{this.postMessage(C.InteractiveWindowMessages.LoadTmLanguageResponse,e).ignoreErrors()}).catch(e=>{this.postMessage(C.InteractiveWindowMessages.LoadTmLanguageResponse,void 0).ignoreErrors()})}async requestOnigasm(){let e=c.join(__dirname,"node_modules","onigasm","lib","onigasm.wasm");if(f.traceInfo(`Request for onigasm file at ${e}`),this.fileSystem)if(await this.fileSystem.fileExists(e)){const t=await s.readFile(e);this.postMessage(C.InteractiveWindowMessages.LoadOnigasmAssemblyResponse,t).ignoreErrors()}else if(e=c.join(p.EXTENSION_ROOT_DIR,"node_modules","onigasm","lib","onigasm.wasm"),f.traceInfo(`Backup request for onigasm file at ${e}`),await this.fileSystem.fileExists(e)){const t=await s.readFile(e);this.postMessage(C.InteractiveWindowMessages.LoadOnigasmAssemblyResponse,t).ignoreErrors()}else f.traceWarning("Onigasm file not found. Colorization will not be available."),this.postMessage(C.InteractiveWindowMessages.LoadOnigasmAssemblyResponse,void 0).ignoreErrors();else f.traceWarning("File system not found. Colorization will not be available."),this.postMessage(C.InteractiveWindowMessages.LoadOnigasmAssemblyResponse,void 0).ignoreErrors()}};r([v.captureTelemetry(S.Telemetry.Undo)],x.prototype,"undoCells",null),r([v.captureTelemetry(S.Telemetry.Redo)],x.prototype,"redoCells",null),r([v.captureTelemetry(S.Telemetry.DeleteAllCells)],x.prototype,"removeAllCells",null),r([v.captureTelemetry(S.Telemetry.RestartKernel)],x.prototype,"restartKernel",null),r([v.captureTelemetry(S.Telemetry.Interrupt)],x.prototype,"interruptKernel",null),r([v.captureTelemetry(S.Telemetry.CopySourceCode,void 0,!1)],x.prototype,"copyCode",null),r([v.captureTelemetry(S.Telemetry.GotoSourceCode,void 0,!1)],x.prototype,"gotoCode",null),x=r([o.injectable(),i(0,o.unmanaged()),i(1,o.unmanaged()),i(2,o.unmanaged()),i(3,o.unmanaged()),i(4,o.unmanaged()),i(5,o.unmanaged()),i(6,o.unmanaged()),i(7,o.unmanaged()),i(8,o.unmanaged()),i(9,o.unmanaged()),i(10,o.unmanaged()),i(11,o.unmanaged()),i(12,o.unmanaged()),i(13,o.unmanaged()),i(14,o.unmanaged()),i(15,o.unmanaged()),i(16,o.unmanaged()),i(17,o.unmanaged()),i(18,o.unmanaged()),i(19,o.unmanaged()),i(20,o.unmanaged()),i(21,o.unmanaged()),i(22,o.unmanaged())],x),t.InteractiveBase=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.JupyterKernelPromiseFailedError=class extends Error{constructor(e){super(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(41),s=n(17),o=n(15);t.PostOffice=class{constructor(e,t,n){this.liveShareApi=t,this.hostArgsTranslator=n,this.hostServer=null,this.guestServer=null,this.currentRole=i.Role.None,this.currentPeerCount=0,this.peerCountChangedEmitter=new r.EventEmitter,this.commandMap={},this.onGuestNotify=(e,t)=>{const n=this.unescapeCommandName(e),r=JSON.parse(t.args);this.callCallback(n,...r)},this.onBroadcastRequest=(e,t)=>{if(t.args.length>0){const n=JSON.parse(t.args);if(null!==n&&n.length>=2){const t=n[0],r=null!==t?t.toString():"",s=n.slice(1);this.hostArgsTranslator&&this.hostArgsTranslator(e,r,i.Role.Guest,s),this.postCommand(r,...s).ignoreErrors()}}},this.name=e}get peerCount(){return this.currentPeerCount}get peerCountChanged(){return this.peerCountChangedEmitter.event}get role(){return this.currentRole}async dispose(){if(this.peerCountChangedEmitter.fire(),this.peerCountChangedEmitter.dispose(),this.hostServer){const e=await this.getApi();null!==e&&await e.unshareService(this.name),this.hostServer=null}this.guestServer=null}async postCommand(e,...t){const n=await this.getApi();let r=!1;if(n&&n.session)switch(this.currentRole){case i.Role.Guest:this.guestServer&&this.guestServer.notify(o.LiveShare.LiveShareBroadcastRequest,this.createBroadcastArgs(e,...t)),r=!0;break;case i.Role.Host:this.hostServer&&this.hostServer.notify(this.escapeCommandName(e),this.translateArgs(n,e,...t))}r||this.callCallback(e,...t)}async registerCallback(e,t,n){const r=await this.getApi();r&&r.session&&r.session.role===i.Role.Guest&&this.guestServer&&this.guestServer.onNotify(this.escapeCommandName(e),t=>this.onGuestNotify(e,t)),this.commandMap[e]={callback:t,thisArg:n}}createBroadcastArgs(e,...t){return{args:JSON.stringify([e,...t])}}translateArgs(e,t,...n){for(let e=0;e<=n.length;e+=1)n[e]===Object(n[e])&&(n[e].toJSON=void 0);const r=JSON.parse(JSON.stringify(n));return(this.commandMap.hasOwnProperty(t)?this.commandMap[t].callback:void 0)&&this.hostArgsTranslator&&this.hostArgsTranslator(e,t,i.Role.Host,r),{args:JSON.stringify(r)}}escapeCommandName(e){return e.replace(/\./g,"$")}unescapeCommandName(e){return e.replace(/\$/g,".")}callCallback(e,...t){const n=this.getCallback(e);n&&n(...t)}getCallback(e){let t=this.commandMap.hasOwnProperty(e)?this.commandMap[e].callback:void 0;if(t){const n=this.commandMap[e].thisArg;n&&(t=t.bind(n))}return t}getApi(){return this.startedPromise||(this.startedPromise=s.createDeferred(),this.startCommandServer().then(e=>this.startedPromise.resolve(e)).catch(e=>this.startedPromise.reject(e))),this.startedPromise.promise}async startCommandServer(){const e=await this.liveShareApi.getApi();return null!==e&&(e.onDidChangeSession(()=>this.onChangeSession(e).ignoreErrors()),e.onDidChangePeers(()=>this.onChangePeers(e).ignoreErrors()),await this.onChangeSession(e),await this.onChangePeers(e)),e}async onChangeSession(e){e.session&&(this.currentRole!==e.session.role&&(this.hostServer&&(await e.unshareService(this.name),this.hostServer=null),this.guestServer&&(this.guestServer=null)),this.currentRole=e.session.role,e.session.role===i.Role.Host?(this.hostServer=await e.shareService(this.name),null!==this.hostServer&&this.hostServer.onNotify(o.LiveShare.LiveShareBroadcastRequest,t=>this.onBroadcastRequest(e,t))):e.session.role===i.Role.Guest&&(this.guestServer=await e.getSharedService(this.name),this.registerGuestCommands(e)))}async onChangePeers(e){let t=0;e.session&&(t=e.peers.length),t!==this.currentPeerCount&&(this.peerCountChangedEmitter.fire(t),this.currentPeerCount=t)}registerGuestCommands(e){e&&e.session&&e.session.role===i.Role.Guest&&null!==this.guestServer&&Object.keys(this.commandMap).forEach(e=>{null!==this.guestServer&&this.guestServer.onNotify(this.escapeCommandName(e),t=>this.onGuestNotify(e,t))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(12);t.InvalidNotebookFileError=class extends Error{constructor(e){super(e?r.DataScience.invalidNotebookFileErrorFormat().format(e):r.DataScience.invalidNotebookFileError())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);t.JupyterConnectError=class extends Error{constructor(e,t){super(e+(t?`\n${t}`:""))}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(59),s=n(22),o=n(3),a=n(45),c=n(36),l=n(2),u=n(4),d=n(71),h=n(6),p=n(12),f=n(16),m=n(24),g=n(30),y=n(9),v=n(15),_=n(19),b=n(1164),S=n(1165),w=n(162),C=n(528),E=n(232),T=n(529);class D{constructor(e,t,n,r,i,s,c,d,p,m,y,_,S,w){if(this.executionFactory=t,this.interpreterService=n,this.processServiceFactory=r,this.logger=s,this.disposableRegistry=c,this.asyncRegistry=d,this.fileSystem=p,this.sessionManagerFactory=m,this.configuration=_,this.serviceContainer=w,this.eventEmitter=new l.EventEmitter,this.disposed=!1,this.createRemoteConnectionInfo=e=>{let t;try{t=new a.URL(e)}catch(e){throw e}const n=this.configuration.getSettings();return{allowUnauthorized:!!n.datascience.allowUnauthorizedRemoteConnection&&n.datascience.allowUnauthorizedRemoteConnection,baseUrl:`${t.protocol}//${t.host}${t.pathname}`,token:`${t.searchParams.get("token")}`,hostName:t.hostname,localLaunch:!1,localProcExitCode:void 0,disconnected:e=>({dispose:f.noop}),dispose:f.noop}},this.getUsableJupyterPythonImpl=async e=>{const t=await this.findBestCommand(v.JupyterCommands.NotebookCommand,e);if(t&&t.command)return t.command.interpreter()},this.getJupyterServerInfo=async e=>{const t=await this.getUsableJupyterPython(e);if(t){const n={mergeStdOutErr:!0,token:e},r=await this.executionFactory.createActivatedEnvironment({resource:void 0,interpreter:t,allowEnvironmentFetchExceptions:!0}),i=o.join(g.EXTENSION_ROOT_DIR,"pythonFiles","datascience","getServerInfo.py"),s=await r.exec([i],n);let a;try{a=JSON.parse(s.stdout.trim())}catch(e){return}return a}},this.findSpecPath=async(e,t)=>{const n=(await this.enumerateSpecs(t)).filter(e=>void 0!==e).find(t=>{return t&&t.name===e});return n?n.specFile:void 0},this.isCommandSupported=async(e,t)=>{try{return void 0!==(await this.findBestCommand(e,t)).command}catch(e){return this.logger.logWarning(e),!1}},this.hasSpecPathMatch=async(e,t)=>{if(e){return(await this.enumerateSpecs(t)).findIndex(t=>!!(e&&t&&t.path)&&this.fileSystem.arePathsSame(t.path,e.path))>=0}return!0},this.findSpecMatch=async e=>{h.traceInfo("Searching for a kernelspec match");const t=await this.interpreterService.getActiveInterpreter();let n,r=0;const i=await e(),s=await Promise.all(i.map(async e=>e&&e.path&&e.path.length>0&&await this.fileSystem.fileExists(e.path)?this.interpreterService.getInterpreterDetails(e.path):e&&e.path&&e.path.length>0&&o.basename(e.path)===e.path?this.getInterpreterDetailsFromProcess(e.path):void 0));for(let e=0;i&&e<i.length;e+=1){const o=i[e];let a=0;if(o&&o.language&&"python"===o.language.toLocaleLowerCase())if(a+=1,o&&o.path&&o.path.length>0&&t&&o.path===t.path&&(a+=10),t&&t.version&&s[e]){const n=s[e];n&&n.version&&n.version.major===t.version.major&&(a+=4,n.version.minor===t.version.minor&&(a+=2,n.version.patch===t.version.patch&&(a+=1)))}else if(t&&t.version&&o&&o.path&&"python"===o.path.toLocaleLowerCase()&&o.name){const e=/\D+(\d+)/.exec(o.name);if(e&&null!==e&&e.length>0){const n=parseInt(e[0],10);n&&n===t.version.major&&(a+=4)}}a>r&&(r=a,n=o)}return!n&&i&&i.length>0&&(n=i[0]),h.traceInfo(`Found kernelspec match ${n?`${n.name}' '${n.path}`:"undefined"}`),n},this.enumerateSpecs=async e=>{if(await this.isKernelSpecSupported()){const e=await this.findBestCommand(v.JupyterCommands.KernelSpecCommand);if(e.command)try{h.traceInfo("Asking for kernelspecs from jupyter");const t=await e.command.exec(["list"],{throwOnStdErr:!0,encoding:"utf8"});h.traceInfo("Parsing kernelspecs from jupyter");const n=t.stdout.splitLines({trim:!1,removeEmptyEntries:!0}).map(e=>this.readSpec(e));h.traceInfo("Awaiting the read of kernelspecs from jupyter");const r=await Promise.all(n);return h.traceInfo("Returning kernelspecs from jupyter"),r.filter(e=>e)}catch(e){return[]}}return[]},this.commandFinder=new b.JupyterCommandFinder(n,t,_,i,c,p,s,r,S,y,w.get(u.IApplicationShell)),this.disposableRegistry.push(this.interpreterService.onDidChangeInterpreter(()=>this.onSettingsChanged())),this.disposableRegistry.push(this),y){const e=y.onDidChangeConfiguration(e=>{e.affectsConfiguration("python.dataScience",void 0)&&this.onSettingsChanged()});this.disposableRegistry.push(e)}}get sessionChanged(){return this.eventEmitter.event}dispose(){return this.disposed=!0,Promise.resolve()}async refreshCommands(){this.commandFinder.clearCache()}isNotebookSupported(e){return d.Cancellation.race(()=>this.isCommandSupported(v.JupyterCommands.NotebookCommand,e),e)}async getNotebookError(){const e=await this.findBestCommand(v.JupyterCommands.NotebookCommand);return e.error?e.error:p.DataScience.notebookNotFound()}async getUsableJupyterPython(e){return this.usablePythonInterpreter||this.disposed||(this.usablePythonInterpreter=await d.Cancellation.race(()=>this.getUsableJupyterPythonImpl(e),e)),this.usablePythonInterpreter}isImportSupported(e){return d.Cancellation.race(()=>this.isCommandSupported(v.JupyterCommands.ConvertCommand),e)}isKernelCreateSupported(e){return d.Cancellation.race(()=>this.isCommandSupported(v.JupyterCommands.KernelCreateCommand),e)}isKernelSpecSupported(e){return d.Cancellation.race(()=>this.isCommandSupported(v.JupyterCommands.KernelSpecCommand),e)}isSpawnSupported(e){return this.isNotebookSupported(e)}connectToNotebookServer(e,t){return d.Cancellation.race(async()=>{let n,r;h.traceInfo(`Connecting to ${e?e.purpose:"unknown type of"} server`);const i=await this.interpreterService.getActiveInterpreter();let s=0;const o=this.configuration.getSettings().datascience.jupyterLaunchRetries;for(;s<o;)try{r=await this.startOrConnect(e,t),n=this.serviceContainer.get(_.INotebookServer);const a={connectionInfo:r.connection,currentInterpreter:i,kernelSpec:r.kernelSpec,workingDir:e?e.workingDir:void 0,uri:e?e.uri:void 0,purpose:e?e.purpose:c(),enableDebugging:!!e&&e.enableDebugging};return h.traceInfo(`Connecting to process for ${e?e.purpose:"unknown type of"} server`),await n.connect(a,t),h.traceInfo(`Connection complete for ${e?e.purpose:"unknown type of"} server`),y.sendTelemetryEvent(a.uri?v.Telemetry.ConnectRemoteJupyter:v.Telemetry.ConnectLocalJupyter),n}catch(t){if(n&&(h.traceInfo("Killing server because of error"),await n.dispose()),!(t instanceof T.JupyterWaitForIdleError&&s<o))throw r?e&&e.uri?(y.sendTelemetryEvent(v.Telemetry.ConnectRemoteFailedJupyter),t.message.indexOf("reason: self signed certificate")>=0?(y.sendTelemetryEvent(v.Telemetry.ConnectRemoteSelfCertFailedJupyter),new E.JupyterSelfCertsError(r.connection.baseUrl)):new Error(p.DataScience.jupyterNotebookRemoteConnectFailed().format(r.connection.baseUrl,t))):(y.sendTelemetryEvent(v.Telemetry.ConnectFailedJupyter),new Error(p.DataScience.jupyterNotebookConnectFailed().format(r.connection.baseUrl,t))):t;h.traceInfo("Retry because of wait for idle problem."),y.sendTelemetryEvent(v.Telemetry.SessionIdleTimeout),s+=1}},t)}async spawnNotebook(e){const t=await this.findBestCommand(v.JupyterCommands.NotebookCommand);this.checkNotebookCommand(t);const n=[`--NotebookApp.file_to_run=${e}`];t.command.exec(n,{throwOnStdErr:!1,encoding:"utf8"}).ignoreErrors()}async importNotebook(e,t){const n=await this.findBestCommand(v.JupyterCommands.ConvertCommand);if(!n.command)throw new Error(p.DataScience.jupyterNbConvertNotSupported());const r=t?[e,"--to","python","--stdout","--template",t]:[e,"--to","python","--stdout"],i=await n.command.exec(r,{throwOnStdErr:!1,encoding:"utf8"});return i.stderr&&this.logger.logInformation(i.stderr),i.stdout}getServer(e){return Promise.resolve(void 0)}async getMatchingKernelSpec(e,t){try{if(!e){h.traceInfo("Searching for best interpreter");const e=await this.getUsableJupyterPython(t);h.traceInfo(`Best interpreter is ${e?e.path:"notfound"}`),e&&!await this.hasSpecPathMatch(e,t)&&await this.isKernelCreateSupported(t)&&await this.addMatchingSpec(e,t)}const n=e?()=>e.getActiveKernelSpecs():()=>this.enumerateSpecs(t);return this.findSpecMatch(n)}catch(t){if(this.logger.logWarning(t),e&&e.getConnInfo().localProcExitCode)throw new Error(p.DataScience.jupyterServerCrashed().format(e.getConnInfo().localProcExitCode.toString()))}}async findBestCommand(e,t){return this.commandFinder.findBestCommand(e,t)}checkNotebookCommand(e){if(!e.command){const t=e.error?e.error:p.DataScience.notebookNotFound();throw new w.JupyterInstallError(p.DataScience.jupyterNotSupported().format(t),p.DataScience.pythonInteractiveHelpLink())}}async startOrConnect(e,t){let n,r;if(e&&e.uri)n=this.createRemoteConnectionInfo(e.uri),r=void 0;else{h.traceInfo(`Launching ${e?e.purpose:"unknown type of"} server`);const i=await this.startNotebookServer(!(!e||!e.useDefaultConfig),t);if(!i)throw d.Cancellation.throwIfCanceled(t),new Error(p.DataScience.jupyterNotebookFailure().format(""));n=i.connection,r=i.kernelSpec}if(!r&&n.localLaunch){h.traceInfo(`Getting kernel specs for ${e?e.purpose:"unknown type of"} server`);const i=await this.sessionManagerFactory.create(n);r=await this.getMatchingKernelSpec(i,t),await i.dispose()}return!r&&n.localLaunch&&this.logger.logError(p.DataScience.jupyterKernelSpecNotFound()),{connection:n,kernelSpec:r}}async startNotebookServer(e,t){const n=await this.findBestCommand(v.JupyterCommands.NotebookCommand,t);this.checkNotebookCommand(n);let r=0;try{const s=await this.generateTempDir();this.disposableRegistry.push(s);const a=e?o.join(s.path,"jupyter_notebook_config.py"):void 0;a&&(await this.fileSystem.writeFile(a,""),this.logger.logInformation(`Generating custom default config at ${a}`));const c=[];e&&c.push(`--config=${a}`),process.env&&process.env.VSCODE_PYTHON_DEBUG_JUPYTER&&c.push("--debug"),c.push("--NotebookApp.iopub_data_rate_limit=10000000000.0");try{if(await this.fileSystem.fileExists("/proc/self/cgroup")){if((await this.fileSystem.readFile("/proc/self/cgroup")).includes("docker")){c.push("--ip"),c.push("127.0.0.1"),i.execSync("id",{encoding:"utf-8"}).includes("(root)")&&c.push("--allow-root")}}}catch(e){f.noop()}const l=["--no-browser",`--notebook-dir=${s.path}`,...c],u=await this.getMatchingKernelSpec(void 0,t);if(t&&t.isCancellationRequested)throw new d.CancellationError;const h=new m.StopWatch,g=await n.command.execObservable(l,{throwOnStdErr:!1,encoding:"utf8",token:t});g.proc&&g.proc.on("exit",e=>r=e),g&&t&&t.onCancellationRequested(()=>{g.dispose()});const _=await S.JupyterConnection.waitForConnection(s.path,this.getJupyterServerInfo,g,this.serviceContainer,t);return y.sendTelemetryEvent(v.Telemetry.StartJupyterProcess,h.elapsedTime),{connection:_,kernelSpec:u}}catch(e){if(e instanceof d.CancellationError)throw e;throw 0!==r?new Error(p.DataScience.jupyterServerCrashed().format(r.toString())):new Error(p.DataScience.jupyterNotebookFailure().format(e))}}onSettingsChanged(){this.usablePythonInterpreter=void 0}async addMatchingSpec(e,t){const n=p.DataScience.historyTitle(),r=await this.findBestCommand(v.JupyterCommands.KernelCreateCommand,t);try{const i=c();if(r&&r.command){const s=await r.command.exec(["install","--user","--name",i,"--display-name",`'${n}'`],{throwOnStdErr:!0,encoding:"utf8",token:t}),a=v.RegExpValues.PyKernelOutputRegEx.exec(s.stdout),c=a&&null!==a&&a.length>1?o.join(a[1],"kernel.json"):await this.findSpecPath(i);if(this.asyncRegistry.push({dispose:async()=>{if(c)try{await this.fileSystem.deleteDirectory(o.dirname(c))}catch(e){f.noop()}}}),c&&e&&await this.fileSystem.fileExists(c)){const t=JSON.parse(await this.fileSystem.readFile(c));t.argv[0]=e.path,await this.fileSystem.writeFile(c,JSON.stringify(t),{flag:"w",encoding:"utf8"})}}}catch(e){this.logger.logError(e)}}async generateTempDir(){const e=o.join(s.tmpdir(),c());return await this.fileSystem.createDirectory(e),{path:e,dispose:async()=>{let t=0;for(;t<10;)try{await this.fileSystem.deleteDirectory(e),t=10}catch(e){t+=1}}}}async getInterpreterDetailsFromProcess(e){if(o.basename(e)===e&&e.toLocaleLowerCase().includes("python"))try{const t=await this.processServiceFactory.create(),n=(await t.exec(e,["-c","import sys;print(sys.executable)"],{throwOnStdErr:!0})).stdout.trim();return this.interpreterService.getInterpreterDetails(n)}catch(e){return}}async readSpec(e){const t=v.RegExpValues.KernelSpecOutputRegEx.exec(e);if(t&&null!==t&&t.length>2){const e=o.join(t[2],"kernel.json");try{if(await this.fileSystem.fileExists(e)){const n=JSON.parse(await this.fileSystem.readFile(e));return n.name=t[1],new C.JupyterKernelSpec(n,e)}}catch(e){}}}}r([y.captureTelemetry(v.Telemetry.FindJupyterKernelSpec)],D.prototype,"getMatchingKernelSpec",null),r([y.captureTelemetry(v.Telemetry.StartJupyter)],D.prototype,"startNotebookServer",null),t.JupyterExecutionBase=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(46),i=n(3),s=n(16),o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;t.JupyterKernelSpec=class{constructor(e,t){this.dispose=async()=>{if(this.specFile&&o.test(i.basename(i.dirname(this.specFile)))){try{await r.remove(i.dirname(this.specFile))}catch(e){s.noop()}this.specFile=void 0}},this.name=e.name,this.language=e.language,this.path=e.argv&&e.argv.length>0?e.argv[0]:"",this.specFile=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.JupyterWaitForIdleError=class extends Error{constructor(e){super(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(3),i=n(36);t.ServerCache=class{constructor(e,t,n){this.configService=e,this.workspace=t,this.fileSystem=n,this.cache=new Map,this.emptyKey=i()}async get(e){const t=await this.generateDefaultOptions(e),n=this.generateKey(t);if(this.cache.has(n))return this.cache.get(n)}async set(e,t,n){const r=await this.generateDefaultOptions(n),i=this.generateKey(r),s=this.cache.get(i);s&&await s.dispose(),this.cache.set(i,e);const o=e.dispose.bind(e);e.dispose=()=>(this.cache.delete(i),t(),o())}async dispose(){for(const[,e]of this.cache)await e.dispose();this.cache.clear()}async generateDefaultOptions(e){return{enableDebugging:!!e&&e.enableDebugging,uri:e?e.uri:void 0,useDefaultConfig:!e||e.useDefaultConfig,usingDarkTheme:e?e.usingDarkTheme:void 0,purpose:e?e.purpose:i(),workingDir:e&&e.workingDir?e.workingDir:await this.calculateWorkingDirectory()}}generateKey(e){if(e){const t=e.uri?e.uri:"",n=e.useDefaultConfig?"true":"false",r=e.enableDebugging?"true":"false";return`${e.purpose}${t}${n}${e.workingDir}${r}`}return this.emptyKey}async calculateWorkingDirectory(){let e;const t=this.configService.getSettings().datascience.notebookFileRoot;if(t&&this.workspace.hasWorkspaceFolders){const n=this.workspace.workspaceFolders[0].uri.fsPath;if(r.isAbsolute(t))e=await this.fileSystem.directoryExists(t)?t:n;else if(t.includes("${"))e=t;else{const i=r.join(n,t);e=await this.fileSystem.directoryExists(i)?i:n}}return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(41);t.RoleBasedFactory=class{constructor(e,t,n,...s){this.liveShare=e,this.hostCtor=t,this.guestCtor=n,this.firstTime=!0,this.sessionChangedEmitter=new r.EventEmitter,this._role=i.Role.None,this.ctorArgs=s,this.createPromise=this.createBasedOnRole()}get sessionChanged(){return this.sessionChangedEmitter.event}get role(){return this._role}get(){return this.createPromise?this.createPromise:(this.createPromise=this.createBasedOnRole(),this.createPromise)}async createBasedOnRole(){const e=await this.liveShare.getApi();let t=this.hostCtor,n=i.Role.Host;e&&(e.session&&e.session.role===i.Role.Host?t=this.hostCtor:e.session&&e.session.role===i.Role.Guest&&(t=this.guestCtor,n=i.Role.Guest)),this._role=n;const r=new t(...this.ctorArgs);let s=!1;const o=r.dispose.bind(r);return r.dispose=()=>(s=!0,this.createPromise=void 0,o()),e&&this.firstTime&&(this.firstTime=!1,e.onDidChangeSession(t=>{const o=null!==e&&e.session&&e.session.role===i.Role.Guest?i.Role.Guest:i.Role.Host;o!==n&&r.dispose().ignoreErrors(),s||r.onSessionChange(e).ignoreErrors(),o!==n&&this.sessionChangedEmitter.fire()}),e.onDidChangePeers(e=>{s||r.onPeerChange(e).ignoreErrors()})),r}}},function(e,t,n){function r(e,t,n){this.name=this.constructor.name,this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}e.exports=r,n(27).inherits(r,Error)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(159),i=n(17),s=n(15);t.ResponseQueue=class{constructor(){this.responseQueue=[],this.waitingQueue=[]}waitForObservable(e,t){return new r.Observable(n=>{this.waitForResponses(n,e,t).catch(e=>{n.error(e),n.complete()})})}push(e){this.responseQueue.push(e),this.dispatchResponse(e)}send(e,t){this.responseQueue.forEach(n=>e.notify(s.LiveShareCommands.serverResponse,t(n)))}clear(){this.responseQueue=[]}async waitForResponses(e,t,n){let r=0,i=[];for(;void 0!==i;){const s=await this.waitForSpecificResponse(e=>e.pos===r&&n===e.id&&t===e.code);s.cells&&(e.next(s.cells),r+=1),i=s.cells}e.complete(),this.responseQueue=this.responseQueue.filter(e=>e.id!==n)}waitForSpecificResponse(e){const t=this.responseQueue.findIndex(t=>e(t));if(t>=0){const e=this.responseQueue[t];return Promise.resolve(e)}{const t={deferred:i.createDeferred(),predicate:e};return this.waitingQueue.push(t),t.deferred.promise}}dispatchResponse(e){const t=this.waitingQueue.findIndex(t=>t.predicate(e));t>=0&&(this.waitingQueue[t].deferred.resolve(e),this.waitingQueue.splice(t,1))}}},function(e,t){e.exports=require("./node_modules/@jupyterlab/services")},function(e,t,n){"use strict";const r=n(56),i=n(58),s=n(75),o=n(74),a=n(154),c=n(1193),l=n(45),u=n(169),d=n(1195),h=n(536),p=n(537),f=n(539),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:y,kStatusCode:v,kWebSocket:_,NOOP:b}=n(109),S=["CONNECTING","OPEN","CLOSING","CLOSED"],w=[8,13],C=3e4;class E extends r{constructor(e,t,n){super(),this.readyState=E.CONNECTING,this.protocol="",this._binaryType=m[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function e(t,n,r,a){const c=Object.assign({protocolVersion:w[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},a,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0});if(!w.includes(c.protocolVersion))throw new RangeError(`Unsupported protocol version: ${c.protocolVersion} `+`(supported versions: ${w.join(", ")})`);var d;"object"==typeof n&&void 0!==n.href?(d=n,t.url=n.href):(d=l.URL?new l.URL(n):l.parse(n),t.url=n);const p="ws+unix:"===d.protocol;if(!(d.host||p&&d.pathname))throw new Error(`Invalid URL: ${t.url}`);const f="wss:"===d.protocol||"https:"===d.protocol;const m=f?443:80;const g=i.randomBytes(16).toString("base64");const v=f?s.get:o.get;const _=d.search?`${d.pathname||"/"}${d.search}`:d.pathname||"/";var b;c.createConnection=f?D:T;c.defaultPort=c.defaultPort||m;c.port=d.port||m;c.host=d.hostname.startsWith("[")?d.hostname.slice(1,-1):d.hostname;c.headers=Object.assign({"Sec-WebSocket-Version":c.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket"},c.headers);c.path=_;c.timeout=c.handshakeTimeout;c.perMessageDeflate&&(b=new u(!0!==c.perMessageDeflate?c.perMessageDeflate:{},!1,c.maxPayload),c.headers["Sec-WebSocket-Extensions"]=h.format({[u.extensionName]:b.offer()}));r&&(c.headers["Sec-WebSocket-Protocol"]=r);c.origin&&(c.protocolVersion<13?c.headers["Sec-WebSocket-Origin"]=c.origin:c.headers.Origin=c.origin);d.auth?c.auth=d.auth:(d.username||d.password)&&(c.auth=`${d.username}:${d.password}`);if(p){const e=_.split(":");c.socketPath=e[0],c.path=e[1]}var S=t._req=v(c);c.timeout&&S.on("timeout",()=>{P(t,S,"Opening handshake has timed out")});S.on("error",e=>{t._req.aborted||(S=t._req=null,t.readyState=E.CLOSING,t.emit("error",e),t.emitClose())});S.on("response",i=>{const s=i.headers.location,o=i.statusCode;if(s&&c.followRedirects&&o>=300&&o<400){if(++t._redirects>c.maxRedirects)return void P(t,S,"Maximum redirects exceeded");S.abort();const i=l.URL?new l.URL(s,n):l.resolve(n,s);e(t,i,r,a)}else t.emit("unexpected-response",S,i)||P(t,S,`Unexpected server response: ${i.statusCode}`)});S.on("upgrade",(e,n,s)=>{if(t.emit("upgrade",e),t.readyState!==E.CONNECTING)return;S=t._req=null;const o=i.createHash("sha1").update(g+y).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void P(t,n,"Invalid Sec-WebSocket-Accept header");const a=e.headers["sec-websocket-protocol"],l=(r||"").split(/, */);var d;if(!r&&a?d="Server sent a subprotocol but none was requested":r&&!a?d="Server sent no subprotocol":a&&!l.includes(a)&&(d="Server sent an invalid subprotocol"),d)P(t,n,d);else{if(a&&(t.protocol=a),b)try{const r=h.parse(e.headers["sec-websocket-extensions"]);r[u.extensionName]&&(b.accept(r[u.extensionName]),t._extensions[u.extensionName]=b)}catch(e){return void P(t,n,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(n,s,c.maxPayload)}})}(this,e,t,n)):this._isServer=!0}get CONNECTING(){return E.CONNECTING}get CLOSING(){return E.CLOSING}get CLOSED(){return E.CLOSED}get OPEN(){return E.OPEN}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new p(this._binaryType,this._extensions,n);this._sender=new f(e,this._extensions),this._receiver=r,this._socket=e,r[_]=this,e[_]=this,r.on("conclude",k),r.on("drain",I),r.on("error",M),r.on("message",A),r.on("ping",O),r.on("pong",L),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",R),e.on("data",j),e.on("end",F),e.on("error",N),this.readyState=E.OPEN,this.emit("open")}emitClose(){this.readyState=E.CLOSED,this._socket?(this._extensions[u.extensionName]&&this._extensions[u.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==E.CLOSED){if(this.readyState===E.CONNECTING){const e="WebSocket was closed before the connection was established";return P(this,this._req,e)}this.readyState!==E.CLOSING?(this.readyState=E.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),C)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==E.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${S[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,n)}pong(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==E.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${S[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,n)}send(e,t,n){if("function"==typeof t&&(n=t,t={}),this.readyState!==E.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${S[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString());const r=Object.assign({binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this._extensions[u.extensionName]||(r.compress=!1),this._sender.send(e||g,r,n)}terminate(){if(this.readyState!==E.CLOSED){if(this.readyState===E.CONNECTING){const e="WebSocket was closed before the connection was established";return P(this,this._req,e)}this._socket&&(this.readyState=E.CLOSING,this._socket.destroy())}}}function T(e){return e.protocolVersion&&(e.path=e.socketPath),a.connect(e)}function D(e){return e.path=void 0,e.servername=e.servername||e.host,c.connect(e)}function P(e,t,n){e.readyState=E.CLOSING;const r=new Error(n);Error.captureStackTrace(r,P),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function k(e,t){const n=this[_];n._socket.removeListener("data",j),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function I(){this[_]._socket.resume()}function M(e){const t=this[_];t._socket.removeListener("data",j),t.readyState=E.CLOSING,t._closeCode=e[v],t.emit("error",e),t._socket.destroy()}function x(){this[_].emitClose()}function A(e){this[_].emit("message",e)}function O(e){const t=this[_];t.pong(e,!t._isServer,b),t.emit("ping",e)}function L(e){this[_].emit("pong",e)}function R(){const e=this[_];this.removeListener("close",R),this.removeListener("end",F),e.readyState=E.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",j),this[_]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",x),e._receiver.on("finish",x))}function j(e){this[_]._receiver.write(e)||this.pause()}function F(){const e=this[_];e.readyState=E.CLOSING,e._receiver.end(),this.end()}function N(){const e=this[_];this.removeListener("error",N),this.on("error",b),e.readyState=E.CLOSING,this.destroy()}S.forEach((e,t)=>{E[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(E.prototype,`on${e}`,{get(){const t=this.listeners(e);for(var n=0;n<t.length;n++)if(t[n]._listener)return t[n]._listener},set(t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]._listener&&this.removeListener(e,n[r]);this.addEventListener(e,t)}})}),E.prototype.addEventListener=d.addEventListener,E.prototype.removeEventListener=d.removeEventListener,e.exports=E},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]}e.exports={format:function(e){return Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t={};if(void 0===e||""===e)return t;for(var n,s,o={},a=!1,c=!1,l=!1,u=-1,d=-1,h=0;h<e.length;h++){const f=e.charCodeAt(h);if(void 0===n)if(-1===d&&1===r[f])-1===u&&(u=h);else if(32===f||9===f)-1===d&&-1!==u&&(d=h);else{if(59!==f&&44!==f)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);const r=e.slice(u,d);44===f?(i(t,r,o),o={}):n=r,u=d=-1}}else if(void 0===s)if(-1===d&&1===r[f])-1===u&&(u=h);else if(32===f||9===f)-1===d&&-1!==u&&(d=h);else if(59===f||44===f){if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h),i(o,e.slice(u,d),!0),44===f&&(i(t,n,o),o={},n=void 0),u=d=-1}else{if(61!==f||-1===u||-1!==d)throw new SyntaxError(`Unexpected character at index ${h}`);s=e.slice(u,h),u=d=-1}else if(c){if(1!==r[f])throw new SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:a||(a=!0),c=!1}else if(l)if(1===r[f])-1===u&&(u=h);else if(34===f&&-1!==u)l=!1,d=h;else{if(92!==f)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===f&&61===e.charCodeAt(h-1))l=!0;else if(-1===d&&1===r[f])-1===u&&(u=h);else if(-1===u||32!==f&&9!==f){if(59!==f&&44!==f)throw new SyntaxError(`Unexpected character at index ${h}`);if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);var p=e.slice(u,d);a&&(p=p.replace(/\\/g,""),a=!1),i(o,s,p),44===f&&(i(t,n,o),o={},n=void 0),s=void 0,u=d=-1}else-1===d&&(d=h)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===d&&(d=h);const f=e.slice(u,d);return void 0===n?i(t,f,{}):(void 0===s?i(o,f,!0):i(o,s,a?f.replace(/\\/g,""):f),i(t,n,o)),t}}},function(e,t,n){"use strict";const{Writable:r}=n(43),i=n(169),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=n(109),{concat:l,toArrayBuffer:u,unmask:d}=n(247),{isValidStatusCode:h,isValidUTF8:p}=n(538),f=0,m=1,g=2,y=3,v=4,_=5;function b(e,t,n,r){const i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,b),i[a]=r,i}e.exports=class extends r{constructor(e,t,n){super(),this._binaryType=e||s[0],this[c]=void 0,this._extensions=t||{},this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=f,this._loop=!1}_write(e,t,n){if(8===this._opcode&&this._state==f)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0];e>=n.length?this._buffers.shift().copy(t,t.length-e):(n.copy(t,t.length-e,0,e),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){var t;this._loop=!0;do{switch(this._state){case f:t=this.getInfo();break;case m:t=this.getPayloadLength16();break;case g:t=this.getPayloadLength64();break;case y:this.getMask();break;case v:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,b(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,b(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,b(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,b(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,b(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,b(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,b(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength)this._state=m;else{if(127!==this._payloadLength)return this.haveLength();this._state=g}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,b(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,b(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=y:this._state=v}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=v)}getData(e){var t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&d(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=_,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(b(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var e;e="nodebuffer"===this._binaryType?l(n,t):"arraybuffer"===this._binaryType?u(l(n,t)):n,this.emit("message",e)}else{const e=l(n,t);if(!p(e))return this._loop=!1,b(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",e.toString())}}this._state=f}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return b(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return b(RangeError,`invalid status code ${t}`,!0,1002);const n=e.slice(2);if(!p(n))return b(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=f}}},function(e,t,n){"use strict";try{const e=n(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,n){"use strict";const{randomBytes:r}=n(58),i=n(169),{EMPTY_BUFFER:s}=n(109),{isValidStatusCode:o}=n(538),{mask:a,toBuffer:c}=n(247);class l{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=t.mask&&t.readOnly;var i=t.mask?6:2,s=e.length;e.length>=65536?(i+=8,s=127):e.length>125&&(i+=2,s=126);const o=Buffer.allocUnsafe(n?e.length+i:i);if(o[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(o[0]|=64),o[1]=s,126===s?o.writeUInt16BE(e.length,2):127===s&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),!t.mask)return[o,e];const c=r(4);return o[1]|=128,o[i-4]=c[0],o[i-3]=c[1],o[i-2]=c[2],o[i-1]=c[3],n?(a(e,c,o,i,e.length),[o]):(a(e,c,e,0,e.length),[o,e])}close(e,t,n,r){var i;if(void 0===e)i=s;else{if("number"!=typeof e||!o(e))throw new TypeError("First argument must be a valid error code number");void 0===t||""===t?(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0):((i=Buffer.allocUnsafe(2+Buffer.byteLength(t))).writeUInt16BE(e,0),i.write(t,2))}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPing,r,t,c.readOnly,n]):this.doPing(r,t,c.readOnly,n)}doPing(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPong,r,t,c.readOnly,n]):this.doPong(r,t,c.readOnly,n)}doPong(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=c(e),s=this._extensions[i.extensionName];var o=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&s&&(a=r.length>=s._threshold),this._compress=a):(a=!1,o=0),t.fin&&(this._firstFragment=!0),s){const e={fin:t.fin,rsv1:a,opcode:o,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(l.frame(r,{fin:t.fin,rsv1:!1,opcode:o,mask:t.mask,readOnly:c.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(l.frame(e,n),r);const s=this._extensions[i.extensionName];this._deflating=!0,s.compress(e,n.fin,(e,t)=>{this._deflating=!1,n.readOnly=!1,this.sendFrame(l.frame(t,n),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RedirectOutput="RedirectOutput",e.Django="Django",e.Jinja="Jinja",e.DebugStdLib="DebugStdLib",e.Sudo="Sudo",e.Pyramid="Pyramid",e.FixFilePathCase="FixFilePathCase",e.WindowsClient="WindowsClient",e.UnixClient="UnixClient",e.StopOnEntry="StopOnEntry",e.ShowReturnValue="ShowReturnValue",e.SubProcess="Multiprocess"}(t.DebugOptions||(t.DebugOptions={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(3),o=n(2),a=n(13),c=n(93),l=n(9),u=n(11),d=n(40);let h=class{constructor(e,t,n,r){this.workspaceService=e,this.documentManager=t,this.platformService=n,this.configurationService=r,this.pythonPathSource=d.PythonPathSource.launchJson}getWorkspaceFolder(e){if(e)return e.uri;const t=this.getProgram();if(!Array.isArray(this.workspaceService.workspaceFolders)||0===this.workspaceService.workspaceFolders.length)return t?o.Uri.file(s.dirname(t)):void 0;if(1===this.workspaceService.workspaceFolders.length)return this.workspaceService.workspaceFolders[0].uri;if(t){const e=this.workspaceService.getWorkspaceFolder(o.Uri.file(t));if(e)return e.uri}}getProgram(){const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===a.PYTHON_LANGUAGE)return e.document.fileName}resolveAndUpdatePaths(e,t){this.resolveAndUpdateEnvFilePath(e,t),this.resolveAndUpdatePythonPath(e,t)}resolveAndUpdateEnvFilePath(e,t){if(t&&t.envFile&&(e||t.cwd)){const n=new c.SystemVariables(void 0,(e?e.fsPath:void 0)||t.cwd);t.envFile=n.resolveAny(t.envFile)}}resolveAndUpdatePythonPath(e,t){if(t)if("${config:python.pythonPath}"!==t.pythonPath&&t.pythonPath)this.pythonPathSource=d.PythonPathSource.launchJson;else{const n=this.configurationService.getSettings(e).pythonPath;t.pythonPath=n,this.pythonPathSource=d.PythonPathSource.settingsJson}}debugOption(e,t){e.indexOf(t)>=0||e.push(t)}isLocalHost(e){return!!(e&&["localhost","127.0.0.1","::1"].indexOf(e.toLowerCase())>=0)}fixUpPathMappings(e,t,n){if(!t)return[];if(n||(n=t),0===e.length)e=[{localRoot:t,remoteRoot:n}];else{const n=new c.SystemVariables(void 0,t);e=e.map(({localRoot:e,remoteRoot:t})=>({localRoot:n.resolveAny(e),remoteRoot:t}))}return this.platformService.isWindows&&(e=e.map(({localRoot:e,remoteRoot:t})=>{let n=e;return e.match(/^[A-Z]:/)&&(n=`${e[0].toLowerCase()}${e.substr(1)}`),{localRoot:n,remoteRoot:t}})),e}isDebuggingFlask(e){return!(!e.module||"FLASK"!==e.module.toUpperCase())}sendTelemetry(e,t){const n=t.name||"",r=t.module||"",i={trigger:e,console:t.console,hasEnvVars:"object"==typeof t.env&&Object.keys(t.env).length>0,django:!!t.django,flask:this.isDebuggingFlask(t),hasArgs:Array.isArray(t.args)&&t.args.length>0,isLocalhost:this.isLocalHost(t.host),isModule:r.length>0,isSudo:!!t.sudo,jinja:!!t.jinja,pyramid:!!t.pyramid,stopOnEntry:!!t.stopOnEntry,showReturnValue:!!t.showReturnValue,subProcess:!!t.subProcess,watson:n.toLowerCase().indexOf("watson")>=0,pyspark:n.toLowerCase().indexOf("pyspark")>=0,gevent:n.toLowerCase().indexOf("gevent")>=0,scrapy:"scrapy"===r.toLowerCase()};l.sendTelemetryEvent(u.EventName.DEBUGGER,void 0,i)}};h=r([i.injectable()],h),t.BaseConfigurationResolver=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(81);t.IDebugEnvironmentVariablesService=Symbol("IDebugEnvironmentVariablesService");let c=class{constructor(e,t,n){this.envParser=e,this.pathUtils=t,this.process=n}async getEnvironmentVariables(e){const t=this.pathUtils.getPathVariableName(),n=e.env&&Object.keys(e.env).length>0?{...e.env}:{},r=await this.envParser.parseFile(e.envFile,n),i=r?{...r}:{};return this.envParser.mergeVariables(n,i),this.envParser.appendPath(i,n[t]),this.envParser.appendPythonPath(i,n.PYTHONPATH),"string"==typeof i[t]&&i[t].length>0&&this.envParser.appendPath(i,this.process.env[t]),"string"==typeof i.PYTHONPATH&&i.PYTHONPATH.length>0&&this.envParser.appendPythonPath(i,this.process.env.PYTHONPATH),"string"==typeof e.console&&"internalConsole"!==e.console||(this.envParser.mergeVariables(this.process.env,i),void 0===i[t]&&"string"==typeof this.process.env[t]&&(i[t]=this.process.env[t]),void 0===i.PYTHONPATH&&"string"==typeof this.process.env.PYTHONPATH&&(i.PYTHONPATH=this.process.env.PYTHONPATH)),i.hasOwnProperty("PYTHONIOENCODING")||(i.PYTHONIOENCODING="UTF-8"),i.hasOwnProperty("PYTHONUNBUFFERED")||(i.PYTHONUNBUFFERED="1"),e.gevent&&(i.GEVENT_SUPPORT="True"),i}};c=r([s.injectable(),i(0,s.inject(a.IEnvironmentVariablesService)),i(1,s.inject(o.IPathUtils)),i(2,s.inject(o.ICurrentProcess))],c),t.DebugEnvironmentVariablesHelper=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8);let a=class{constructor(e){this.fs=e}async getInterpreterHash(e){return this.fs.getFileHash(e)}};a=r([s.injectable(),i(0,s.inject(o.IFileSystem))],a),t.InterpreterHashProvider=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(126);let a=class{constructor(e){this.windowsStoreInterpreter=e}isHiddenInterpreter(e){return this.windowsStoreInterpreter.isHiddenInterpreter(e.path)}};a=r([s.injectable(),i(0,s.inject(o.WindowsStoreInterpreter))],a),t.InterpreterFilter=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(6),c=n(8),l=n(14),u=n(171),d=n(250),h=n(96),p=n(123);let f=class extends h.CacheableLocatorService{constructor(e,t,n,r=!1){super(n,t,r),this.searchPathsProvider=e,this.virtualEnvMgr=t.get(u.IVirtualEnvironmentManager),this.helper=t.get(l.IInterpreterHelper),this.fileSystem=t.get(c.IFileSystem)}dispose(){}getInterpretersImplementation(e){return this.suggestionsFromKnownVenvs(e)}async suggestionsFromKnownVenvs(e){const t=await this.searchPathsProvider.getSearchPaths(e);return Promise.all(t.map(t=>this.lookForInterpretersInVenvs(t,e))).then(e=>p(e))}async lookForInterpretersInVenvs(e,t){return this.fileSystem.getSubDirectories(e).then(e=>Promise.all(this.getProspectiveDirectoriesForLookup(e))).then(e=>e.filter(e=>e.length>0)).then(e=>Promise.all(e.map(d.lookForInterpretersInDirectory))).then(e=>p(e)).then(e=>Promise.all(e.map(e=>this.getVirtualEnvDetails(e,t)))).then(e=>e.filter(e=>!!e).map(e=>e)).catch(e=>(a.traceError("Starlark Extension (lookForInterpretersInVenvs):",e),[]))}getProspectiveDirectoriesForLookup(e){const t=this.serviceContainer.get(c.IPlatformService).virtualEnvBinName;return e.map(e=>this.fileSystem.getSubDirectories(e).then(e=>{const n=e.filter(e=>{const n=o.basename(e);return this.fileSystem.arePathsSame(n,t)});return 1===n.length?n[0]:""}).catch(e=>(a.traceError("Starlark Extension (getProspectiveDirectoriesForLookup):",e),"")))}async getVirtualEnvDetails(e,t){return Promise.all([this.helper.getInterpreterInformation(e),this.virtualEnvMgr.getEnvironmentName(e,t),this.virtualEnvMgr.getEnvironmentType(e,t)]).then(([e,t,n])=>{if(e)return this._hasInterpreters.resolve(!0),{...e,envName:t,type:n}})}};f=r([s.injectable(),i(0,s.unmanaged()),i(1,s.unmanaged()),i(2,s.unmanaged()),i(3,s.unmanaged())],f),t.BaseVirtualEnvService=f},function(e,t,n){"use strict";function r(e){return i(e).filter(e=>"string"==typeof e)}function i(e){return Object.keys(e).map(t=>e[t])}Object.defineProperty(t,"__esModule",{value:!0}),t.getNamesAndValues=function(e){return r(e).map(t=>({name:t,value:e[t]}))},t.getNames=r,t.getValues=function(e){return i(e).filter(e=>"number"==typeof e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.BaseErrorHandler=class{constructor(e,t,n){this.product=e,this.outputChannel=t,this.serviceContainer=n,this.logger=this.serviceContainer.get(r.ILogger),this.installer=this.serviceContainer.get(r.IInstaller)}get nextHandler(){return this.handler}setNextHandler(e){this.handler=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISortImportsEditingProvider=Symbol("ISortImportsEditingProvider")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(1),l=n(10);let u=class{constructor(e){this.workspaceService=e.get(a.IWorkspaceService)}async updateTestArgs(e,t,n){const r=this.getTestArgSetting(t);return this.updateSetting(e,r,n)}async enable(e,t){const n=this.getTestEnablingSetting(t);return this.updateSetting(e,n,!0)}async disable(e,t){const n=this.getTestEnablingSetting(t);return this.updateSetting(e,n,!1)}getTestEnablingSetting(e){switch(e){case c.Product.unittest:return"testing.unittestEnabled";case c.Product.pytest:return"testing.pytestEnabled";case c.Product.nosetest:return"testing.nosetestsEnabled";default:throw new Error("Invalid Test Product")}}getTestArgSetting(e){switch(e){case c.Product.unittest:return"testing.unittestArgs";case c.Product.pytest:return"testing.pytestArgs";case c.Product.nosetest:return"testing.nosetestArgs";default:throw new Error("Invalid Test Product")}}async updateSetting(e,t,n){let r;const i="string"==typeof e?o.Uri.file(e):e;if(this.workspaceService.hasWorkspaceFolders)if(1===this.workspaceService.workspaceFolders.length)r=this.workspaceService.getConfiguration("python",this.workspaceService.workspaceFolders[0].uri);else{const t=this.workspaceService.getWorkspaceFolder(i);if(!t)throw new Error(`Test directory does not belong to any workspace (${e})`);r=this.workspaceService.getConfiguration("python",t.uri)}else r=this.workspaceService.getConfiguration("python");return r.update(t,n)}};u=r([s.injectable(),i(0,s.inject(l.IServiceContainer))],u),t.TestConfigSettingsService=u;t.BufferedTestConfigSettingsService=class{constructor(){this.ops=[]}async updateTestArgs(e,t,n){this.ops.push(["updateTestArgs",e,t,n])}async enable(e,t){this.ops.push(["enable",e,t,[]])}async disable(e,t){this.ops.push(["disable",e,t,[]])}async apply(e){const t=this.ops;this.ops=[];for(const[n,r,i,s]of t)switch(n){case"updateTestArgs":await e.updateTestArgs(r,i,s);break;case"enable":await e.enable(r,i);break;case"disable":await e.disable(r,i)}}getTestEnablingSetting(e){throw new Error("Method not implemented.")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITestDiscoveredTestParser=Symbol("ITestDiscoveredTestParser")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),void 0===Reflect.metadata&&n(552),n(553).initialize(n(2)),n(6);const r={},i=new(n(24).StopWatch),s=n(0),o=n(2),a=n(717),c=n(29),l=n(843),u=n(845),d=n(210),h=n(345),p=n(4),f=n(13),m=n(859),g=n(865),y=n(6),v=n(877),_=n(887),b=n(920),S=n(28),w=n(1),C=n(17),E=n(12),T=n(975),D=n(978),P=n(19),k=n(60),I=n(1208),M=n(170),x=n(1209),A=n(40),O=n(1229),L=n(50),R=n(110),j=n(14),F=n(1231),N=n(1273),Y=n(1274),B=n(10),H=n(1275),W=n(1277),U=n(1278),V=n(1294),$=n(1295),q=n(1300),G=n(1301),z=n(1302),K=n(1304),J=n(1305),X=n(548),Q=n(9),Z=n(11),ee=n(365),te=n(1306),ne=n(130),re=n(25),ie=n(18),se=n(97),oe=n(1313);r.codeLoadingTime=i.elapsedTime;const ae=C.createDeferred();let ce;function le(e,t){const n=t.get(L.IInterpreterAutoSelectionRule,L.AutoSelectionRule.workspaceVirtualEnvs).getPreviouslyAutoSelectedInterpreter(e);return n?n.path:void 0}async function ue(e){const t=e.get(S.ITerminalHelper).identifyTerminalShell(),n=e.get(j.ICondaService),r=e.get(j.IInterpreterService),i=e.get(p.IWorkspaceService),s=e.get(w.IConfigurationService),o=i.hasWorkspaceFolders?i.workspaceFolders[0].uri:void 0,a=s.getSettings(o),[c,l,u]=await Promise.all([n.getCondaVersion().then(e=>e?e.raw:"").catch(()=>""),r.getActiveInterpreter().catch(()=>void 0),r.getInterpreters(o).catch(()=>[])]),d=i.hasWorkspaceFolders?i.workspaceFolders.length:0,h=l&&l.version?l.version.raw:void 0,f=l?l.type:void 0,m=function(e,t){const n=t.get(p.IWorkspaceService).getConfiguration("python",e).inspect("pythonPath");return!!(n.workspaceFolderValue&&"python"!==n.workspaceFolderValue||n.workspaceValue&&"python"!==n.workspaceValue||n.globalValue&&"python"!==n.globalValue)}(o,e),g=le(o,e),y=function(e,t){const n=t.get(L.IInterpreterAutoSelectionService).getAutoSelectedInterpreter(void 0);return!!n&&e===n.path}(a.pythonPath,e),v=!!g&&a.pythonPath===le(o,e);return{condaVersion:c,terminal:t,pythonVersion:h,interpreterType:f,workspaceFolderCount:d,hasPython3:u.filter(e=>!(!e||!e.version)&&3===e.version.major).length>0,usingUserDefinedInterpreter:m,usingAutoSelectedWorkspaceInterpreter:v,usingGlobalInterpreter:y}}t.activate=async function(e){try{return await async function(e){(function(e){const t={location:o.ProgressLocation.Window,title:E.Common.loadingExtension()};o.window.withProgress(t,()=>e)})(ae.promise),r.startActivateTime=i.elapsedTime;const t=new s.Container,n=new Y.ServiceManager(t),S=new N.ServiceContainer(t);ce=S,function(e,t,n){t.addSingletonInstance(B.IServiceContainer,n),t.addSingletonInstance(B.IServiceManager,t),t.addSingletonInstance(w.IDisposableRegistry,e.subscriptions),t.addSingletonInstance(w.IMemento,e.globalState,w.GLOBAL_MEMENTO),t.addSingletonInstance(w.IMemento,e.workspaceState,w.WORKSPACE_MEMENTO),t.addSingletonInstance(w.IExtensionContext,e);const r=o.window.createOutputChannel(E.OutputChannelNames.python()),i=o.window.createOutputChannel(E.OutputChannelNames.pythonTest());t.addSingletonInstance(w.IOutputChannel,r,f.STANDARD_OUTPUT_CHANNEL),t.addSingletonInstance(w.IOutputChannel,i,re.TEST_OUTPUT_CHANNEL),a.registerTypes(t),b.registerTypes(t),m.registerTypes(t),_.registerTypes(t),T.registerTypes(t),oe.registerTypes(t),U.registerTypes(t),F.registerTypes(t),O.registerTypes(t),v.registerTypes(t),g.registerTypes(t),te.registerTypes(t),D.registerTypes(t),x.registerTypes(t),u.registerTypes(t),z.registerTypes(t)}(e,n,S),await async function(e,t,n){const r=n.get(w.IExperimentsManager);await r.activate();const i=n.get(R.IInterpreterSelector);i.initialize(),e.subscriptions.push(i),n.get(j.IInterpreterService).initialize();const s=t.getAll(M.IDebugSessionEventHandlers),o=t.get(w.IDisposableRegistry);new I.DebugSessionEventDispatcher(s,h.DebugService.instance,o).registerEventHandlers();const a=n.get(p.ICommandManager),l=t.get(w.IOutputChannel,f.STANDARD_OUTPUT_CHANNEL);o.push(a.registerCommand(f.Commands.ViewOutput,()=>l.show())),n.get(j.IInterpreterLocatorProgressHandler).register(),n.get(j.IInterpreterLocatorProgressService).register(),n.get(d.IApplicationDiagnostics).register(),n.get(se.ITestCodeNavigatorCommandHandler).register(),n.get(se.ITestExplorerCommandHandler).register(),n.get(c.ILanguageServerExtension).register(),n.get(ie.ITestContextService).register()}(e,n,S);const C=S.get(c.IExtensionActivationManager);e.subscriptions.push(C);const L=C.activate();n.get(ne.ITerminalAutoActivation).register();const le=n.get(w.IConfigurationService),de=le.getSettings(),he=S.get(w.IOutputChannel,f.STANDARD_OUTPUT_CHANNEL);K.activateSimplePythonRefactorProvider(e,he,S),S.get(X.ISortImportsEditingProvider).registerCommands(),n.get(ne.ICodeExecutionManager).registerCommands(),async function(e,t){try{await e,r.totalActivateTime=i.elapsedTime;const n=await ue(t);Q.sendTelemetryEvent(Z.EventName.EDITOR_LOAD,r,n)}catch(e){y.traceError("sendStartupTelemetry() failed.",e)}}(Promise.all([ae.promise,L]),S).ignoreErrors();const pe=S.get(p.IWorkspaceService);S.get(j.IInterpreterService).refresh(pe.hasWorkspaceFolders?pe.workspaceFolders[0].uri:void 0).catch(e=>y.traceError("Starlark Extension: interpreterManager.refresh",e)),n.get(P.IDataScience).activate().ignoreErrors(),n.get(ee.IImportTracker).activate().ignoreErrors(),e.subscriptions.push(new W.LinterCommands(n));const fe=new q.LinterProvider(e,n);if(e.subscriptions.push(fe),o.languages.setLanguageConfiguration(f.PYTHON_LANGUAGE,H.getLanguageConfiguration()),de&&de.formatting&&"internalConsole"!==de.formatting.provider){const t=new $.PythonFormattingEditProvider(e,S);e.subscriptions.push(o.languages.registerDocumentFormattingEditProvider(f.PYTHON,t)),e.subscriptions.push(o.languages.registerDocumentRangeFormattingEditProvider(f.PYTHON,t))}const me=S.get(w.IFeatureDeprecationManager);me.initialize(),e.subscriptions.push(me),e.subscriptions.push(new G.ReplProvider(S)),e.subscriptions.push(new J.TerminalProvider(S)),e.subscriptions.push(o.languages.registerCodeActionsProvider(f.PYTHON,new V.PythonCodeActionProvider,{providedCodeActionKinds:[o.CodeActionKind.SourceOrganizeImports]})),S.getAll(A.IDebugConfigurationService).forEach(t=>{e.subscriptions.push(o.debug.registerDebugConfigurationProvider(k.DebuggerTypeName,t))}),S.get(A.IDebuggerBanner).initialize(),r.endActivateTime=i.elapsedTime,ae.resolve();const ge=l.buildApi(Promise.all([ae.promise,L]),S.get(w.IExperimentsManager),S.get(A.IDebugAdapterDescriptorFactory),le);return f.isTestExecution()&&(ge.serviceContainer=S,ge.serviceManager=n),ge}(e)}catch(e){throw function(e){(function(e){try{let t=o.window;ce&&(t=ce.get(p.IApplicationShell)),t.showErrorMessage(e).ignoreErrors()}catch(e){}})("Extension activation failed, run the 'Developer: Toggle Developer Tools' command for more information."),y.traceError("extension activation failed",e),async function(e){try{let t={};if(ce)try{t=await ue(ce)}catch(e){}Q.sendTelemetryEvent(Z.EventName.EDITOR_LOAD,r,t,e)}catch(e){y.traceError("sendErrorTelemetry() failed.",e)}}(e).ignoreErrors()}(e),e}},t.deactivate=function(){if(ce){const e=ce.get(w.IAsyncDisposableRegistry);if(e)return e.dispose()}return Promise.resolve()}},function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,c={create:s?function(){return A(Object.create(null))}:o?function(){return A({__proto__:null})}:function(){return A({})},has:a?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:a?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,s)},t.prototype.entries=function(){return new n(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function s(e,t){return t}function o(e,t){return[e,t]}}():Map,h=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,p=new(u||"function"!=typeof WeakMap?function(){var e=16,n=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=s(e,!0);return n[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+a()}while(c.has(n,e));return n[e]=!0,e}function s(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(){var t=function(e){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e);return o(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function f(e,t,n){var r=p.get(e);if(b(r)){if(!n)return;r=new d,p.set(e,r)}var i=r.get(t);if(b(i)){if(!n)return;i=new d,r.set(t,i)}return i}function m(e,t,n){var r=f(t,n,!1);return!b(r)&&!!r.has(e)}function g(e,t,n){var r=f(t,n,!1);if(!b(r))return r.get(e)}function y(e,t,n,r){var i=f(n,r,!0);i.set(e,t)}function v(e,t){var n=[],r=f(e,t,!1);if(b(r))return n;for(var s=r.keys(),o=function(e){var t=k(e,i);if(!D(t))throw new TypeError;var n=t.call(e);if(!w(n))throw new TypeError;return n}(s),a=0;;){var c=I(o);if(!c)return n.length=a,n;var l=c.value;try{n[a]=l}catch(e){try{M(o)}finally{throw e}}a++}}function _(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function b(e){return void 0===e}function S(e){return null===e}function w(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e,t){switch(_(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=k(e,r);if(void 0!==i){var s=i.call(e,n);if(w(s))throw new TypeError;return s}return function(e,t){if("string"===t){var n=e.toString;if(D(n)){var r=n.call(e);if(!w(r))return r}var i=e.valueOf;if(D(i)){var r=i.call(e);if(!w(r))return r}}else{var i=e.valueOf;if(D(i)){var r=i.call(e);if(!w(r))return r}var s=e.toString;if(D(s)){var r=s.call(e);if(!w(r))return r}}throw new TypeError}(e,"default"===n?"number":n)}function E(e){var t=C(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function T(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function D(e){return"function"==typeof e}function P(e){return"function"==typeof e}function k(e,t){var n=e[t];if(null!=n){if(!D(n))throw new TypeError;return n}}function I(e){var t=e.next();return!t.done&&t}function M(e){var t=e.return;t&&t.call(e)}function x(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i?t:i===e?t:i}function A(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,n,r){if(b(n)){if(!T(e))throw new TypeError;if(!P(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=r(t);if(!b(i)&&!S(i)){if(!P(i))throw new TypeError;t=i}}return t}(e,t)}if(!T(e))throw new TypeError;if(!w(t))throw new TypeError;if(!w(r)&&!b(r)&&!S(r))throw new TypeError;return S(r)&&(r=void 0),n=E(n),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var s=e[i],o=s(t,n,r);if(!b(o)&&!S(o)){if(!w(o))throw new TypeError;r=o}}return r}(e,t,n,r)}),e("metadata",function(e,t){return function(n,r){if(!w(n))throw new TypeError;if(!b(r)&&!function(e){switch(_(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;y(e,t,n,r)}}),e("defineMetadata",function(e,t,n,r){if(!w(n))throw new TypeError;b(r)||(r=E(r));return y(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!w(t))throw new TypeError;b(n)||(n=E(n));return function e(t,n,r){var i=m(t,n,r);if(i)return!0;var s=x(n);if(!S(s))return e(t,s,r);return!1}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!w(t))throw new TypeError;b(n)||(n=E(n));return m(e,t,n)}),e("getMetadata",function(e,t,n){if(!w(t))throw new TypeError;b(n)||(n=E(n));return function e(t,n,r){var i=m(t,n,r);if(i)return g(t,n,r);var s=x(n);if(!S(s))return e(t,s,r);return}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!w(t))throw new TypeError;b(n)||(n=E(n));return g(e,t,n)}),e("getMetadataKeys",function(e,t){if(!w(e))throw new TypeError;b(t)||(t=E(t));return function e(t,n){var r=v(t,n);var i=x(t);if(null===i)return r;var s=e(i,n);if(s.length<=0)return r;if(r.length<=0)return s;var o=new h;var a=[];for(var c=0,l=r;c<l.length;c++){var u=l[c],d=o.has(u);d||(o.add(u),a.push(u))}for(var p=0,f=s;p<f.length;p++){var u=f[p],d=o.has(u);d||(o.add(u),a.push(u))}return a}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!w(e))throw new TypeError;b(t)||(t=E(t));return v(e,t)}),e("deleteMetadata",function(e,t,n){if(!w(t))throw new TypeError;b(n)||(n=E(n));var r=f(t,n,!1);if(b(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||(p.delete(t),!0)})}(r)}()}(n||(n={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(26),i=n(3),s=n(27);n(7);const o=n(6),a=n(30),c="sourceMapsEnabled";class l{constructor(e){this.vscode=e,this.config=this.vscode.workspace.getConfiguration("python.diagnostics",null)}async initialize(){if(!this.enabled)return;await this.enableSourceMaps(!0);const e=n(12),t=e.Diagnostics.disableSourceMaps();this.vscode.window.showWarningMessage(e.Diagnostics.warnSourceMaps(),t).then(e=>{e===t&&this.disable().ignoreErrors()})}get enabled(){return this.config.get(c,!1)}async disable(){this.enabled&&await this.config.update(c,!1,this.vscode.ConfigurationTarget.Global),await this.enableSourceMaps(!1)}async enableSourceMaps(e){const t=i.join(a.EXTENSION_ROOT_DIR,"out","client","extension.js"),n=i.join(a.EXTENSION_ROOT_DIR,"out","client","debugger","debugAdapter","main.js");await Promise.all([this.enableSourceMap(e,t),this.enableSourceMap(e,n)])}async enableSourceMap(e,t){const n=`${t}.map`,r=`${t}.map.disabled`;e?await this.rename(r,n):await this.rename(n,r)}async rename(e,t){const n=s.promisify(r.exists),i=s.promisify(r.rename);await n(t)||await i(e,t)}}t.SourceMapSupport=l,t.initialize=function(e=n(2)){e.workspace.getConfiguration("python.diagnostics",null).get("sourceMapsEnabled",!1)?new l(e).initialize().catch(e=>{o.traceError("Failed to initialize source map support in extension")}):new l(e).disable().ignoreErrors()}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=r[2&s[0]?"return":s[0]?"throw":"next"])&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[0,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(555),o=n(42),a=n(66),c=n(33),l=n(254),u=n(556),d=n(563),h=n(565),p=n(84),f=n(113),m=n(568),g=n(569),y=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+o.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=a.BindingScopeEnum.Transient;else if(t.defaultScope!==a.BindingScopeEnum.Singleton&&t.defaultScope!==a.BindingScopeEnum.Transient&&t.defaultScope!==a.BindingScopeEnum.Request)throw new Error(""+o.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+o.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+o.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.guid=p.guid(),this._bindingDictionary=new g.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){var r=new e,i=u.getBindingDictionary(r),s=u.getBindingDictionary(t),o=u.getBindingDictionary(n);function a(e,t){e.traverse(function(e,n){n.forEach(function(e){t.add(e.serviceIdentifier,e.clone())})})}return a(s,i),a(o,i),r},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var s=i[r],o=n(s.guid);s.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,function(){var t,n,r,s,o;return i(this,function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(s=r[n],o=t(s.guid),[4,s.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach(function(t){var n=r(t.guid);e._bindingDictionary.removeByCondition(n)})},e.prototype.bind=function(e){var t=this.options.defaultScope||a.BindingScopeEnum.Transient,n=new s.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(o.CANNOT_UNBIND+" "+f.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new g.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),s=u.createMockRequest(this,e,t,n);r=i.some(function(e){return e.constraint(s)})}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(o.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(e,t){return t(e)},n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,a.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,a.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,a.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,a.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(t){var n=new e;return n.bind(t).toSelf(),n.parent=this,n.get(t)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,s){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:s};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(o.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=u.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=n(84),s=function(){function e(e,t){this.guid=i.guid(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(557),i=n(42),s=n(66),o=n(33),a=n(255),c=n(113),l=n(558),u=n(55),d=n(559),h=n(560),p=n(562),f=n(257);function m(e){return e._bindingDictionary}function g(e,t,n,s,o){var a=y(n.container,o.serviceIdentifier),l=[];return a.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof o.serviceIdentifier&&e.getConstructorMetadata(o.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(o.serviceIdentifier).toSelf(),a=y(n.container,o.serviceIdentifier)),l=t?a:a.filter(function(e){var t=new p.Request(e.serviceIdentifier,n,s,e,o);return e.constraint(t)}),function(e,t,n,s){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var o=c.getServiceIdentifierAsString(e),a=i.NOT_REGISTERED;throw a+=c.listMetadataForTarget(o,n),a+=c.listRegisteredBindingsForServiceIdentifier(s,o,y),new Error(a);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;var o=c.getServiceIdentifierAsString(e),a=i.AMBIGUOUS_MATCH+" "+o;throw a+=c.listRegisteredBindingsForServiceIdentifier(s,o,y),new Error(a)}}(o.serviceIdentifier,l,o,n.container),l}function y(e,t){var n=[],r=m(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=m,t.plan=function(e,t,n,r,m,y,v,_){void 0===_&&(_=!1);var b=new l.Context(t),S=function(e,t,n,r,i,s){var a=e?o.MULTI_INJECT_TAG:o.INJECT_TAG,c=new u.Metadata(a,n),l=new f.Target(t,r,n,c);if(void 0!==i){var d=new u.Metadata(i,s);l.metadata.push(d)}return l}(n,r,m,"",y,v);try{return function e(t,n,r,o,a,c){var l,u;if(null===a){l=g(t,n,o,null,c),u=new p.Request(r,o,null,l,c);var f=new d.Plan(o,u);o.addPlan(f)}else l=g(t,n,o,a,c),u=a.addChildRequest(c.serviceIdentifier,l,c);l.forEach(function(n){var r=null;if(c.isArray())r=u.addChildRequest(n.serviceIdentifier,n,c);else{if(n.cache)return;r=u}if(n.type===s.BindingTypeEnum.Instance&&null!==n.implementationType){var a=h.getDependencies(t,n.implementationType);if(!o.container.options.skipBaseClassChecks){var l=h.getBaseClassDependencyCount(t,n.implementationType);if(a.length<l){var d=i.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(n.implementationType));throw new Error(d)}}a.forEach(function(n){e(t,!1,n.serviceIdentifier,o,r,n)})}})}(e,_,m,b,null,S),b}catch(e){throw a.isStackOverflowExeption(e)&&b.plan&&c.circularDependencyToException(b.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new f.Target(s.TargetTypeEnum.Variable,"",t,new u.Metadata(n,r)),o=new l.Context(e);return new p.Request(t,o,null,[],i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),i=function(){function e(e){this.guid=r.guid(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256),i=n(42),s=n(66),o=n(33),a=n(113);t.getFunctionName=a.getFunctionName;var c=n(257);function l(e,t,n,r){var o=e.getConstructorMetadata(n),a=o.compilerGeneratedMetadata;if(void 0===a){var l=i.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(l)}var h=o.userGeneratedMetadata,p=Object.keys(h),f=function(e,t,n,r,i){for(var s=[],o=0;o<i;o++){var a=o,c=u(a,e,t,n,r);null!==c&&s.push(c)}return s}(r,t,a,h,0===n.length&&p.length>0?p.length:n.length),m=function e(t,n){var r=t.getPropertiesMetadata(n);var i=[];var o=Object.keys(r);for(var a=0,l=o;a<l.length;a++){var u=l[a],h=r[u],p=d(r[u]),f=p.targetName||u,m=p.inject||p.multiInject,g=new c.Target(s.TargetTypeEnum.ClassProperty,f,m);g.metadata=h,i.push(g)}var y=Object.getPrototypeOf(n.prototype).constructor;if(y!==Object){var v=e(t,y);i=i.concat(v)}return i}(e,n);return f.concat(m)}function u(e,t,n,o,a){var l=a[e.toString()]||[],u=d(l),h=!0!==u.unmanaged,p=o[e],f=u.inject||u.multiInject;if((p=f||p)instanceof r.LazyServiceIdentifer&&(p=p.unwrap()),h){var m=p===Object,g=p===Function;if(!t&&(m||g||void 0===p)){var y=i.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(y)}var v=new c.Target(s.TargetTypeEnum.ConstructorArgument,u.targetName,p);return v.metadata=l,v}return null}function d(e){var t={};return e.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[o.INJECT_TAG],multiInject:t[o.MULTI_INJECT_TAG],targetName:t[o.NAME_TAG],unmanaged:t[o.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,a.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,a.getFunctionName(r),r,!0),s=i.map(function(e){return e.metadata.filter(function(e){return e.key===o.UNMANAGED_TAG})}),c=[].concat.apply([],s).length,u=i.length-c;return u>0?u:e(t,r)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),i=function(){function e(e,t,n,i,s){this.guid=r.guid(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=s,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(66),s=n(255),o=n(113),a=n(564),c=function(e,t,n){try{return n()}catch(n){throw s.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},l=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,s=t.childRequests,u=t.target&&t.target.isArray(),d=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(u&&d)return s.map(function(t){return l(e)(t)});var h=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],f=p.scope===i.BindingScopeEnum.Singleton,m=p.scope===i.BindingScopeEnum.Request;if(f&&p.activated)return p.cache;if(m&&null!==e&&e.has(p.guid))return e.get(p.guid);if(p.type===i.BindingTypeEnum.ConstantValue)h=p.cache;else if(p.type===i.BindingTypeEnum.Function)h=p.cache;else if(p.type===i.BindingTypeEnum.Constructor)h=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)h=c("toDynamicValue",p.serviceIdentifier,function(){return p.dynamicValue(t.parentContext)});else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)h=c("toFactory",p.serviceIdentifier,function(){return p.factory(t.parentContext)});else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)h=c("toProvider",p.serviceIdentifier,function(){return p.provider(t.parentContext)});else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var g=o.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+g)}h=a.resolveInstance(p.implementationType,s,l(e))}return"function"==typeof p.onActivation&&(h=p.onActivation(t.parentContext,h)),f&&(p.cache=h,p.activated=!0),m&&null!==e&&!e.has(p.guid)&&e.set(p.guid,h),h}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(66),s=n(33);t.resolveInstance=function(e,t,n){var o,a,c=null;if(t.length>0){var l=t.filter(function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ConstructorArgument}).map(n);a=l,c=function(e,t,n){var r=t.filter(function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ClassProperty}),s=r.map(n);return r.forEach(function(t,n){var r;r=t.target.name.value();var i=s[n];e[r]=i}),e}(c=new((o=e).bind.apply(o,[void 0].concat(a))),t,n)}else c=new e;return function(e,t){if(Reflect.hasMetadata(s.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(s.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(r.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,c),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(66),s=n(566),o=n(258),a=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new s.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new s.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new o.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},e}();t.BindingToSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(567),i=n(175),s=n(176),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new s.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=n(258),s=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach(function(n,r){var i=n.filter(function(t){return!e(t)});i.length>0?t._map.set(r,i):t._map.delete(r)})},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(e,n){e.forEach(function(e){return t.add(n,e.clone())})}),t},e.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},e}();t.Lookup=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),i=function(e){this.guid=r.guid(),this.registry=e};t.ContainerModule=i;var s=function(e){this.guid=r.guid(),this.registry=e};t.AsyncContainerModule=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(33);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),i=n(72);t.tagged=function(e,t){return function(n,s,o){var a=new r.Metadata(e,t);"number"==typeof o?i.tagParameter(n,s,o,a):i.tagProperty(n,s,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(55),s=n(72);t.named=function(e){return function(t,n,o){var a=new i.Metadata(r.NAMED_TAG,e);"number"==typeof o?s.tagParameter(t,n,o,a):s.tagProperty(t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(55),s=n(72);t.optional=function(){return function(e,t,n){var o=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?s.tagParameter(e,t,n,o):s.tagProperty(e,t,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(55),s=n(72);t.unmanaged=function(){return function(e,t,n){var o=new i.Metadata(r.UNMANAGED_TAG,!0);s.tagParameter(e,t,n,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(55),s=n(72);t.multiInject=function(e){return function(t,n,o){var a=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof o?s.tagParameter(t,n,o,a):s.tagProperty(t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(55),s=n(72);t.targetName=function(e){return function(t,n,o){var a=new i.Metadata(r.NAME_TAG,e);s.tagParameter(t,n,o,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(33),s=n(55);t.postConstruct=function(){return function(e,t,n){var o=new s.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,o,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){return e.bind(n).toService(t)})}}}},function(e,t,n){"use strict";const r=n(67),{warn:i}=n(278),s=t;s.version=n(606).version,s.transports=n(607),s.config=n(202),s.addColors=r.levels,s.format=r.format,s.createLogger=n(305),s.ExceptionHandler=n(306),s.RejectionHandler=n(309),s.Container=n(661),s.Transport=n(85),s.loggers=new s.Container;const o=s.createLogger();Object.keys(s.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure"]).forEach(e=>s[e]=(...t)=>o[e](...t)),Object.defineProperty(s,"level",{get:()=>o.level,set(e){o.level=e}}),Object.defineProperty(s,"exceptions",{get:()=>o.exceptions}),["exitOnError"].forEach(e=>{Object.defineProperty(s,e,{get:()=>o[e],set(t){o[e]=t}})}),Object.defineProperty(s,"default",{get:()=>({exceptionHandlers:o.exceptionHandlers,rejectionHandlers:o.rejectionHandlers,transports:o.transports})}),i.deprecated(s,"setLevels"),i.forFunctions(s,"useFormat",["cli"]),i.forProperties(s,"useFormat",["padLevels","stripColors"]),i.forFunctions(s,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(s,"deprecated",["emitErrs","levelLength"]),i.moved(s,"createLogger","Logger")},function(e,t,n){var r={};e.exports=r,r.themes={};var i=n(27),s=r.styles=n(582),o=Object.defineProperties,a=new RegExp(/[\r\n]+/g);r.supportsColor=n(583).supportsColor,void 0===r.enabled&&(r.enabled=!1!==r.supportsColor()),r.enable=function(){r.enabled=!0},r.disable=function(){r.enabled=!1},r.stripColors=r.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};r.stylize=function(e,t){return r.enabled?s[t].open+e+s[t].close:e+""};var c=/[|\\{}()[\]^$+*?.]/g;function l(e){var t=function e(){return p.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var u,d=(u={},s.grey=s.gray,Object.keys(s).forEach(function(e){s[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(c,"\\$&")}(s[e].close),"g"),u[e]={get:function(){return l(this._styles.concat(e))}}}),u),h=o(function(){},d);function p(){var e=Array.prototype.slice.call(arguments).map(function(e){return void 0!==e&&e.constructor===String?e:i.inspect(e)}).join(" ");if(!r.enabled||!e)return e;for(var t=-1!=e.indexOf("\n"),n=this._styles,o=n.length;o--;){var c=s[n[o]];e=c.open+e.replace(c.closeRe,c.open)+c.close,t&&(e=e.replace(a,function(e){return c.close+e+c.open}))}return e}r.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){r[t]=function(n){if("object"==typeof e[t]){var i=n;for(var s in e[t])i=r[e[t][s]](i);return i}return r[e[t]](n)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var f=function(e,t){var n=t.split("");return(n=n.map(e)).join("")};for(var m in r.trap=n(585),r.zalgo=n(586),r.maps={},r.maps.america=n(587)(r),r.maps.zebra=n(588)(r),r.maps.rainbow=n(589)(r),r.maps.random=n(590)(r),r.maps)!function(e){r[e]=function(t){return f(r.maps[e],t)}}(m);o(r,function(){var e={};return Object.keys(d).forEach(function(t){e[t]={get:function(){return l([t])}}}),e}())},function(e,t){var n={};e.exports=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(e){var t=r[e],i=n[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"})},function(e,t,n){"use strict";var r=n(22),i=n(584),s=process.env,o=void 0;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===o)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==o)return 0;var t=o?1:0;if("win32"===process.platform){var n=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(e){return e in s})||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in s){var a=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)?1:"COLORTERM"in s?1:(s.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?o=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=!0),"FORCE_COLOR"in s&&(o=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=(t=t||process.argv).indexOf("--"),r=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(r+e);return-1!==i&&(-1===n||i<n)}},function(e,t){e.exports=function(e,t){var n="";e=(e=e||"Run the trap, drop the bass").split("");var r={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach(function(e){e=e.toLowerCase();var t=r[e]||[" "],i=Math.floor(Math.random()*t.length);n+=void 0!==r[e]?r[e][i]:e}),n}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var n={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},r=[].concat(n.up,n.down,n.mid);function i(e){return Math.floor(Math.random()*e)}function s(e){var t=!1;return r.filter(function(n){t=n===e}),t}return function(e,t){var r,o,a="";for(o in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!s(o)){switch(a+=e[o],r={up:0,down:0,mid:0},t.size){case"mini":r.up=i(8),r.mid=i(2),r.down=i(8);break;case"maxi":r.up=i(16)+3,r.mid=i(4)+1,r.down=i(64)+3;break;default:r.up=i(8)+1,r.mid=i(6)/2,r.down=i(8)+1}var c=["up","mid","down"];for(var l in c)for(var u=c[l],d=0;d<=r[u];d++)t[u]&&(a+=n[u][i(n[u].length)])}return a}(e,t)}},function(e,t){e.exports=function(e){return function(t,n,r){if(" "===t)return t;switch(n%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e.exports=function(e){return function(t,n,r){return n%2==0?t:e.inverse(t)}}},function(e,t){e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(n,r,i){return" "===n?n:e[t[r++%t.length]](n)}}},function(e,t){e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(n,r,i){return" "===n?n:e[t[Math.round(Math.random()*(t.length-2))]](n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"cli",{value:n(592)}),Object.defineProperty(t,"npm",{value:n(593)}),Object.defineProperty(t,"syslog",{value:n(594)})},function(e,t,n){"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,t,n){"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,t,n){"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,t,n){var r={"./align.js":260,"./browser.js":596,"./cli.js":261,"./colorize.js":133,"./combine.js":262,"./dist/align.js":180,"./dist/browser.js":273,"./dist/cli.js":181,"./dist/colorize.js":114,"./dist/combine.js":182,"./dist/errors.js":274,"./dist/format.js":37,"./dist/index.js":275,"./dist/json.js":183,"./dist/label.js":184,"./dist/levels.js":135,"./dist/logstash.js":185,"./dist/metadata.js":186,"./dist/ms.js":276,"./dist/pad-levels.js":136,"./dist/pretty-print.js":187,"./dist/printf.js":188,"./dist/simple.js":189,"./dist/splat.js":190,"./dist/timestamp.js":191,"./dist/uncolorize.js":192,"./errors.js":598,"./examples/combine.js":599,"./examples/filter.js":600,"./examples/invalid.js":601,"./examples/metadata.js":602,"./examples/padLevels.js":603,"./examples/volume.js":604,"./format.js":39,"./index.js":67,"./json.js":179,"./label.js":263,"./levels.js":177,"./logstash.js":264,"./metadata.js":265,"./ms.js":605,"./pad-levels.js":178,"./pretty-print.js":266,"./printf.js":267,"./simple.js":268,"./splat.js":269,"./timestamp.js":270,"./uncolorize.js":272};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=595},function(e,t,n){"use strict";const r=t.format=n(39);t.levels=n(177),Object.defineProperty(r,"align",{value:n(260)}),Object.defineProperty(r,"cli",{value:n(261)}),Object.defineProperty(r,"combine",{value:n(262)}),Object.defineProperty(r,"colorize",{value:n(133)}),Object.defineProperty(r,"json",{value:n(179)}),Object.defineProperty(r,"label",{value:n(263)}),Object.defineProperty(r,"logstash",{value:n(264)}),Object.defineProperty(r,"metadata",{value:n(265)}),Object.defineProperty(r,"padLevels",{value:n(178)}),Object.defineProperty(r,"prettyPrint",{value:n(266)}),Object.defineProperty(r,"printf",{value:n(267)}),Object.defineProperty(r,"simple",{value:n(268)}),Object.defineProperty(r,"splat",{value:n(269)}),Object.defineProperty(r,"timestamp",{value:n(270)}),Object.defineProperty(r,"uncolorize",{value:n(272)})},function(e,t,n){var r={"./align.js":180,"./browser.js":273,"./cli.js":181,"./colorize.js":114,"./combine.js":182,"./errors.js":274,"./format.js":37,"./index.js":275,"./json.js":183,"./label.js":184,"./levels.js":135,"./logstash.js":185,"./metadata.js":186,"./ms.js":276,"./pad-levels.js":136,"./pretty-print.js":187,"./printf.js":188,"./simple.js":189,"./splat.js":190,"./timestamp.js":191,"./uncolorize.js":192};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=597},function(e,t,n){"use strict";const r=n(39),{LEVEL:i,MESSAGE:s}=n(23);e.exports=r((e,{stack:t})=>{if(e instanceof Error){const n=Object.assign({},e,{level:e.level,[i]:e[i]||e.level,message:e.message,[s]:e[s]||e.message});return t&&(n.stack=e.stack),n}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);const n=e.message;return e.message=n.message,e[s]=n.message,t&&(e.stack=n.stack),e})},function(e,t,n){const{format:r}=n(67),{combine:i,timestamp:s,label:o}=r,a=i(o({label:"right meow!"}),s()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},function(e,t,n){const{format:r}=n(67),{combine:i,timestamp:s,label:o}=r,a=r((e,t)=>!e.private&&e)();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const c=r.combine(r(e=>!1)(),r(e=>{throw new Error("Never reached")})());console.dir(c.transform({level:"info",message:"wow such testing"}))},function(e,t,n){const{format:r}=n(67);r(function(e,t,n,r){return e})},function(e,t,n){const{format:r}=n(67),{combine:i,json:s,metadata:o,timestamp:a}=r,c=i(a(),o(),s()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(c);const l=i(a(),o({fillExcept:["message","level","timestamp"]}),s()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(l);const u=i(a(),o({fillWith:["publisher","author","book"],key:"bookInfo"}),s()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(u);const d=i(a(),o({fillWith:["publisher","author","book"],key:"bookInfo"}),o({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),o({fillExcept:["level","message","label","timestamp"]}),s()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(d)},function(e,t,n){const{format:r}=n(67),{combine:i,padLevels:s,simple:o}=r,{MESSAGE:a}=n(23),c=i(s({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),o()),l=c.transform({level:"info",message:"This is an info level message."}),u=c.transform({level:"error",message:"This is an error level message."}),d=c.transform({level:"verbose",message:"This is a verbose level message."});console.dir(l[a]),console.dir(u[a]),console.dir(d[a])},function(e,t,n){const{format:r}=n(67),i=r((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e)),s=i({yell:!0});console.dir(s.transform({level:"info",message:"sorry for making you YELL in your head!"},s.options));const o=i({whisper:!0});console.dir(o.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},o.options))},function(e,t,n){"use strict";const r=n(39),i=n(277);e.exports=r(e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms=`+${i(this.diff)}`,e})},function(e){e.exports=JSON.parse('{"_args":[["winston@3.2.1","/Users/pha/Other/vscode-starlark"]],"_from":"winston@3.2.1","_id":"winston@3.2.1","_inBundle":false,"_integrity":"sha512-zU6vgnS9dAWCEKg/QYigd6cgMVVNwyTzKs81XZtTFuRwJOcDdBg7AU0mXVyNbs7O5RH2zdv+BdNZUlx7mXPuOw==","_location":"/winston","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"winston@3.2.1","name":"winston","escapedName":"winston","rawSpec":"3.2.1","saveSpec":null,"fetchSpec":"3.2.1"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/winston/-/winston-3.2.1.tgz","_spec":"3.2.1","_where":"/Users/pha/Other/vscode-starlark","author":{"name":"Charlie Robbins","email":"charlie.robbins@gmail.com"},"browser":"./dist/winston","bugs":{"url":"https://github.com/winstonjs/winston/issues"},"dependencies":{"async":"^2.6.1","diagnostics":"^1.1.1","is-stream":"^1.1.0","logform":"^2.1.1","one-time":"0.0.4","readable-stream":"^3.1.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.3.0"},"description":"A logger for just about everything.","devDependencies":{"@babel/cli":"^7.2.3","@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@types/node":"^10.12.19","abstract-winston-transport":">= 0.5.1","assume":"^2.1.0","colors":"^1.3.3","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.3.3","mocha":"^5.2.0","nyc":"^13.1.0","rimraf":"^2.6.3","split2":"^3.1.0","std-mocks":"^1.0.1","through2":"^3.0.0","winston-compat":"^0.1.4"},"engines":{"node":">= 6.4.0"},"homepage":"https://github.com/winstonjs/winston#readme","keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"license":"MIT","main":"./lib/winston","maintainers":[{"name":"Jarrett Cruger","email":"jcrugzz@gmail.com"},{"name":"Chris Alderson","email":"chrisalderson@protonmail.com"},{"name":"David Hyde","email":"dabh@stanford.edu"}],"name":"winston","repository":{"type":"git","url":"git+https://github.com/winstonjs/winston.git"},"scripts":{"build":"rimraf dist && babel lib -d dist","lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","prepublishOnly":"npm run build","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit"},"types":"./index.d.ts","version":"3.2.1"}')},function(e,t,n){"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>n(608)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>n(614)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>n(654)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>n(655)})},function(e,t,n){"use strict";const r=n(22),{LEVEL:i,MESSAGE:s}=n(23),o=n(85);e.exports=class extends o{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||r.EOL,this.setMaxListeners(30)}log(e,t){return setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[s]}${this.eol}`):console.error(e[s]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[s]}${this.eol}`):console.warn(e[s]),void(t&&t())):(console._stdout?console._stdout.write(`${e[s]}${this.eol}`):console.log(e[s]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((e,n)=>{if("string"!=typeof n)throw new Error(t);return e[n]=!0,e},{})}}},function(e,t,n){var r=n(43),i=n(279);"disable"===process.env.READABLE_STREAM?e.exports=r&&r.Writable||i:e.exports=i},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var r=n(137);e.exports=v;var i,s=n(612);v.ReadableState=y;n(56).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(281),c=n(115).Buffer,l=global.Uint8Array||function(){};var u=n(193);u.inherits=n(61);var d=n(27),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,f=n(613),m=n(282);u.inherits(v,a);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n(138));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(283).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(i=i||n(138),!(this instanceof v))return new v(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function _(e,t,n,r,i){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,C(e)}(e,o)):(i||(s=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):b(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?b(e,o,t,!1):T(e,o)):b(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function b(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),T(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},v.prototype.unshift=function(e){return _(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=n(283).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),I(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0===(e-=o)){o===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function x(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):C(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&x(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&x(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:v;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",f),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function l(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",u);var d=!1;var p=!1;function f(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==O(i.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),v(),e.removeListener("error",m),0===o(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),v()}function y(){h("onfinish"),e.removeListener("close",g),v()}function v(){h("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",y),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,n);return this}var o=O(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},v.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&C(this):r.nextTick(P,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(k,e,t))}(this,e)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<g.length;s++)e.on(g[s],this.emit.bind(this,g[s]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=M},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(115).Buffer,i=n(27);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,s=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=s,i=a,t.copy(n,i),a+=o.data.length,o=o.next;return s},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";const r=n(26),i=n(3),s=n(615),o=n(143),{MESSAGE:a}=n(23),{Stream:c,PassThrough:l}=n(118),u=n(85),d=n(144)("winston:file"),h=n(22),p=n(653);e.exports=class extends u{constructor(e={}){function t(t,...n){n.slice(1).forEach(n=>{if(e[n])throw new Error(`Cannot set ${n} and ${t} together`)})}if(super(e),this.name=e.name||"file",this._stream=new l,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});if(this._rotate)return void this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,t)});const n=`${e[a]}${this.eol}`,r=Buffer.byteLength(n);this._pendingSize+=r,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(n,function(){this._size+=r,this._pendingSize-=r,d("logged %s %s",this._size,n),this.emit("logged",e),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(()=>this._rotateFile()))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),d("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until));e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from));return e.order=e.order||"desc",e.fields=e.fields,e}(e);const n=i.join(this.dirname,this.filename);let s="",o=[],a=0;const c=r.createReadStream(n,{encoding:"utf8"});function l(t,n){try{const r=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const n=new Date(t.timestamp);if(e.from&&n<e.from||e.until&&n>e.until||e.level&&e.level!==t.level)return;return!0})(r)&&function(t){if(e.rows&&o.length>=e.rows&&"desc"!==e.order)return void(c.readable&&c.destroy());e.fields&&(t=e.fields.reduce((e,n)=>(e[n]=t[n],e),{}));"desc"===e.order&&o.length>=e.rows&&o.shift();o.push(t)}(r)}catch(e){n||c.emit("error",e)}}c.on("error",e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,o)}),c.on("data",t=>{const n=(t=(s+t).split(/\n+/)).length-1;let r=0;for(;r<n;r++)(!e.start||a>=e.start)&&l(t[r]),a++;s=t[n]}),c.on("close",()=>{s&&l(s,!0),"desc"===e.order&&(o=o.reverse()),t&&t(null,o)})}stream(e={}){const t=i.join(this.dirname,this.filename),n=new c,r={file:t,start:e.start};return n.destroy=p(r,(e,t)=>{if(e)return n.emit("error",e);try{n.emit("data",t),t=JSON.parse(t),n.emit("log",t)}catch(e){n.emit("error",e)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){const t=this._getFile(),n=i.join(this.dirname,t);r.stat(n,(r,i)=>r&&"ENOENT"===r.code?(d("ENOENTok",n),this.filename=t,e(null,0)):r?(d(`err ${r.code} ${n}`),e(r)):!i||this._needsNewFile(i.size)?this._incFile(()=>this.stat(e)):(this.filename=t,void e(null,i.size)))}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const n=r.createWriteStream(t,this.options).on("error",e=>d(e)).on("close",()=>d("close",n.path,n.bytesWritten)).on("open",()=>{d("file open ok",t),this.emit("open",t),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new l,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});if(d("create stream ok",t),this.zippedArchive){const e=o.createGzip();return e.pipe(n),e}return n}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),n=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,n,e):(this._created+=1,this._checkMaxFilesIncrementing(t,n,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created,r=!this.tailable&&this._created?`${t}${n}${e}`:`${t}${e}`;return this.zippedArchive&&!this.tailable?`${r}.gz`:r}_checkMaxFilesIncrementing(e,t,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);const s=this._created-this.maxFiles,o=`${t}${0!==s?s:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,o);r.unlink(a,n)}_checkMaxFilesTailable(e,t,n){const o=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let n=this.maxFiles-1;n>1;n--)o.push(function(n,s){let o=`${t}${n-1}${e}${a}`;const c=i.join(this.dirname,o);r.exists(c,l=>{if(!l)return s(null);o=`${t}${n}${e}${a}`,r.rename(c,i.join(this.dirname,o),s)})}.bind(this,n));s(o,()=>{r.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),n)})}_createLogDirIfNotExist(e){r.existsSync(e)||r.mkdirSync(e,{recursive:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(i.default,e,t)};var r=s(n(616)),i=s(n(622));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){n=n||r.default;var a=(0,i.default)(t)?[]:{};e(t,function(e,t,n){(0,o.default)(e)(function(e,r){arguments.length>2&&(r=(0,s.default)(arguments,1)),a[t]=r,n(e)})},function(e){n(e,a)})};var r=a(n(194)),i=a(n(116)),s=a(n(195)),o=a(n(140));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){var r=n(139),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(function(t,n){var i;try{i=e.apply(this,t)}catch(e){return n(e)}(0,r.default)(i)&&"function"==typeof i.then?i.then(function(e){a(n,null,e)},function(e){a(n,e.message?e:new Error(e))}):n(null,i)})};var r=o(n(73)),i=o(n(620)),s=o(n(621));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){try{e(t,n)}catch(e){(0,s.default)(c,e)}}function c(e){throw e}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,s.default)(arguments),n=t.pop();e.call(this,t,n)}};var r,i=n(195),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=l,t.wrap=u;var r,i=n(195),s=(r=i)&&r.__esModule?r:{default:r};var o,a=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,c=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function l(e){setTimeout(e,0)}function u(e){return function(t){var n=(0,s.default)(arguments,1);e(function(){t.apply(null,n)})}}o=a?setImmediate:c?process.nextTick:l,t.default=u(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(287)),i=s(n(295));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(r.default,1),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,c){if(c=(0,i.default)(c||r.default),e<=0||!t)return c(null);var l=(0,s.default)(t),u=!1,d=0,h=!1;function p(e,t){if(d-=1,e)u=!0,c(e);else{if(t===a.default||u&&d<=0)return u=!0,c(null);h||f()}}function f(){for(h=!0;d<e&&!u;){var t=l();if(null===t)return u=!0,void(d<=0&&c(null));d+=1,n(t.value,t.key,(0,o.default)(p))}h=!1}f()}};var r=c(n(194)),i=c(n(288)),s=c(n(624)),o=c(n(293)),a=c(n(294));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):(n=e,o=(0,s.default)(n),a=-1,c=o.length,function(){var e=o[++a];return a<c?{value:n[e],key:e}:null});var n,o,a,c};var r=o(n(116)),i=o(n(625)),s=o(n(141));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(117),i=n(99),s="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==s}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(631),i=n(196),s=n(197),o=s&&s.isTypedArray,a=o?i(o):r;e.exports=a},function(e,t,n){var r=n(117),i=n(286),s=n(99),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(198),i=n(633),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(292)(Object.keys,Object);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(68).Buffer,s=n(27).inspect,o=s&&s.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,n,r,s=i.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=s,r=a,i.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return s},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,o),0===(e-=o)){o===s.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++r}return this.length-=r,t},t[o]=function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,n){"use strict";var r=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!r.has(e)){var t=e+" is an experimental feature. This feature could change at any time";r.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(199),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[o];if(null!==t){var n=e[h].read();null!==n&&(e[u]=null,e[o]=null,e[a]=null,t(p(n,!1)))}}var m=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise(function(t,n){process.nextTick(function(){e[c]?n(e[c]):t(p(void 0,!0))})});var n,r=this[u];if(r)n=new Promise(function(e,t){return function(n,r){e.then(function(){t[l]?n(p(void 0,!0)):t[d](n,r)},r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(p(i,!1));n=new Promise(this[d])}return this[u]=n,n}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,n){e[h].destroy(null,function(e){e?n(e):t(p(void 0,!0))})})}),r),m);e.exports=function(e){var t,n=Object.create(g,(i(t={},h,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[u]=null,n[o]=null,n[a]=null,e(p(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[u]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[u]=null,n[o]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[o];null!==r&&(n[u]=null,n[o]=null,n[a]=null,r(p(void 0,!0))),n[l]=!0}),e.on("readable",function(e){process.nextTick(f,e)}.bind(null,n)),n}},function(e,t,n){"use strict";e.exports=i;var r=n(302);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(61)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(101).codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var u,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var h=t.map(function(e,i){var s=i<t.length-1;return function(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",function(){a=!0}),void 0===r&&(r=n(199)),r(e,{readable:t,writable:i},function(e){if(e)return s(e);a=!0,s()});var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}(e,s,i>0,function(e){u||(u=e),e&&h.forEach(c),s||(h.forEach(c),d(u))})});return t.reduce(l)}},function(e,t,n){"use strict";var r=n(640),i=n(646);e.exports=function(e,t){var n=e.split(t||":"),s=i(n[0]);if(!n.length)return s;for(var o=0,a=n.length-1;o<a;o++)s=r(s).mix(r(i(n[o+1]))).saturate(1).hex();return s}},function(e,t,n){"use strict";var r=n(641),i=n(644),s=[].slice,o=["keyword","gray","hex"],a={};Object.keys(i).forEach(function(e){a[s.call(i[e].labels).sort().join("")]=e});var c={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in o&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,u;if(e)if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=r.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,u=i[this.model].channels,this.color=d.value.slice(0,u),this.valpha="number"==typeof d.value[u]?d.value[u]:1}else if(e.length){this.model=t||"rgb",u=i[this.model].channels;var h=s.call(e,0,u);this.color=p(h,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var f=Object.keys(e);"alpha"in e&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=f.sort().join("");if(!(m in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[m];var g=i[this.model].labels,y=[];for(n=0;n<g.length;n++)y.push(e[g[n]]);this.color=p(y)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(c[this.model])for(u=i[this.model].channels,n=0;n<u;n++){var v=c[this.model][n];v&&(this.color[n]=v(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach(function(e){(c[e]||(c[e]=[]))[t]=n}),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e){return Array.isArray(e)?e:[e]}function p(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,d(255)),green:u("rgb",1,d(255)),blue:u("rgb",2,d(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:u("hsl",1,d(100)),lightness:u("hsl",2,d(100)),saturationv:u("hsv",1,d(100)),value:u("hsv",2,d(100)),chroma:u("hcg",1,d(100)),gray:u("hcg",2,d(100)),white:u("hwb",1,d(100)),wblack:u("hwb",2,d(100)),cyan:u("cmyk",0,d(100)),magenta:u("cmyk",1,d(100)),yellow:u("cmyk",2,d(100)),black:u("cmyk",3,d(100)),x:u("xyz",0,d(100)),y:u("xyz",1,d(100)),z:u("xyz",2,d(100)),l:u("lab",0,d(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,s=2*i-1,o=n.alpha()-r.alpha(),a=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,c=1-a;return l.rgb(a*n.red()+c*r.red(),a*n.green()+c*r.green(),a*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach(function(e){if(-1===o.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new l(h(i[this.model][e].raw(this.color)).concat(n),e)},l[e]=function(n){return"number"==typeof n&&(n=p(s.call(arguments),t)),new l(n,e)}}}),e.exports=l},function(e,t,n){var r=n(303),i=n(642),s={};for(var o in r)r.hasOwnProperty(o)&&(s[r[o]]=o);var a=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),n="hsl";break;case"hwb":t=a.get.hwb(e),n="hwb";break;default:t=a.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,n,i,s=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var o=2*n;s[n]=parseInt(t.slice(o,o+2),16)}i&&(s[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)s[n]=parseInt(t[n]+t[n],16);i&&(s[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)s[n]=parseInt(t[n+1],0);t[4]&&(s[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(s=r[t[1]])?(s[3]=1,s):null:null;for(n=0;n<3;n++)s[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(s[3]=parseFloat(t[4]))}for(n=0;n<3;n++)s[n]=c(s[n],0,255);return s[3]=c(s[3],0,1),s},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return s[e.slice(0,3)]}},function(e,t,n){"use strict";var r=n(643),i=Array.prototype.concat,s=Array.prototype.slice,o=e.exports=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var a=e[n];r(a)?t=i.call(t,s.call(a)):t.push(a)}return t};o.wrap=function(e){return function(){return e(o(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){var r=n(304),i=n(645),s={};Object.keys(r).forEach(function(e){s[e]={},Object.defineProperty(s[e],"channels",{value:r[e].channels}),Object.defineProperty(s[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach(function(n){var r=t[n];s[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),s[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),e.exports=s},function(e,t,n){var r=n(304);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),s=Object.keys(r[i]),o=s.length,a=0;a<o;a++){var c=s[a],l=t[c];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(c))}return t}function s(e,t){return function(n){return t(e(n))}}function o(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],o=t[e].parent;t[o].parent;)n.unshift(t[o].parent),i=s(r[t[o].parent][o],i),o=t[o].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),s=r.length,a=0;a<s;a++){var c=r[a];null!==t[c].parent&&(n[c]=o(c,t))}return n}},function(e,t,n){"use strict";e.exports=function(e){for(var t=0,n=0;t<e.length;n=e.charCodeAt(t++)+((n<<5)-n));var r=Math.floor(Math.abs(1e4*Math.sin(n)%1*16777216)).toString(16);return"#"+Array(6-r.length+1).join("0")+r}},function(e,t,n){"use strict";var r=n(648);e.exports=function(e,t){var n,i=r(),s=0;for(t=t||["diagnostics","debug"];s<t.length&&!(n=i[t[s]]);s++);if(!n)return!1;for(t=n.split(/[\s,]+/),s=0;s<t.length;s++)if("-"!==(n=t[s].replace("*",".*?")).charAt(0)){if(new RegExp("^"+n+"$").test(e))return!0}else if(new RegExp("^"+n.substr(1)+"$").test(e))return!1;return!1}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){if(e=e||{},"object"==typeof process&&"object"==typeof process.env&&i.merge(e,process.env),"undefined"!=typeof window){if("string"===window.name&&window.name.length&&i.merge(e,i.parse(window.name)),window.localStorage)try{i.merge(e,i.parse(window.localStorage.env||window.localStorage.debug))}catch(e){}"object"==typeof window.location&&"string"==typeof window.location.hash&&window.location.hash.length&&i.merge(e,i.parse("#"===window.location.hash.charAt(0)?window.location.hash.slice(1):window.location.hash))}var t,n;for(t in e)(n=t.toLowerCase())in e||(e[n]=e[t]);return e}i.merge=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},i.parse=function(e){var t,n=/([^=?&]+)=([^&]*)/g,r={};if(!e)return r;for(;t=n.exec(e);r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return r.env||r},e.exports=i},function(e,t,n){"use strict";var r=n(650);function i(e,t){return t?new i(e).style(t):this instanceof i?void(this.text=e):new i(e)}i.prototype.prefix="[",i.prototype.suffix="m",i.prototype.hex=function(e){3===(e="#"===e[0]?e.substring(1):e).length&&((e=e.split(""))[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),n=e.substring(2,4),r=e.substring(4,6);return[parseInt(t,16),parseInt(n,16),parseInt(r,16)]},i.prototype.rgb=function(e,t,n){var r=e/255*5,i=t/255*5,s=n/255*5;return this.ansi(r,i,s)},i.prototype.ansi=function(e,t,n){return 16+36*Math.round(e)+6*Math.round(t)+Math.round(n)},i.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},i.prototype.style=function(e){return/^#?(?:[0-9a-fA-F]{3}){1,2}$/.test(e)||(e=r(e)),this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()},e.exports=i},function(e,t,n){var r=n(651),i=r.filter(function(e){return!!e.css}),s=r.filter(function(e){return!!e.vga});e.exports=function(t){var n=e.exports.get(t);return n&&n.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),r.filter(function(t){return t.name.toLowerCase()===e}).pop()},e.exports.all=e.exports.get.all=function(){return r},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter(function(t){return t.name.toLowerCase()===e}).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),s.filter(function(t){return t.name.toLowerCase()===e}).pop()):s}},function(e,t){e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(26),{StringDecoder:i}=n(200),{Stream:s}=n(118);function o(){}e.exports=(e,t)=>{const n=Buffer.alloc(65536),a=new i("utf8"),c=new s;let l="",u=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},r.open(e.file,"a+","0644",(i,s)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return r.read(s,n,0,n.length,u,(r,s)=>{if(r)return t?t(r):c.emit("error",r),void c.destroy();if(!s)return l&&((null==e.start||d>e.start)&&(t?t(null,l):c.emit("line",l)),d++,l=""),setTimeout(i,1e3);let o=a.write(n.slice(0,s));t||c.emit("data",o);const h=(o=(l+o).split(/\n+/)).length-1;let p=0;for(;p<h;p++)(null==e.start||d>e.start)&&(t?t(null,o[p]):c.emit("line",o[p])),d++;return l=o[h],u+=s,i()});r.close(s,o)}()}),t?c.destroy:c}},function(e,t,n){"use strict";const r=n(74),i=n(75),{Stream:s}=n(118),o=n(85);e.exports=class extends o{constructor(e={}){super(e),this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,(t,n)=>{n&&200!==n.statusCode&&(t=new Error(`Invalid HTTP Status Code: ${n.statusCode}`)),t?this.emit("warn",t):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(e,n,r)=>{if(n&&200!==n.statusCode&&(e=new Error(`Invalid HTTP Status Code: ${n.statusCode}`)),e)return t(e);if("string"==typeof r)try{r=JSON.parse(r)}catch(e){return t(e)}t(null,r)})}stream(e={}){const t=new s;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let n="";const r=this._request(e);return t.destroy=()=>r.destroy(),r.on("data",e=>{const r=(e=(n+e).split(/\n+/)).length-1;let i=0;for(;i<r;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}n=e[r]}),r.on("error",e=>t.emit("error",e)),t}_request(e,t){const n=(e=e||{}).auth||this.auth,s=e.path||this.path||"";delete e.auth,delete e.path;const o=(this.ssl?i:r).request({method:"POST",host:this.host,port:this.port,path:`/${s.replace(/^\//,"")}`,headers:this.headers,auth:n?`${n.username}:${n.password}`:"",agent:this.agent});o.on("error",t),o.on("response",e=>e.on("end",()=>t(null,e)).resume()),o.end(Buffer.from(JSON.stringify(e),"utf8"))}}},function(e,t,n){"use strict";const r=n(201),{MESSAGE:i}=n(23),s=n(22),o=n(85);e.exports=class extends o{constructor(e={}){if(super(e),!e.stream||!r(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||s.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},function(e,t,n){"use strict";const{Stream:r,Transform:i}=n(118),s=n(203),{LEVEL:o,SPLAT:a}=n(23),c=n(201),l=n(306),u=n(309),d=n(659),h=n(660),{warn:p}=n(278),f=n(202),m=/%[scdjifoO%]/g;class g extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(n){const r=Object.assign({},e,n);n instanceof Error&&(r.stack=n.stack,r.message=n.message),t.write(r)}}})}configure({silent:e,format:t,defaultMeta:r,levels:i,level:s="info",exitOnError:o=!0,transports:a,colors:c,emitErrs:d,formatters:h,padLevels:p,rewriters:m,stripColors:g,exceptionHandlers:y,rejectionHandlers:v}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||n(179)(),this.defaultMeta=r||null,this.levels=i||this.levels||f.npm.levels,this.level=s,this.exceptions=new l(this),this.rejections=new u(this),this.profilers={},this.exitOnError=o,a&&(a=Array.isArray(a)?a:[a]).forEach(e=>this.add(e)),c||d||h||p||m||g)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));y&&this.exceptions.handle(y),v&&this.rejections.handle(v)}isLevelEnabled(e){const t=y(this.levels,e);if(null===t)return!1;const n=y(this.levels,this.level);return null!==n&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex(e=>{let r=y(this.levels,e.level);return null===r&&(r=n),r>=t}):n>=t)}log(e,t,...n){if(1===arguments.length)return e[o]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[o]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(this.write({[o]:e,level:e,message:t}),this);const[r]=n;if("object"==typeof r&&null!==r){if(!(t&&t.match&&t.match(m))){const i=Object.assign({},this.defaultMeta,r,{[o]:e,[a]:n,level:e,message:t});return r.message&&(i.message+=`${r.message}`),r.stack&&(i.stack=r.stack),this.write(i),this}}return this.write(Object.assign({},this.defaultMeta,{[o]:e,[a]:n,level:e,message:t})),this}_transform(e,t,n){if(this.silent)return n();e[o]||(e[o]=e.level),this.levels[e[o]]||0===this.levels[e[o]]||console.error("[winston] Unknown logger level: %s",e[o]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{n()}}_final(e){const t=this.transports.slice();s(t,(e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}add(e){const t=!c(e)||e.log.length>2?new d({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){let t=e;return(!c(e)||e.log.length>2)&&(t=this.transports.filter(t=>t.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){p.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const n={},r=Object.assign({},e.query||{});s(this.transports.filter(e=>!!e.query),function(t,i){!function(t,n){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(r)),t.query(e,(r,i)=>{if(r)return n(r);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),n(null,i)})}(t,(e,r)=>{i&&((r=e||r)&&(n[t.name]=r),i()),i=null})},()=>t(null,n))}stream(e={}){const t=new r,n=[];return t._streams=n,t.destroy=()=>{let e=n.length;for(;e--;)n[e].destroy()},this.transports.filter(e=>!!e.stream).forEach(r=>{const i=r.stream(e);i&&(n.push(i),i.on("log",e=>{e.transport=e.transport||[],e.transport.push(r.name),t.emit("log",e)}),i.on("error",e=>{e.transport=e.transport||[],e.transport.push(r.name),t.emit("error",e)}))}),t}startTimer(){return new h(this)}profile(e,...t){const n=Date.now();if(this.profilers[e]){const r=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=n-r,i.message=i.message||e,this.write(i)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(n){this.emit(e,n,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function y(e,t){const n=e[t];return n||0===n?n:null}Object.defineProperty(g.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){((0,r.default)(e)?h:p)(e,(0,u.default)(t),n)};var r=d(n(116)),i=d(n(294)),s=d(n(287)),o=d(n(295)),a=d(n(194)),c=d(n(288)),l=d(n(293)),u=d(n(140));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){n=(0,c.default)(n||a.default);var r=0,s=0,o=e.length;function u(e,t){e?n(e):++s!==o&&t!==i.default||n(null)}for(0===o&&n(null);r<o;r++)t(e[r],r,(0,l.default)(u))}var p=(0,o.default)(s.default,1/0);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){return e(t,r)}},e.exports=t.default},function(e,t,n){"use strict";const r=n(27),{LEVEL:i}=n(23),s=n(85),o=e.exports=function(e={}){if(s.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};r.inherits(o,s),o.prototype._write=function(e,t,n){if(this.silent||!0===e.exception&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),n(null)},o.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},o.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},o.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,t,n){"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},function(e,t,n){"use strict";const r=n(305);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const n=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=n?n.slice():[];const i=r(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((e,t)=>this._removeLogger(t))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(120),i=n(680),s=n(701),o=n(317),a=n(206),c=n(319),l=n(48);t.TelemetryClient=n(708),t.Contracts=n(62);var u,d,h,p,f,m=!0,g=!1,y=!0,v=!0,_=!0,b=!0,S=!0,w=!0,C=void 0,E=void 0,T=!1;function D(){return t.defaultClient?(T=!0,u.enable(m,g),d.enable(y),h.enable(v),p.useAutoCorrelation(w),p.enable(_),f.enable(b)):l.warn("Start cannot be called before setup"),P}t.setup=function(e){return t.defaultClient?l.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),u=new i(t.defaultClient),d=new s(t.defaultClient),h=new o(t.defaultClient),p=new c(t.defaultClient),f=new a(t.defaultClient)),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(S,C,E),P},t.start=D,t.getCorrelationContext=function(){return w?r.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return r.CorrelationContextManager.wrapCallback(e)};var P=function(){function e(){}return e.setAutoCollectConsole=function(t,n){return void 0===n&&(n=!1),m=t,g=n,T&&u.enable(t,n),e},e.setAutoCollectExceptions=function(t){return y=t,T&&d.enable(t),e},e.setAutoCollectPerformance=function(t){return v=t,T&&h.enable(t),e},e.setAutoCollectRequests=function(t){return _=t,T&&p.enable(t),e},e.setAutoCollectDependencies=function(t){return b=t,T&&f.enable(t),e},e.setAutoDependencyCorrelation=function(t){return w=t,T&&p.useAutoCorrelation(t),e},e.setUseDiskRetryCaching=function(n,r,i){return S=n,C=r,E=i,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(n,r,i),e},e.setInternalLogging=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),l.enableDebug=t,l.disableWarnings=!n,e},e.start=D,e}();t.Configuration=P,t.dispose=function(){t.defaultClient=null,T=!1,u&&u.dispose(),d&&d.dispose(),h&&h.dispose(),p&&p.dispose(),f&&f.dispose()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(664);t.bunyan=r;var i=n(666);t.console=i;var s=n(668);t.mongodbCore=s;var o=n(669);t.mongodb=o;var a=n(670);t.mysql=a;var c=n(673);t.pgPool=c;var l=n(674);t.pg=l;var u=n(675);t.redis=u;var d=n(676);t.winston=d,t.enable=function(){r.enable(),i.enable(),s.enable(),o.enable(),a.enable(),l.enable(),c.enable(),u.enable(),d.enable()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,n){var i=t.apply(this,arguments);if(!n){var s=i;s||(s=t.call(this,e,!0)),r.channel.publish("bunyan",{level:e.level,result:s})}return i},e}},t.enable=function(){r.channel.registerMonkeyPatch("bunyan",t.bunyan)}},function(e){e.exports=JSON.parse('{"_args":[["diagnostic-channel@0.2.0","/Users/pha/Other/vscode-starlark"]],"_from":"diagnostic-channel@0.2.0","_id":"diagnostic-channel@0.2.0","_inBundle":false,"_integrity":"sha1-zJmvlhLCP7H/8TYSxy8sv6qNWhc=","_location":"/diagnostic-channel","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"diagnostic-channel@0.2.0","name":"diagnostic-channel","escapedName":"diagnostic-channel","rawSpec":"0.2.0","saveSpec":null,"fetchSpec":"0.2.0"},"_requiredBy":["/applicationinsights"],"_resolved":"https://registry.npmjs.org/diagnostic-channel/-/diagnostic-channel-0.2.0.tgz","_spec":"0.2.0","_where":"/Users/pha/Other/vscode-starlark","bugs":{"url":"https://github.com/Microsoft/node-diagnostic-channel/issues"},"dependencies":{"semver":"^5.3.0"},"description":"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers","devDependencies":{"@types/mocha":"^2.2.40","@types/node":"^7.0.12","mocha":"^3.2.0","rimraf":"^2.6.1","tslint":"^5.0.0","typescript":"^2.2.1"},"files":["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],"homepage":"https://github.com/Microsoft/node-diagnostic-channel","license":"MIT","main":"./dist/src/channel.js","name":"diagnostic-channel","repository":{"type":"git","url":"git+https://github.com/Microsoft/node-diagnostic-channel.git"},"scripts":{"build":"tsc","clean":"rimraf ./dist","lint":"tslint -c tslint.json -p tsconfig.json","test":"mocha ./dist/tests/**/*.js"},"types":"./dist/src/channel.d.ts","version":"0.2.0"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(43);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new i.Writable,n=new i.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t}),!0},n.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t,stderr:!0}),!0};for(var s=new e.Console(t,n),o=function(t){var n=e[t];n&&(e[t]=function(){if(s[t])try{s[t].apply(s,arguments)}catch(e){}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)o(c[a]);return e}},t.enable=function(){r.channel.registerMonkeyPatch("console",t.console),n(667)}},function(e,t){e.exports=require("console")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.mongoCore2={versionSpecifier:">= 2.0.0 < 2.2.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb-core",t.mongoCore2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.mongo2={versionSpecifier:">= 2.0.0 <= 2.2.x",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(e){return e()})}}}),n={};return t.on("started",function(e){n[e.requestId]||(n[e.requestId]=e)}),t.on("succeeded",function(e){var t=n[e.requestId];t&&delete n[e.requestId],e.operationId(function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})}),t.on("failed",function(e){var t=n[e.requestId];t&&delete n[e.requestId],e.operationId(function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})}),e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb",t.mongo2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(3);t.mysql={versionSpecifier:">= 2.0.0 <= 2.14.x",patch:function(e,t){var s=function(e,t){return function(t,n){var i=e[t];i&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var s=arguments[e],o={result:null,startTime:null};"function"==typeof s&&(n?(o.startTime=process.hrtime(),arguments[e]=r.channel.bindToContext(n(o,s))):arguments[e]=r.channel.bindToContext(s));var a=i.apply(this,arguments);return o.result=a,a})}},o=function(e,t){return s(e.prototype)},a=n(671)(i.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach(function(e){return o(a)(e)}),s(a)("createQuery",function(e,t){return function(n){var i=process.hrtime(e.startTime),s=1e3*i[0]+i[1]/1e6|0;r.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:s}),t.apply(this,arguments)}});var c=n(672)(i.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach(function(e){return o(c)(e)}),e}},t.enable=function(){r.channel.registerMonkeyPatch("mysql",t.mysql)}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=671},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=672},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.postgresPool1={versionSpecifier:"1.x",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){e&&(arguments[0]=r.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(56);t.postgres6={versionSpecifier:"6.x",patch:function(e,t){var n=e.Client.prototype.query,s="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,o){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0},l=process.hrtime();function u(e){e&&e[s]&&(e=e[s]);var t=r.channel.bindToContext(function(t,n){var s=process.hrtime(l);if(c.result=n&&{rowCount:n.rowCount,command:n.command},c.error=t,c.duration=Math.ceil(1e3*s[0]+s[1]/1e6),r.channel.publish("postgres",c),t){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)});try{return Object.defineProperty(t,s,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(c.query.preparable={text:e,args:t},o=u(o)):(c.query.text=e,o?o=u(o):t=u(t)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,o?o=u(o):t?t=u(t):e.callback=u(e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=o,arguments.length=arguments.length>3?arguments.length:3,a=n.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg",t.postgres6)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.redis={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,s=process.hrtime();e.callback=r.channel.bindToContext(function(t,o){var a=process.hrtime(s),c=1e3*a[0]+a[1]/1e6|0;r.channel.publish("redis",{duration:c,address:i,commandObj:e,err:t,result:o}),"function"==typeof n&&n.apply(this,arguments)}),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){r.channel.registerMonkeyPatch("redis",t.redis)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.winston={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,i=function(n,i,s){var o;return o=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",r.channel.publish("winston",{level:n,message:i,meta:s,levelKind:o}),i};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==i&&(this.filters=this.filters.filter(function(e){return e!==i}),this.filters.push(i)):this.filters=[i],n.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("winston",t.winston)}},function(e,t,n){(function(){"use strict";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */!function(e){if(e.Zone)throw new Error("Zone already loaded.");var t=function(){function t(e,t){this._properties=null,this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new n(this,this._parent&&this._parent._zoneDelegate,t)}return t.assertZonePatched=function(){if(e.Promise!==A)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(t,"current",{get:function(){return l.zone},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentTask",{get:function(){return u},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]},t.prototype.getZoneWith=function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null},t.prototype.fork=function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)},t.prototype.wrap=function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var n=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(n,this,arguments,t)}},t.prototype.run=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),l=new i(l,this);try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{l=l.parent}},t.prototype.runGuarded=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),l=new i(l,this);try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{l=l.parent}},t.prototype.runTask=function(e,t,n){if(e.runCount++,e.zone!=this)throw new Error("A task can only be run in the zone which created it! (Creation: "+e.zone.name+"; Execution: "+this.name+")");var r=u;u=e,l=new i(l,this);try{"macroTask"==e.type&&e.data&&!e.data.isPeriodic&&(e.cancelFn=null);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{l=l.parent,u=r}},t.prototype.scheduleMicroTask=function(e,t,n,i){return this._zoneDelegate.scheduleTask(this,new r("microTask",this,e,t,n,i,null))},t.prototype.scheduleMacroTask=function(e,t,n,i,s){return this._zoneDelegate.scheduleTask(this,new r("macroTask",this,e,t,n,i,s))},t.prototype.scheduleEventTask=function(e,t,n,i,s){return this._zoneDelegate.scheduleTask(this,new r("eventTask",this,e,t,n,i,s))},t.prototype.cancelTask=function(e){var t=this._zoneDelegate.cancelTask(this,e);return e.runCount=-1,e.cancelFn=null,t},t}();t.__symbol__=s;var n=function(){function e(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t.zone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t.zone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t.zone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t.zone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t.zone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t.zone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t.zone),this._hasTaskZS=n&&(n.onHasTask?n:t._hasTaskZS),this._hasTaskDlgt=n&&(n.onHasTask?t:t._hasTaskDlgt),this._hasTaskCurrZone=n&&(n.onHasTask?this.zone:t.zone)}return e.prototype.fork=function(e,n){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,n):new t(e,n)},e.prototype.intercept=function(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t},e.prototype.invoke=function(e,t,n,r,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,r,i):t.apply(n,r)},e.prototype.handleError=function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)},e.prototype.scheduleTask=function(e,t){try{if(this._scheduleTaskZS)return this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t);if(t.scheduleFn)t.scheduleFn(t);else{if("microTask"!=t.type)throw new Error("Task is missing scheduleFn.");!function(e){m(),d.push(e)}(t)}return t}finally{e==this.zone&&this._updateTaskCount(t.type,1)}},e.prototype.invokeTask=function(e,t,n,r){try{return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,r):t.callback.apply(n,r)}finally{e!=this.zone||"eventTask"==t.type||t.data&&t.data.isPeriodic||this._updateTaskCount(t.type,-1)}},e.prototype.cancelTask=function(e,t){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw new Error("Task does not support cancellation, or is already canceled.");n=t.cancelFn(t)}return e==this.zone&&this._updateTaskCount(t.type,-1),n},e.prototype.hasTask=function(e,t){return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)},e.prototype._updateTaskCount=function(e,t){var n=this._taskCounts,r=n[e],i=n[e]=r+t;if(i<0)throw new Error("More tasks executed then were scheduled.");if(0==r||0==i){var s={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e};try{this.hasTask(this.zone,s)}finally{this._parentDelegate&&this._parentDelegate._updateTaskCount(e,t)}}},e}(),r=function(){function e(e,t,n,r,i,s,o){this.runCount=0,this.type=e,this.zone=t,this.source=n,this.data=i,this.scheduleFn=s,this.cancelFn=o,this.callback=r;var a=this;this.invoke=function(){f++;try{return t.runTask(a,this,arguments)}finally{1==f&&y(),f--}}}return e.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId:Object.prototype.toString.call(this)},e.prototype.toJSON=function(){return{type:this.type,source:this.source,data:this.data,zone:this.zone.name,invoke:this.invoke,scheduleFn:this.scheduleFn,cancelFn:this.cancelFn,runCount:this.runCount,callback:this.callback}},e}(),i=function(e,t){this.parent=e,this.zone=t};function s(e){return"__zone_symbol__"+e}var o=s("setTimeout"),a=s("Promise"),c=s("then"),l=new i(null,new t(null,null)),u=null,d=[],h=!1,p=[],f=0;function m(){0===f&&0===d.length&&(e[a]?e[a].resolve(0)[c](y):e[o](y,0))}function g(e){var t=e&&e.rejection;t&&console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0),console.error(e)}function y(){if(!h){for(h=!0;d.length;){var e=d;d=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.zone.runTask(n,null,null)}catch(e){g(e)}}}for(;p.length;)for(var r=function(){var e=p.shift();try{e.zone.runGuarded(function(){throw e})}catch(e){g(e)}};p.length;)r();h=!1}}function v(e){return e&&e.then}function _(e){return e}function b(e){return A.reject(e)}var S=s("state"),w=s("value"),C="Promise.then",E=null,T=!0,D=!1,P=0;function k(e,t){return function(n){I(e,t,n)}}function I(e,n,r){if(e[S]===E)if(r instanceof A&&r.hasOwnProperty(S)&&r.hasOwnProperty(w)&&r[S]!==E)M(r),I(e,r[S],r[w]);else if(v(r))r.then(k(e,n),k(e,!1));else{e[S]=n;var i=e[w];e[w]=r;for(var s=0;s<i.length;)x(e,i[s++],i[s++],i[s++],i[s++]);if(0==i.length&&n==D){e[S]=P;try{throw new Error("Uncaught (in promise): "+r+(r&&r.stack?"\n"+r.stack:""))}catch(n){var o=n;o.rejection=r,o.promise=e,o.zone=t.current,o.task=t.currentTask,p.push(o),m()}}}return e}function M(e){if(e[S]===P){e[S]=D;for(var t=0;t<p.length;t++)if(e===p[t].promise){p.splice(t,1);break}}}function x(e,t,n,r,i){M(e);var s=e[S]?r||_:i||b;t.scheduleMicroTask(C,function(){try{I(n,!0,t.run(s,null,[e[w]]))}catch(e){I(n,!1,e)}})}var A=function(){function e(t){if(!(this instanceof e))throw new Error("Must be an instanceof Promise.");this[S]=E,this[w]=[];try{t&&t(k(this,T),k(this,D))}catch(e){I(this,!1,e)}}return e.toString=function(){return"function ZoneAwarePromise() { [native code] }"},e.resolve=function(e){return I(new this(null),T,e)},e.reject=function(e){return I(new this(null),D,e)},e.race=function(e){var t,n,r=new this(function(e,r){var i;t=(i=[e,r])[0],n=i[1]});function i(e){r&&(r=t(e))}function s(e){r&&(r=n(e))}for(var o=0,a=e;o<a.length;o++){var c=a[o];v(c)||(c=this.resolve(c)),c.then(i,s)}return r},e.all=function(e){for(var t,n,r=new this(function(e,r){t=e,n=r}),i=0,s=[],o=0,a=e;o<a.length;o++){var c=a[o];v(c)||(c=this.resolve(c)),c.then(function(e){return function(n){s[e]=n,--i||t(s)}}(i),n),i++}return i||t(s),r},e.prototype.then=function(e,n){var r=new this.constructor(null),i=t.current;return this[S]==E?this[w].push(i,r,e,n):x(this,i,r,e,n),r},e.prototype.catch=function(e){return this.then(null,e)},e}();A.resolve=A.resolve,A.reject=A.reject,A.race=A.race,A.all=A.all;var O,L=e[s("Promise")]=e.Promise;function R(e){var t=e.prototype,n=t[s("then")]=t.then;t.then=function(e,t){var r=this;return new A(function(e,t){n.call(r,e,t)}).then(e,t)}}if(e.Promise=A,L&&(R(L),void 0!==e.fetch)){var j=void 0;try{j=e.fetch()}catch(t){j=e.fetch("about:blank")}j.then(function(){return null},function(){return null}),j.constructor!=L&&j.constructor!=A&&R(j.constructor)}Promise[t.__symbol__("uncaughtPromiseErrors")]=p,function(e){e[e.blackList=0]="blackList",e[e.transition=1]="transition"}(O||(O={}));var F,N=e[s("Error")]=e.Error,Y={};e.Error=$;var B="stackRewrite",H=function(e,t){if(!e[t]){var n=s(t);e[t]={configurable:!0,enumerable:!0,get:function(){if(!this[n]){var e=this[s("error")];e&&(this[n]=e[t])}return this[n]},set:function(e){this[n]=e}}}},W=function(e,t){e[t]||(e[t]={configurable:!0,enumerable:!0,writable:!0,value:function(){var e=this[s("error")],n=e&&e[t]||this[t];if(n)return n.apply(e,arguments)}})},U=function(){for(var e=Object.create(null),t=new N,n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r];Object.prototype.hasOwnProperty.call(t,i)&&H(e,i)}var s=N.prototype;if(s){var o=Object.getOwnPropertyNames(s);for(r=0;r<o.length;r++)"constructor"!==(i=o[r])&&"toString"!==i&&"toSource"!==i&&H(e,i)}return H(e,"originalStack"),H(e,"zoneAwareStack"),W(e,"toString"),W(e,"toSource"),e}(),V=function(e){if(e===$.prototype)return U;var t=Object.create(null),n=Object.getOwnPropertyNames(U),r=Object.getOwnPropertyNames(e);return n.forEach(function(e){0===r.filter(function(t){return t===e}).length&&(t[e]=U[e])}),t};function $(){if(!(this instanceof $))return $.apply(Object.create($.prototype),arguments);var e=N.apply(this,arguments);if(this[s("error")]=e,e.originalStack=e.stack,$[B]&&e.originalStack){for(var t=e.originalStack.split("\n"),n=l,r=0;t[r]!==F&&r<t.length;)r++;for(;r<t.length&&n;r++){var i=t[r];if(i.trim()){var o=Y.hasOwnProperty(i)&&Y[i];o===O.blackList?(t.splice(r,1),r--):o===O.transition?n.parent?(t[r]+=" ["+n.parent.zone.name+" => "+n.zone.name+"]",n=n.parent):n=null:t[r]+=" ["+n.zone.name+"]"}}e.stack=e.zoneAwareStack=t.join("\n")}return Object.defineProperties(this,V(Object.getPrototypeOf(this))),this}$.prototype=N.prototype,$[t.__symbol__("blacklistedStackFrames")]=Y,$[B]=!1,N.hasOwnProperty("stackTraceLimit")&&(N.stackTraceLimit=Math.max(N.stackTraceLimit,15),Object.defineProperty($,"stackTraceLimit",{get:function(){return N.stackTraceLimit},set:function(e){return N.stackTraceLimit=e}})),N.hasOwnProperty("captureStackTrace")&&Object.defineProperty($,"captureStackTrace",{value:function(e,t){N.captureStackTrace(e,t)}}),Object.defineProperty($,"prepareStackTrace",{get:function(){return N.prepareStackTrace},set:function(e){return N.prepareStackTrace=e&&"function"==typeof e?function(t,n){if(n)for(var r=0;r<n.length;r++){if("zoneCaptureStackTrace"===n[r].getFunctionName()){n.splice(r,1);break}}return e.apply(this,[t,n])}:e}});var q=t.current.fork({name:"detect",onInvoke:function(e,t,n,r,i,s,o){return e.invoke(n,r,i,s,o)},onHandleError:function(e,t,n,r){if(r.originalStack&&Error===$)for(var i=r.originalStack.split(/\n/),s=!1,o=!1,a=!1;i.length;){var c=i.shift();if(/:\d+:\d+/.test(c)){var l=c.split("(")[0].split("@")[0],u=O.transition;if(-1!==l.indexOf("ZoneAwareError")&&(F=c),-1!==l.indexOf("runGuarded")?o=!0:-1!==l.indexOf("runTask")?a=!0:-1!==l.indexOf("run")?s=!0:u=O.blackList,Y[c]=u,s&&o&&a){$[B]=!0;break}}}return!1}});q.runTask(q.scheduleMacroTask("detect",function(){q.run(function(){q.runGuarded(function(){throw new Error("blacklistStackFrames")})})},null,function(){return null},null)),e.Zone=t}("object"==typeof window&&window||"object"==typeof self&&self||global);var e=function(e){return"__zone_symbol__"+e},t="object"==typeof window&&window||"object"==typeof self&&self||global;
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */!("nw"in t)&&"undefined"!=typeof process&&{}.toString.call(process);var r=e("eventTasks");function i(e,t,n,i,s){var o=e[r];if(o)for(var a=0;a<o.length;a++){var c=o[a],l=c.data,u=l.handler;if((l.handler===t||u.listener===t)&&l.useCapturing===i&&l.eventName===n)return s&&o.splice(a,1),c}return null}var s=function(e,n){return{useCapturing:n[2],eventName:n[0],handler:n[1],target:e||t,name:n[0],invokeAddFunc:function(e,t){return t&&t.invoke?this.target[e](this.eventName,t.invoke,this.useCapturing):this.target[e](this.eventName,t,this.useCapturing)},invokeRemoveFunc:function(e,t){return t&&t.invoke?this.target[e](this.eventName,t.invoke,this.useCapturing):this.target[e](this.eventName,t,this.useCapturing)}}};function o(t,n,o,a,c,l){void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===c&&(c=!1),void 0===l&&(l=s);var u=e(t),d=e(n),h=!o&&void 0;function p(e){var t=e.data;return function(e,t,n){var i=e[r];i||(i=e[r]=[]),n?i.unshift(t):i.push(t)}(t.target,e,c),t.invokeAddFunc(u,e)}function f(e){var t=e.data;return i(t.target,e.invoke,t.eventName,t.useCapturing,!0),t.invokeRemoveFunc(d,e)}return function(e,n){var r=l(e,n);r.useCapturing=r.useCapturing||h;var s=null;"function"==typeof r.handler?s=r.handler:r.handler&&r.handler.handleEvent&&(s=function(e){return r.handler.handleEvent(e)});var o=!1;try{o=r.handler&&"[object FunctionWrapper]"===r.handler.toString()}catch(e){return}if(!s||o)return r.invokeAddFunc(u,r.handler);if(!a){var c=i(r.target,r.handler,r.eventName,r.useCapturing,!1);if(c)return r.invokeAddFunc(u,c)}var d=Zone.current,m=r.target.constructor.name+"."+t+":"+r.eventName;d.scheduleEventTask(m,s,r,p,f)}}function a(t,n,r){void 0===n&&(n=!0),void 0===r&&(r=s);var o=e(t),a=!n&&void 0;return function(e,t){var n=r(e,t);n.useCapturing=n.useCapturing||a;var s=i(n.target,n.handler,n.eventName,n.useCapturing,!0);s?s.zone.cancelTask(s):n.invokeRemoveFunc(o,n.handler)}}function c(t,n,r){for(var i=t;i&&-1===Object.getOwnPropertyNames(i).indexOf(n);)i=Object.getPrototypeOf(i);!i&&t[n]&&(i=t);var s,o=e(n);return i&&!(s=i[o])&&(s=i[o]=i[n],i[n]=function(e,t){try{return Function("f","return function "+e+"(){return f(this, arguments)}")(t)}catch(e){return function(){return t(this,arguments)}}}(n,r(s,o,n))),s}o("addEventListener","removeEventListener"),a("removeEventListener"),e("originalInstance");
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var l,u,d,h=function(e){return function(t,n){return e(t,n),t}},p="addListener",f="prependListener",m="removeListener",g="removeAllListeners",y="listeners",v="on",_=h(o(p,m,!1,!0,!1)),b=h(o(f,m,!1,!0,!0)),S=h(a(m,!1)),w=h(function(n,i){void 0===i&&(i=!0);var s=e(n),o=!i&&void 0;return function(e,n){var i=e||t;if(0===n.length)return i[r]=[],void i[s]();var a=n[0];!function(e,t,n,i){var s=e[r];if(s){for(var o=[],a=s.length-1;a>=0;a--){var c=s[a],l=c.data;l.eventName===t&&l.useCapturing===n&&(o.push(c),i&&s.splice(a,1))}}}(i,a,n[1]||o,!0),i[s](a)}}(g,!1)),C=(e(y),function(e,n){var i=n[0],s=e||t;return s[r]?s[r].filter(function(e){return e.data.eventName===i}).map(function(e){return e.data.handler}):[]});try{l=n(56)}catch(e){}l&&l.EventEmitter&&(u=l.EventEmitter.prototype)&&u.addListener&&(c(u,p,function(){return _}),c(u,f,function(){return b}),c(u,m,function(){return S}),c(u,g,function(){return w}),c(u,y,function(){return C}),u[v]=u[p])
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */;try{d=n(26)}catch(e){}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function E(e,t,n,r){var i=null,s=null;n+=r;var o={};function a(t){var n=t.data;return n.args[0]=function(){t.invoke.apply(this,arguments),delete o[n.handleId]},n.handleId=i.apply(e,n.args),o[n.handleId]=t,t}function l(e){return delete o[e.data.handleId],s(e.data.handleId)}i=c(e,t+=r,function(n){return function(i,s){if("function"==typeof s[0]){var o=Zone.current,c={handleId:null,isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?s[1]||0:null,args:s},u=o.scheduleMacroTask(t,s[0],c,a,l);if(!u)return u;var d=u.data.handleId;return d.ref&&d.unref&&(u.ref=d.ref.bind(d),u.unref=d.unref.bind(d)),u}return n.apply(e,s)}}),s=c(e,n,function(t){return function(n,r){var i="number"==typeof r[0]?o[r[0]]:r[0];i&&"string"==typeof i.type?(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&i.zone.cancelTask(i):t.apply(e,r)}})}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */d&&["access","appendFile","chmod","chown","close","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","read","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","write","writeFile"].filter(function(e){return!!d[e]&&"function"==typeof d[e]}).forEach(function(e){!function(e,t,n){var r=null;function i(e){var t=e.data;return t.args[t.callbackIndex]=function(){e.invoke.apply(this,arguments)},r.apply(t.target,t.args),e}r=c(e,t,function(e){return function(t,r){var s=n(t,r);return s.callbackIndex>=0&&"function"==typeof r[s.callbackIndex]?Zone.current.scheduleMacroTask(s.name,r[s.callbackIndex],s,i,null):e.apply(t,r)}})}(d,e,function(t,n){return{name:"fs."+e,args:n,callbackIndex:n.length>0?n.length-1:-1,target:t}})});var T,D,P="set",k="object"==typeof window&&window||"object"==typeof self&&self||global,I=n(678);E(I,P,"clear","Timeout"),E(I,P,"clear","Interval"),E(I,P,"clear","Immediate"),global.setTimeout!==I.setTimeout&&(E(k,P,"clear","Timeout"),E(k,P,"clear","Interval"),E(k,P,"clear","Immediate")),function(){var e=null;function t(t){var n=t.data;return n[0]=function(){t.invoke.apply(this,arguments)},e.apply(process,n),t}e=c(process,"nextTick",function(e){return function(n,r){if("function"==typeof r[0]){var i=Zone.current,s=i.scheduleMicroTask("nextTick",r[0],r,t);return s}return e.apply(process,r)}})}();try{T=n(58)}catch(e){}if(T){var M=T.randomBytes;T.randomBytes=function(e,t){if(t){var n=Zone.current,r=T.constructor.name+".randomBytes";return M(e,n.wrap(t,r))}return M(e)}.bind(T);var x=T.pbkdf2;T.pbkdf2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];if("function"==typeof n){var r=Zone.current,i=T.constructor.name+".pbkdf2";return e[e.length-1]=r.wrap(n,i),x.apply(void 0,e)}return x.apply(void 0,e)}.bind(T)}try{D=n(679)}catch(e){}if(D&&D.ClientRequest){var A=D.ClientRequest.bind(D);D.ClientRequest=function(e,t){if(t){var n=Zone.current;return new A(e,n.wrap(t,"http.ClientRequest"))}return new A(e)}}})()},function(e,t){e.exports=require("timers")},function(e,t){e.exports=require("_http_client")},function(e,t,n){"use strict";var r=n(205),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(n(681).enable(e&&t,this._client),n(699).enable(e,this._client),n(700).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),i=n(34),s=[],o=function(e){s.forEach(function(t){var n=e.data.message;n.lastIndexOf("\n")==n.length-1&&(n=n.substring(0,n.length-1)),t.trackTrace({message:n,severity:e.data.stderr?r.SeverityLevel.Warning:r.SeverityLevel.Information})})};t.enable=function(e,t){e?(0===s.length&&i.channel.subscribe("console",o),s.push(t)):0===(s=s.filter(function(e){return e!=t})).length&&i.channel.unsubscribe("console",o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(313),i=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=i,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof r.EventData||e instanceof r.ExceptionData||e instanceof r.MessageData||e instanceof r.MetricData||e instanceof r.PageViewData||e instanceof r.RemoteDependencyData||e instanceof r.RequestData}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(76));e.exports=s},function(e,t,n){"use strict";var r=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(314));e.exports=s},function(e,t,n){"use strict";var r=n(315),i=function(){this.kind=r.Measurement};e.exports=i},function(e,t,n){"use strict";var r=function(){this.ver=1,this.sampleRate=100,this.tags={}};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(n(76));e.exports=s},function(e,t,n){"use strict";var r=function(){this.hasFullStack=!0,this.parsedStack=[]};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(n(76));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(n(76));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(316));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(n(76));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(76));e.exports=s},function(e,t,n){"use strict";var r;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(698))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case r.Event:return"EventData";case r.Exception:return"ExceptionData";case r.Trace:return"MessageData";case r.Metric:return"MetricData";case r.Request:return"RequestData";case r.Dependency:return"RemoteDependencyData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return r.Event;case"ExceptionData":return r.Exception;case"MessageData":return r.Trace;case"MetricData":return r.Metric;case"RequestData":return r.Request;case"RemoteDependencyData":return r.Dependency}},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency"}(r=t.TelemetryType||(t.TelemetryType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),i=n(34),s=[],o={10:r.SeverityLevel.Verbose,20:r.SeverityLevel.Verbose,30:r.SeverityLevel.Information,40:r.SeverityLevel.Warning,50:r.SeverityLevel.Error,60:r.SeverityLevel.Critical},a=function(e){s.forEach(function(t){var n=o[e.data.level];t.trackTrace({message:e.data.result,severity:n})})};t.enable=function(e,t){e?(0===s.length&&i.channel.subscribe("bunyan",a),s.push(t)):0===(s=s.filter(function(e){return e!=t})).length&&i.channel.unsubscribe("bunyan",a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),i=n(34),s=[],o={syslog:function(e){var t={emerg:r.SeverityLevel.Critical,alert:r.SeverityLevel.Critical,crit:r.SeverityLevel.Critical,error:r.SeverityLevel.Error,warning:r.SeverityLevel.Warning,notice:r.SeverityLevel.Information,info:r.SeverityLevel.Information,debug:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},npm:function(e){var t={error:r.SeverityLevel.Error,warn:r.SeverityLevel.Warning,info:r.SeverityLevel.Information,verbose:r.SeverityLevel.Verbose,debug:r.SeverityLevel.Verbose,silly:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},unknown:function(e){return r.SeverityLevel.Information}},a=function(e){s.forEach(function(t){var n=o[e.data.levelKind](e.data.level);t.trackTrace({message:e.data.message,severity:n,properties:e.data.meta})})};t.enable=function(e,t){e?(0===s.length&&i.channel.subscribe("winston",a),s.push(t)):0===(s=s.filter(function(e){return e!=t})).length&&i.channel.unsubscribe("winston",a)}},function(e,t,n){"use strict";var r=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return Object.defineProperty(e,"UNCAUGHT_EXCEPTION_HANDLER_NAME",{get:function(){return"uncaughtException"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"UNHANDLED_REJECTION_HANDLER_NAME",{get:function(){return"unhandledRejection"},enumerable:!0,configurable:!0}),e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var r=function(e,t){if(n._client.trackException({exception:t}),n._client.flush({isAppCrashing:!0}),e)throw t};this._exceptionListenerHandle=r.bind(this,!0),this._rejectionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)}}else this._exceptionListenerHandle&&(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e}();e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=n(45),o=n(62),a=n(77),c=n(121),l=n(318),u=n(208),d=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=s.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,i=o.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;this.correlationId?(i=o.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(a=n.hostname+" | "+this.correlationId)):i=o.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e){for(var l in e)c[l]||(c[l]=e[l]);if(e.properties)for(var l in e.properties)c.properties[l]=e.properties[l]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=s.parse(e);else{var n=e;e={},n&&Object.keys(n).forEach(function(t){e[t]=n[t]})}if(e.path){var r=s.parse(e.path);e.pathname=r.pathname,e.search=r.search}e.host&&e.port&&(!s.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host));return e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",s.format(e)},t}(l);e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=[];t.subscriber=function(e){i.forEach(function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mongodb",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("mongodb",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=[];t.subscriber=function(e){i.forEach(function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,s=(n._connection||{}).config||{},o=s.socketPath?s.socketPath:(s.host||"localhost")+":"+s.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"mysql"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mysql",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("mysql",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=[];t.subscriber=function(e){i.forEach(function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("redis",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("redis",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=[];t.subscriber=function(e){i.forEach(function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,s=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"postgres"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("postgres",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("postgres",t.subscriber)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=n(45),o=n(62),a=n(77),c=n(121),l=n(318),u=n(208),d=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+s.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+s.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=s.parse(e.url),r=n.pathname,i=n.search;return s.format({protocol:t?"https":"http",host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){if(this.correlationContextHeader=e.headers[c.correlationContextHeader],e.headers[c.requestIdHeader])this.parentId=e.headers[c.requestIdHeader],this.requestId=u.generateRequestId(this.parentId),this.correlationContextHeader=e.headers[c.correlationContextHeader];else{var n=e.headers[c.rootIdHeader];this.parentId=e.headers[c.parentIdHeader],this.requestId=u.generateRequestId(n||this.parentId),this.correlationContextHeader=null}t&&(this.requestId=t),this.operationId=u.getRootId(this.requestId)}},t.parseId=function(e){return e.substr(0,e.indexOf("|"))},t.keys=new o.ContextTagKeys,t}(l);e.exports=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=n(709),o=n(319),a=n(206),c=n(48),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?o.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?o.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(s);e.exports=l},function(e,t,n){"use strict";var r=n(45),i=n(710),s=n(711),o=n(62),a=n(712),c=n(713),l=n(120),u=n(715),d=n(77),h=n(48),p=n(716),f=function(){function e(e){this._telemetryProcessors=[];var t=new i(e);this.config=t,this.context=new s,this.commonProperties={};var n=new u(this.config);this.channel=new a(function(){return t.disableAppInsights},function(){return t.maxBatchSize},function(){return t.maxBatchIntervalMs},n)}return e.prototype.trackTrace=function(e){this.track(e,o.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,o.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!d.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,o.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,o.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,o.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,o.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&o.telemetryTypeToBaseType(t)){var n=p.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString());var r=this.runTelemetryProcessors(n,e.contextObjects);(r=r&&c.samplingTelemetryProcessor(n,{correlationContext:l.CorrelationContextManager.getCurrentContext()}))&&this.channel.send(n)}else h.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=l.CorrelationContextManager.getCurrentContext();for(var i=0;i<r;++i)try{var s=this._telemetryProcessors[i];if(s&&!1===s.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,h.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n},e}();e.exports=f},function(e,t,n){"use strict";var r=n(208),i=function(){function e(t){var n=this;this.endpointBase="https://dc.services.visualstudio.com",this.instrumentationKey=t||e._getInstrumentationKey(),this.endpointUrl=this.endpointBase+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net"],this.setCorrelationId=function(e){return n.correlationId=e},this.profileQueryEndpoint=process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=i},function(e,t,n){"use strict";var r=n(22),i=n(26),s=n(3),o=n(62),a=n(48),c=function(){function e(e){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||s.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){var t=s.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.sdkVersion=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c},function(e,t,n){"use strict";var r=n(48),i=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var n=this._stringify(e);"string"==typeof n&&(this._buffer.push(n),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){t._timeoutHandle=null,t.triggerSend(!1)},this._getBatchIntervalMs())))}else r.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;if(!n){var r=this._buffer.join("\n");e?(this._sender.saveOnCrash(r),"function"==typeof t&&t("data saved on crash")):this._sender.send(new Buffer(r),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){r.warn("Failed to serialize payload",t,e)}},e}();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(714))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62);function i(e){var t=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)t=((t<<5)+t|0)+e.charCodeAt(n)|0;return(t=t<=-2147483648?2147483647:Math.abs(t))/2147483647*100}t.samplingTelemetryProcessor=function(e,t){var n=e.sampleRate;return null==n||n>=100||!(!e.data||r.TelemetryType.Metric!==r.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?i(t.correlationContext.operation.id)<n:100*Math.random()<n)},t.getSamplingHashCode=i},function(e,t,n){"use strict";var r=n(26),i=n(22),s=n(3),o=n(143),a=n(59),c=n(48),l=n(206),u=n(77),d=function(){function e(t,n,i){if(this._config=t,this._onSuccess=n,this._onError=i,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=r.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,n){var r=this,i=this._config.endpointUrl,s={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};o.gzip(t,function(o,a){var d=a;o?(c.warn(o),d=t,s.headers["Content-Length"]=t.length.toString()):(s.headers["Content-Encoding"]="gzip",s.headers["Content-Length"]=a.length),c.info(e.TAG,s),s[l.disableCollectionRequestOption]=!0;var h=u.makeRequest(r._config,i,s,function(i){i.setEncoding("utf-8");var s="";i.on("data",function(e){s+=e}),i.on("end",function(){r._numConsecutiveFailures=0,c.info(e.TAG,s),"function"==typeof r._onSuccess&&r._onSuccess(s),"function"==typeof n&&n(s),r._enableDiskRetryMode&&(200===i.statusCode?setTimeout(function(){return r._sendFirstFileOnDisk()},r._resendInterval):408!==i.statusCode&&429!==i.statusCode&&439!==i.statusCode&&500!==i.statusCode&&503!==i.statusCode||r._storeToDisk(t))})});h.on("error",function(i){if(r._numConsecutiveFailures++,!r._enableDiskRetryMode||r._numConsecutiveFailures>0&&r._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var s="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";r._enableDiskRetryMode&&(s="Ingestion endpoint could not be reached "+r._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,s,i)}else{s="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";c.info(e.TAG,s,i)}if(r._onErrorHelper(i),"function"==typeof n){var o="error sending telemetry";i&&"function"==typeof i.toString&&(o=i.toString()),n(o)}r._enableDiskRetryMode&&r._storeToDisk(t)}),h.write(d),h.end()})},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,n){var r=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",function(e){return n(e)}),r.on("close",function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))})},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",function(e){return r+=e}),n.on("error",function(e){return t(e,null)}),n.on("close",function(n,i){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)})},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity(function(i,s){if(i)return e.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,s),function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)})})):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;r.lstat(e,function(i,s){i&&"ENOENT"===i.code?r.mkdir(e,function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)}):!i&&s.isDirectory()?n._applyACLRules(e,t):t(i||new Error("Path existed but was not a directory"))})},e.prototype._getShallowDirectorySize=function(e,t){r.readdir(e,function(n,i){if(n)return t(n,-1);var o=null,a=0,c=0;if(0!==i.length)for(var l=0;l<i.length;l++)r.stat(s.join(e,i[l]),function(e,n){c++,e?o=e:n.isFile()&&(a+=n.size),c===i.length&&t(o,o?-1:a)});else t(null,0)})},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=r.readdirSync(e),n=0,i=0;i<t.length;i++)n+=r.statSync(s.join(e,t[i])).size;return n},e.prototype._storeToDisk=function(t){var n=this,o=s.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+o),this._confirmDirExists(o,function(i){if(i)return c.warn(e.TAG,"Error while checking/creating directory: "+(i&&i.message)),void n._onErrorHelper(i);n._getShallowDirectorySize(o,function(i,a){if(i||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(i&&i.message)),void n._onErrorHelper(i);if(a>n._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var l=(new Date).getTime()+".ai.json",u=s.join(o,l);c.info(e.TAG,"saving data to disk at: "+u),r.writeFile(u,t,{mode:384},function(e){return n._onErrorHelper(e)})}})})},e.prototype._storeToDiskSync=function(t){var n=s.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+n),r.existsSync(n)||r.mkdirSync(n),this._applyACLRulesSync(n);var o=this._getShallowDirectorySizeSync(n);if(o>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+o);var a=(new Date).getTime()+".ai.json",l=s.join(n,a);c.info(e.TAG,"saving data before crash to disk at: "+l),r.writeFileSync(l,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,n=s.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);r.exists(n,function(e){e&&r.readdir(n,function(e,i){if(e)t._onErrorHelper(e);else if((i=i.filter(function(e){return s.basename(e).indexOf(".ai.json")>-1})).length>0){var o=i[0],a=s.join(n,o);r.readFile(a,function(e,n){e?t._onErrorHelper(e):r.unlink(a,function(e){e?t._onErrorHelper(e):t.send(n)})})}})})},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===i.type(),e}();e.exports=d},function(e,t,n){"use strict";var r=n(62),i=n(77),s=n(120),o=function(){function e(){}return e.createEnvelope=function(t,n,s,o,a){var c=null;switch(n){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t)}if(s&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var l in s)c.baseData.properties[l]||(c.baseData.properties[l]=s[l]);else c.baseData.properties=s;c.baseData.properties=i.validateStringMap(c.baseData.properties)}var u=a&&a.instrumentationKey||"",d=new r.Envelope;return d.data=c,d.iKey=u,d.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),d.tags=this.getTags(o,t.tagOverrides),d.time=(new Date).toISOString(),d.ver=1,d.sampleRate=a?a.samplingPercentage:100,n===r.TelemetryType.Metric&&(d.sampleRate=100),d},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;t.name=e.name,t.data=e.data,t.target=e.target,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=i.w3cTraceId();var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),n.baseData=t,n},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,t.severityLevel=r.SeverityLevel.Error,t.measurements=e.measurements,t.exceptions=[];var n=e.exception.stack,s=new r.ExceptionDetails;s.message=e.exception.message,s.typeName=e.exception.name,s.parsedStack=this.parseStack(n),s.hasFullStack=i.isArray(s.parsedStack)&&s.parsedStack.length>0,t.exceptions.push(s);var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),o.baseData=t,o},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=i.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),n.baseData=t,n},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),i.baseData=t,i},e.getTags=function(e,t){var n=s.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var i in e.tags)r[i]=e.tags[i];if(t)for(var i in t)r[i]=t[i];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,s=0;s<=n.length;s++){var o=n[s];if(a.regex.test(o)){var c=new a(n[s],r++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var l=0,u=t.length-1,d=0,h=l,p=u;l<u;){if((d+=t[l].sizeInBytes+t[u].sizeInBytes)>32768){var f=p-h+1;t.splice(h,f);break}h=l,p=u,l++,u--}}return t},e}(),a=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=i.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=i.trim(r[2])||this.method,this.fileName=i.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(145),i=n(1),s=n(718),o=n(719),a=n(720),c=n(721),l=n(722),u=n(723),d=n(724),h=n(730),p=n(731),f=n(799),m=n(800),g=n(827),y=n(828),v=n(830),_=n(831),b=n(834),S=n(835),w=n(836),C=n(342),E=n(839),T=n(840),D=n(841),P=n(842),k=n(29);t.registerTypes=function(e){e.addSingleton(k.IExtensionActivationService,d.LanguageServerExtensionActivationService),e.addSingleton(k.ILanguageServerExtension,S.LanguageServerExtension),e.add(k.IExtensionActivationManager,u.ExtensionActivationManager),e.add(k.ILanguageServerActivator,p.JediExtensionActivator,k.LanguageServerActivator.Jedi),e.add(k.ILanguageServerActivator,f.LanguageServerExtensionActivator,k.LanguageServerActivator.DotNet),e.addSingleton(i.IPythonExtensionBanner,a.LanguageServerSurveyBanner,i.BANNER_NAME_LS_SURVEY),e.addSingleton(i.IPythonExtensionBanner,c.ProposeLanguageServerBanner,i.BANNER_NAME_PROPOSE_LS),e.addSingleton(i.IPythonExtensionBanner,s.DataScienceSurveyBanner,i.BANNER_NAME_DS_SURVEY),e.addSingleton(i.IPythonExtensionBanner,o.InteractiveShiftEnterBanner,i.BANNER_NAME_INTERACTIVE_SHIFTENTER),e.addSingleton(k.ILanguageServerFolderService,w.LanguageServerFolderService),e.addSingleton(k.ILanguageServerPackageService,E.LanguageServerPackageService),e.addSingleton(r.INugetRepository,C.StableLanguageServerPackageRepository,C.LanguageServerDownloadChannel.stable),e.addSingleton(r.INugetRepository,C.BetaLanguageServerPackageRepository,C.LanguageServerDownloadChannel.beta),e.addSingleton(r.INugetRepository,C.DailyLanguageServerPackageRepository,C.LanguageServerDownloadChannel.daily),e.addSingleton(k.IDownloadChannelRule,g.DownloadDailyChannelRule,C.LanguageServerDownloadChannel.daily),e.addSingleton(k.IDownloadChannelRule,g.DownloadBetaChannelRule,C.LanguageServerDownloadChannel.beta),e.addSingleton(k.IDownloadChannelRule,g.DownloadBetaChannelRule,C.LanguageServerDownloadChannel.stable),e.addSingleton(k.ILanguageServerCompatibilityService,b.LanguageServerCompatibilityService),e.addSingleton(k.ILanguageClientFactory,v.BaseLanguageClientFactory,k.LanguageClientFactory.base),e.addSingleton(k.ILanguageClientFactory,v.DownloadedLanguageClientFactory,k.LanguageClientFactory.downloaded),e.addSingleton(k.ILanguageClientFactory,v.SimpleLanguageClientFactory,k.LanguageClientFactory.simple),e.addSingleton(k.ILanguageServerDownloader,y.LanguageServerDownloader),e.addSingleton(k.IPlatformData,P.PlatformData),e.add(k.ILanguageServerAnalysisOptions,m.LanguageServerAnalysisOptions),e.addSingleton(k.ILanguageServer,_.LanguageServer),e.add(k.ILanguageServerManager,T.LanguageServerManager),e.addSingleton(k.ILanguageServerOutputChannel,D.LanguageServerOutputChannel),e.addSingleton(k.IExtensionSingleActivationService,h.ExtensionSurveyPrompt),e.addSingleton(k.IExtensionSingleActivationService,l.AATesting)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4);n(7);const a=n(1),c=n(12);var l,u;!function(e){e.ShowBanner="ShowDSSurveyBanner",e.ShowAttemptCounter="DSSurveyShowAttempt"}(l=t.DSSurveyStateKeys||(t.DSSurveyStateKeys={})),function(e){e[e.Yes=0]="Yes",e[e.No=1]="No"}(u||(u={}));let d=class{constructor(e,t,n,r=500,i="https://aka.ms/pyaisurvey"){this.appShell=e,this.persistentState=t,this.browserService=n,this.disabledInCurrentSession=!1,this.isInitialized=!1,this.bannerMessage=c.DataScienceSurveyBanner.bannerMessage(),this.bannerLabels=[c.DataScienceSurveyBanner.bannerLabelYes(),c.DataScienceSurveyBanner.bannerLabelNo()],this.commandThreshold=r,this.surveyLink=i,this.initialize()}initialize(){this.isInitialized||(this.isInitialized=!0)}get enabled(){return this.persistentState.createGlobalPersistentState(l.ShowBanner,!0).value}async showBanner(){if(!this.enabled||this.disabledInCurrentSession)return;const e=await this.incrementPythonDataScienceCommandCounter();if(await this.shouldShowBanner(e))switch(await this.appShell.showInformationMessage(this.bannerMessage,...this.bannerLabels)){case this.bannerLabels[u.Yes]:await this.launchSurvey(),await this.disable();break;case this.bannerLabels[u.No]:await this.disable();break;default:this.disabledInCurrentSession=!0}}async shouldShowBanner(e){return!(!this.enabled||this.disabledInCurrentSession)&&(e||(e=await this.getPythonDSCommandCounter()),e>=this.commandThreshold)}async disable(){await this.persistentState.createGlobalPersistentState(l.ShowBanner,!1).updateValue(!1)}async launchSurvey(){this.browserService.launch(this.surveyLink)}async getPythonDSCommandCounter(){return this.persistentState.createGlobalPersistentState(l.ShowAttemptCounter,0).value}async incrementPythonDataScienceCommandCounter(){const e=this.persistentState.createGlobalPersistentState(l.ShowAttemptCounter,0);return await e.updateValue(e.value+1),e.value}};d=r([s.injectable(),i(0,s.inject(o.IApplicationShell)),i(1,s.inject(a.IPersistentStateFactory)),i(2,s.inject(a.IBrowserService))],d),t.DataScienceSurveyBanner=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4);n(7);const c=n(1),l=n(12),u=n(9),d=n(15),h=n(19);var p,f;!function(e){e.ShowBanner="InteractiveShiftEnterBanner"}(p=t.InteractiveShiftEnterStateKeys||(t.InteractiveShiftEnterStateKeys={})),function(e){e[e.Yes=0]="Yes",e[e.No=1]="No"}(f||(f={}));let m=class{constructor(e,t,n,r){this.appShell=e,this.persistentState=t,this.jupyterExecution=n,this.configuration=r,this.disabledInCurrentSession=!1,this.bannerMessage=l.InteractiveShiftEnterBanner.bannerMessage(),this.bannerLabels=[l.InteractiveShiftEnterBanner.bannerLabelYes(),l.InteractiveShiftEnterBanner.bannerLabelNo()],this.initialize()}initialize(){this.initialized||(this.initialized=!0,this.enabled)}get enabled(){return this.persistentState.createGlobalPersistentState(p.ShowBanner,!0).value}async showBanner(){if(!this.enabled)return;if(await this.shouldShowBanner())if(await this.jupyterExecution.isNotebookSupported())switch(u.sendTelemetryEvent(d.Telemetry.ShiftEnterBannerShown),await this.appShell.showInformationMessage(this.bannerMessage,...this.bannerLabels)){case this.bannerLabels[f.Yes]:await this.enableInteractiveShiftEnter();break;case this.bannerLabels[f.No]:await this.disableInteractiveShiftEnter();break;default:this.disabledInCurrentSession=!0}else await this.disableBanner()}async shouldShowBanner(){const e=this.configuration.getSettings();return Promise.resolve(this.enabled&&!this.disabledInCurrentSession&&!e.datascience.sendSelectionToInteractiveWindow&&e.datascience.enabled)}async disableInteractiveShiftEnter(){await this.configuration.updateSetting("dataScience.sendSelectionToInteractiveWindow",!1,void 0,o.ConfigurationTarget.Global),await this.disableBanner()}async enableInteractiveShiftEnter(){await this.configuration.updateSetting("dataScience.sendSelectionToInteractiveWindow",!0,void 0,o.ConfigurationTarget.Global),await this.disableBanner()}async disableBanner(){await this.persistentState.createGlobalPersistentState(p.ShowBanner,!1).updateValue(!1)}};r([u.captureTelemetry(d.Telemetry.DisableInteractiveShiftEnter)],m.prototype,"disableInteractiveShiftEnter",null),r([u.captureTelemetry(d.Telemetry.EnableInteractiveShiftEnter)],m.prototype,"enableInteractiveShiftEnter",null),m=r([s.injectable(),i(0,s.inject(a.IApplicationShell)),i(1,s.inject(c.IPersistentStateFactory)),i(2,s.inject(h.IJupyterExecution)),i(3,s.inject(c.IConfigurationService))],m),t.InteractiveShiftEnterBanner=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(29),a=n(4);n(7);const c=n(1),l=n(12),u=n(209);var d,h;!function(e){e.ShowBanner="ShowLSSurveyBanner",e.ShowAttemptCounter="LSSurveyShowAttempt",e.ShowAfterCompletionCount="LSSurveyShowCount"}(d=t.LSSurveyStateKeys||(t.LSSurveyStateKeys={})),function(e){e[e.Yes=0]="Yes",e[e.No=1]="No"}(h||(h={}));let p=class{constructor(e,t,n,r,i=100,s=500){this.appShell=e,this.persistentState=t,this.browserService=n,this.lsService=r,this.disabledInCurrentSession=!1,this.isInitialized=!1,this.bannerMessage=l.LanguageService.bannerMessage(),this.bannerLabels=[l.LanguageService.bannerLabelYes(),l.LanguageService.bannerLabelNo()],this.minCompletionsBeforeShow=i,this.maxCompletionsBeforeShow=s,this.initialize()}initialize(){this.isInitialized||(this.isInitialized=!0,this.minCompletionsBeforeShow>=this.maxCompletionsBeforeShow&&this.disable().ignoreErrors())}get enabled(){return this.persistentState.createGlobalPersistentState(d.ShowBanner,!0).value}async showBanner(){if(!this.enabled||this.disabledInCurrentSession)return;const e=await this.incrementPythonLanguageServiceLaunchCounter();if(await this.shouldShowBanner(e))switch(await this.appShell.showInformationMessage(this.bannerMessage,...this.bannerLabels)){case this.bannerLabels[h.Yes]:await this.launchSurvey(),await this.disable();break;case this.bannerLabels[h.No]:await this.disable();break;default:this.disabledInCurrentSession=!0}}async shouldShowBanner(e){if(!this.enabled||this.disabledInCurrentSession)return!1;return e||(e=await this.getPythonLSLaunchCounter()),e>=await this.getPythonLSLaunchThresholdCounter()}async disable(){await this.persistentState.createGlobalPersistentState(d.ShowBanner,!1).updateValue(!1)}async launchSurvey(){const e=await this.getPythonLSLaunchCounter();let t=await this.getPythonLSVersion();t=encodeURIComponent(t),this.browserService.launch(`https://www.research.net/r/LJZV9BZ?n=${e}&v=${t}`)}async incrementPythonLanguageServiceLaunchCounter(){const e=this.persistentState.createGlobalPersistentState(d.ShowAttemptCounter,0);return await e.updateValue(e.value+1),e.value}async getPythonLSVersion(e="unknown"){const t=await this.lsService.getCurrentLanguageServerDirectory();return t?t.version.raw:e}async getPythonLSLaunchCounter(){return this.persistentState.createGlobalPersistentState(d.ShowAttemptCounter,0).value}async getPythonLSLaunchThresholdCounter(){const e=this.persistentState.createGlobalPersistentState(d.ShowAfterCompletionCount,void 0);return void 0===e.value&&await e.updateValue(u.getRandomBetween(this.minCompletionsBeforeShow,this.maxCompletionsBeforeShow)),e.value}};p=r([s.injectable(),i(0,s.inject(a.IApplicationShell)),i(1,s.inject(c.IPersistentStateFactory)),i(2,s.inject(c.IBrowserService)),i(3,s.inject(o.ILanguageServerFolderService))],p),t.LanguageServerSurveyBanner=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4);n(7);const c=n(1),l=n(209);var u,d;!function(e){e.ShowBanner="ProposeLSBanner"}(u=t.ProposeLSStateKeys||(t.ProposeLSStateKeys={})),function(e){e[e.Yes=0]="Yes",e[e.No=1]="No",e[e.Later=2]="Later"}(d||(d={}));let h=class{constructor(e,t,n,r=10){this.appShell=e,this.persistentState=t,this.configuration=n,this.disabledInCurrentSession=!1,this.bannerMessage="Try out Preview of our new Python Language Server to get richer and faster IntelliSense completions, and syntax errors as you type.",this.bannerLabels=["Try it now","No thanks","Remind me Later"],this.sampleSizePerHundred=r,this.initialize()}initialize(){if(this.initialized)return;if(this.initialized=!0,!this.enabled)return;l.getRandomBetween(0,100)>=this.sampleSizePerHundred&&this.disable().ignoreErrors()}get enabled(){return this.persistentState.createGlobalPersistentState(u.ShowBanner,!0).value}async showBanner(){if(!this.enabled)return;if(await this.shouldShowBanner())switch(await this.appShell.showInformationMessage(this.bannerMessage,...this.bannerLabels)){case this.bannerLabels[d.Yes]:await this.enableNewLanguageServer(),await this.disable();break;case this.bannerLabels[d.No]:await this.disable();break;case this.bannerLabels[d.Later]:this.disabledInCurrentSession=!0;break;default:this.disabledInCurrentSession=!0}}async shouldShowBanner(){return Promise.resolve(this.enabled&&!this.disabledInCurrentSession)}async disable(){await this.persistentState.createGlobalPersistentState(u.ShowBanner,!1).updateValue(!1)}async enableNewLanguageServer(){await this.configuration.updateSetting("jediEnabled",!1,void 0,o.ConfigurationTarget.Global)}};h=r([s.injectable(),i(0,s.inject(a.IApplicationShell)),i(1,s.inject(c.IPersistentStateFactory)),i(2,s.inject(c.IConfigurationService))],h),t.ProposeLanguageServerBanner=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(78),a=n(1);let c=class{constructor(e){this.experiments=e}async activate(){this.experiments.sendTelemetryIfInExperiment(o.ValidateABTesting.experiment),this.experiments.sendTelemetryIfInExperiment(o.ValidateABTesting.control)}};c=r([s.injectable(),i(0,s.inject(a.IExperimentsManager))],c),t.AATesting=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(210),c=n(4),l=n(13),u=n(6),d=n(50),h=n(14),p=n(29);let f=class{constructor(e,t,n,r,i,s,o){this.activationServices=e,this.singleActivationServices=t,this.documentManager=n,this.interpreterService=r,this.autoSelection=i,this.appDiagnostics=s,this.workspaceService=o,this.disposables=[],this.activatedWorkspaces=new Set}dispose(){for(;this.disposables.length>0;){this.disposables.shift().dispose()}this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}async activate(){await this.initialize(),await Promise.all([Promise.all(this.singleActivationServices.map(e=>e.activate())),this.activateWorkspace(this.getActiveResource())]),await this.autoSelection.autoSelectInterpreter(void 0)}async activateWorkspace(e){const t=this.getWorkspaceKey(e);this.activatedWorkspaces.has(t)||(this.activatedWorkspaces.add(t),this.interpreterService.getInterpreters(e).ignoreErrors(),await this.autoSelection.autoSelectInterpreter(e),await Promise.all(this.activationServices.map(t=>t.activate(e))),await this.appDiagnostics.performPreStartupHealthCheck(e))}async initialize(){this.addHandlers(),this.addRemoveDocOpenedHandlers()}addHandlers(){this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this))}addRemoveDocOpenedHandlers(){this.hasMultipleWorkspaces()?this.docOpenedHandler||(this.docOpenedHandler=this.documentManager.onDidOpenTextDocument(this.onDocOpened,this)):this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}onWorkspaceFoldersChanged(){const e=this.workspaceService.workspaceFolders.map(e=>this.getWorkspaceKey(e.uri)),t=Array.from(this.activatedWorkspaces.keys()).filter(t=>e.indexOf(t)<0);if(t.length>0)for(const e of t)this.activatedWorkspaces.delete(e);this.addRemoveDocOpenedHandlers()}hasMultipleWorkspaces(){return this.workspaceService.hasWorkspaceFolders&&this.workspaceService.workspaceFolders.length>1}onDocOpened(e){if(e.languageId!==l.PYTHON_LANGUAGE)return;const t=this.getWorkspaceKey(e.uri);if(""===t&&this.workspaceService.hasWorkspaceFolders)return;if(this.activatedWorkspaces.has(t))return;const n=this.workspaceService.getWorkspaceFolder(e.uri);this.activateWorkspace(n?n.uri:void 0).ignoreErrors()}getWorkspaceKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}getActiveResource(){return this.documentManager.activeTextEditor&&!this.documentManager.activeTextEditor.document.isUntitled?this.documentManager.activeTextEditor.document.uri:Array.isArray(this.workspaceService.workspaceFolders)&&o.workspace.workspaceFolders.length>0?o.workspace.workspaceFolders[0].uri:void 0}};r([u.traceDecorators.error("Failed to activate a workspace")],f.prototype,"activateWorkspace",null),f=r([s.injectable(),i(0,s.multiInject(p.IExtensionActivationService)),i(1,s.multiInject(p.IExtensionSingleActivationService)),i(2,s.inject(c.IDocumentManager)),i(3,s.inject(h.IInterpreterService)),i(4,s.inject(d.IInterpreterAutoSelectionService)),i(5,s.inject(a.IApplicationDiagnostics)),i(6,s.inject(c.IWorkspaceService))],f),t.ExtensionActivationManager=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(320),a=n(38),c=n(4),l=n(13),u=n(78);n(7);const d=n(6),h=n(1),p=n(31),f=n(10),m=n(9),g=n(11),y=n(29);let v=class{constructor(e,t,n){this.serviceContainer=e,this.stateFactory=t,this.abExperiments=n,this.lsActivatedWorkspaces=new Map,this.jediActivatedOnce=!1,this.workspaceService=this.serviceContainer.get(c.IWorkspaceService),this.output=this.serviceContainer.get(h.IOutputChannel,l.STANDARD_OUTPUT_CHANNEL),this.appShell=this.serviceContainer.get(c.IApplicationShell),this.lsNotSupportedDiagnosticService=this.serviceContainer.get(a.IDiagnosticsService,o.LSNotSupportedDiagnosticServiceId);const r=e.get(h.IDisposableRegistry);r.push(this),r.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))),r.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this))}async activate(e){this.resource=e;let t=this.useJedi();if(t){if(this.jediActivatedOnce)return;this.jediActivatedOnce=!0}else{if(this.lsActivatedWorkspaces.has(this.getWorkspacePathKey(e)))return;const n=await this.lsNotSupportedDiagnosticService.diagnose(void 0);this.lsNotSupportedDiagnosticService.handle(n).ignoreErrors(),n.length&&(m.sendTelemetryEvent(g.EventName.PYTHON_LANGUAGE_SERVER_PLATFORM_SUPPORTED,void 0,{supported:!1}),t=!0)}await this.logStartup(t);let n=t?y.LanguageServerActivator.Jedi:y.LanguageServerActivator.DotNet,r=this.serviceContainer.get(y.ILanguageServerActivator,n);this.currentActivator={jedi:t,activator:r};try{await r.activate(e),t||this.lsActivatedWorkspaces.set(this.getWorkspacePathKey(e),r)}catch(i){if(t)return;if(this.jediActivatedOnce)return;this.jediActivatedOnce=!0,t=!0,await this.logStartup(t),n=y.LanguageServerActivator.Jedi,r=this.serviceContainer.get(y.ILanguageServerActivator,n),this.currentActivator={jedi:t,activator:r},await r.activate(e)}}dispose(){this.currentActivator&&this.currentActivator.activator.dispose()}async sendTelemetryForChosenLanguageServer(e){const t=this.stateFactory.createGlobalPersistentState("SWITCH_LS",void 0);"boolean"!=typeof t.value&&await t.updateValue(e),t.value!==e?(await t.updateValue(e),m.sendTelemetryEvent(g.EventName.PYTHON_LANGUAGE_SERVER_CURRENT_SELECTION,void 0,{switchTo:e})):m.sendTelemetryEvent(g.EventName.PYTHON_LANGUAGE_SERVER_CURRENT_SELECTION,void 0,{lsStartup:e})}isJediUsingDefaultConfiguration(e){const t=this.workspaceService.getConfiguration("python",e).inspect("jediEnabled");return t?void 0===t.globalValue&&void 0===t.workspaceValue&&void 0===t.workspaceFolderValue:(d.traceError("WorkspaceConfiguration.inspect returns `undefined` for setting `python.jediEnabled`"),!1)}useJedi(){if(this.isJediUsingDefaultConfiguration(this.resource)){if(this.abExperiments.inExperiment(u.LSEnabled))return!1;this.abExperiments.sendTelemetryIfInExperiment(u.LSControl)}const e=this.serviceContainer.get(h.IConfigurationService).getSettings(this.resource).jediEnabled;return this.sendTelemetryForChosenLanguageServer(e).ignoreErrors(),!0}onWorkspaceFoldersChanged(){const e=this.workspaceService.workspaceFolders.map(e=>this.getWorkspacePathKey(e.uri)),t=Array.from(this.lsActivatedWorkspaces.keys()).filter(t=>e.indexOf(t)<0);if(t.length>0)for(const e of t)this.lsActivatedWorkspaces.get(e).dispose(),this.lsActivatedWorkspaces.delete(e)}async logStartup(e){const t=e?"Starting Jedi Python language engine.":"Starting Microsoft Python language server.";this.output.appendLine(t)}async onDidChangeConfiguration(e){if(-1===(this.workspaceService.hasWorkspaceFolders?this.workspaceService.workspaceFolders.map(e=>e.uri):[void 0]).findIndex(t=>e.affectsConfiguration("python.jediEnabled",t)))return;const t=this.useJedi();this.currentActivator&&this.currentActivator.jedi===t||"Reload"===await this.appShell.showInformationMessage("Please reload the window switching between language engines.","Reload")&&this.serviceContainer.get(c.ICommandManager).executeCommand("workbench.action.reloadWindow")}getWorkspacePathKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}};r([p.swallowExceptions("Send telemetry for Language Server current selection")],v.prototype,"sendTelemetryForChosenLanguageServer",null),v=r([s.injectable(),i(0,s.inject(f.IServiceContainer)),i(1,s.inject(h.IPersistentStateFactory)),i(2,s.inject(h.IExperimentsManager))],v),t.LanguageServerExtensionActivationService=v},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=new Map;function i(t,i=n(2)){const s=function(t,r=n(2)){const i=r.workspace.getConfiguration("python",r.Uri.file(e));if(!i)return"python";const s=i.inspect("pythonPath").globalValue||"python";if(!t||!Array.isArray(r.workspace.workspaceFolders)||0===r.workspace.workspaceFolders.length)return s;const o=t?r.workspace.getWorkspaceFolder(t):r.workspace.workspaceFolders[0];if(!o)return s;const a=r.workspace.getConfiguration("python",t).get("pythonPath")||"python";return`${o.uri.fsPath}-${a}`}(t,i);return r.has(s)||r.set(s,new Map),r.get(s)}function s(e,t){return`KeyPrefix=${e}-Args=${t.map(e=>`${JSON.stringify(e)}`).join("-Arg-Separator-")}`}t.clearCache=function(){r.clear()};t.InMemoryInterpreterSpecificCache=class{constructor(e,t,r,i=n(2)){this.keyPrefix=e,this.expiryDurationMs=t,this.vscode=i,this.resource=r[0],this.args=r.slice(1)}get hasData(){const e=i(this.resource,this.vscode),t=s(this.keyPrefix,this.args),n=e.get(t);return!(!e.has(t)||!n||this.hasExpired(n.expiry)&&(e.delete(t),1))}get data(){if(!this.hasData)return;const e=i(this.resource,this.vscode),t=s(this.keyPrefix,this.args),n=e.get(t);return e.has(t)&&n?n.value:void 0}set data(e){const t=i(this.resource,this.vscode),n=s(this.keyPrefix,this.args);t.set(n,{expiry:this.calculateExpiry(),value:e})}clear(){const e=i(this.resource,this.vscode),t=s(this.keyPrefix,this.args);e.delete(t)}hasExpired(e){return e<Date.now()}calculateExpiry(){return Date.now()+this.expiryDurationMs}}}).call(this,"/index.js")},function(e,t,n){var r=n(73),i=n(727),s=n(728),o="Expected a function",a=Math.max,c=Math.min;e.exports=function(e,t,n){var l,u,d,h,p,f,m=0,g=!1,y=!1,v=!0;if("function"!=typeof e)throw new TypeError(o);function _(t){var n=l,r=u;return l=u=void 0,m=t,h=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||y&&e-m>=d}function S(){var e=i();if(b(e))return w(e);p=setTimeout(S,function(e){var n=t-(e-f);return y?c(n,d-(e-m)):n}(e))}function w(e){return p=void 0,v&&l?_(e):(l=u=void 0,h)}function C(){var e=i(),n=b(e);if(l=arguments,u=this,f=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(S,t),g?_(e):h}(f);if(y)return clearTimeout(p),p=setTimeout(S,t),_(f)}return void 0===p&&(p=setTimeout(S,t)),h}return t=s(t)||0,r(n)&&(g=!!n.leading,d=(y="maxWait"in n)?a(s(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=f=u=p=void 0},C.flush=function(){return void 0===p?h:w(i())},C}},function(e,t,n){var r=n(57);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(73),i=n(729),s=NaN,o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?s:+e}},function(e,t,n){var r=n(117),i=n(99),s="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==s}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(78);n(7);const c=n(6),l=n(1),u=n(12),d=n(9),h=n(11);var p;!function(e){e.doNotShowAgain="doNotShowExtensionSurveyAgain",e.disableSurveyForTime="doNotShowExtensionSurveyUntilTime"}(p=t.extensionSurveyStateKeys||(t.extensionSurveyStateKeys={}));let f=class{constructor(e,t,n,r,i,s=10,o=108e5){this.appShell=e,this.browserService=t,this.persistentState=n,this.random=r,this.experiments=i,this.sampleSizePerOneHundredUsers=s,this.waitTimeToShowSurvey=o}async activate(){if(!this.experiments.inExperiment(a.ShowExtensionSurveyPrompt.enabled))return void this.experiments.sendTelemetryIfInExperiment(a.ShowExtensionSurveyPrompt.control);this.shouldShowBanner()&&setTimeout(()=>this.showSurvey().ignoreErrors(),this.waitTimeToShowSurvey)}shouldShowBanner(){return!this.persistentState.createGlobalPersistentState(p.doNotShowAgain,!1).value&&(!this.persistentState.createGlobalPersistentState(p.disableSurveyForTime,!1,72576e5).value&&!(this.random.getRandomInt(0,100)>=this.sampleSizePerOneHundredUsers))}async showSurvey(){const e=[u.LanguageService.bannerLabelYes(),u.ExtensionSurveyBanner.maybeLater(),u.Common.doNotShowAgain()],t=await this.appShell.showInformationMessage(u.ExtensionSurveyBanner.bannerMessage(),...e);d.sendTelemetryEvent(h.EventName.EXTENSION_SURVEY_PROMPT,void 0,{selection:t?["Yes","Maybe later","Do not show again"][e.indexOf(t)]:void 0}),t&&(t===u.LanguageService.bannerLabelYes()?(this.launchSurvey(),await this.persistentState.createGlobalPersistentState(p.disableSurveyForTime,!1,72576e5).updateValue(!0)):t===u.Common.doNotShowAgain()&&await this.persistentState.createGlobalPersistentState(p.doNotShowAgain,!1).updateValue(!0))}launchSurvey(){this.browserService.launch("https://aka.ms/AA5rjx5")}};r([c.traceDecorators.error("Failed to check whether to display prompt for extension survey")],f.prototype,"shouldShowBanner",null),r([c.traceDecorators.error("Failed to display prompt for extension survey")],f.prototype,"showSurvey",null),f=r([s.injectable(),i(0,s.inject(o.IApplicationShell)),i(1,s.inject(l.IBrowserService)),i(2,s.inject(l.IPersistentStateFactory)),i(3,s.inject(l.IRandom)),i(4,s.inject(l.IExperimentsManager)),i(5,s.optional()),i(6,s.optional())],f),t.ExtensionSurveyPrompt=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(13),c=n(1),l=n(14),u=n(10),d=n(321),h=n(327),p=n(331),f=n(332),m=n(776),g=n(777),y=n(778),v=n(336),_=n(337),b=n(21),S=n(782),w=n(785),C=n(786),E=n(790);let T=class{constructor(e){this.serviceManager=e,this.context=this.serviceManager.get(c.IExtensionContext),this.documentSelector=a.PYTHON}async activate(e){if(this.jediFactory)throw new Error("Jedi already started");const t=this.context,n=this.jediFactory=new d.JediFactory(t.asAbsolutePath("."),this.serviceManager);t.subscriptions.push(n),t.subscriptions.push(...m.activateGoToObjectDefinitionProvider(n)),t.subscriptions.push(n),t.subscriptions.push(o.languages.registerRenameProvider(this.documentSelector,new y.PythonRenameProvider(this.serviceManager)));const r=new p.PythonDefinitionProvider(n);t.subscriptions.push(o.languages.registerDefinitionProvider(this.documentSelector,r)),t.subscriptions.push(o.languages.registerHoverProvider(this.documentSelector,new f.PythonHoverProvider(n))),t.subscriptions.push(o.languages.registerReferenceProvider(this.documentSelector,new g.PythonReferenceProvider(n))),t.subscriptions.push(o.languages.registerCompletionItemProvider(this.documentSelector,new h.PythonCompletionItemProvider(n,this.serviceManager),".")),t.subscriptions.push(o.languages.registerCodeLensProvider(this.documentSelector,this.serviceManager.get(l.IShebangCodeLensProvider)));const i=new w.OnTypeFormattingDispatcher({"\n":new C.OnEnterFormatter,":":new S.BlockFormatProviders}),s=i.getTriggerCharacters();s&&t.subscriptions.push(o.languages.registerOnTypeFormattingEditProvider(a.PYTHON,i,s.first,...s.more));const T=this.serviceManager.get(u.IServiceContainer);t.subscriptions.push(new E.WorkspaceSymbols(T));const D=new _.JediSymbolProvider(T,n);t.subscriptions.push(o.languages.registerDocumentSymbolProvider(this.documentSelector,D)),-1===this.serviceManager.get(c.IConfigurationService).getSettings().devOptions.indexOf("DISABLE_SIGNATURE")&&t.subscriptions.push(o.languages.registerSignatureHelpProvider(this.documentSelector,new v.PythonSignatureProvider(n),"(",",")),t.subscriptions.push(o.languages.registerRenameProvider(a.PYTHON,new y.PythonRenameProvider(T))),this.serviceManager.get(b.ITestManagementService).activate(D).catch(e=>this.serviceManager.get(c.ILogger).logError("Failed to activate Unit Tests",e))}dispose(){this.jediFactory&&this.jediFactory.dispose()}};T=r([s.injectable(),i(0,s.inject(u.IServiceManager))],T),t.JediExtensionActivator=T},function(e,t,n){"use strict";e.exports=function(){const e=[].slice.call(arguments).filter(e=>e),t=e.shift();return e.forEach(e=>{Object.keys(e).forEach(n=>{t[n]=e[n]})}),t}},function(e,t,n){var r=n(207),i=process.cwd,s=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=i.call(process)),s};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){s=null,a.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,function(t,r){t?i&&i(t):e.fchmod(r,n,function(t){e.close(r,function(e){i&&i(t||e)})})})},e.lchmodSync=function(t,n){var i,s=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),o=!0;try{i=e.fchmodSync(s,n),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,s){e.open(t,r.O_SYMLINK,function(t,r){t?s&&s(t):e.futimes(r,n,i,function(t){e.close(r,function(e){s&&s(t||e)})})})},e.lutimesSync=function(t,n,i){var s,o=e.openSync(t,r.O_SYMLINK),a=!0;try{s=e.futimesSync(o,n,i),a=!1}finally{if(a)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return s}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===o&&(e.rename=(t=e.rename,function(n,r,i){var s=Date.now(),o=0;t(n,r,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-s<6e4)return setTimeout(function(){e.stat(r,function(e,s){e&&"ENOENT"===e.code?t(n,r,a):i(c)})},o),void(o<100&&(o+=10));i&&i(c)})}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,function(e){u(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!u(e))throw e}}:t}function s(t){return t?function(n,r,i,s){return t.call(e,n,r,i,function(e){u(e)&&(e=null),s&&s.apply(this,arguments)})}:t}function a(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!u(e))throw e}}:t}function c(t){return t?function(n,r,i){function s(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,s):t.call(e,n,s)}:t}function l(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:t}function u(e){if(!e)return!0;if("ENOSYS"===e.code)return!0;var t=!process.getuid||0!==process.getuid();return!(!t||"EINVAL"!==e.code&&"EPERM"!==e.code)}e.read=(h=e.read,function(t,n,r,i,s,o){var a;if(o&&"function"==typeof o){var c=0;a=function(l,u,d){if(l&&"EAGAIN"===l.code&&c<10)return c++,h.call(e,t,n,r,i,s,a);o.apply(this,arguments)}}return h.call(e,t,n,r,i,s,a)}),e.readSync=(d=e.readSync,function(t,n,r,i,s){for(var o=0;;)try{return d.call(e,t,n,r,i,s)}catch(e){if("EAGAIN"===e.code&&o<10){o++;continue}throw e}});var d;var h}},function(e,t,n){var r=n(43).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var s=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;i=i||{};var o=Object.keys(i);for(var a=0,c=o.length;a<c;a++){var l=o[a];this[l]=i[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){s._read()});e.open(this.path,this.flags,this.mode,function(e,t){if(e)return s.emit("error",e),void(s.readable=!1);s.fd=t,s.emit("open",t),s._read()})},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var s=Object.keys(i);for(var o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}},function(e,t,n){const r=n(47).fromCallback;e.exports={copy:r(n(737))}},function(e,t,n){"use strict";const r=n(32),i=n(3),s=n(323),o=n(51),a=n(80).pathExists;e.exports=function(e,t,n,c){"function"!=typeof n||c?("function"==typeof n||n instanceof RegExp)&&(n={filter:n}):(c=n,n={}),c=c||function(){},(n=n||{}).preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const l=process.cwd();if(i.resolve(l,e)===i.resolve(l,t))return c(new Error("Source and destination must not be the same."));r.lstat(e,(r,l)=>{if(r)return c(r);let u=null;if(l.isDirectory()){const e=t.split(i.sep);e.pop(),u=e.join(i.sep)}else u=i.dirname(t);a(u,(r,i)=>r?c(r):i?s(e,t,n,c):void o.mkdirs(u,r=>{if(r)return c(r);s(e,t,n,c)}))})}},function(e,t,n){"use strict";const r=n(32),i=n(22),s=n(3);e.exports={hasMillisRes:function(e){let t=s.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=s.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return e(i);r.open(t,"r+",(i,s)=>{if(i)return e(i);r.futimes(s,n,n,n=>{if(n)return e(n);r.close(s,n=>{if(n)return e(n);r.stat(t,(t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let e=s.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=s.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,i){r.open(e,"r+",(e,s)=>{if(e)return i(e);r.futimes(s,t,n,e=>{r.close(s,t=>{i&&i(e||t)})})})}}},function(e,t,n){"use strict";const r=n(32),i=n(3),s=n(324).invalidWin32Path,o=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&s(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let l=n.mode;const u=n.fs||r;void 0===l&&(l=o&~process.umask()),c||(c=null),a=a||function(){},t=i.resolve(t),u.mkdir(t,l,r=>{if(!r)return a(null,c=c||t);switch(r.code){case"ENOENT":if(i.dirname(t)===t)return a(r);e(i.dirname(t),n,(r,i)=>{r?a(r,i):e(t,n,a,i)});break;default:u.stat(t,(e,t)=>{e||!t.isDirectory()?a(r,c):a(null,c)})}})}},function(e,t,n){"use strict";const r=n(32),i=n(3),s=n(324).invalidWin32Path,o=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const l=n.fs||r;if("win32"===process.platform&&s(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=o&~process.umask()),a||(a=null),t=i.resolve(t);try{l.mkdirSync(t,c),a=a||t}catch(r){switch(r.code){case"ENOENT":if(i.dirname(t)===t)throw r;a=e(i.dirname(t),n,a),e(t,n,a);break;default:let s;try{s=l.statSync(t)}catch(e){throw r}if(!s.isDirectory())throw r}}return a}},function(e,t,n){"use strict";const r=n(32),i=n(3),s=n(742),o=n(51);e.exports=function e(t,n,a){("function"==typeof a||a instanceof RegExp)&&(a={filter:a}),(a=a||{}).recursive=!!a.recursive,a.clobber=!("clobber"in a&&!a.clobber),a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.dereference="dereference"in a&&!!a.dereference,a.preserveTimestamps="preserveTimestamps"in a&&!!a.preserveTimestamps,a.filter=a.filter||function(){return!0},a.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const c=a.recursive&&!a.dereference?r.lstatSync(t):r.statSync(t),l=i.dirname(n),u=r.existsSync(l);let d=!1;if(a.filter instanceof RegExp?(console.warn("Warning: fs-extra: Passing a RegExp filter is deprecated, use a function"),d=a.filter.test(t)):"function"==typeof a.filter&&(d=a.filter(t,n)),c.isFile()&&d)u||o.mkdirsSync(l),s(t,n,{overwrite:a.overwrite,errorOnExist:a.errorOnExist,preserveTimestamps:a.preserveTimestamps});else if(c.isDirectory()&&d)r.existsSync(n)||o.mkdirsSync(n),r.readdirSync(t).forEach(r=>{const s=a;s.recursive=!0,e(i.join(t,r),i.join(n,r),s)});else if(a.recursive&&c.isSymbolicLink()&&d){const e=r.readlinkSync(t);r.symlinkSync(e,n)}}},function(e,t,n){"use strict";const r=n(32),i=65536,s=n(326)(i);e.exports=function(e,t,n){const o=n.overwrite,a=n.errorOnExist,c=n.preserveTimestamps;if(r.existsSync(t)){if(!o){if(a)throw new Error(`${t} already exists`);return}r.unlinkSync(t)}const l=r.openSync(e,"r"),u=r.fstatSync(l),d=r.openSync(t,"w",u.mode);let h=1,p=0;for(;h>0;)h=r.readSync(l,s,0,i,p),r.writeSync(d,s,0,h),p+=h;c&&r.futimesSync(d,u.atime,u.mtime),r.closeSync(l),r.closeSync(d)}},function(e,t,n){"use strict";const r=n(32),i=n(3),s=n(146),o="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),s(e,"rimraf: missing path"),s.equal(typeof e,"string","rimraf: path should be a string"),s.equal(typeof n,"function","rimraf: callback function required"),s(t,"rimraf: invalid options argument provided"),s.equal(typeof t,"object","rimraf: options should be object"),a(t),l(e,t,function i(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&r<t.maxBusyTries){return r++,setTimeout(()=>l(e,t,i),100*r)}"ENOENT"===s.code&&(s=null)}n(s)})}function l(e,t,n){s(e),s(t),s("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&o?u(e,t,r,n):i&&i.isDirectory()?h(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return o?u(e,t,r,n):h(e,t,r,n);if("EISDIR"===r.code)return h(e,t,r,n)}return n(r)}))}function u(e,t,n,r){s(e),s(t),s("function"==typeof r),n&&s(n instanceof Error),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,s)=>{i?r("ENOENT"===i.code?null:n):s.isDirectory()?h(e,t,n,r):t.unlink(e,r)})})}function d(e,t,n){let r;s(e),s(t),n&&s(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?f(e,t,n):t.unlinkSync(e)}function h(e,t,n,r){s(e),s(t),n&&s(n instanceof Error),s("function"==typeof r),t.rmdir(e,o=>{!o||"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code?o&&"ENOTDIR"===o.code?r(n):r(o):function(e,t,n){s(e),s(t),s("function"==typeof n),t.readdir(e,(r,s)=>{if(r)return n(r);let o,a=s.length;if(0===a)return t.rmdir(e,n);s.forEach(r=>{c(i.join(e,r),t,r=>{if(!o)return r?n(o=r):void(0==--a&&t.rmdir(e,n))})})})}(e,t,r)})}function p(e,t){let n;a(t=t||{}),s(e,"rimraf: missing path"),s.equal(typeof e,"string","rimraf: path should be a string"),s(t,"rimraf: missing options"),s.equal(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&o&&d(e,t,n)}try{n&&n.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return o?d(e,t,n):f(e,t,n);if("EISDIR"!==n.code)throw n;f(e,t,n)}}function f(e,t,n){s(e),s(t),n&&s(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){s(e),s(t),t.readdirSync(e).forEach(n=>p(i.join(e,n),t));const n=o?100:1;let r=0;for(;;){let i=!0;try{const s=t.rmdirSync(e,t);return i=!1,s}finally{if(++r<n&&i)continue}}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=p},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(211);i.outputJson=r(n(746)),i.outputJsonSync=n(747),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){var r;try{r=n(32)}catch(e){r=n(26)}function i(e,t){var n,r="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,r)+r}function s(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,"")}var o={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var i=(t=t||{}).fs||r,o=!0;"throws"in t&&(o=t.throws),i.readFile(e,t,function(r,i){if(r)return n(r);var a;i=s(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(t){return o?(t.message=e+": "+t.message,n(t)):n(null,null)}n(null,a)})},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var o=n.readFileSync(e,t);return o=s(o),JSON.parse(o,t.reviver)}catch(t){if(i)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,n,s){null==s&&(s=n,n={});var o=(n=n||{}).fs||r,a="";try{a=i(t,n)}catch(e){return void(s&&s(e,null))}o.writeFile(e,a,n,s)},writeFileSync:function(e,t,n){var s=(n=n||{}).fs||r,o=i(t,n);return s.writeFileSync(e,o,n)}};e.exports=o},function(e,t,n){"use strict";const r=n(3),i=n(51),s=n(80).pathExists,o=n(211);e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=r.dirname(e);s(c,(r,s)=>r?a(r):s?o.writeJson(e,t,n,a):void i.mkdirs(c,r=>{if(r)return a(r);o.writeJson(e,t,n,a)}))}},function(e,t,n){"use strict";const r=n(32),i=n(3),s=n(51),o=n(211);e.exports=function(e,t,n){const a=i.dirname(e);r.existsSync(a)||s.mkdirsSync(a),o.writeJsonSync(e,t,n)}},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(32),s=n(323),o=n(3),a=n(147).remove,c=n(51).mkdirs;function l(e,t,n,r){i.stat(e,(s,o)=>{if(s)return r(s);o.isDirectory()?u(e,t,n,r):function(e,t,n,r){const s=n?"w":"wx",o=i.createReadStream(e),a=i.createWriteStream(t,{flags:s});function c(){i.unlink(e,r)}o.on("error",s=>{o.destroy(),a.destroy(),a.removeListener("close",c),i.unlink(t,()=>{"EISDIR"===s.code||"EPERM"===s.code?u(e,t,n,r):r(s)})}),a.on("error",e=>{o.destroy(),a.destroy(),a.removeListener("close",c),r(e)}),a.once("close",c),o.pipe(a)}(e,t,n,r)})}function u(e,t,n,r){const i={overwrite:!1};function o(){s(e,t,i,t=>{if(t)return r(t);a(e,r)})}n?a(t,e=>{if(e)return r(e);o()}):o()}e.exports={move:r(function e(t,n,r,s){"function"==typeof r&&(s=r,r={});const u=r.overwrite||r.clobber||!1;!function(e,t,n){i.stat(e,(r,i)=>{if(r)return n(r);if(i.isDirectory()){const r=t.split(o.dirname(e)+o.sep)[1];if(r){const i=r.split(o.sep)[0];return n(null,!!i&&(e!==t&&t.indexOf(e)>-1&&i===o.basename(e)))}return n(null,!1)}return n(null,!1)})}(t,n,(d,h)=>d?s(d):h?s(new Error(`Cannot move '${t}' to a subdirectory of itself, '${n}'.`)):void c(o.dirname(n),c=>{if(c)return s(c);o.resolve(t)===o.resolve(n)?i.access(t,s):u?i.rename(t,n,i=>{if(!i)return s();if("ENOTEMPTY"!==i.code&&"EEXIST"!==i.code){if("EPERM"!==i.code)return"EXDEV"!==i.code?s(i):void l(t,n,u,s);setTimeout(()=>{a(n,i=>{if(i)return s(i);r.overwrite=!1,e(t,n,r,s)})},200)}else a(n,i=>{if(i)return s(i);r.overwrite=!1,e(t,n,r,s)})}):i.link(t,n,e=>e?"EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code?l(t,n,u,s):s(e):i.unlink(t,s))}))})}},function(e,t,n){"use strict";const r=n(32),i=n(3),s=n(325).copySync,o=n(147).removeSync,a=n(51).mkdirsSync,c=n(326);function l(e,t,n){return r.statSync(e).isDirectory()?function(e,t,n){const r={overwrite:!1};n?(o(t),i()):i();function i(){return s(e,t,r),o(e)}}(e,t,n):function(e,t,n){const i=c(65536),s=n?"w":"wx",o=r.openSync(e,"r"),a=r.fstatSync(o),l=r.openSync(t,s,a.mode);let u=1,d=0;for(;u>0;)u=r.readSync(o,i,0,65536,d),r.writeSync(l,i,0,u),d+=u;return r.closeSync(o),r.closeSync(l),r.unlinkSync(e)}(e,t,n)}e.exports={moveSync:function e(t,n,s){const c=(s=s||{}).overwrite||s.clobber||!1;if(t=i.resolve(t),n=i.resolve(n),t===n)return r.accessSync(t);if(function(e,t){try{return r.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(i.dirname(e)+i.sep)[1].split(i.sep)[0]===i.basename(e)}catch(e){return!1}}(t,n))throw new Error(`Cannot move '${t}' into itself '${n}'.`);a(i.dirname(n)),function(){if(c)try{r.renameSync(t,n)}catch(r){if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)return o(n),s.overwrite=!1,e(t,n,s);if("EXDEV"!==r.code)throw r;return l(t,n,c)}else try{r.linkSync(t,n),r.unlinkSync(t)}catch(e){if("EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code)return l(t,n,c);throw e}}()}}},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(26),s=n(3),o=n(51),a=n(147),c=r(function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return o.mkdirs(e,t);r=r.map(t=>s.join(e,t)),function e(){const n=r.pop();if(!n)return t();a.remove(n,n=>{if(n)return t(n);e()})}()})});function l(e){let t;try{t=i.readdirSync(e)}catch(t){return o.mkdirsSync(e)}t.forEach(t=>{t=s.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},function(e,t,n){"use strict";const r=n(752),i=n(753),s=n(754);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:s.createSymlink,createSymlinkSync:s.createSymlinkSync,ensureSymlink:s.createSymlink,ensureSymlinkSync:s.createSymlinkSync}},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(3),s=n(32),o=n(51),a=n(80).pathExists;e.exports={createFile:r(function(e,t){function n(){s.writeFile(e,"",e=>{if(e)return t(e);t()})}s.stat(e,(r,s)=>{if(!r&&s.isFile())return t();const c=i.dirname(e);a(c,(e,r)=>e?t(e):r?n():void o.mkdirs(c,e=>{if(e)return t(e);n()}))})}),createFileSync:function(e){let t;try{t=s.statSync(e)}catch(e){}if(t&&t.isFile())return;const n=i.dirname(e);s.existsSync(n)||o.mkdirsSync(n),s.writeFileSync(e,"")}}},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(3),s=n(32),o=n(51),a=n(80).pathExists;e.exports={createLink:r(function(e,t,n){function r(e,t){s.link(e,t,e=>{if(e)return n(e);n(null)})}a(t,(c,l)=>c?n(c):l?n(null):void s.lstat(e,(s,c)=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),n(s);const l=i.dirname(t);a(l,(i,s)=>i?n(i):s?r(e,t):void o.mkdirs(l,i=>{if(i)return n(i);r(e,t)}))}))}),createLinkSync:function(e,t,n){if(s.existsSync(t))return;try{s.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return s.existsSync(r)?s.linkSync(e,t):(o.mkdirsSync(r),s.linkSync(e,t))}}},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(3),s=n(32),o=n(51),a=o.mkdirs,c=o.mkdirsSync,l=n(755),u=l.symlinkPaths,d=l.symlinkPathsSync,h=n(756),p=h.symlinkType,f=h.symlinkTypeSync,m=n(80).pathExists;e.exports={createSymlink:r(function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(t,(o,c)=>o?r(o):c?r(null):void u(e,t,(o,c)=>{if(o)return r(o);e=c.toDst,p(c.toCwd,n,(n,o)=>{if(n)return r(n);const c=i.dirname(t);m(c,(n,i)=>n?r(n):i?s.symlink(e,t,o,r):void a(c,n=>{if(n)return r(n);s.symlink(e,t,o,r)}))})}))}),createSymlinkSync:function(e,t,n,r){if(r="function"==typeof n?n:r,n="function"!=typeof n&&n,s.existsSync(t))return;const o=d(e,t);e=o.toDst,n=f(o.toCwd,n);const a=i.dirname(t);return s.existsSync(a)?s.symlinkSync(e,t,n):(c(a),s.symlinkSync(e,t,n))}}},function(e,t,n){"use strict";const r=n(3),i=n(32),s=n(80).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t,r)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const o=r.dirname(t),a=r.join(o,e);return s(a,(t,s)=>t?n(t):s?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t,i)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(o,e)})))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(!(n=i.existsSync(e)))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const s=r.dirname(t),o=r.join(s,e);if(n=i.existsSync(o))return{toCwd:o,toDst:e};if(!(n=i.existsSync(e)))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(s,e)}}}}},function(e,t,n){"use strict";const r=n(32);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const r=n(47).fromCallback,i=n(32),s=n(3),o=n(51),a=n(80).pathExists;e.exports={outputFile:r(function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=s.dirname(e);a(c,(s,a)=>s?r(s):a?i.writeFile(e,t,n,r):void o.mkdirs(c,s=>{if(s)return r(s);i.writeFile(e,t,n,r)}))}),outputFileSync:function(e,t,n){const r=s.dirname(e);if(i.existsSync(r))return i.writeFileSync.apply(i,arguments);o.mkdirsSync(r),i.writeFileSync.apply(i,arguments)}}},function(e,t,n){var r=n(22),i=n(759),s=function(e){return function(t,n,r){return"function"==typeof n&&(r=n,n={}),i[e](t,n,r)}},o={darwin:s("ps"),sunos:s("ps"),freebsd:s("ps"),netbsd:s("proc"),win:s("win"),linux:s("proc"),aix:s("ps"),unsupported:function(e,t,n){(n="function"==typeof t?t:n)(new Error(r.platform()+" is not supported yet, please fire an issue (https://github.com/soyuka/pidusage)"))}},a=r.platform();a=a.match(/^win/)?"win":a,a=o[a]?a:"unsupported",t.stat=function(){o[a].apply(i,[].slice.call(arguments))},t.unmonitor=function(e){delete i.history[e]},t._history=i.history},function(e,t,n){var r=n(22),i=n(26),s=n(3),o=n(59).exec,a=n(59).spawn,c=n(760),l=n(27).format,u=r.platform(),d={history:{},cpu:null,proc:function(e,t,n){var s=this;null!==this.cpu?i.readFile("/proc/uptime","utf8",function(i,o){return i?n(i,null):(void 0===o?(console.error("[pidusage] We couldn't find uptime from /proc/uptime"),s.cpu.uptime=r.uptime()):s.cpu.uptime=o.split(" ")[0],s.proc_calc(e,t,n))}):c.cpu(function(r,i){return r?n(r,null):(s.cpu=i,s.proc_calc(e,t,n))})},proc_calc:function(e,t,n){e=parseInt(e,10);var r=this.history[e]?this.history[e]:{},o=this.cpu,a=this;i.readFile(s.join("/proc",""+e,"stat"),"utf8",function(i,s){if(i)return n(i,null);var c=s.lastIndexOf(")");s=s.substr(c+2).split(" ");var l={utime:parseFloat(s[11]),stime:parseFloat(s[12]),cutime:parseFloat(s[13]),cstime:parseFloat(s[14]),start:parseFloat(s[19])/o.clockTick,rss:parseFloat(s[21])},u=t.childrens?l.cutime+l.cstime:0,d=l.stime-(r.stime||0)+l.utime-(r.utime||0)+u;d/=o.clockTick;var h=void 0!==r.uptime?o.uptime-r.uptime:l.start-o.uptime;h=0===(h=Math.abs(h))?1:h,a.history[e]=l,a.history[e].uptime=o.uptime;var p=d/h*100,f=l.rss*o.pagesize;return t.advanced?n(null,{cpu:p,memory:f,time:l.utime+l.stime,start:l.start}):n(null,{cpu:p,memory:f})})},ps:function(e,t,n){e=parseInt(e,10);var i="ps -o pcpu,rss -p ";t.advanced?(i="ps -o pcpu,rss,time,start -p ","aix"===u&&(i="ps -o pcpu,rssize,time,start -p ")):"aix"===u&&(i="ps -o pcpu,rssize -p "),o(i+e,function(e,i,s){if(e)return n(e,null);i=(i=i.split(r.EOL)[1]).replace(/^\s+/,"").replace(/\s\s+/g," ").split(" ");var o=parseFloat(i[0].replace(",",".")),a=1024*parseFloat(i[1]);return t.advanced?n(null,{cpu:o,memory:a,time:parseFloat(i[2]),start:parseFloat(i[3])}):n(null,{cpu:o,memory:a})})},win:function(e,t,n){e=parseInt(e,10);var i=this.history[e]?this.history[e]:{},s="PROCESS "+e+" get workingsetsize,usermodetime,kernelmodetime",o=a("wmic",s.split(" "),{detached:!0}),c="",u="",d=this,h=Math.floor(r.uptime());o.stdout.on("data",function(e){c+=e.toString()}),o.stderr.on("data",function(e){u+=e.toString()}),o.on("error",function(e){console.error('[pidusage] Command "wmic '+s+'" failed with error %s',e)}),o.on("close",function(o){if(c=c.trim(),u=u.trim(),!c||0!==o){var a=l("%s Wmic errored, please open an issue on https://github.com/soyuka/pidusage with this message.%s",(new Date).toString(),r.EOL);return a+=l('Command was "wmic %s" %s System informations: %s - release: %s %s - type %s %s',s,r.EOL,r.EOL,r.release(),r.EOL,r.type(),r.EOL),u=a+(u?l("Wmic reported the following error: %s.",u):"Wmic reported no errors (stderr empty)."),u=l("%s%s%sWmic exited with code %d.",r.EOL,u,r.EOL,o),u=l("%s%sStdout was %s",u,r.EOL,c||"empty"),n(new Error(u,null))}c=c.split(r.EOL)[1].replace(/\s\s+/g," ").split(" ");var p={kernelmodetime:parseFloat(c[0]),usermodetime:parseFloat(c[1])},f=parseFloat(c[2]),m=p.kernelmodetime-(i.kernelmodetime||0)+p.usermodetime-(i.usermodetime||0);m/=1e7;var g=void 0!==i.uptime?h-i.uptime:0,y=0;return g>0&&(y=m/g*100),d.history[e]=p,d.history[e].uptime=h,t.advanced?n(null,{cpu:y,memory:f,time:p.usermodetime+p.kernelmodetime,start:g}):n(null,{cpu:y,memory:f})}),o.stdin.end()}};e.exports=d},function(e,t,n){var r=n(22),i=n(59).exec;e.exports={getconf:function(e,t,n){"function"==typeof t&&(n=t,t={default:""}),i("getconf "+e,function(r,i,s){return null!==r?(console.error("Error while getting "+e,r),n(null,t.default)):(i=parseInt(i),isNaN(i)?n(null,t.default):n(null,i))})},cpu:function(e){var t=this;t.getconf("CLK_TCK",{default:100},function(n,i){if(n)return e(n);t.getconf("PAGESIZE",{default:4096},function(t,n){if(t)return e(t);e(null,{clockTick:i,uptime:r.uptime(),pagesize:n})})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(1),s=n(89),o=n(212);class a{constructor(e,t){this.document=e,this.position=t}static fromObject(e){return e._documentPosition}attachTo(e){e._documentPosition=this}}t.CompletionSource=class{constructor(e,t,n){this.serviceContainer=t,this.itemInfoSource=n,this.jediFactory=e}async getVsCodeCompletionItems(e,t,n){const r=await this.getCompletionResult(e,t,n);return void 0===r?Promise.resolve([]):this.toVsCodeCompletions(new a(e,t),r,e.uri)}async getDocumentation(e,t){const n=a.fromObject(e);if(void 0===n)return;const i=n.document,s=n.position,o=i.getWordRangeAtPosition(s),c=void 0!==o?new r.Range(new r.Position(0,0),o.start):new r.Range(new r.Position(0,0),s),l=e.label,u=`${i.getText(c)}${l}`,d=new r.Range(c.end,c.end.translate(0,l.length));return this.itemInfoSource.getItemInfoFromText(i.uri,i.fileName,d,u,t)}async getCompletionResult(e,t,n){if(t.character<=0||o.isPositionInsideStringOrComment(e,t))return;const r=s.CommandType.Completions,i=t.character,a=e.getText(),c={command:r,fileName:e.fileName,columnIndex:i,lineIndex:t.line,source:a};return this.jediFactory.getJediProxyHandler(e.uri).sendCommand(c,n)}toVsCodeCompletions(e,t,n){return t&&t.items.length>0?t.items.map(t=>this.toVsCodeCompletion(e,t,n)):[]}toVsCodeCompletion(e,t,n){const s=new r.CompletionItem(t.text);return s.kind=t.type,!0!==this.serviceContainer.get(i.IConfigurationService).getSettings(n).autoComplete.addBrackets||t.kind!==r.SymbolKind.Function&&t.kind!==r.SymbolKind.Method||(s.insertText=new r.SnippetString(t.text).appendText("(").appendTabstop().appendText(")")),s.sortText=(s.label.startsWith("__")?"z":s.label.startsWith("_")?"y":"__")+s.label,e.attachTo(s),s}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unknown=0]="Unknown",e[e.UppercaseLetter=1]="UppercaseLetter",e[e.LowercaseLetter=2]="LowercaseLetter",e[e.TitlecaseLetter=3]="TitlecaseLetter",e[e.ModifierLetter=4]="ModifierLetter",e[e.OtherLetter=5]="OtherLetter",e[e.LetterNumber=6]="LetterNumber",e[e.NonSpacingMark=7]="NonSpacingMark",e[e.SpacingCombiningMark=8]="SpacingCombiningMark",e[e.DecimalDigitNumber=9]="DecimalDigitNumber",e[e.ConnectorPunctuation=10]="ConnectorPunctuation"}(r=t.UnicodeCategory||(t.UnicodeCategory={})),t.getUnicodeCategory=function(e){const t=n(763),i=n(764),s=n(765),o=n(766),a=n(767),c=n(768),l=n(769),u=n(770),d=n(771),h=n(772);return t[e]?r.UppercaseLetter:i[e]?r.LowercaseLetter:s[e]?r.TitlecaseLetter:o[e]?r.OtherLetter:a[e]?r.ModifierLetter:c[e]?r.LetterNumber:l[e]?r.NonSpacingMark:u[e]?r.SpacingCombiningMark:d[e]?r.DecimalDigitNumber:h[e]?r.ConnectorPunctuation:r.Unknown}},function(e,t){e.exports=require("./node_modules/unicode/category/Lu")},function(e,t){e.exports=require("./node_modules/unicode/category/Ll")},function(e,t){e.exports=require("./node_modules/unicode/category/Lt")},function(e,t){e.exports=require("./node_modules/unicode/category/Lo")},function(e,t){e.exports=require("./node_modules/unicode/category/Lm")},function(e,t){e.exports=require("./node_modules/unicode/category/Nl")},function(e,t){e.exports=require("./node_modules/unicode/category/Mn")},function(e,t){e.exports=require("./node_modules/unicode/category/Mc")},function(e,t){e.exports=require("./node_modules/unicode/category/Nd")},function(e,t){e.exports=require("./node_modules/unicode/category/Pc")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(148),i=n(774);t.CharacterStream=class{constructor(e){this.text="string"==typeof e?new i.TextIterator(e):e,this._position=0,this._currentChar=e.length>0?e.charCodeAt(0):0,this._isEndOfStream=0===e.length}getText(){return this.text.getText()}get position(){return this._position}set position(e){this._position=e,this.checkBounds()}get currentChar(){return this._currentChar}get nextChar(){return this.position+1<this.text.length?this.text.charCodeAt(this.position+1):0}get prevChar(){return this.position-1>=0?this.text.charCodeAt(this.position-1):0}isEndOfStream(){return this._isEndOfStream}lookAhead(e){const t=this._position+e;return t<0||t>=this.text.length?0:this.text.charCodeAt(t)}advance(e){this.position+=e}moveNext(){return this._position<this.text.length-1?(this._position+=1,this._currentChar=this.text.charCodeAt(this._position),!0):(this.advance(1),!this.isEndOfStream())}isAtWhiteSpace(){return r.isWhiteSpace(this.currentChar)}isAtLineBreak(){return r.isLineBreak(this.currentChar)}skipLineBreak(){13===this._currentChar?(this.moveNext(),10===this.currentChar&&this.moveNext()):10===this._currentChar&&this.moveNext()}skipWhitespace(){for(;!this.isEndOfStream()&&this.isAtWhiteSpace();)this.moveNext()}skipToEol(){for(;!this.isEndOfStream()&&!this.isAtLineBreak();)this.moveNext()}skipToWhitespace(){for(;!this.isEndOfStream()&&!this.isAtWhiteSpace();)this.moveNext()}isAtString(){return 39===this.currentChar||34===this.currentChar}charCodeAt(e){return this.text.charCodeAt(e)}get length(){return this.text.length}checkBounds(){this._position<0&&(this._position=0),this._isEndOfStream=this._position>=this.text.length,this._isEndOfStream&&(this._position=this.text.length),this._currentChar=this._isEndOfStream?0:this.text.charCodeAt(this._position)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.TextIterator=class{constructor(e){this.text=e}charCodeAt(e){return e>=0&&e<this.text.length?this.text.charCodeAt(e):0}get length(){return this.text.length}getText(){return this.text}};t.DocumentTextIterator=class{constructor(e){this.document=e;const t=this.document.lineCount-1,n=this.document.lineAt(t),i=new r.Position(t,n.range.end.character);this.length=this.document.offsetAt(i)}charCodeAt(e){const t=this.document.positionAt(e);return this.document.getText(new r.Range(t,t.translate(0,1))).charCodeAt(t.character)}getText(){return this.document.getText()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),i=n(148);var s;!function(e){e[e.Default=0]="Default",e[e.Preformatted=1]="Preformatted",e[e.Code=2]="Code"}(s||(s={}));t.RestTextConverter=class{constructor(){this.state=s.Default,this.md=[]}toMarkdown(e){const t=this.transformLines(e);return this.state=s.Default,this.md=[],t}escapeMarkdown(e){return e.replace(/\#/g,"\\#").replace(/\*/g,"\\*").replace(/\ _/g," \\_").replace(/^_/,"\\_")}transformLines(e){const t=e.split(/\r?\n/);for(let e=0;e<t.length;e+=1){const n=t[e];if(0!==this.md.length||0!==n.length)switch(this.state){case s.Default:e+=this.inDefaultState(t,e);break;case s.Preformatted:e+=this.inPreformattedState(t,e);break;case s.Code:this.inCodeState(n)}}return this.endCodeBlock(),this.endPreformattedBlock(),this.md.join(r.EOL).trim()}inDefaultState(e,t){let n=e[t];if(n.startsWith("```"))return this.startCodeBlock(),0;if(n.startsWith("===")||n.startsWith("---"))return 0;if(this.handleDoubleColon(n))return 0;if(this.isIgnorable(n))return 0;if(this.handleSectionHeader(e,t))return 1;const r=this.checkPreContent(e,t);return this.state!==s.Default?r:(n=(n=this.cleanup(n)).replace(/``/g,"`"),n=this.escapeMarkdown(n),this.md.push(n),0)}inPreformattedState(e,t){let n=e[t];if(this.isIgnorable(n))return 0;if(n.length>0&&!i.isWhiteSpace(n.charCodeAt(0))&&!this.isListItem(n))return this.endPreformattedBlock(),-1;const r=this.md.length>0?this.md[this.md.length-1]:void 0;return 0===n.length&&r&&(0===r.length||r.startsWith("```"))?0:(n=(n=n.replace(/</g," ").replace(/>/g," ")).replace(/``/g,"`"),this.md.push(`${n}  `),0)}inCodeState(e){const t=this.md.length>0?this.md[this.md.length-1]:void 0;0===e.length&&t&&(0===t.length||t.startsWith("```"))||(e.startsWith("```")?this.endCodeBlock():this.md.push(e))}isIgnorable(e){if(e.indexOf("generated/")>=0)return!0;const t=e.trim();return!!(t.startsWith("..")&&t.indexOf("::")>0)}checkPreContent(e,t){const n=e[t];return 0===t||0===n.trim().length?0:i.isWhiteSpace(n.charCodeAt(0))||this.isListItem(n)?(this.startPreformattedBlock(),-1):0}handleSectionHeader(e,t){const n=e[t];return t<e.length-1&&e[t+1].startsWith("===")?(this.md.push(`### ${this.cleanup(n)}`),!0):!!(t<e.length-1&&e[t+1].startsWith("---"))&&(this.md.push(`#### ${this.cleanup(n)}`),!0)}handleDoubleColon(e){return!!e.endsWith("::")&&(e.length>2&&!e.startsWith("..")&&this.md.push(e.substring(0,e.length-1)),this.startPreformattedBlock(),!0)}startPreformattedBlock(){this.tryRemovePrecedingEmptyLines(),this.md.push("```html"),this.state=s.Preformatted}endPreformattedBlock(){this.state===s.Preformatted&&(this.tryRemovePrecedingEmptyLines(),this.md.push("```"),this.state=s.Default)}startCodeBlock(){this.tryRemovePrecedingEmptyLines(),this.md.push("```python"),this.state=s.Code}endCodeBlock(){this.state===s.Code&&(this.tryRemovePrecedingEmptyLines(),this.md.push("```"),this.state=s.Default)}tryRemovePrecedingEmptyLines(){for(;this.md.length>0&&0===this.md[this.md.length-1].trim().length;)this.md.pop()}isListItem(e){const t=e.trim(),n=t.length>0?t.charCodeAt(0):0;return 42===n||45===n||i.isDecimal(n)}cleanup(e){return e.replace(/:mod:/g,"module:")}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),s=n(9),o=n(11),a=n(331);class c{constructor(e){this._defProvider=new a.PythonDefinitionProvider(e)}async goToObjectDefinition(){const e=await this.getObjectDefinition();if("string"!=typeof e||0===e.length)return;const t=e.split(".");let n="",r=0;if(1===t.length)n=`import ${t[0]}`,r="import ".length;else{const e=t.shift();n=`from ${e} import ${t.join(".")}`,r=`from ${e} import `.length}const s=new i.Range(0,r,0,n.length-1),o={fileName:"test.py",lineAt:e=>({text:n}),getWordRangeAtPosition:e=>s,isDirty:!0,getText:()=>n},a=new i.CancellationTokenSource,c=await this._defProvider.provideDefinition(o,s.start,a.token);if(null===c)return void await i.window.showInformationMessage(`Definition not found for '${e}'`);let l,u;if(Array.isArray(c)&&c.length>0&&(l=c[0].uri,u=c[0].range.start.line),c&&!Array.isArray(c)&&c.uri&&(l=c.uri,u=c.range.start.line),l){const e=await i.workspace.openTextDocument(l);await i.window.showTextDocument(e),await i.commands.executeCommand("revealLine",{lineNumber:u,at:"top"})}else await i.window.showInformationMessage(`Definition not found for '${e}'`)}intputValidation(e){return"string"!=typeof e?"":0===(e=e.trim()).length?"":null}async getObjectDefinition(){return i.window.showInputBox({prompt:"Enter Object Path",validateInput:this.intputValidation})}}r([s.captureTelemetry(o.EventName.GO_TO_OBJECT_DEFINITION)],c.prototype,"goToObjectDefinition",null),t.PythonObjectDefinitionProvider=c,t.activateGoToObjectDefinitionProvider=function(e){const t=new c(e),n=i.commands.registerCommand("python.goToPythonObject",()=>t.goToObjectDefinition());return[t,n]}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),s=n(9),o=n(11),a=n(89);class c{constructor(e){this.jediFactory=e}static parseData(e){if(e&&e.references.length>0){return e.references.filter(e=>!(!e||"number"!=typeof e.columnIndex||"number"!=typeof e.lineIndex||"string"!=typeof e.fileName||-1===e.columnIndex||-1===e.lineIndex||0===e.fileName.length)).map(e=>{const t=i.Uri.file(e.fileName),n=new i.Range(e.lineIndex,e.columnIndex,e.lineIndex,e.columnIndex);return new i.Location(t,n)})}return[]}async provideReferences(e,t,n,r){const i=e.fileName;if(e.lineAt(t.line).text.match(/^\s*\/\//))return;if(t.character<=0)return;const s=e.getWordRangeAtPosition(t);if(!s)return;const o=s.isEmpty?t.character:s.end.character,l={command:a.CommandType.Usages,fileName:i,columnIndex:o,lineIndex:t.line};e.isDirty&&(l.source=e.getText());const u=await this.jediFactory.getJediProxyHandler(e.uri).sendCommand(l,r);return u?c.parseData(u):void 0}}r([s.captureTelemetry(o.EventName.REFERENCE)],c.prototype,"provideReferences",null),t.PythonReferenceProvider=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),s=n(13),o=n(149),a=n(6),c=n(1),l=n(334),u=n(9),d=n(11);class h{constructor(e){this.serviceContainer=e,this.outputChannel=e.get(c.IOutputChannel,s.STANDARD_OUTPUT_CHANNEL),this.configurationService=e.get(c.IConfigurationService)}provideRenameEdits(e,t,n,r){return i.workspace.saveAll(!1).then(()=>this.doRename(e,t,n))}doRename(e,t,n){if(e.lineAt(t.line).text.match(/^\s*\/\//))return;if(t.character<=0)return;const r=e.getWordRangeAtPosition(t);if(!r||r.isEmpty)return;if(e.getText(r)===n)return;let u=i.workspace.getWorkspaceFolder(e.uri);!u&&Array.isArray(i.workspace.workspaceFolders)&&i.workspace.workspaceFolders.length>0&&(u=i.workspace.workspaceFolders[0]);const d=u?u.uri.fsPath:__dirname,h=this.configurationService.getSettings(u?u.uri:void 0);return new l.RefactorProxy(s.EXTENSION_ROOT_DIR,h,d,this.serviceContainer).rename(e,n,e.uri.fsPath,r).then(e=>{const t=e.results.map(e=>e.diff);return o.getWorkspaceEditsFromPatch(t,d)}).catch(t=>{if("Not installed"===t){return this.serviceContainer.get(c.IInstaller).promptToInstall(c.Product.rope,e.uri).catch(e=>a.traceError("Starlark Extension: promptToInstall",e)),Promise.reject("")}return i.window.showErrorMessage(t),this.outputChannel.appendLine(t),Promise.reject(t)})}}r([u.captureTelemetry(d.EventName.REFACTOR_RENAME)],h.prototype,"provideRenameEdits",null),t.PythonRenameProvider=h},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)8*r+6*s<=8*e.length?t.push(n.charAt(i>>>6*(3-s)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(335);function s(e){if(i.isNumber(e))return new r.Position(e,0);if(""===e)return new r.Position(0,0);const t=e.split(":");if(t.length>2)throw new Error(`invalid position ${e}`);let n=0;if(""!==t[0]){if(!/^\d+$/.test(t[0]))throw new Error(`invalid position ${e}`);n=+t[0]}let s=0;if(2===t.length&&""!==t[1]){if(!/^\d+$/.test(t[1]))throw new Error(`invalid position ${e}`);s=+t[1]}return new r.Position(n,s)}t.getWindowsLineEndingCount=function(e,t){const n=/\r\n/g;let i=0,s=t.valueOf();for(let o=0;o<t;o+=1024){const t=e.positionAt(o);let a;s>=1024?(a=e.positionAt(o+1024),s-=1024):a=e.positionAt(o+s);const c=e.getText(new r.Range(t,a)).match(n);i+=c?c.length:0}return i},t.parseRange=function(e){if(i.isNumber(e))return new r.Range(e,0,e,0);if(""===e)return new r.Range(0,0,0,0);const t=e.split("-");if(t.length>2)throw new Error(`invalid range ${e}`);const n=s(t[0]);let o=n;return 2===t.length&&(o=s(t[1])),new r.Range(n,o)},t.parsePosition=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(783),i=n(784);t.BlockFormatProviders=class{constructor(){this.providers=[];const e=[i.DEF_REGEX,i.ASYNC_DEF_REGEX,i.CLASS_REGEX],t=[i.IF_REGEX,i.ELIF_REGEX,i.FOR_IN_REGEX,i.ASYNC_FOR_IN_REGEX,i.WHILE_REGEX,i.TRY_REGEX,i.EXCEPT_REGEX];this.providers.push(new r.CodeBlockFormatProvider(i.ELSE_REGEX,t,e));const n=[i.IF_REGEX,i.ELIF_REGEX];this.providers.push(new r.CodeBlockFormatProvider(i.ELIF_REGEX,n,e));const s=[i.TRY_REGEX,i.EXCEPT_REGEX];this.providers.push(new r.CodeBlockFormatProvider(i.EXCEPT_REGEX,s,e));const o=[i.TRY_REGEX,i.EXCEPT_REGEX];this.providers.push(new r.CodeBlockFormatProvider(i.FINALLY_REGEX,o,e))}provideOnTypeFormattingEdits(e,t,n,r,i){if(0===t.line)return[];const s=e.lineAt(t.line),o=e.lineAt(t.line-1);if(s.firstNonWhitespaceCharacterIndex!==o.firstNonWhitespaceCharacterIndex)return[];const a=s.text,c=this.providers.find(e=>e.canProvideEdits(a));return c?c.provideEdits(e,t,n,r,s):[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.CodeBlockFormatProvider=class{constructor(e,t,n){this.blockRegExp=e,this.previousBlockRegExps=t,this.boundaryRegExps=n}canProvideEdits(e){return this.blockRegExp.test(e)}provideEdits(e,t,n,i,s){for(let n=t.line-1;n>=0;n-=1){const o=e.lineAt(n),a=o.text;if(this.boundaryRegExps.some(e=>e.test(a)))return[];if(!this.previousBlockRegExps.find(e=>e.test(a)))continue;const c=o.firstNonWhitespaceCharacterIndex;if(c>s.firstNonWhitespaceCharacterIndex)continue;const l=new r.Position(t.line,0),u=new r.Position(t.line,s.firstNonWhitespaceCharacterIndex-c);if(!l.isEqual(u)){if(i.insertSpaces)return[r.TextEdit.delete(new r.Range(l,u))];{const e=a.substring(0,c),n=new r.Position(t.line,0),i=new r.Position(t.line,s.firstNonWhitespaceCharacterIndex);return[r.TextEdit.delete(new r.Range(n,i)),r.TextEdit.insert(n,e)]}}}return[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.regEx=e,this.startWord=t}test(e){return this.regEx.lastIndex=-1,this.regEx.test(e)}}t.BlockRegEx=r,t.IF_REGEX=new r(/^( |\t)*if +.*: *$/g,"if"),t.ELIF_REGEX=new r(/^( |\t)*elif +.*: *$/g,"elif"),t.ELSE_REGEX=new r(/^( |\t)*else *: *$/g,"else"),t.FOR_IN_REGEX=new r(/^( |\t)*for \w in .*: *$/g,"for"),t.ASYNC_FOR_IN_REGEX=new r(/^( |\t)*async *for \w in .*: *$/g,"for"),t.WHILE_REGEX=new r(/^( |\t)*while .*: *$/g,"while"),t.TRY_REGEX=new r(/^( |\t)*try *: *$/g,"try"),t.FINALLY_REGEX=new r(/^( |\t)*finally *: *$/g,"finally"),t.EXCEPT_REGEX=new r(/^( |\t)*except *\w* *(as)? *\w* *: *$/g,"except"),t.DEF_REGEX=new r(/^( |\t)*def \w *\(.*$/g,"def"),t.ASYNC_DEF_REGEX=new r(/^( |\t)*async *def \w *\(.*$/g,"async"),t.CLASS_REGEX=new r(/^( |\t)*class *\w* *.*: *$/g,"class")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OnTypeFormattingDispatcher=class{constructor(e){this.providers=e}provideOnTypeFormattingEdits(e,t,n,r,i){const s=this.providers[n];return s?s.provideOnTypeFormattingEdits(e,t,n,r,i):[]}getTriggerCharacters(){const e=Object.keys(this.providers);e.sort();const t=e.shift();if(t)return{first:t,more:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(787),s=n(122),o=n(212);t.OnEnterFormatter=class{constructor(){this.formatter=new i.LineFormatter}provideOnTypeFormattingEdits(e,t,n,i,a){if(0===t.line)return[];const c=e.lineAt(t.line-1),l=o.getDocumentTokens(e,t,s.TokenizerMode.CommentsAndStrings),u=l.getItemContaining(e.offsetAt(c.range.start)),d=l.getItemContaining(e.offsetAt(c.range.end));if(u>=0&&u===d){const e=l.getItemAt(u);if(e.type===s.TokenType.Semicolon||e.type===s.TokenType.String)return[]}const h=this.formatter.formatLine(e,c.lineNumber);return h===c.text?[]:[new r.TextEdit(c.range,h)]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(788),s=n(789),o=n(329),a=n(328),c=n(122),l=["and","as","assert","await","del","except","elif","for","from","global","if","import","in","is","lambda","nonlocal","not","or","raise","return","while","with","yield"];t.LineFormatter=class{constructor(){this.builder=new s.TextBuilder,this.tokens=new o.TextRangeCollection([]),this.braceCounter=new i.BraceCounter,this.text="",this.lineNumber=0}formatLine(e,t){if(this.document=e,this.lineNumber=t,this.text=e.lineAt(t).text,this.tokens=(new a.Tokenizer).tokenize(this.text),this.builder=new s.TextBuilder,this.braceCounter=new i.BraceCounter,0===this.tokens.count)return this.text;const n=this.text.substr(0,this.tokens.getItemAt(0).start);n.length>0&&this.builder.append(n);for(let e=0;e<this.tokens.count;e+=1){const t=this.tokens.getItemAt(e),n=e>0?this.tokens.getItemAt(e-1):void 0,r=e<this.tokens.count-1?this.tokens.getItemAt(e+1):void 0;switch(t.type){case c.TokenType.Operator:this.handleOperator(e);break;case c.TokenType.Comma:this.builder.append(","),r&&!this.isCloseBraceType(r.type)&&r.type!==c.TokenType.Colon&&this.builder.softAppendSpace();break;case c.TokenType.Identifier:n&&!this.isOpenBraceType(n.type)&&n.type!==c.TokenType.Colon&&n.type!==c.TokenType.Operator&&this.builder.softAppendSpace();const i=this.text.substring(t.start,t.end);this.builder.append(i),this.isKeywordWithSpaceBeforeBrace(i)&&r&&this.isOpenBraceType(r.type)&&this.builder.softAppendSpace();break;case c.TokenType.Colon:this.builder.append(":"),!this.braceCounter.isOpened(c.TokenType.OpenBracket)&&r&&r.type!==c.TokenType.Colon&&this.builder.softAppendSpace();break;case c.TokenType.Comment:n&&this.builder.softAppendSpace(2),this.builder.append(this.text.substring(t.start,t.end));break;case c.TokenType.Semicolon:this.builder.append(";");break;default:this.handleOther(t,e)}}return this.builder.getText()}handleOperator(e){const t=this.tokens.getItemAt(e),n=e>0?this.tokens.getItemAt(e-1):void 0,r=this.text.charCodeAt(t.start),i=e<this.tokens.count-1?this.tokens.getItemAt(e+1):void 0;if(1===t.length)switch(r){case 61:return void this.handleEqual(t,e);case 46:return n&&this.isKeyword(n,"from")&&this.builder.softAppendSpace(),this.builder.append("."),void(i&&this.isKeyword(i,"import")&&this.builder.softAppendSpace());case 64:return void(n?(this.builder.softAppendSpace(),this.builder.append("@"),this.builder.softAppendSpace()):this.builder.append("@"));case 33:return void this.builder.append("!");case 42:if(n&&this.isKeyword(n,"lambda"))return this.builder.softAppendSpace(),void this.builder.append("*");if(this.handleStarOperator(t,n))return}else if(2===t.length&&42===this.text.charCodeAt(t.start)&&42===this.text.charCodeAt(t.start+1)&&this.handleStarOperator(t,n))return;!n||!this.isOpenBraceType(n.type)&&n.type!==c.TokenType.Comma?(this.builder.softAppendSpace(),this.builder.append(this.text.substring(t.start,t.end)),(!n||n.type!==c.TokenType.Operator||45!==r&&43!==r&&126!==r)&&this.builder.softAppendSpace()):this.builder.append(this.text.substring(t.start,t.end))}handleStarOperator(e,t){if(42===this.text.charCodeAt(e.start)&&42===this.text.charCodeAt(e.start+1)){if(!t||t.type!==c.TokenType.Identifier&&t.type!==c.TokenType.Number)return this.builder.append("**"),!0;if(t&&this.isKeyword(t,"lambda"))return this.builder.softAppendSpace(),this.builder.append("**"),!0}const n=this.getPreviousLineTokens(),r=n&&n.count>0?n.getItemAt(n.count-1):void 0;return!(!r||!this.isOpenBraceType(r.type)&&r.type!==c.TokenType.Comma||(this.builder.append(this.text.substring(e.start,e.end)),0))}handleEqual(e,t){if(this.isMultipleStatements(t)&&!this.braceCounter.isOpened(c.TokenType.OpenBrace))return this.builder.softAppendSpace(),this.builder.append("="),void this.builder.softAppendSpace();this.isEqualsInsideArguments(t)?this.builder.append("="):(this.builder.softAppendSpace(),this.builder.append("="),this.builder.softAppendSpace())}handleOther(e,t){if(this.isBraceType(e.type))return this.braceCounter.countBrace(e),void this.builder.append(this.text.substring(e.start,e.end));const n=t>0?this.tokens.getItemAt(t-1):void 0;n&&1===n.length&&61===this.text.charCodeAt(n.start)&&this.isEqualsInsideArguments(t-1)?this.builder.append(this.text.substring(e.start,e.end)):!n||!this.isOpenBraceType(n.type)&&n.type!==c.TokenType.Colon?e.type===c.TokenType.Number&&n&&n.type===c.TokenType.Operator&&1===n.length&&126===this.text.charCodeAt(n.start)?this.builder.append(this.text.substring(e.start,e.end)):e.type===c.TokenType.Unknown?this.handleUnknown(e):(this.builder.softAppendSpace(),this.builder.append(this.text.substring(e.start,e.end))):this.builder.append(this.text.substring(e.start,e.end))}handleUnknown(e){const t=e.start>0?this.text.charCodeAt(e.start-1):0;32!==t&&9!==t||this.builder.softAppendSpace(),this.builder.append(this.text.substring(e.start,e.end));const n=e.end<this.text.length-1?this.text.charCodeAt(e.end):0;32!==n&&9!==n||this.builder.softAppendSpace()}isEqualsInsideArguments(e){return!(e<1)&&(this.tokens.getItemAt(e-1).type===c.TokenType.Identifier&&!(e>1&&this.tokens.getItemAt(e-2).type===c.TokenType.Colon)&&this.isInsideFunctionArguments(this.tokens.getItemAt(e).start))}isOpenBraceType(e){return e===c.TokenType.OpenBrace||e===c.TokenType.OpenBracket||e===c.TokenType.OpenCurly}isCloseBraceType(e){return e===c.TokenType.CloseBrace||e===c.TokenType.CloseBracket||e===c.TokenType.CloseCurly}isBraceType(e){return this.isOpenBraceType(e)||this.isCloseBraceType(e)}isMultipleStatements(e){for(let t=e;t>=0;t-=1)if(this.tokens.getItemAt(t).type===c.TokenType.Semicolon)return!0;return!1}isKeywordWithSpaceBeforeBrace(e){return l.indexOf(e)>=0}isKeyword(e,t){return e.type===c.TokenType.Identifier&&e.length===t.length&&this.text.substr(e.start,e.length)===t}isInsideFunctionArguments(e){if(!this.document)return!1;let t=new r.Position(0,0);for(let e=this.lineNumber;e>=0;e-=1){const n=this.document.lineAt(e),r=(new a.Tokenizer).tokenize(n.text);if(0===r.count)continue;const i=r.getItemAt(0);if(r.count>=3&&3===i.length&&"def"===n.text.substr(i.start,i.length)&&r.getItemAt(1).type===c.TokenType.Identifier&&r.getItemAt(2).type===c.TokenType.OpenBrace){t=n.range.start;break}if(r.count>0&&e<this.lineNumber){const n=r.getItemAt(r.count-1);if(n.type===c.TokenType.Colon){t=this.document.lineAt(e+1).range.start;break}if(r.count>1&&r.getItemAt(r.count-2).type===c.TokenType.Colon&&n.type===c.TokenType.Comment){t=this.document.lineAt(e+1).range.start;break}}}const n=this.document.lineAt(this.lineNumber),i=this.document.getText(new r.Range(t,n.range.end)),s=(new a.Tokenizer).tokenize(i);e=this.document.offsetAt(n.range.start)+e-this.document.offsetAt(t);let o=-1,l=-1;for(let t=0;t<s.count-1;t+=1){const n=s.getItemAt(t);if(n.type===c.TokenType.Identifier){const r=s.getItemAt(t+1);if(r.type===c.TokenType.OpenBrace&&!this.isKeywordWithSpaceBeforeBrace(i.substr(n.start,n.length))){let n=this.findClosingBrace(s,t+1);n=n>0?n:s.count-1,e>r.start&&e<s.getItemAt(n).start&&(o=t,l=n)}}}if(o<0)for(let t=0;t<s.count;t+=1){const n=s.getItemAt(t);if(n.type===c.TokenType.Identifier&&"lambda"===i.substr(n.start,n.length)){if(e<n.start)break;let r=this.findNearestColon(s,t+1);r=r>0?r:s.count-1,e>n.start&&e<s.getItemAt(r).start&&(o=t,l=r)}}return o>=0&&l>0}findNearestColon(e,t){for(let n=t;n<e.count;n+=1)if(e.getItemAt(n).type===c.TokenType.Colon)return n;return-1}findClosingBrace(e,t){const n=new i.BraceCounter;for(let r=t;r<e.count;r+=1){const t=e.getItemAt(r);if(t.type!==c.TokenType.OpenBrace&&t.type!==c.TokenType.CloseBrace||n.countBrace(t),0===n.count)return r}return-1}getPreviousLineTokens(){if(!this.document||0===this.lineNumber)return;const e=this.document.lineAt(this.lineNumber-1);return(new a.Tokenizer).tokenize(e.text)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122);class i{constructor(e,t){this.openBrace=e,this.closeBrace=t}}class s{constructor(){this.store=[]}push(e){this.store.push(e)}pop(){return this.store.pop()}get length(){return this.store.length}}t.BraceCounter=class{constructor(){this.bracePairs=[new i(r.TokenType.OpenBrace,r.TokenType.CloseBrace),new i(r.TokenType.OpenBracket,r.TokenType.CloseBracket),new i(r.TokenType.OpenCurly,r.TokenType.CloseCurly)],this.braceStacks=[new s,new s,new s]}get count(){let e=0;for(const t of this.braceStacks)e+=t.length;return e}isOpened(e){for(let t=0;t<this.bracePairs.length;t+=1){const n=this.bracePairs[t];if(n.openBrace===e||n.closeBrace===e)return this.braceStacks[t].length>0}return!1}countBrace(e){for(let t=0;t<this.bracePairs.length;t+=1){const n=this.bracePairs[t];if(n.openBrace===e.type)return this.braceStacks[t].push(e),!0;if(n.closeBrace===e.type)return this.braceStacks[t].length>0&&this.braceStacks[t].pop(),!0}return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(148);t.TextBuilder=class{constructor(){this.segments=[]}getText(){return this.isLastWhiteSpace()&&this.segments.pop(),this.segments.join("")}softAppendSpace(e=1){if(0!==this.segments.length){this.isLastWhiteSpace()&&(e-=1);for(let t=0;t<e;t+=1)this.segments.push(" ")}}append(e){this.segments.push(e)}isLastWhiteSpace(){return this.segments.length>0&&this.isWhitespace(this.segments[this.segments.length-1])}isWhitespace(e){for(let t=0;t<e.length;t+=1)if(!r.isWhiteSpace(e.charCodeAt(t)))return!1;return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(4),s=n(13),o=n(150),a=n(8),c=n(20),l=n(1),u=n(791),d=n(792),h=2;t.WorkspaceSymbols=class{constructor(e){this.serviceContainer=e,this.generators=[],this.outputChannel=this.serviceContainer.get(l.IOutputChannel,s.STANDARD_OUTPUT_CHANNEL),this.commandMgr=this.serviceContainer.get(i.ICommandManager),this.fs=this.serviceContainer.get(a.IFileSystem),this.workspace=this.serviceContainer.get(i.IWorkspaceService),this.processFactory=this.serviceContainer.get(c.IProcessServiceFactory),this.appShell=this.serviceContainer.get(i.IApplicationShell),this.configurationService=this.serviceContainer.get(l.IConfigurationService),this.disposables=[],this.disposables.push(this.outputChannel),this.registerCommands(),this.initializeGenerators(),r.languages.registerWorkspaceSymbolProvider(new d.WorkspaceSymbolProvider(this.fs,this.commandMgr,this.generators)),this.disposables.push(this.workspace.onDidChangeWorkspaceFolders(()=>this.initializeGenerators()))}dispose(){this.disposables.forEach(e=>e.dispose())}initializeGenerators(){for(;this.generators.length>0;)this.generators.shift().dispose();Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.forEach(e=>{this.generators.push(new u.Generator(e.uri,this.outputChannel,this.appShell,this.fs,this.processFactory,this.configurationService))})}registerCommands(){this.disposables.push(this.commandMgr.registerCommand(s.Commands.Build_Workspace_Symbols,async(e=!0,t)=>{const n=this.buildWorkspaceSymbols(e,t);return Promise.all(n)}))}buildWorkspaceSymbols(e=!0,t){if(t&&t.isCancellationRequested)return[];if(0===this.generators.length)return[];let n,r;return this.generators.map(async i=>{if(!i.enabled)return;const s=await this.fs.fileExists(i.tagFilePath);if(e||!s)for(let e=0;e<h;e+=1){try{return void await i.generateWorkspaceTags()}catch(e){if(!o.isNotInstalledError(e))return void this.outputChannel.show()}if(!t||t.isCancellationRequested)return;if(n)r=await n;else{{const e=this.serviceContainer.get(l.IInstaller);n=e.promptToInstall(l.Product.ctags,this.workspace.workspaceFolders[0].uri),r=await n}if(r!==l.InstallerResponse.Installed||!t||t.isCancellationRequested)return}}})}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),s=n(30),o=n(9),a=n(11);class c{constructor(e,t,n,r,o,a){this.workspaceFolder=e,this.output=t,this.appShell=n,this.fs=r,this.processServiceFactory=o,this.disposables=[],this.optionsFile=i.join(s.EXTENSION_ROOT_DIR,"resources","ctagOptions"),this.pythonSettings=a.getSettings(e)}get tagFilePath(){return this.pythonSettings.workspaceSymbols.tagFilePath}get enabled(){return this.pythonSettings.workspaceSymbols.enabled}dispose(){this.disposables.forEach(e=>e.dispose())}async generateWorkspaceTags(){if(this.pythonSettings.workspaceSymbols.enabled)return this.generateTags({directory:this.workspaceFolder.fsPath})}buildCmdArgs(){const e=this.pythonSettings.workspaceSymbols.exclusionPatterns,t=0===e.length?[]:e.map(e=>`--exclude=${e}`);return[`--options=${this.optionsFile}`,"--languages=Python"].concat(t)}async generateTags(e){const t=i.normalize(this.pythonSettings.workspaceSymbols.tagFilePath),n=this.pythonSettings.workspaceSymbols.ctagsPath,r=this.buildCmdArgs();let s=t;e.file&&e.file.length>0&&(e.directory=i.dirname(e.file)),i.dirname(s)===e.directory&&(s=i.basename(s));const o=i.dirname(s);await this.fs.directoryExists(o)||await this.fs.createDirectory(o),r.push("-o",s,"."),this.output.appendLine(`${"-".repeat(10)}Generating Tags${"-".repeat(10)}`),this.output.appendLine(`${n} ${r.join(" ")}`);const a=new Promise(async(t,i)=>{try{const s=(await this.processServiceFactory.create()).execObservable(n,r,{cwd:e.directory});let o="";s.out.subscribe(e=>{"stderr"===e.source&&(o+=e.out),this.output.append(e.out)},i,()=>{o.length>0?i(new Error(o)):t()})}catch(e){i(e)}});this.appShell.setStatusBarMessage("Generating Tags",a),await a}}r([o.captureTelemetry(a.EventName.WORKSPACE_SYMBOLS_BUILD)],c.prototype,"generateTags",null),t.Generator=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(123),s=n(2),o=n(13),a=n(9),c=n(11),l=n(795);class u{constructor(e,t,n){this.fs=e,this.commands=t,this.tagGenerators=n}async provideWorkspaceSymbols(e,t){if(0===this.tagGenerators.length)return[];(await Promise.all(this.tagGenerators.map(e=>this.fs.fileExists(e.tagFilePath)))).filter(e=>e).length!==this.tagGenerators.length&&await this.commands.executeCommand(o.Commands.Build_Workspace_Symbols,!0,t);const n=[];await Promise.all(this.tagGenerators.map(async e=>{await this.fs.fileExists(e.tagFilePath)&&n.push(e)}));const r=n.filter(e=>void 0!==e&&e.enabled).map(async n=>{const r=await l.parseTags(n.workspaceFolder.fsPath,n.tagFilePath,e,t);return Array.isArray(r)?r.map(e=>new s.SymbolInformation(e.symbolName,e.symbolKind,"",new s.Location(s.Uri.file(e.fileName),e.position))):[]}),a=await Promise.all(r);return i(a)}}r([a.captureTelemetry(c.EventName.WORKSPACE_SYMBOLS_GO_TO)],u.prototype,"provideWorkspaceSymbols",null),t.WorkspaceSymbolProvider=u},function(e,t,n){var r=n(215),i=n(794);e.exports=function e(t,n,s,o,a){var c=-1,l=t.length;for(s||(s=i),a||(a=[]);++c<l;){var u=t[c];n>0&&s(u)?n>1?e(u,n-1,s,o,a):r(a,u):o||(a[a.length]=u)}return a}},function(e,t,n){var r=n(139),i=n(290),s=n(142),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(o&&e&&e[o])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2),s=n(151),o=n(797),a=n(216),c=n(798),l=/\tkind:file\tline:\d+$/g,u='(?<name>\\w+)\\t(?<file>.*)\\t\\/\\^(?<code>.*)\\$\\/;"\\tkind:(?<type>\\w+)\\tline:(?<line>\\d+)$';function d(e,t){const n=a(t,"g").exec(e);return null!==n?n.groups():null}t.matchNamedRegEx=d;const h=new Map;h.set("_array",i.SymbolKind.Array),h.set("_boolean",i.SymbolKind.Boolean),h.set("_class",i.SymbolKind.Class),h.set("_classes",i.SymbolKind.Class),h.set("_constant",i.SymbolKind.Constant),h.set("_constants",i.SymbolKind.Constant),h.set("_constructor",i.SymbolKind.Constructor),h.set("_enum",i.SymbolKind.Enum),h.set("_enums",i.SymbolKind.Enum),h.set("_enumeration",i.SymbolKind.Enum),h.set("_enumerations",i.SymbolKind.Enum),h.set("_field",i.SymbolKind.Field),h.set("_fields",i.SymbolKind.Field),h.set("_file",i.SymbolKind.File),h.set("_files",i.SymbolKind.File),h.set("_function",i.SymbolKind.Function),h.set("_functions",i.SymbolKind.Function),h.set("_member",i.SymbolKind.Function),h.set("_interface",i.SymbolKind.Interface),h.set("_interfaces",i.SymbolKind.Interface),h.set("_key",i.SymbolKind.Key),h.set("_keys",i.SymbolKind.Key),h.set("_method",i.SymbolKind.Method),h.set("_methods",i.SymbolKind.Method),h.set("_module",i.SymbolKind.Module),h.set("_modules",i.SymbolKind.Module),h.set("_namespace",i.SymbolKind.Namespace),h.set("_namespaces",i.SymbolKind.Namespace),h.set("_number",i.SymbolKind.Number),h.set("_numbers",i.SymbolKind.Number),h.set("_null",i.SymbolKind.Null),h.set("_object",i.SymbolKind.Object),h.set("_package",i.SymbolKind.Package),h.set("_packages",i.SymbolKind.Package),h.set("_property",i.SymbolKind.Property),h.set("_properties",i.SymbolKind.Property),h.set("_objects",i.SymbolKind.Object),h.set("_string",i.SymbolKind.String),h.set("_variable",i.SymbolKind.Variable),h.set("_variables",i.SymbolKind.Variable),h.set("_projects",i.SymbolKind.Package),h.set("_defines",i.SymbolKind.Module),h.set("_labels",i.SymbolKind.Interface),h.set("_macros",i.SymbolKind.Function),h.set("_types (structs and records)",i.SymbolKind.Class),h.set("_subroutine",i.SymbolKind.Method),h.set("_subroutines",i.SymbolKind.Method),h.set("_types",i.SymbolKind.Class),h.set("_programs",i.SymbolKind.Class),h.set("_Object's method",i.SymbolKind.Method),h.set("_Module or functor",i.SymbolKind.Module),h.set("_Global variable",i.SymbolKind.Variable),h.set("_Type name",i.SymbolKind.Class),h.set("_A function",i.SymbolKind.Function),h.set("_A constructor",i.SymbolKind.Constructor),h.set("_An exception",i.SymbolKind.Class),h.set("_A 'structure' field",i.SymbolKind.Field),h.set("_procedure",i.SymbolKind.Function),h.set("_procedures",i.SymbolKind.Function),h.set("_constant definitions",i.SymbolKind.Constant),h.set("_javascript functions",i.SymbolKind.Function),h.set("_singleton methods",i.SymbolKind.Method);const p={};h.forEach((e,t)=>{p[t.substring(1)]=e}),Object.keys(p).forEach(e=>{h.set(e,p[e])}),t.parseTags=function(e,t,n,a){return s.fsExistsAsync(t).then(s=>s?new Promise((s,p)=>{const f=new o(t);let m=0;const g=[];f.on("error",e=>{p(e)}),f.on("line",t=>{if(m+=1,a.isCancellationRequested)return void f.close();const s=function(e,t,n){if(l.test(t))return;const s=d(t,u);if(!s)return;if(!c.test(n,s.name))return;let o=s.file;r.isAbsolute(o)||(o=r.resolve(e,".vscode",o));const a=h.get(s.type)||i.SymbolKind.Null;return{fileName:o,code:s.code,position:new i.Position(Number(s.line)-1,0),symbolName:s.name,symbolKind:a}}(e,t,n);s&&g.push(s),g.length>=100&&f.close()}),f.on("end",()=>{s(g)})}):Promise.resolve([]))}},function(e,t,n){"use strict";var r="win32"===process.platform,i=r?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=r?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",i.test(e)&&(e=e.slice(0,-1)),e}},function(e,t,n){var r=n(43),i=n(200).StringDecoder,s=n(3),o=n(26),a=n(56);void 0===global.setImmediate&&(setImmediate=process.nextTick);var c=function(e,t){var n=this;this._encoding=t&&t.encoding||"utf8",e instanceof r.Readable?this._readStream=e:(this._readStream=null,this._filepath=s.normalize(e),this._streamOptions={encoding:this._encoding},t&&t.start&&(this._streamOptions.start=t.start),t&&t.end&&(this._streamOptions.end=t.end)),this._skipEmptyLines=t&&t.skipEmptyLines||!1,this._lines=[],this._lineFragment="",this._paused=!1,this._end=!1,this._ended=!1,this.decoder=new i(this._encoding),a.EventEmitter.call(this),setImmediate(function(){n._initStream()})};(c.prototype=Object.create(a.EventEmitter.prototype,{constructor:{value:c,enumerable:!1}}))._initStream=function(){var e=this,t=this._readStream?this._readStream:o.createReadStream(this._filepath,this._streamOptions);t.on("error",function(t){e.emit("error",t)}),t.on("open",function(){e.emit("open")}),t.on("data",function(t){e._readStream.pause();var n=t;t instanceof Buffer&&(n=e.decoder.write(t)),e._lines=e._lines.concat(n.split(/(?:\n|\r\n|\r)/g)),e._lines[0]=e._lineFragment+e._lines[0],e._lineFragment=e._lines.pop()||"",setImmediate(function(){e._nextLine()})}),t.on("end",function(){e._end=!0,setImmediate(function(){e._nextLine()})}),this._readStream=t},c.prototype._nextLine=function(){var e,t=this;this._paused||(0!==this._lines.length?(e=this._lines.shift(),(!this._skipEmptyLines||e.length>0)&&this.emit("line",e),setImmediate(function(){this._paused||t._nextLine()})):this._end?(this._lineFragment&&(this.emit("line",this._lineFragment),this._lineFragment=""),this._paused||this.end()):this._readStream.resume())},c.prototype.pause=function(){this._paused=!0},c.prototype.resume=function(){var e=this;this._paused=!1,setImmediate(function(){e._nextLine()})},c.prototype.end=function(){this._ended||(this._ended=!0,this.emit("end"))},c.prototype.close=function(){var e=this;this._readStream.destroy(),this._end=!0,this._lines=[],setImmediate(function(){e._nextLine()})},e.exports=c},function(e,t,n){var r;r={},e.exports=r,r.simpleFilter=function(e,t){return t.filter(function(t){return r.test(e,t)})},r.test=function(e,t){return null!==r.match(e,t)},r.match=function(e,t,n){n=n||{};var r,i=0,s=[],o=t.length,a=0,c=0,l=n.pre||"",u=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var h=0;h<o;h++)r=t[h],d[h]===e[i]?(r=l+r+u,i+=1,c+=1+c):c=0,a+=c,s[s.length]=r;return i===e.length?(a=d===e?1/0:a,{rendered:s.join(""),score:a}):null},r.filter=function(e,t,n){return t&&0!==t.length?"string"!=typeof e?t:(n=n||{},t.reduce(function(t,i,s,o){var a=i;n.extract&&(a=n.extract(i));var c=r.match(e,a,n);return null!=c&&(t[t.length]={string:c.rendered,score:c.score,index:s,original:i}),t},[]).sort(function(e,t){var n=t.score-e.score;return n||e.index-t.index})):[]}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4),c=n(6),l=n(8),u=n(1),d=n(30),h=n(29);let p=class{constructor(e,t,n,r,i,s){this.manager=e,this.workspace=t,this.fs=n,this.lsDownloader=r,this.languageServerFolderService=i,this.configurationService=s}async activate(e){e||(e=this.workspace.hasWorkspaceFolders?this.workspace.workspaceFolders[0].uri:void 0),this.resource=e,await this.ensureLanguageServerIsAvailable(e),await this.manager.start(e)}dispose(){this.manager.dispose()}async ensureLanguageServerIsAvailable(e){if(!this.configurationService.getSettings(e).downloadLanguageServer)return;const t=await this.languageServerFolderService.getLanguageServerFolderName(e),n=o.join(d.EXTENSION_ROOT_DIR,t),r=o.join(n,"mscorlib.dll");await this.fs.fileExists(r)||(await this.lsDownloader.downloadLanguageServer(n,this.resource),await this.prepareLanguageServerForNoICU(n))}async prepareLanguageServerForNoICU(e){const t=o.join(e,"Microsoft.Python.LanguageServer.runtimeconfig.json");let n={};if(await this.fs.fileExists(t))try{if((n=JSON.parse(await this.fs.readFile(t))).runtimeOptions&&n.runtimeOptions.configProperties&&!0===n.runtimeOptions.configProperties["System.Globalization.Invariant"])return}catch(e){}n.runtimeOptions=n.runtimeOptions||{},n.runtimeOptions.configProperties=n.runtimeOptions.configProperties||{},n.runtimeOptions.configProperties["System.Globalization.Invariant"]=!0,await this.fs.writeFile(t,JSON.stringify(n))}};r([c.traceDecorators.error("Failed to activate language server")],p.prototype,"activate",null),r([c.traceDecorators.error("Failed to ensure language server is available")],p.prototype,"ensureLanguageServerIsAvailable",null),p=r([s.injectable(),i(0,s.inject(h.ILanguageServerManager)),i(1,s.inject(a.IWorkspaceService)),i(2,s.inject(l.IFileSystem)),i(3,s.inject(h.ILanguageServerDownloader)),i(4,s.inject(h.ILanguageServerFolderService)),i(5,s.inject(u.IConfigurationService))],p),t.LanguageServerExtensionActivator=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(152),l=n(4),u=n(13),d=n(6),h=n(1),p=n(31),f=n(81),m=n(14),g=n(29);let y=class{constructor(e,t,n,r,i,s,o,c,l){this.context=e,this.envVarsProvider=t,this.configuration=n,this.workspace=r,this.surveyBanner=i,this.interpreterService=s,this.lsOutputChannel=o,this.pathUtils=c,this.languageServerFolderService=l,this.envPythonPath="",this.excludedFiles=[],this.typeshedPaths=[],this.disposables=[],this.languageServerFolder="",this.didChange=new a.EventEmitter,this.output=this.lsOutputChannel.channel}async initialize(e){this.resource=e,this.languageServerFolder=await this.languageServerFolderService.getLanguageServerFolderName(e);let t=this.workspace.onDidChangeConfiguration(this.onSettingsChangedHandler,this);this.disposables.push(t),t=this.interpreterService.onDidChangeInterpreter(()=>this.didChange.fire(),this),this.disposables.push(t),t=this.envVarsProvider.onDidEnvironmentVariablesChange(this.onEnvVarChange,this),this.disposables.push(t)}get onDidChange(){return this.didChange.event}dispose(){this.disposables.forEach(e=>e.dispose()),this.didChange.dispose()}async getAnalysisOptions(){const e={},t=await this.interpreterService.getActiveInterpreter(this.resource);if(!t)throw Error("did not find an active interpreter");e.InterpreterPath=t.path;const n=t.version;n?e.Version=`${n.major}.${n.minor}.${n.patch}`:d.traceError("Unable to determine Python version. Analysis may be limited.");let r=[];const i=this.configuration.getSettings(this.resource);if(i.autoComplete){const e=i.autoComplete.extraPaths;e&&e.length>0&&r.push(...e)}e.DatabasePath=o.join(this.context.extensionPath,this.languageServerFolder);const s=await this.envVarsProvider.getEnvironmentVariables();if(this.envPythonPath=s.PYTHONPATH||"",""!==this.envPythonPath){const e=this.envPythonPath.split(this.pathUtils.delimiter).filter(e=>e.trim().length>0);r.push(...e)}r=r.map(e=>o.normalize(e)),this.excludedFiles=this.getExcludedFiles(),this.typeshedPaths=this.getTypeshedPaths();const a=this.workspace.getWorkspaceFolder(this.resource);return{documentSelector:this.getDocumentSelector(a),workspaceFolder:a,synchronize:{configurationSection:u.PYTHON_LANGUAGE},outputChannel:this.output,revealOutputChannelOn:c.RevealOutputChannelOn.Never,initializationOptions:{interpreter:{properties:e},displayOptions:{preferredFormat:"markdown",trimDocumentationLines:!1,maxDocumentationLineLength:0,trimDocumentationText:!1,maxDocumentationTextLength:0},searchPaths:r,typeStubSearchPaths:this.typeshedPaths,cacheFolderPath:this.getCacheFolderPath(),excludeFiles:this.excludedFiles,testEnvironment:u.isTestExecution(),analysisUpdates:!0,traceLogging:!0,asyncStartup:!0},middleware:{provideCompletionItem:(e,t,n,r,i)=>(this.surveyBanner.showBanner().ignoreErrors(),i(e,t,n,r)),handleDiagnostics:(e,t,n)=>{const r=e.fsPath,i=r?o.basename(r):void 0;i&&i.startsWith(u.HiddenFilePrefix)||n(e,t)}}}}getDocumentSelector(e){const t=[{scheme:"file",language:u.PYTHON_LANGUAGE},{scheme:"untitled",language:u.PYTHON_LANGUAGE}];return e&&Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>1&&(t[0].pattern=`${e.uri.fsPath}/**/*`),t}getExcludedFiles(){const e=["**/Lib/**","**/site-packages/**"];return this.getVsCodeExcludeSection("search.exclude",e),this.getVsCodeExcludeSection("files.exclude",e),this.getVsCodeExcludeSection("files.watcherExclude",e),this.getPythonExcludeSection(e),e}getVsCodeExcludeSection(e,t){const n=this.workspace.getConfiguration(e);n&&Object.keys(n).filter(e=>(e.indexOf("*")>=0||e.indexOf("/")>=0)&&n[e]).forEach(e=>t.push(e))}getPythonExcludeSection(e){const t=this.configuration.getSettings(this.resource),n=t&&t.linting?t.linting.ignorePatterns:void 0;n&&Array.isArray(n)&&n.filter(e=>e&&e.length>0).forEach(t=>e.push(t))}getTypeshedPaths(){const e=this.configuration.getSettings(this.resource);return e.analysis.typeshedPaths&&e.analysis.typeshedPaths.length>0?e.analysis.typeshedPaths:[o.join(this.context.extensionPath,this.languageServerFolder,"Typeshed")]}getCacheFolderPath(){const e=this.configuration.getSettings(this.resource);return e.analysis.cacheFolderPath&&e.analysis.cacheFolderPath.length>0?e.analysis.cacheFolderPath:null}async onSettingsChangedHandler(e){e&&!e.affectsConfiguration("python",this.resource)||this.onSettingsChanged()}onSettingsChanged(){this.notifyIfSettingsChanged().ignoreErrors()}async notifyIfSettingsChanged(){const e=this.getExcludedFiles();await this.notifyIfValuesHaveChanged(this.excludedFiles,e);const t=this.getTypeshedPaths();await this.notifyIfValuesHaveChanged(this.typeshedPaths,t)}async notifyIfValuesHaveChanged(e,t){if(t.length===e.length){for(let n=0;n<e.length;n+=1)if(e[n]!==t[n])return void this.didChange.fire()}else this.didChange.fire()}onEnvVarChange(){this.notifyifEnvPythonPathChanged().ignoreErrors()}async notifyifEnvPythonPathChanged(){const e=(await this.envVarsProvider.getEnvironmentVariables()).PYTHONPATH||"";this.envPythonPath!==e&&this.didChange.fire()}};r([d.traceDecorators.error("Failed to get analysis options")],y.prototype,"getAnalysisOptions",null),r([p.debounceSync(1e3)],y.prototype,"onSettingsChanged",null),r([d.traceDecorators.verbose("Changes in python settings detected in analysis options")],y.prototype,"notifyIfSettingsChanged",null),r([p.debounceSync(1e3)],y.prototype,"onEnvVarChange",null),y=r([s.injectable(),i(0,s.inject(h.IExtensionContext)),i(1,s.inject(f.IEnvironmentVariablesProvider)),i(2,s.inject(h.IConfigurationService)),i(3,s.inject(l.IWorkspaceService)),i(4,s.inject(h.IPythonExtensionBanner)),i(4,s.named(h.BANNER_NAME_LS_SURVEY)),i(5,s.inject(m.IInterpreterService)),i(6,s.inject(g.ILanguageServerOutputChannel)),i(7,s.inject(h.IPathUtils)),i(8,s.inject(g.ILanguageServerFolderService))],y),t.LanguageServerAnalysisOptions=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(124);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=s;class o{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=o;t.RequestType0=class extends o{constructor(e){super(e,0),this._=void 0}};t.RequestType=class extends o{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class extends o{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class extends o{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class extends o{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class extends o{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class extends o{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class extends o{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class extends o{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class extends o{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class extends o{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class extends o{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends o{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class extends o{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class extends o{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class extends o{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class extends o{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class extends o{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class extends o{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class extends o{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class extends o{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class extends o{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(153),i=n(124);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const o=Object.freeze(function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this.cancel()}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(22),s=n(58),o=n(154),a=n(217),c=n(218);t.generateRandomPipeName=function(){const e=s.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:r.join(i.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,s)=>{let l=o.createServer(e=>{l.close(),n([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])});l.on("error",s),l.listen(e,()=>{l.removeListener("error",s),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=o.createConnection(e);return[new a.SocketMessageReader(n,t),new c.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(154),i=n(217),s=n(218);t.createClientSocketTransport=function(e,t="utf-8"){let n,o=new Promise((e,t)=>{n=e});return new Promise((a,c)=>{let l=r.createServer(e=>{l.close(),n([new i.SocketMessageReader(e,t),new s.SocketMessageWriter(e,t)])});l.on("error",c),l.listen(e,"127.0.0.1",()=>{l.removeListener("error",c),a({onConnected:()=>o})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new s.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";var r,i,s,o,a,c,l,u,d,h,p,f,m,g,y,v,_,b,S;n.r(t),n.d(t,"Position",function(){return r}),n.d(t,"Range",function(){return i}),n.d(t,"Location",function(){return s}),n.d(t,"LocationLink",function(){return o}),n.d(t,"Color",function(){return a}),n.d(t,"ColorInformation",function(){return c}),n.d(t,"ColorPresentation",function(){return l}),n.d(t,"FoldingRangeKind",function(){return u}),n.d(t,"FoldingRange",function(){return d}),n.d(t,"DiagnosticRelatedInformation",function(){return h}),n.d(t,"DiagnosticSeverity",function(){return p}),n.d(t,"Diagnostic",function(){return f}),n.d(t,"Command",function(){return m}),n.d(t,"TextEdit",function(){return g}),n.d(t,"TextDocumentEdit",function(){return y}),n.d(t,"CreateFile",function(){return v}),n.d(t,"RenameFile",function(){return _}),n.d(t,"DeleteFile",function(){return b}),n.d(t,"WorkspaceEdit",function(){return S}),n.d(t,"WorkspaceChange",function(){return B}),n.d(t,"TextDocumentIdentifier",function(){return w}),n.d(t,"VersionedTextDocumentIdentifier",function(){return C}),n.d(t,"TextDocumentItem",function(){return E}),n.d(t,"MarkupKind",function(){return T}),n.d(t,"MarkupContent",function(){return D}),n.d(t,"CompletionItemKind",function(){return P}),n.d(t,"InsertTextFormat",function(){return k}),n.d(t,"CompletionItem",function(){return I}),n.d(t,"CompletionList",function(){return M}),n.d(t,"MarkedString",function(){return x}),n.d(t,"Hover",function(){return A}),n.d(t,"ParameterInformation",function(){return O}),n.d(t,"SignatureInformation",function(){return L}),n.d(t,"DocumentHighlightKind",function(){return R}),n.d(t,"DocumentHighlight",function(){return j}),n.d(t,"SymbolKind",function(){return F}),n.d(t,"SymbolInformation",function(){return N}),n.d(t,"DocumentSymbol",function(){return q}),n.d(t,"CodeActionKind",function(){return H}),n.d(t,"CodeActionContext",function(){return W}),n.d(t,"CodeAction",function(){return U}),n.d(t,"CodeLens",function(){return V}),n.d(t,"FormattingOptions",function(){return $}),n.d(t,"DocumentLink",function(){return G}),n.d(t,"EOL",function(){return J}),n.d(t,"TextDocument",function(){return z}),n.d(t,"TextDocumentSaveReason",function(){return K}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return X.objectLiteral(t)&&X.number(t.line)&&X.number(t.character)}}(r||(r={})),function(e){e.create=function(e,t,n,i){if(X.number(e)&&X.number(t)&&X.number(n)&&X.number(i))return{start:r.create(e,t),end:r.create(n,i)};if(r.is(e)&&r.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+i+"]")},e.is=function(e){var t=e;return X.objectLiteral(t)&&r.is(t.start)&&r.is(t.end)}}(i||(i={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&(X.string(t.uri)||X.undefined(t.uri))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.targetRange)&&X.string(t.targetUri)&&(i.is(t.targetSelectionRange)||X.undefined(t.targetSelectionRange))&&(i.is(t.originSelectionRange)||X.undefined(t.originSelectionRange))}}(o||(o={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return X.number(t.red)&&X.number(t.green)&&X.number(t.blue)&&X.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return i.is(t.range)&&a.is(t.color)}}(c||(c={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return X.string(t.label)&&(X.undefined(t.textEdit)||g.is(t))&&(X.undefined(t.additionalTextEdits)||X.typedArray(t.additionalTextEdits,g.is))}}(l||(l={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(u||(u={})),function(e){e.create=function(e,t,n,r,i){var s={startLine:e,endLine:t};return X.defined(n)&&(s.startCharacter=n),X.defined(r)&&(s.endCharacter=r),X.defined(i)&&(s.kind=i),s},e.is=function(e){var t=e;return X.number(t.startLine)&&X.number(t.startLine)&&(X.undefined(t.startCharacter)||X.number(t.startCharacter))&&(X.undefined(t.endCharacter)||X.number(t.endCharacter))&&(X.undefined(t.kind)||X.string(t.kind))}}(d||(d={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return X.defined(t)&&s.is(t.location)&&X.string(t.message)}}(h||(h={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(p||(p={})),function(e){e.create=function(e,t,n,r,i,s){var o={range:e,message:t};return X.defined(n)&&(o.severity=n),X.defined(r)&&(o.code=r),X.defined(i)&&(o.source=i),X.defined(s)&&(o.relatedInformation=s),o},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&X.string(t.message)&&(X.number(t.severity)||X.undefined(t.severity))&&(X.number(t.code)||X.string(t.code)||X.undefined(t.code))&&(X.string(t.source)||X.undefined(t.source))&&(X.undefined(t.relatedInformation)||X.typedArray(t.relatedInformation,h.is))}}(f||(f={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return X.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.title)&&X.string(t.command)}}(m||(m={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return X.objectLiteral(t)&&X.string(t.newText)&&i.is(t.range)}}(g||(g={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return X.defined(t)&&C.is(t.textDocument)&&Array.isArray(t.edits)}}(y||(y={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&X.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||X.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||X.boolean(t.options.ignoreIfExists)))}}(v||(v={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&X.string(t.oldUri)&&X.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||X.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||X.boolean(t.options.ignoreIfExists)))}}(_||(_={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&X.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||X.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||X.boolean(t.options.ignoreIfNotExists)))}}(b||(b={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every(function(e){return X.string(e.kind)?v.is(e)||_.is(e)||b.is(e):y.is(e)}))}}(S||(S={}));var w,C,E,T,D,P,k,I,M,x,A,O,L,R,j,F,N,Y=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(g.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(g.replace(e,t))},e.prototype.delete=function(e){this.edits.push(g.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),B=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach(function(e){if(y.is(e)){var n=new Y(e.edits);t._textEditChanges[e.textDocument.uri]=n}}):e.changes&&Object.keys(e.changes).forEach(function(n){var r=new Y(e.changes[n]);t._textEditChanges[n]=r}))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(C.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new Y(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new Y(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(v.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(_.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.uri)}}(w||(w={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.uri)&&(null===t.version||X.number(t.version))}}(C||(C={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return X.defined(t)&&X.string(t.uri)&&X.string(t.languageId)&&X.number(t.version)&&X.string(t.text)}}(E||(E={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(T||(T={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(T||(T={})),function(e){e.is=function(e){var t=e;return X.objectLiteral(e)&&T.is(t.kind)&&X.string(t.value)}}(D||(D={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(P||(P={})),function(e){e.PlainText=1,e.Snippet=2}(k||(k={})),function(e){e.create=function(e){return{label:e}}}(I||(I={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(M||(M={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return X.string(t)||X.objectLiteral(t)&&X.string(t.language)&&X.string(t.value)}}(x||(x={})),function(e){e.is=function(e){var t=e;return!!t&&X.objectLiteral(t)&&(D.is(t.contents)||x.is(t.contents)||X.typedArray(t.contents,x.is))&&(void 0===e.range||i.is(e.range))}}(A||(A={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(O||(O={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return X.defined(t)&&(i.documentation=t),X.defined(n)?i.parameters=n:i.parameters=[],i}}(L||(L={})),function(e){e.Text=1,e.Read=2,e.Write=3}(R||(R={})),function(e){e.create=function(e,t){var n={range:e};return X.number(t)&&(n.kind=t),n}}(j||(j={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(F||(F={})),function(e){e.create=function(e,t,n,r,i){var s={name:e,kind:t,location:{uri:r,range:n}};return i&&(s.containerName=i),s}}(N||(N={}));var H,W,U,V,$,q=function(){};!function(e){e.create=function(e,t,n,r,i,s){var o={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==s&&(o.children=s),o},e.is=function(e){var t=e;return t&&X.string(t.name)&&X.number(t.kind)&&i.is(t.range)&&i.is(t.selectionRange)&&(void 0===t.detail||X.string(t.detail))&&(void 0===t.deprecated||X.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(q||(q={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(H||(H={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return X.defined(t)&&X.typedArray(t.diagnostics,f.is)&&(void 0===t.only||X.typedArray(t.only,X.string))}}(W||(W={})),function(e){e.create=function(e,t,n){var r={title:e};return m.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&X.string(t.title)&&(void 0===t.diagnostics||X.typedArray(t.diagnostics,f.is))&&(void 0===t.kind||X.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||m.is(t.command))&&(void 0===t.edit||S.is(t.edit))}}(U||(U={})),function(e){e.create=function(e,t){var n={range:e};return X.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&(X.undefined(t.command)||m.is(t.command))}}(V||(V={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return X.defined(t)&&X.number(t.tabSize)&&X.boolean(t.insertSpaces)}}($||($={}));var G=function(){};!function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return X.defined(t)&&i.is(t.range)&&(X.undefined(t.target)||X.string(t.target))}}(G||(G={}));var z,K,J=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,r){return new Q(e,t,n,r)},e.is=function(e){var t=e;return!!(X.defined(t)&&X.string(t.uri)&&(X.undefined(t.languageId)||X.string(t.languageId))&&X.number(t.lineCount)&&X.func(t.getText)&&X.func(t.positionAt)&&X.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),s=t.slice(r);e(i,n),e(s,n);for(var o=0,a=0,c=0;o<i.length&&a<s.length;){var l=n(i[o],s[a]);t[c++]=l<=0?i[o++]:s[a++]}for(;o<i.length;)t[c++]=i[o++];for(;a<s.length;)t[c++]=s[a++];return t}(t,function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),i=n.length,s=r.length-1;s>=0;s--){var o=r[s],a=e.offsetAt(o.range.start),c=e.offsetAt(o.range.end);if(!(c<=i))throw new Error("Overlapping edit");n=n.substring(0,a)+o.newText+n.substring(c,n.length),i=a}return n}}(z||(z={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(K||(K={}));var X,Q=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return r.create(0,e);for(;n<i;){var s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}var o=n-1;return r.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(X||(X={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(808),i=n(63),s=n(809);t.ImplementationRequest=s.ImplementationRequest;const o=n(810);t.TypeDefinitionRequest=o.TypeDefinitionRequest;const a=n(811);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const c=n(812);t.ConfigurationRequest=c.ConfigurationRequest;const l=n(813);t.DocumentColorRequest=l.DocumentColorRequest,t.ColorPresentationRequest=l.ColorPresentationRequest;const u=n(814);t.FoldingRangeRequest=u.FoldingRangeRequest;const d=n(815);t.DeclarationRequest=d.DeclarationRequest,function(e){e.is=function(e){let t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(t.DocumentFilter||(t.DocumentFilter={})),function(e){e.type=new i.RequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.RequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.type=new i.RequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.NotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.RequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.NotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.NotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.NotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.RequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.NotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.NotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.type=new i.NotificationType("textDocument/didOpen")}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didChange")}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didClose")}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didSave")}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/willSave")}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.type=new i.RequestType("textDocument/willSaveWaitUntil")}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.NotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.NotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.type=new i.RequestType("textDocument/completion")}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.type=new i.RequestType("completionItem/resolve")}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/hover")}(t.HoverRequest||(t.HoverRequest={})),function(e){e.type=new i.RequestType("textDocument/signatureHelp")}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.type=new i.RequestType("textDocument/definition")}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.type=new i.RequestType("textDocument/references")}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.type=new i.RequestType("textDocument/documentHighlight")}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.type=new i.RequestType("textDocument/documentSymbol")}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.type=new i.RequestType("workspace/symbol")}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.RequestType("textDocument/codeAction")}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.type=new i.RequestType("textDocument/codeLens")}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.RequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/formatting")}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rangeFormatting")}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/onTypeFormatting")}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rename")}(t.RenameRequest||(t.RenameRequest={})),function(e){e.type=new i.RequestType("textDocument/prepareRename")}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.RequestType("textDocument/documentLink")}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.RequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.type=new i.RequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.RequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function s(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=s,t.stringArray=function(e){return s(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63);!function(e){e.type=new r.RequestType("textDocument/implementation")}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63);!function(e){e.type=new r.RequestType("textDocument/typeDefinition")}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63);!function(e){e.type=new r.RequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.NotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63);!function(e){e.type=new r.RequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63);!function(e){e.type=new r.RequestType("textDocument/documentColor")}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.RequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.type=new r.RequestType("textDocument/foldingRange")}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(63);!function(e){e.type=new r.RequestType("textDocument/declaration")}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(52),s=n(70),o=n(339),a=n(340),c=n(341);t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function l(e){return{uri:t(e.uri)}}function u(e){return{uri:t(e.uri),version:e.version}}function d(e){switch(e){case r.TextDocumentSaveReason.Manual:return i.TextDocumentSaveReason.Manual;case r.TextDocumentSaveReason.AfterDelay:return i.TextDocumentSaveReason.AfterDelay;case r.TextDocumentSaveReason.FocusOut:return i.TextDocumentSaveReason.FocusOut}return i.TextDocumentSaveReason.Manual}function h(e){switch(e){case r.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}function p(e){return{line:e.line,character:e.character}}function f(e){if(void 0!==e)return null===e?null:{line:e.line,character:e.character}}function m(e){return null==e?e:{start:f(e.start),end:f(e.end)}}function g(e){switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}}function y(e){let t=i.Diagnostic.create(m(e.range),e.message);return s.number(e.severity)&&(t.severity=g(e.severity)),(s.number(e.code)||s.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),t}function v(e){return null==e?e:e.map(y)}function _(e){return{range:m(e.range),newText:e.newText}}function b(e){let t=i.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:n,asTextDocumentIdentifier:l,asVersionedTextDocumentIdentifier:u,asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map(e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}})}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:l(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:u(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:l(e.document),reason:d(e.reason)}},asTextDocumentPositionParams:function(e,t){return{textDocument:l(e),position:p(t)}},asCompletionParams:function(e,t,n){return{textDocument:l(e),position:p(t),context:{triggerKind:h(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asWorkerPosition:p,asRange:m,asPosition:f,asDiagnosticSeverity:g,asDiagnostic:y,asDiagnostics:v,asCompletionItem:function(e){let t={label:e.label},n=e instanceof o.default?e:void 0;var a,c,l;return e.detail&&(t.detail=e.detail),e.documentation&&(n&&"$string"!==n.documentationFormat?t.documentation=function(e,t){switch(e){case"$string":return t;case i.MarkupKind.PlainText:return{kind:e,value:t};case i.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(n.documentationFormat,e.documentation):t.documentation=e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let n,s=i.InsertTextFormat.PlainText,o=void 0;t.textEdit?(n=t.textEdit.newText,o=m(t.textEdit.range)):t.insertText instanceof r.SnippetString?(s=i.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(o=m(t.range)),e.insertTextFormat=s,t.fromEdit&&n&&o?e.textEdit={newText:n,range:o}:e.insertText=n}(t,e),s.number(e.kind)&&(t.kind=(a=e.kind,void 0!==(c=n&&n.originalItemKind)?c:a+1)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=null==(l=e.additionalTextEdits)?l:l.map(_)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=b(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),n&&(void 0!==n.data&&(t.data=n.data),!0!==n.deprecated&&!1!==n.deprecated||(t.deprecated=n.deprecated)),t},asTextEdit:_,asReferenceParams:function(e,t,n){return{textDocument:l(e),position:p(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeActionContext:function(e){return null==e?e:i.CodeActionContext.create(v(e.diagnostics),s.string(e.only)?[e.only]:void 0)},asCommand:b,asCodeLens:function(e){let t=i.CodeLens.create(m(e.range));return e.command&&(t.command=b(e.command)),e instanceof a.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}},asDocumentSymbolParams:function(e){return{textDocument:l(e)}},asCodeLensParams:function(e){return{textDocument:l(e)}},asDocumentLink:function(e){let t=i.DocumentLink.create(m(e.range));e.target&&(t.target=n(e.target));let r=e instanceof c.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:l(e)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(52),s=n(70),o=n(339),a=n(340),c=n(341);var l;!function(e){e.is=function(e){let t=e;return t&&s.string(t.language)&&s.string(t.value)}}(l||(l={})),t.createConverter=function(e){const t=e||(e=>r.Uri.parse(e));function n(e){return t(e)}function u(e){return e.map(d)}function d(e){let t=new r.Diagnostic(f(e.range),e.message,m(e.severity));return(s.number(e.code)||s.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(h)),t}function h(e){return new r.DiagnosticRelatedInformation(E(e.location),e.message)}function p(e){if(e)return new r.Position(e.line,e.character)}function f(e){if(e)return new r.Range(p(e.start),p(e.end))}function m(e){if(null==e)return r.DiagnosticSeverity.Error;switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}function g(e){if(s.string(e))return e;switch(e.kind){case i.MarkupKind.Markdown:return new r.MarkdownString(e.value);case i.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function y(e){let t=new o.default(e.label);e.detail&&(t.detail=e.detail),e.documentation&&(t.documentation=g(e.documentation),t.documentationFormat=s.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(t.filterText=e.filterText);let n=function(e){return e.textEdit?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.textEdit.newText),range:f(e.textEdit.range),fromEdit:!0}:{text:e.textEdit.newText,range:f(e.textEdit.range),fromEdit:!0}:e.insertText?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(n&&(t.insertText=n.text,t.range=n.range,t.fromEdit=n.fromEdit),s.number(e.kind)){let[n,s]=(a=e.kind,i.CompletionItemKind.Text<=a&&a<=i.CompletionItemKind.TypeParameter?[a-1,void 0]:[r.CompletionItemKind.Text,a]);t.kind=n,s&&(t.originalItemKind=s)}var a;return e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=_(e.additionalTextEdits)),s.stringArray(e.commitCharacters)&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=A(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(t.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),void 0!==e.data&&(t.data=e.data),t}function v(e){if(e)return new r.TextEdit(f(e.range),e.newText)}function _(e){if(e)return e.map(v)}function b(e){return e.map(S)}function S(e){let t=new r.SignatureInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),e.parameters&&(t.parameters=w(e.parameters)),t}function w(e){return e.map(C)}function C(e){let t=new r.ParameterInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),t}function E(e){if(e)return new r.Location(t(e.uri),f(e.range))}function T(e){if(e)return{targetUri:t(e.targetUri),targetRange:f(e.targetSelectionRange),originSelectionRange:f(e.originSelectionRange),targetSelectionRange:f(e.targetSelectionRange)}}function D(e){if(e)return s.array(e)?0===e.length?[]:i.LocationLink.is(e[0])?e.map(e=>T(e)):e.map(e=>E(e)):i.LocationLink.is(e)?[T(e)]:E(e)}function P(e){let t=new r.DocumentHighlight(f(e.range));return s.number(e.kind)&&(t.kind=k(e.kind)),t}function k(e){switch(e){case i.DocumentHighlightKind.Text:return r.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return r.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return r.DocumentHighlightKind.Write}return r.DocumentHighlightKind.Text}function I(e){return e<=i.SymbolKind.TypeParameter?e-1:r.SymbolKind.Property}function M(e,n){let i=new r.SymbolInformation(e.name,I(e.kind),f(e.location.range),e.location.uri?t(e.location.uri):n);return e.containerName&&(i.containerName=e.containerName),i}function x(e){let t=new r.DocumentSymbol(e.name,e.detail||"",I(e.kind),f(e.range),f(e.selectionRange));if(void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(x(t));t.children=n}return t}function A(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const O=new Map;function L(e){if(null==e)return;let t=O.get(e);if(t)return t;let n=e.split(".");t=r.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}function R(e){if(!e)return;let t=new a.default(f(e.range));return e.command&&(t.command=A(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}function j(e){if(!e)return;let n=new r.WorkspaceEdit;return e.documentChanges?e.documentChanges.forEach(e=>{i.CreateFile.is(e)?n.createFile(t(e.uri),e.options):i.RenameFile.is(e)?n.renameFile(t(e.oldUri),t(e.newUri),e.options):i.DeleteFile.is(e)?n.deleteFile(t(e.uri),e.options):i.TextDocumentEdit.is(e)?n.set(t(e.textDocument.uri),_(e.edits)):console.error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`)}):e.changes&&Object.keys(e.changes).forEach(r=>{n.set(t(r),_(e.changes[r]))}),n}function F(e){let t=f(e.range),r=e.target?n(e.target):void 0,i=new c.default(t,r);return void 0!==e.data&&null!==e.data&&(i.data=e.data),i}function N(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}function Y(e){return new r.ColorInformation(f(e.range),N(e.color))}function B(e){let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=_(e.additionalTextEdits),e.textEdit&&(t.textEdit=v(e.textEdit)),t}function H(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}function W(e){return new r.FoldingRange(e.startLine,e.endLine,H(e.kind))}return O.set("",r.CodeActionKind.Empty),O.set(i.CodeActionKind.QuickFix,r.CodeActionKind.QuickFix),O.set(i.CodeActionKind.Refactor,r.CodeActionKind.Refactor),O.set(i.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorExtract),O.set(i.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorInline),O.set(i.CodeActionKind.RefactorRewrite,r.CodeActionKind.RefactorRewrite),O.set(i.CodeActionKind.Source,r.CodeActionKind.Source),O.set(i.CodeActionKind.SourceOrganizeImports,r.CodeActionKind.SourceOrganizeImports),{asUri:n,asDiagnostics:u,asDiagnostic:d,asRange:f,asPosition:p,asDiagnosticSeverity:m,asHover:function(e){if(e)return new r.Hover(function(e){if(s.string(e))return new r.MarkdownString(e);if(l.is(e))return(new r.MarkdownString).appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=new r.MarkdownString;l.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}{let t;switch(e.kind){case i.MarkupKind.Markdown:return new r.MarkdownString(e.value);case i.MarkupKind.PlainText:return(t=new r.MarkdownString).appendText(e.value),t;default:return(t=new r.MarkdownString).appendText(`Unsupported Markup content received. Kind is: ${e.kind}`),t}}}(e.contents),f(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e))return e.map(y);let t=e;return new r.CompletionList(t.items.map(y),t.isIncomplete)},asCompletionItem:y,asTextEdit:v,asTextEdits:_,asSignatureHelp:function(e){if(!e)return;let t=new r.SignatureHelp;return s.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,s.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures&&(t.signatures=b(e.signatures)),t},asSignatureInformations:b,asSignatureInformation:S,asParameterInformations:w,asParameterInformation:C,asDeclarationResult:function(e){if(e)return D(e)},asDefinitionResult:function(e){if(e)return D(e)},asLocation:E,asReferences:function(e){if(e)return e.map(e=>E(e))},asDocumentHighlights:function(e){if(e)return e.map(P)},asDocumentHighlight:P,asDocumentHighlightKind:k,asSymbolInformations:function(e,t){if(e)return e.map(e=>M(e,t))},asSymbolInformation:M,asDocumentSymbols:function(e){if(null!=e)return e.map(x)},asDocumentSymbol:x,asCommand:A,asCommands:function(e){if(e)return e.map(A)},asCodeAction:function(e){if(null==e)return;let t=new r.CodeAction(e.title);return void 0!==e.kind&&(t.kind=L(e.kind)),e.diagnostics&&(t.diagnostics=u(e.diagnostics)),e.edit&&(t.edit=j(e.edit)),e.command&&(t.command=A(e.command)),t},asCodeActionKind:L,asCodeActionKinds:function(e){if(null!=e)return e.map(e=>L(e))},asCodeLens:R,asCodeLenses:function(e){if(e)return e.map(e=>R(e))},asWorkspaceEdit:j,asDocumentLink:F,asDocumentLinks:function(e){if(e)return e.map(F)},asFoldingRangeKind:H,asFoldingRange:W,asFoldingRanges:function(e){if(Array.isArray(e))return e.map(W)},asColor:N,asColorInformation:Y,asColorInformations:function(e){if(Array.isArray(e))return e.map(Y)},asColorPresentation:B,asColorPresentations:function(e){if(Array.isArray(e))return e.map(B)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(e=>{this.onSuccess=e}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e})),(t>=0||void 0===this.timeout)&&(this.timeout=setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),i=n(70),s=n(2),o=n(52),a=n(91);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.ColorProviderFeature=class extends a.TextDocumentFeature{constructor(e){super(e,o.DocumentColorRequest.type)}fillClientCapabilities(e){c(c(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){if(!e.colorProvider)return;const n=e.colorProvider,s=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),o=n.documentSelector||t;o&&this.register(this.messages,{id:s,registerOptions:Object.assign({},{documentSelector:o})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{const i={color:e,textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(n.document),range:t.code2ProtocolConverter.asRange(n.range)};return t.sendRequest(o.ColorPresentationRequest.type,i,r).then(this.asColorPresentations.bind(this),e=>(t.logFailedRequest(o.ColorPresentationRequest.type,e),Promise.resolve(null)))},r=(e,n)=>{const r={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(o.DocumentColorRequest.type,r,n).then(this.asColorInformations.bind(this),e=>(t.logFailedRequest(o.ColorPresentationRequest.type,e),Promise.resolve(null)))},i=t.clientOptions.middleware;return s.languages.registerColorProvider(e.documentSelector,{provideColorPresentations:(e,t,r)=>i.provideColorPresentations?i.provideColorPresentations(e,t,r,n):n(e,t,r),provideDocumentColors:(e,t)=>i.provideDocumentColors?i.provideDocumentColors(e,t,r):r(e,t)})}asColor(e){return new s.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(e=>new s.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(e=>{let t=new s.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t}):[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(52);t.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(i.ConfigurationRequest.type,(t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},i=e.clientOptions.middleware.workspace;return i&&i.configuration?i.configuration(t,n,r):r(t)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(-1===i)n=r.workspace.getConfiguration(void 0,e).get(t);else{let e=r.workspace.getConfiguration(t.substr(0,i));e&&(n=e.get(t.substr(i+1)))}}else{let t=r.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=t.get(e))}return n||null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),i=n(70),s=n(2),o=n(52),a=n(91);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.ImplementationFeature=class extends a.TextDocumentFeature{constructor(e){super(e,o.ImplementationRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.implementationProvider)if(!0===e.implementationProvider){if(!t)return;this.register(this.messages,{id:r.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.implementationProvider,s=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),o=n.documentSelector||t;o&&this.register(this.messages,{id:s,registerOptions:Object.assign({},{documentSelector:o})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(o.ImplementationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(o.ImplementationRequest.type,e),Promise.resolve(null))),r=t.clientOptions.middleware;return s.languages.registerImplementationProvider(e.documentSelector,{provideImplementation:(e,t,i)=>r.provideImplementation?r.provideImplementation(e,t,i,n):n(e,t,i)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),i=n(70),s=n(2),o=n(52),a=n(91);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.TypeDefinitionFeature=class extends a.TextDocumentFeature{constructor(e){super(e,o.TypeDefinitionRequest.type)}fillClientCapabilities(e){c(c(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=c(c(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.typeDefinitionProvider)if(!0===e.typeDefinitionProvider){if(!t)return;this.register(this.messages,{id:r.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.typeDefinitionProvider,s=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),o=n.documentSelector||t;o&&this.register(this.messages,{id:s,registerOptions:Object.assign({},{documentSelector:o})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(o.TypeDefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(o.TypeDefinitionRequest.type,e),Promise.resolve(null))),r=t.clientOptions.middleware;return s.languages.registerTypeDefinitionProvider(e.documentSelector,{provideTypeDefinition:(e,t,i)=>r.provideTypeDefinition?r.provideTypeDefinition(e,t,i,n):n(e,t,i)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),i=n(2),s=n(52);function o(e,t){if(void 0!==e)return e[t]}t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get messages(){return s.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=i.workspace.workspaceFolders;e.workspaceFolders=void 0===t?null:t.map(e=>this.asProtocol(e))}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(s.WorkspaceFoldersRequest.type,e=>{let n=()=>{let e=i.workspace.workspaceFolders;return void 0===e?null:e.map(e=>this.asProtocol(e))},r=t.clientOptions.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()});let n,a=o(o(o(e,"workspace"),"workspaceFolders"),"changeNotifications");"string"==typeof a?n=a:!0===a&&(n=r.generateUuid()),n&&this.register(this.messages,{id:n,registerOptions:void 0})}register(e,t){let n=t.id,r=this._client,o=i.workspace.onDidChangeWorkspaceFolders(e=>{let t=e=>{let t={event:{added:e.added.map(e=>this.asProtocol(e)),removed:e.removed.map(e=>this.asProtocol(e))}};this._client.sendNotification(s.DidChangeWorkspaceFoldersNotification.type,t)},n=r.clientOptions.middleware.workspace;n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(e,t):t(e)});this._listeners.set(n,o)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),i=n(70),s=n(2),o=n(52),a=n(91);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.FoldingRangeFeature=class extends a.TextDocumentFeature{constructor(e){super(e,o.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){if(!e.foldingRangeProvider)return;const n=e.foldingRangeProvider,s=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),o=n.documentSelector||t;o&&this.register(this.messages,{id:s,registerOptions:Object.assign({},{documentSelector:o})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{const i={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(o.FoldingRangeRequest.type,i,r).then(this.asFoldingRanges.bind(this),e=>(t.logFailedRequest(o.FoldingRangeRequest.type,e),Promise.resolve(null)))},r=t.clientOptions.middleware;return s.languages.registerFoldingRangeProvider(e.documentSelector,{provideFoldingRanges:(e,t,i)=>r.provideFoldingRanges?r.provideFoldingRanges(e,t,i,n):n(e,0,i)})}asFoldingRangeKind(e){if(e)switch(e){case o.FoldingRangeKind.Comment:return s.FoldingRangeKind.Comment;case o.FoldingRangeKind.Imports:return s.FoldingRangeKind.Imports;case o.FoldingRangeKind.Region:return s.FoldingRangeKind.Region}}asFoldingRanges(e){return Array.isArray(e)?e.map(e=>new s.FoldingRange(e.startLine,e.endLine,this.asFoldingRangeKind(e.kind))):[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(92),i=n(70),s=n(2),o=n(52),a=n(91);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.DeclarationFeature=class extends a.TextDocumentFeature{constructor(e){super(e,o.DeclarationRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.declarationProvider)if(!0===e.declarationProvider){if(!t)return;this.register(this.messages,{id:r.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.declarationProvider,s=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),o=n.documentSelector||t;o&&this.register(this.messages,{id:s,registerOptions:Object.assign({},{documentSelector:o})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(o.DeclarationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDeclarationResult,e=>(t.logFailedRequest(o.DeclarationRequest.type,e),Promise.resolve(null))),r=t.clientOptions.middleware;return s.languages.registerDeclarationProvider(e.documentSelector,{provideDeclaration:(e,t,i)=>r.provideDeclaration?r.provideDeclaration(e,t,i,n):n(e,t,i)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59),i=n(3),s="win32"===process.platform,o="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(s)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),r.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!o)return e.kill("SIGKILL"),!0;try{var n=i.join(__dirname,"terminateProcess.sh");return!r.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(10);let c=class{async shouldLookForNewLanguageServer(e){return!0}};c=r([s.injectable()],c),t.DownloadDailyChannelRule=c;let l=class{async shouldLookForNewLanguageServer(e){return!e}};l=r([s.injectable()],l),t.DownloadStableChannelRule=l;let u=class{constructor(e){this.serviceContainer=e}async shouldLookForNewLanguageServer(e){const t=this.serviceContainer.get(o.IPersistentStateFactory).createGlobalPersistentState("LS.LAST.CHECK.TIME",!0,864e5);return t.value?(await t.updateValue(!1),!0):!e||t.value}};u=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],u),t.DownloadBetaChannelRule=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4);n(7);const l=n(8),u=n(1),d=n(17),h=n(12),p=n(24),f=n(9),m=n(11),g=n(29);let y=class{constructor(e,t,n,r,i,s,o){this.platformData=e,this.lsOutputChannel=t,this.fileDownloader=n,this.lsFolderService=r,this.appShell=i,this.fs=s,this.workspace=o,this.output=this.lsOutputChannel.channel}async getDownloadInfo(e){const t=await this.lsFolderService.getLatestLanguageServerVersion(e).then(e=>e);let n=t.uri;if(n.startsWith("https:")){this.workspace.getConfiguration("http",e).get("proxyStrictSSL",!0)||(n=n.replace(/^https:/,"http:"))}return[n,t.version.raw]}async downloadLanguageServer(e,t){const[n,r]=await this.getDownloadInfo(t),i=new p.StopWatch;let s=!0,o="";try{o=await this.downloadFile(n,"Downloading Microsoft Python Language Server... ")}catch(e){throw this.output.appendLine(h.LanguageService.downloadFailedOutputMessage()),this.output.appendLine(e),s=!1,this.showMessageAndOptionallyShowOutput(h.LanguageService.lsFailedToDownload()).ignoreErrors(),f.sendTelemetryEvent(m.EventName.PYTHON_LANGUAGE_SERVER_ERROR,void 0,{error:"Failed to download (platform)"},e),new Error(e)}finally{const e=n.startsWith("https:");f.sendTelemetryEvent(m.EventName.PYTHON_LANGUAGE_SERVER_DOWNLOADED,i.elapsedTime,{success:s,lsVersion:r,usedSSL:e})}i.reset();try{await this.unpackArchive(e,o)}catch(e){throw this.output.appendLine(h.LanguageService.extractionFailedOutputMessage()),this.output.appendLine(e),s=!1,this.showMessageAndOptionallyShowOutput(h.LanguageService.lsFailedToExtract()).ignoreErrors(),f.sendTelemetryEvent(m.EventName.PYTHON_LANGUAGE_SERVER_ERROR,void 0,{error:"Failed to extract (platform)"},e),new Error(e)}finally{f.sendTelemetryEvent(m.EventName.PYTHON_LANGUAGE_SERVER_EXTRACTED,i.elapsedTime,{success:s,lsVersion:r}),await this.fs.deleteFile(o)}}async showMessageAndOptionallyShowOutput(e){await this.appShell.showErrorMessage(e,h.Common.openOutputPanel())===h.Common.openOutputPanel()&&this.output.show(!0)}async downloadFile(e,t){const n={extension:".nupkg",outputChannel:this.output,progressMessagePrefix:t};return this.fileDownloader.downloadFile(e,n).then(e=>(this.output.appendLine(h.LanguageService.extractionCompletedOutputMessage()),e))}async unpackArchive(e,t){this.output.append("Unpacking archive... ");const r=d.createDeferred();await a.window.withProgress({location:a.ProgressLocation.Window},i=>{const s=new(n(829))({file:t,storeEntries:!0});let o=0,a=0;return s.on("ready",async()=>{o=s.entriesCount,await this.fs.directoryExists(e)||await this.fs.createDirectory(e),s.extract(null,e,e=>{e?r.reject(e):r.resolve(),s.close()})}).on("extract",()=>{a+=1,i.report({message:`Extracting files... ${Math.round(100*a/o)}%`})}).on("error",e=>{r.reject(e)}),r.promise});const i=o.join(e,this.platformData.engineExecutableName);await this.fs.chmod(i,"0764"),this.output.appendLine(h.LanguageService.extractionDoneOutputMessage())}};y=r([s.injectable(),i(0,s.inject(g.IPlatformData)),i(1,s.inject(g.ILanguageServerOutputChannel)),i(2,s.inject(u.IFileDownloader)),i(3,s.inject(g.ILanguageServerFolderService)),i(4,s.inject(c.IApplicationShell)),i(5,s.inject(l.IFileSystem)),i(6,s.inject(c.IWorkspaceService))],y),t.LanguageServerDownloader=y},function(e,t){e.exports=require("./node_modules/node-stream-zip")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(13),c=n(1),l=n(81),u=n(155),d=n(29);let h=class{constructor(e,t,n,r,i){this.downloadedFactory=e,this.simpleFactory=t,this.configurationService=n,this.envVarsProvider=r,this.environmentActivationService=i}async createLanguageClient(e,t){const n=this.configurationService.getSettings(e).downloadLanguageServer?this.downloadedFactory:this.simpleFactory,r=await this.getEnvVars(e);return n.createLanguageClient(e,t,r)}async getEnvVars(e){const t=await this.environmentActivationService.getActivatedEnvironmentVariables(e);return t&&Object.keys(t).length>0?t:this.envVarsProvider.getEnvironmentVariables(e)}};h=r([s.injectable(),i(0,s.inject(d.ILanguageClientFactory)),i(0,s.named(d.LanguageClientFactory.downloaded)),i(1,s.inject(d.ILanguageClientFactory)),i(1,s.named(d.LanguageClientFactory.simple)),i(2,s.inject(c.IConfigurationService)),i(3,s.inject(l.IEnvironmentVariablesProvider)),i(4,s.inject(u.IEnvironmentActivationService))],h),t.BaseLanguageClientFactory=h;let p=class{constructor(e,t){this.platformData=e,this.languageServerFolderService=t}async createLanguageClient(e,t,r){const i=await this.languageServerFolderService.getLanguageServerFolderName(e),s=o.join(a.EXTENSION_ROOT_DIR,i,this.platformData.engineExecutableName),c={stdio:"pipe",env:r},l={run:{command:s,args:[],options:c},debug:{command:s,args:["--debug"],options:c}};return new(n(152).LanguageClient)(a.PYTHON_LANGUAGE,"Python Tools",l,t)}};p=r([s.injectable(),i(0,s.inject(d.IPlatformData)),i(1,s.inject(d.ILanguageServerFolderService))],p),t.DownloadedLanguageClientFactory=p;let f=class{constructor(e,t){this.platformData=e,this.languageServerFolderService=t}async createLanguageClient(e,t,r){const i=await this.languageServerFolderService.getLanguageServerFolderName(e),s={stdio:"pipe",env:r},c=o.join(a.EXTENSION_ROOT_DIR,i,this.platformData.engineDllName),l={run:{command:"dotnet",args:[c],options:s},debug:{command:"dotnet",args:[c,"--debug"],options:s}};return new(n(152).LanguageClient)(a.PYTHON_LANGUAGE,"Python Tools",l,t)}};f=r([s.injectable(),i(0,s.inject(d.IPlatformData)),i(1,s.inject(d.ILanguageServerFolderService))],f),t.SimpleLanguageClientFactory=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4);n(7);const a=n(6),c=n(1),l=n(17),u=n(31),d=n(16),h=n(337),p=n(9),f=n(11),m=n(21),g=n(29),y=n(832),v=n(833);let _=class{constructor(e,t,n,r){this.factory=e,this.testManager=t,this.configurationService=n,this.commandManager=r,this.disposables=[],this.extensionLoadedArgs=new Set,this.disposed=!1,this.startupCompleted=l.createDeferred()}dispose(){for(this.languageClient&&(this.languageClient.stop().then(d.noop,e=>a.traceError("Stopping language client failed",e)),this.languageClient=void 0);this.disposables.length>0;){this.disposables.shift().dispose()}this.startupCompleted.completed&&(this.startupCompleted.reject(new Error("Disposed Language Server")),this.startupCompleted=l.createDeferred()),this.disposed=!0}async start(e,t){if(this.languageClient)await this.startupCompleted.promise;else{if(this.languageClient=await this.factory.createLanguageClient(e,t),this.disposables.push(this.languageClient.start()),await this.serverReady(),this.disposed)return;const n=new v.ProgressReporting(this.languageClient);this.disposables.push(n),this.configurationService.getSettings(e).downloadLanguageServer&&this.languageClient.onTelemetry(e=>{const t=e.EventName||f.EventName.PYTHON_LANGUAGE_SERVER_TELEMETRY;p.sendTelemetryEvent(t,e.Measurements,e.Properties)}),this.registerCommands(),await this.registerTestServices()}}loadExtension(e){this.extensionLoadedArgs.has(e||"")||(this.extensionLoadedArgs.add(e||""),this.startupCompleted.promise.then(()=>this.languageClient.sendRequest("python/loadExtension",e).then(d.noop,e=>a.traceError("Request python/loadExtension failed",e))).ignoreErrors())}async serverReady(){for(;this.languageClient&&!this.languageClient.initializeResult;)await l.sleep(100);this.startupCompleted.resolve()}async registerTestServices(){if(!this.languageClient)throw new Error("languageClient not initialized");await this.testManager.activate(new h.LanguageServerSymbolProvider(this.languageClient))}registerCommands(){const e=this.commandManager.registerCommand(y.Commands.ClearAnalyisCache,this.onClearAnalysisCache,this);this.disposables.push(e)}onClearAnalysisCache(){this.languageClient.sendRequest("python/clearAnalysisCache").then(d.noop,e=>a.traceError("Request python/clearAnalysisCache failed",e))}};r([a.traceDecorators.verbose("Stopping Language Server")],_.prototype,"dispose",null),r([a.traceDecorators.error("Failed to start language server"),p.captureTelemetry(f.EventName.PYTHON_LANGUAGE_SERVER_ENABLED,void 0,!0)],_.prototype,"start",null),r([a.traceDecorators.error("Failed to load Language Server extension")],_.prototype,"loadExtension",null),r([p.captureTelemetry(f.EventName.PYTHON_LANGUAGE_SERVER_READY,void 0,!0)],_.prototype,"serverReady",null),r([u.swallowExceptions("Activating Unit Tests Manager for Language Server")],_.prototype,"registerTestServices",null),_=r([s.injectable(),i(0,s.inject(g.ILanguageClientFactory)),i(0,s.named(g.LanguageClientFactory.base)),i(1,s.inject(m.ITestManagementService)),i(2,s.inject(c.IConfigurationService)),i(3,s.inject(o.ICommandManager))],_),t.LanguageServer=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ClearAnalyisCache="python.analysis.clearCache"}(t.Commands||(t.Commands={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(17);t.ProgressReporting=class{constructor(e){this.languageClient=e,this.languageClient.onNotification("python/setStatusBarMessage",e=>{this.statusBarMessage&&this.statusBarMessage.dispose(),this.statusBarMessage=r.window.setStatusBarMessage(e)}),this.languageClient.onNotification("python/beginProgress",e=>{this.progressDeferred||this.beginProgress()}),this.languageClient.onNotification("python/reportProgress",e=>{this.progress||this.beginProgress(),this.progress.report({message:e})}),this.languageClient.onNotification("python/endProgress",e=>{this.progressDeferred&&(this.progressDeferred.resolve(),this.progressDeferred=void 0,this.progress=void 0)})}dispose(){this.statusBarMessage&&this.statusBarMessage.dispose()}beginProgress(){this.progressDeferred=i.createDeferred(),r.window.withProgress({location:r.ProgressLocation.Window,title:""},e=>(this.progress=e,this.progressDeferred.promise))}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(219),a=n(6),c=n(9),l=n(11);let u=class{constructor(e){this.dotnetCompatibility=e}async isSupported(){try{const e=await this.dotnetCompatibility.isSupported();return c.sendTelemetryEvent(l.EventName.PYTHON_LANGUAGE_SERVER_PLATFORM_SUPPORTED,void 0,{supported:e}),e}catch(e){return a.traceError("Unable to determine whether LS is supported",e),c.sendTelemetryEvent(l.EventName.PYTHON_LANGUAGE_SERVER_PLATFORM_SUPPORTED,void 0,{supported:!1,failureType:"UnknownError"}),!1}}};u=r([s.injectable(),i(0,s.inject(o.IDotNetCompatibilityService))],u),t.LanguageServerCompatibilityService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4);n(7);let c=class{constructor(e){this.commandManager=e,this._invoked=new o.EventEmitter}dispose(){this.disposable&&this.disposable.dispose()}async register(){this.disposable||(this.disposable=this.commandManager.registerCommand("python._loadLanguageServerExtension",e=>{this.loadExtensionArgs=e,this._invoked.fire()}))}get invoked(){return this._invoked.event}};c=r([s.injectable(),i(0,s.inject(a.ICommandManager))],c),t.LanguageServerExtension=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(49),c=n(13),l=n(6),u=n(8),d=n(1),h=n(10),p=n(29);let f=class{constructor(e){this.serviceContainer=e}async getLanguageServerFolderName(e){const t=await this.getCurrentLanguageServerDirectory();let n;const r=await this.shouldLookForNewLanguageServer(t);return t&&!r?o.basename(t.path):(n=await this.getLatestLanguageServerVersion(e).catch(()=>void 0),t&&(!n||n.version.compare(t.version)<=0)?o.basename(t.path):`languageServer.${n.version.raw}`)}getLatestLanguageServerVersion(e){return this.serviceContainer.get(p.ILanguageServerPackageService).getLatestNugetPackageVersion(e)}async shouldLookForNewLanguageServer(e){const t=this.serviceContainer.get(d.IConfigurationService),n=t.getSettings().autoUpdateLanguageServer,r=t.getSettings().downloadLanguageServer;if(e&&(!n||!r))return!1;const i=this.getDownloadChannel();return this.serviceContainer.get(p.IDownloadChannelRule,i).shouldLookForNewLanguageServer(e)}async getCurrentLanguageServerDirectory(){if(!this.serviceContainer.get(d.IConfigurationService).getSettings().downloadLanguageServer)return{path:"languageServer",version:new a.SemVer("0.0.0")};const e=await this.getExistingLanguageServerDirectories();return 0!==e.length?(e.sort((e,t)=>e.version.compare(t.version)),e[e.length-1]):void 0}async getExistingLanguageServerDirectories(){const e=this.serviceContainer.get(u.IFileSystem);return(await e.getSubDirectories(c.EXTENSION_ROOT_DIR)).filter(e=>o.basename(e).startsWith("languageServer")).map(e=>({path:e,version:this.getFolderVersion(o.basename(e))}))}getFolderVersion(e){const t=e.substring("languageServer".length+1);return 0===t.length?new a.SemVer("0.0.0"):a.parse(t,!0)||new a.SemVer("0.0.0")}getDownloadChannel(){return this.serviceContainer.get(p.ILanguageServerPackageService).getLanguageServerDownloadChannel()}};r([l.traceDecorators.verbose("Get language server folder name")],f.prototype,"getLanguageServerFolderName",null),r([l.traceDecorators.verbose("Get latest version of Language Server")],f.prototype,"getLatestLanguageServerVersion",null),f=r([s.injectable(),i(0,s.inject(h.IServiceContainer))],f),t.LanguageServerFolderService=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(9),c=n(11),l=n(4),u=n(6),d=n(145);let h=class{constructor(e,t,r,i,s=async function(e){return(await Promise.resolve().then(()=>n(838))).createBlobServiceAnonymous(e)}){this.serviceContainer=e,this.azureBlobStorageAccount=t,this.azureBlobStorageContainer=r,this.azureCDNBlobStorageAccount=i,this.getBlobStore=s}async getPackages(e,t){return this.listPackages(this.azureBlobStorageAccount,this.azureBlobStorageContainer,e,this.azureCDNBlobStorageAccount,t)}async listPackages(e,t,n,r,i){const s=await this.listBlobStoreCatalog(this.fixBlobStoreURI(e,i),t,n),o=this.serviceContainer.get(d.INugetService);return s.map(e=>({package:e.name,uri:`${r}/${t}/${e.name}`,version:o.getVersionFromPackageFileName(e.name)}))}async listBlobStoreCatalog(e,t,n){const r=await this.getBlobStore(e);return new Promise((e,i)=>{r.listBlobsSegmentedWithPrefix(t,n,void 0,(t,n)=>{if(t)return i(t);e(n.entries)})})}fixBlobStoreURI(e,t){if(!e.startsWith("https:"))return e;return this.serviceContainer.get(l.IWorkspaceService).getConfiguration("http",t).get("proxyStrictSSL",!0)?e:e.replace(/^https:/,"http:")}};r([a.captureTelemetry(c.EventName.PYTHON_LANGUAGE_SERVER_LIST_BLOB_STORE_PACKAGES),u.traceDecorators.verbose("Listing Nuget Packages")],h.prototype,"listPackages",null),h=r([s.injectable(),i(0,s.inject(o.IServiceContainer)),i(1,s.unmanaged()),i(2,s.unmanaged()),i(3,s.unmanaged())],h),t.AzureBlobStoreNugetRepository=h},function(e,t){e.exports=require("./node_modules/azure-storage")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(49),a=n(4),c=n(13),l=n(6),u=n(145),d=n(8),h=n(1),p=n(35),f=n(10),m=n(29),g=n(342);t.maxMajorVersion=0,t.PackageNames={[m.PlatformName.Windows32Bit]:`Python-Language-Server-${m.PlatformName.Windows32Bit}`,[m.PlatformName.Windows64Bit]:`Python-Language-Server-${m.PlatformName.Windows64Bit}`,[m.PlatformName.Linux64Bit]:`Python-Language-Server-${m.PlatformName.Linux64Bit}`,[m.PlatformName.Mac64Bit]:`Python-Language-Server-${m.PlatformName.Mac64Bit}`};let y=class{constructor(e,n,r){this.serviceContainer=e,this.appEnv=n,this.platform=r,this.maxMajorVersion=t.maxMajorVersion}getNugetPackageName(){switch(this.platform.osType){case p.OSType.Windows:return t.PackageNames[this.platform.is64bit?m.PlatformName.Windows64Bit:m.PlatformName.Windows32Bit];case p.OSType.OSX:return t.PackageNames[m.PlatformName.Mac64Bit];default:return t.PackageNames[m.PlatformName.Linux64Bit]}}async getLatestNugetPackageVersion(e){const t=this.getLanguageServerDownloadChannel(),n=this.serviceContainer.get(u.INugetRepository,t),r=this.getNugetPackageName();l.traceVerbose(`Listing packages for ${t} for ${r}`);const i=await n.getPackages(r,e);return this.getValidPackage(i)}getLanguageServerDownloadChannel(){const e=this.serviceContainer.get(h.IConfigurationService).getSettings();return e.analysis.downloadChannel?e.analysis.downloadChannel:"daily"===e.insidersChannel||"weekly"===e.insidersChannel?"beta":this.isAlphaVersionOfExtension()?"beta":"stable"}isAlphaVersionOfExtension(){const e=this.serviceContainer.get(h.IExtensions).getExtension(c.PVSC_EXTENSION_ID),t=o.parse(e.packageJSON.version);return t.prerelease.length>0&&"alpha"===t.prerelease[0]}getValidPackage(e){const t=this.serviceContainer.get(u.INugetService),n=e.filter(e=>e.version.major===this.maxMajorVersion).filter(e=>t.isReleaseVersion(e.version)).sort((e,t)=>e.version.compare(t.version)),r=n[n.length-1],i=this.appEnv.packageJson.languageServerVersion;return r.version.compare(i)>=0?n[n.length-1]:{version:new o.SemVer(i),package:g.LanguageServerPackageStorageContainers.stable,uri:`${g.azureCDNBlobStorageAccount}/${g.LanguageServerPackageStorageContainers.stable}/${this.getNugetPackageName()}.${i}.nupkg`}}};r([l.traceDecorators.verbose("Get latest language server nuget package version")],y.prototype,"getLatestNugetPackageVersion",null),y=r([s.injectable(),i(0,s.inject(f.IServiceContainer)),i(1,s.inject(a.IApplicationEnvironment)),i(2,s.inject(d.IPlatformService))],y),t.LanguageServerPackageService=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0);n(7);const o=n(6),a=n(31),c=n(10),l=n(9),u=n(11),d=n(29);let h=class{constructor(e,t,n){this.serviceContainer=e,this.analysisOptions=t,this.lsExtension=n,this.disposables=[]}dispose(){this.languageServer&&this.languageServer.dispose(),this.disposables.forEach(e=>e.dispose())}async start(e){if(this.languageServer)throw new Error("Language Server already started");this.registerCommandHandler(),this.resource=e,this.analysisOptions.onDidChange(this.restartLanguageServerDebounced,this,this.disposables),await this.analysisOptions.initialize(e),await this.startLanguageServer()}registerCommandHandler(){this.lsExtension.invoked(this.loadExtensionIfNecessary,this,this.disposables)}loadExtensionIfNecessary(){this.languageServer&&this.lsExtension.loadExtensionArgs&&this.languageServer.loadExtension(this.lsExtension.loadExtensionArgs)}restartLanguageServerDebounced(){this.restartLanguageServer().ignoreErrors()}async restartLanguageServer(){this.languageServer&&this.languageServer.dispose(),await this.startLanguageServer()}async startLanguageServer(){this.languageServer=this.serviceContainer.get(d.ILanguageServer);const e=await this.analysisOptions.getAnalysisOptions();await this.languageServer.start(this.resource,e),this.loadExtensionIfNecessary()}};r([o.traceDecorators.error("Failed to start Language Server")],h.prototype,"start",null),r([a.debounceSync(1e3)],h.prototype,"restartLanguageServerDebounced",null),r([o.traceDecorators.error("Failed to restart Language Server"),o.traceDecorators.verbose("Restarting Language Server")],h.prototype,"restartLanguageServer",null),r([l.captureTelemetry(u.EventName.PYTHON_LANGUAGE_SERVER_STARTUP,void 0,!0),o.traceDecorators.verbose("Starting Language Server")],h.prototype,"startLanguageServer",null),h=r([s.injectable(),i(0,s.inject(c.IServiceContainer)),i(1,s.inject(d.ILanguageServerAnalysisOptions)),i(2,s.inject(d.ILanguageServerExtension))],h),t.LanguageServerManager=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4);n(7);const a=n(12);let c=class{constructor(e,t){this.appShell=e,this.commandManager=t,this.registered=!1}get channel(){return this.output||(this.output=this.appShell.createOutputChannel(a.OutputChannelNames.languageServer()),this.registerCommand().ignoreErrors()),this.output}async registerCommand(){this.registered||(this.registered=!0,await this.commandManager.executeCommand("setContext","python.hasLanguageServerOutputChannel",!0),this.commandManager.registerCommand("python.viewLanguageServerOutput",()=>this.output.show(!0)))}};c=r([s.injectable(),i(0,s.inject(o.IApplicationShell)),i(1,s.inject(o.ICommandManager))],c),t.LanguageServerOutputChannel=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8);var a,c;!function(e){e.Windows32Bit="win-x86",e.Windows64Bit="win-x64",e.Mac64Bit="osx-x64",e.Linux64Bit="linux-x64"}(a=t.PlatformName||(t.PlatformName={})),function(e){e.Windows="Microsoft.Python.LanguageServer.exe",e.MacOS="Microsoft.Python.LanguageServer",e.Linux="Microsoft.Python.LanguageServer"}(c=t.PlatformLSExecutables||(t.PlatformLSExecutables={}));let l=class{constructor(e){this.platform=e}get platformName(){if(this.platform.isWindows)return this.platform.is64bit?a.Windows64Bit:a.Windows32Bit;if(this.platform.isMac)return a.Mac64Bit;if(this.platform.isLinux){if(!this.platform.is64bit)throw new Error("Microsoft Python Language Server does not support 32-bit Linux.");return a.Linux64Bit}throw new Error("Unknown OS platform.")}get engineDllName(){return"Microsoft.Python.LanguageServer.dll"}get engineExecutableName(){return this.platform.isWindows?c.Windows:this.platform.isLinux?c.Linux:this.platform.isMac?c.MacOS:"unknown-platform"}};l=r([s.injectable(),i(0,s.inject(o.IPlatformService))],l),t.PlatformData=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(78),i=n(6),s=n(844);t.buildApi=function(e,t,n,o){return{ready:e.catch(e=>(i.traceError("Failure during activation.",e),Promise.reject(e))),debug:{async getRemoteLauncherCommand(e,i,a=!0){const c=o.getSettings(void 0);if(!t.inExperiment(r.DebugAdapterDescriptorFactory.experiment)||!await n.useNewPtvsd(c.pythonPath))return(new s.RemoteDebuggerExternalLauncherScriptProvider).getLauncherArgs({host:e,port:i,waitUntilDebuggerAttaches:a});const l=n.getRemotePtvsdArgs({host:e,port:i,waitUntilDebuggerAttaches:a});return[n.getPtvsdPath(),...l]}}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(13),c=o.join(a.EXTENSION_ROOT_DIR,"pythonFiles","ptvsd_launcher.py");let l=class{constructor(e=c){this.script=e}getLauncherArgs(e){const t=e.customDebugger?"--custom":"--default";return[this.script,t,"--nodebug","--client","--host",e.host,"--port",e.port.toString()]}};l=r([i(0,s.optional())],l),t.NoDebugLauncherScriptProvider=l;let u=class{constructor(e=c){this.script=e}getLauncherArgs(e){const t=e.customDebugger?"--custom":"--default";return[this.script,t,"--client","--host",e.host,"--port",e.port.toString()]}};u=r([i(0,s.optional())],u),t.DebuggerLauncherScriptProvider=u;let d=class{constructor(e=c){this.script=e}getLauncherArgs(e){const t=e.waitUntilDebuggerAttaches?["--wait"]:[];return[this.script.fileToCommandArgument(),"--default","--host",e.host,"--port",e.port.toString()].concat(t)}};d=r([i(0,s.optional())],d),t.RemoteDebuggerExternalLauncherScriptProvider=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(846),i=n(858),s=n(38);t.registerTypes=function(e){e.addSingleton(s.ISourceMapSupportService,i.SourceMapSupportService),r.registerTypes(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(210),i=n(847),s=n(848),o=n(849),a=n(343),c=n(320),l=n(850),u=n(344),d=n(852),h=n(853),p=n(87),f=n(857),m=n(79),g=n(38);t.registerTypes=function(e){e.addSingleton(g.IDiagnosticFilterService,f.DiagnosticFilterService),e.addSingleton(g.IDiagnosticHandlerService,m.DiagnosticCommandPromptHandlerService,m.DiagnosticCommandPromptHandlerServiceId),e.addSingleton(g.IDiagnosticsService,s.EnvironmentPathVariableDiagnosticsService,s.EnvironmentPathVariableDiagnosticsServiceId),e.addSingleton(g.IDiagnosticsService,o.InvalidLaunchJsonDebuggerService,o.InvalidLaunchJsonDebuggerServiceId),e.addSingleton(g.IDiagnosticsService,d.InvalidPythonInterpreterService,d.InvalidPythonInterpreterServiceId),e.addSingleton(g.IDiagnosticsService,a.InvalidPythonPathInDebuggerService,a.InvalidPythonPathInDebuggerServiceId),e.addSingleton(g.IDiagnosticsService,c.LSNotSupportedDiagnosticService,c.LSNotSupportedDiagnosticServiceId),e.addSingleton(g.IDiagnosticsService,u.PowerShellActivationHackDiagnosticsService,u.PowerShellActivationHackDiagnosticsServiceId),e.addSingleton(g.IDiagnosticsService,l.InvalidMacPythonInterpreterService,l.InvalidMacPythonInterpreterServiceId),e.addSingleton(p.IDiagnosticsCommandFactory,h.DiagnosticsCommandFactory),e.addSingleton(r.IApplicationDiagnostics,i.ApplicationDiagnostics)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(13),c=n(1),l=n(10),u=n(38);let d=class{constructor(e,t){this.serviceContainer=e,this.outputChannel=t}register(){this.serviceContainer.get(u.ISourceMapSupportService).register()}async performPreStartupHealthCheck(e){if(a.isTestExecution())return;const t=this.serviceContainer.getAll(u.IDiagnosticsService);await this.runDiagnostics(t.filter(e=>!e.runInBackground),e),this.runDiagnostics(t.filter(e=>e.runInBackground),e).ignoreErrors()}async runDiagnostics(e,t){await Promise.all(e.map(async e=>{const n=await e.diagnose(t);n.length>0&&(this.log(n),await e.handle(n))}))}log(e){const t=this.serviceContainer.get(c.ILogger);e.forEach(e=>{const n=`Diagnostic Code: ${e.code}, Message: ${e.message}`;switch(e.severity){case o.DiagnosticSeverity.Error:t.logError(n),this.outputChannel.appendLine(n);break;case o.DiagnosticSeverity.Warning:t.logWarning(n),this.outputChannel.appendLine(n);break;default:t.logInformation(n)}})}};d=r([s.injectable(),i(0,s.inject(l.IServiceContainer)),i(1,s.inject(c.IOutputChannel)),i(1,s.named(a.STANDARD_OUTPUT_CHANNEL))],d),t.ApplicationDiagnostics=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4);n(7);const c=n(8),l=n(1),u=n(10),d=n(86),h=n(87),p=n(88),f=n(79),m=n(38),g="The environment variable '{0}' seems to have some paths containing the '\"' character. The existence of such a character is known to have caused the {1} extension to not load. If the extension fails to load please modify your paths to remove this '\"' character.";class y extends d.BaseDiagnostic{constructor(e,t){super(p.DiagnosticCodes.InvalidEnvironmentPathVariableDiagnostic,e,o.DiagnosticSeverity.Warning,m.DiagnosticScope.Global,t)}}t.InvalidEnvironmentPathVariableDiagnostic=y,t.EnvironmentPathVariableDiagnosticsServiceId="EnvironmentPathVariableDiagnosticsServiceId";let v=class extends d.BaseDiagnosticsService{constructor(e,t){super([p.DiagnosticCodes.InvalidEnvironmentPathVariableDiagnostic],e,t,!0),this.platform=this.serviceContainer.get(c.IPlatformService),this.messageService=e.get(m.IDiagnosticHandlerService,f.DiagnosticCommandPromptHandlerServiceId)}async diagnose(e){if(this.platform.isWindows&&this.doesPathVariableHaveInvalidEntries()){const t=this.serviceContainer.get(a.IApplicationEnvironment),n=g.format(this.platform.pathVariableName,t.extensionName);return[new y(n,e)]}return[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(h.IDiagnosticsCommandFactory),r=[{prompt:"Ignore"},{prompt:"Always Ignore",command:n.createCommand(t,{type:"ignore",options:m.DiagnosticScope.Global})},{prompt:"More Info",command:n.createCommand(t,{type:"launch",options:"https://aka.ms/Niq35h"})}];await this.messageService.handle(t,{commandPrompts:r})}doesPathVariableHaveInvalidEntries(){const e=this.serviceContainer.get(l.ICurrentProcess).env[this.platform.pathVariableName],t=this.serviceContainer.get(l.IPathUtils).delimiter;return(e||"").split(t).filter(e=>e.indexOf('"')>=0).length>0}};v=r([s.injectable(),i(0,s.inject(u.IServiceContainer)),i(1,s.inject(l.IDisposableRegistry))],v),t.EnvironmentPathVariableDiagnosticsService=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4);n(7);const l=n(8),u=n(1),d=n(12),h=n(10),p=n(86),f=n(88),m=n(79),g=n(38),y={[f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic]:d.Diagnostics.invalidDebuggerTypeDiagnostic(),[f.DiagnosticCodes.JustMyCodeDiagnostic]:d.Diagnostics.justMyCodeDiagnostic(),[f.DiagnosticCodes.ConsoleTypeDiagnostic]:d.Diagnostics.consoleTypeDiagnostic()};class v extends p.BaseDiagnostic{constructor(e,t){super(e,y[e],a.DiagnosticSeverity.Error,g.DiagnosticScope.WorkspaceFolder,t,"always")}}t.InvalidLaunchJsonDebuggerDiagnostic=v,t.InvalidLaunchJsonDebuggerServiceId="InvalidLaunchJsonDebuggerServiceId";let _=class extends p.BaseDiagnosticsService{constructor(e,t,n,r,i){super([f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic,f.DiagnosticCodes.JustMyCodeDiagnostic,f.DiagnosticCodes.ConsoleTypeDiagnostic],e,n,!0),this.fs=t,this.workspaceService=r,this.messageService=i}async diagnose(e){if(!this.workspaceService.hasWorkspaceFolders)return[];const t=e?this.workspaceService.getWorkspaceFolder(e):this.workspaceService.workspaceFolders[0];return this.diagnoseWorkspace(t,e)}async onHandle(e){e.forEach(e=>this.handleDiagnostic(e))}async fixLaunchJson(e){this.workspaceService.hasWorkspaceFolders&&await Promise.all(this.workspaceService.workspaceFolders.map(t=>this.fixLaunchJsonInWorkspace(e,t)))}async diagnoseWorkspace(e,t){const n=this.getLaunchJsonFile(e);if(!await this.fs.fileExists(n))return[];const r=await this.fs.readFile(n),i=[];return r.indexOf('"pythonExperimental"')>0&&i.push(new v(f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic,t)),r.indexOf('"debugStdLib"')>0&&i.push(new v(f.DiagnosticCodes.JustMyCodeDiagnostic,t)),r.indexOf('"console": "none"')>0&&i.push(new v(f.DiagnosticCodes.ConsoleTypeDiagnostic,t)),i}async handleDiagnostic(e){if(!this.canHandle(e))return;const t=[{prompt:d.Diagnostics.yesUpdateLaunch(),command:{diagnostic:e,invoke:async()=>{await this.fixLaunchJson(e.code)}}},{prompt:d.Common.noIWillDoItLater()}];await this.messageService.handle(e,{commandPrompts:t})}async fixLaunchJsonInWorkspace(e,t){if(0===(await this.diagnoseWorkspace(t,void 0)).length)return;const n=this.getLaunchJsonFile(t);let r=await this.fs.readFile(n);switch(e){case f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic:r=this.findAndReplace(r,'"pythonExperimental"','"python"'),r=this.findAndReplace(r,'"Python Experimental:','"Python:');break;case f.DiagnosticCodes.JustMyCodeDiagnostic:r=this.findAndReplace(r,'"debugStdLib": false','"justMyCode": true'),r=this.findAndReplace(r,'"debugStdLib": true','"justMyCode": false');break;case f.DiagnosticCodes.ConsoleTypeDiagnostic:r=this.findAndReplace(r,'"console": "none"','"console": "internalConsole"');break;default:return}await this.fs.writeFile(n,r)}findAndReplace(e,t,n){const r=new RegExp(t,"g");return e.replace(r,n)}getLaunchJsonFile(e){return o.join(e.uri.fsPath,".vscode","launch.json")}};_=r([s.injectable(),i(0,s.inject(h.IServiceContainer)),i(1,s.inject(l.IFileSystem)),i(2,s.inject(u.IDisposableRegistry)),i(3,s.inject(c.IWorkspaceService)),i(4,s.inject(g.IDiagnosticHandlerService)),i(4,s.named(m.DiagnosticCommandPromptHandlerServiceId))],_),t.InvalidLaunchJsonDebuggerService=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4);n(7);const c=n(8),l=n(1),u=n(14),d=n(10),h=n(86),p=n(87),f=n(88),m=n(79),g=n(38),y={[f.DiagnosticCodes.MacInterpreterSelectedAndHaveOtherInterpretersDiagnostic]:"You have selected the macOS system install of Python, which is not recommended for use with the Python extension. Some functionality will be limited, please select a different interpreter.",[f.DiagnosticCodes.MacInterpreterSelectedAndNoOtherInterpretersDiagnostic]:"The macOS system install of Python is not recommended, some functionality in the extension will be limited. Install another version of Python for the best experience."};class v extends h.BaseDiagnostic{constructor(e,t){super(e,y[e],o.DiagnosticSeverity.Error,g.DiagnosticScope.WorkspaceFolder,t)}}t.InvalidMacPythonInterpreterDiagnostic=v,t.InvalidMacPythonInterpreterServiceId="InvalidMacPythonInterpreterServiceId";let _=class extends h.BaseDiagnosticsService{constructor(e,t,n,r,i){super([f.DiagnosticCodes.MacInterpreterSelectedAndHaveOtherInterpretersDiagnostic,f.DiagnosticCodes.MacInterpreterSelectedAndNoOtherInterpretersDiagnostic],e,n,!0),this.interpreterService=t,this.platform=r,this.helper=i,this.changeThrottleTimeout=1e3,this.addPythonPathChangedHandler()}dispose(){this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=void 0)}async diagnose(e){if(!this.platform.isMac)return[];const t=this.serviceContainer.get(l.IConfigurationService).getSettings(e);if(!0===t.disableInstallationChecks)return[];if(!await this.interpreterService.hasInterpreters)return[];const n=await this.interpreterService.getActiveInterpreter(e);return n&&this.helper.isMacDefaultPythonPath(t.pythonPath)&&n&&n.type===u.InterpreterType.Unknown?0===(await this.interpreterService.getInterpreters(e)).filter(e=>!this.helper.isMacDefaultPythonPath(e.path)).length?[new v(f.DiagnosticCodes.MacInterpreterSelectedAndNoOtherInterpretersDiagnostic,e)]:[new v(f.DiagnosticCodes.MacInterpreterSelectedAndHaveOtherInterpretersDiagnostic,e)]:[]}async onHandle(e){if(0===e.length)return;const t=this.serviceContainer.get(g.IDiagnosticHandlerService,m.DiagnosticCommandPromptHandlerServiceId);await Promise.all(e.map(async e=>{const n=await this.canHandle(e),r=await this.filterService.shouldIgnoreDiagnostic(e.code);if(!n||r)return;const i=this.getCommandPrompts(e);return t.handle(e,{commandPrompts:i,message:e.message})}))}addPythonPathChangedHandler(){const e=this.serviceContainer.get(a.IWorkspaceService);this.serviceContainer.get(l.IDisposableRegistry).push(e.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this)))}async onDidChangeConfiguration(e){const t=this.serviceContainer.get(a.IWorkspaceService),n=t.hasWorkspaceFolders?t.workspaceFolders.map(e=>e.uri):[void 0],r=n.findIndex(t=>e.affectsConfiguration("python.pythonPath",t));-1!==r&&(this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=void 0),this.timeOut=setTimeout(()=>{this.timeOut=void 0,this.diagnose(n[r]).then(e=>this.handle(e)).ignoreErrors()},this.changeThrottleTimeout))}getCommandPrompts(e){const t=this.serviceContainer.get(p.IDiagnosticsCommandFactory);switch(e.code){case f.DiagnosticCodes.MacInterpreterSelectedAndHaveOtherInterpretersDiagnostic:return[];case f.DiagnosticCodes.MacInterpreterSelectedAndNoOtherInterpretersDiagnostic:return[{prompt:"Learn more",command:t.createCommand(e,{type:"launch",options:"https://code.visualstudio.com/docs/python/python-tutorial#_prerequisites"})},{prompt:"Download",command:t.createCommand(e,{type:"launch",options:"https://www.python.org/downloads"})},{prompt:"Do not show again",command:t.createCommand(e,{type:"ignore",options:g.DiagnosticScope.Global})}];default:throw new Error("Invalid diagnostic for 'InvalidMacPythonInterpreterService'")}}};_=r([s.injectable(),i(0,s.inject(d.IServiceContainer)),i(1,s.inject(u.IInterpreterService)),i(2,s.inject(l.IDisposableRegistry)),i(3,s.inject(c.IPlatformService)),i(4,s.inject(u.IInterpreterHelper))],_),t.InvalidMacPythonInterpreterService=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2);function s(e){const t=e.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),n=r.join(e.env.windir,t?"Sysnative":"System32");return r.join(n,"cmd.exe")}t.getCommandPromptLocation=s,t.useCommandPromptAsDefaultShell=async function(e,t){const n=s(e);await t.updateSectionSetting("terminal","integrated.shell.windows",n,void 0,i.ConfigurationTarget.Global)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2);n(7);const a=n(1),c=n(14),l=n(10),u=n(86),d=n(87),h=n(88),p=n(79),f=n(38),m={[h.DiagnosticCodes.NoPythonInterpretersDiagnostic]:"Python is not installed. Please download and install Python before using the extension.",[h.DiagnosticCodes.NoCurrentlySelectedPythonInterpreterDiagnostic]:"No Python interpreter is selected. You need to select a Python interpreter to enable features such as IntelliSense, linting, and debugging."};class g extends u.BaseDiagnostic{constructor(e,t){super(e,m[e],o.DiagnosticSeverity.Error,f.DiagnosticScope.WorkspaceFolder,t)}}t.InvalidPythonInterpreterDiagnostic=g,t.InvalidPythonInterpreterServiceId="InvalidPythonInterpreterServiceId";let y=class extends u.BaseDiagnosticsService{constructor(e,t){super([h.DiagnosticCodes.NoPythonInterpretersDiagnostic,h.DiagnosticCodes.NoCurrentlySelectedPythonInterpreterDiagnostic],e,t,!1)}async diagnose(e){if(!0===this.serviceContainer.get(a.IConfigurationService).getSettings(e).disableInstallationChecks)return[];const t=this.serviceContainer.get(c.IInterpreterService);return await t.hasInterpreters?await t.getActiveInterpreter(e)?[]:[new g(h.DiagnosticCodes.NoCurrentlySelectedPythonInterpreterDiagnostic,e)]:[new g(h.DiagnosticCodes.NoPythonInterpretersDiagnostic,e)]}async onHandle(e){if(0===e.length)return;const t=this.serviceContainer.get(f.IDiagnosticHandlerService,p.DiagnosticCommandPromptHandlerServiceId);await Promise.all(e.map(async e=>{if(!this.canHandle(e))return;const n=this.getCommandPrompts(e);return t.handle(e,{commandPrompts:n,message:e.message})}))}getCommandPrompts(e){const t=this.serviceContainer.get(d.IDiagnosticsCommandFactory);switch(e.code){case h.DiagnosticCodes.NoPythonInterpretersDiagnostic:return[{prompt:"Download",command:t.createCommand(e,{type:"launch",options:"https://www.python.org/downloads"})}];case h.DiagnosticCodes.NoCurrentlySelectedPythonInterpreterDiagnostic:return[];default:throw new Error("Invalid diagnostic for 'InvalidPythonInterpreterService'")}}};y=r([s.injectable(),i(0,s.inject(l.IServiceContainer)),i(1,s.inject(a.IDisposableRegistry))],y),t.InvalidPythonInterpreterService=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(854),c=n(855),l=n(856);let u=class{constructor(e){this.serviceContainer=e}createCommand(e,t){const n=t.type;switch(t.type){case"ignore":return new c.IgnoreDiagnosticCommand(e,this.serviceContainer,t.options);case"launch":return new l.LaunchBrowserCommand(e,this.serviceContainer,t.options);case"executeVSCCommand":return new a.ExecuteVSCCommand(e,this.serviceContainer,t.options);default:throw new Error(`Unknown Diagnostic command commandType '${n}'`)}}};u=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],u),t.DiagnosticsCommandFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(9),s=n(11),o=n(220);t.ExecuteVSCCommand=class extends o.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.commandName=n}async invoke(){return i.sendTelemetryEvent(s.EventName.DIAGNOSTICS_ACTION,void 0,{commandName:this.commandName}),this.serviceContainer.get(r.ICommandManager).executeCommand(this.commandName).then(()=>void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i=n(11),s=n(38),o=n(220);t.IgnoreDiagnosticCommand=class extends o.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.scope=n}invoke(){return r.sendTelemetryEvent(i.EventName.DIAGNOSTICS_ACTION,void 0,{ignoreCode:this.diagnostic.code}),this.serviceContainer.get(s.IDiagnosticFilterService).ignoreDiagnostic(this.diagnostic.code,this.scope)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(9),s=n(11),o=n(220);t.LaunchBrowserCommand=class extends o.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.url=n}async invoke(){return i.sendTelemetryEvent(s.EventName.DIAGNOSTICS_ACTION,void 0,{url:this.url}),this.serviceContainer.get(r.IBrowserService).launch(this.url)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(10),c=n(38);var l;!function(e){e.GlobalDiagnosticFilter="GLOBAL_DIAGNOSTICS_FILTER",e.WorkspaceDiagnosticFilter="WORKSPACE_DIAGNOSTICS_FILTER"}(l=t.FilterKeys||(t.FilterKeys={}));let u=class{constructor(e){this.serviceContainer=e}async shouldIgnoreDiagnostic(e){const t=this.serviceContainer.get(o.IPersistentStateFactory),n=t.createGlobalPersistentState(l.GlobalDiagnosticFilter,[]),r=t.createWorkspacePersistentState(l.WorkspaceDiagnosticFilter,[]);return n.value.indexOf(e)>=0||r.value.indexOf(e)>=0}async ignoreDiagnostic(e,t){const n=this.serviceContainer.get(o.IPersistentStateFactory),r=t===c.DiagnosticScope.Global?n.createGlobalPersistentState(l.GlobalDiagnosticFilter,[]):n.createWorkspacePersistentState(l.WorkspaceDiagnosticFilter,[]),i=r.value.slice();await r.updateValue(i.concat(e))}};u=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],u),t.DiagnosticFilterService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13),l=n(1),u=n(12);let d=class{constructor(e,t,n,r){this.commandManager=e,this.disposables=t,this.configurationService=n,this.shell=r}register(){this.disposables.push(this.commandManager.registerCommand(c.Commands.Enable_SourceMap_Support,this.onEnable,this))}async enable(){await this.configurationService.updateSetting("diagnostics.sourceMapsEnabled",!0,void 0,o.ConfigurationTarget.Global),await this.commandManager.executeCommand("workbench.action.reloadWindow")}async onEnable(){const e=u.Diagnostics.enableSourceMapsAndReloadVSC();await this.shell.showWarningMessage(u.Diagnostics.warnBeforeEnablingSourceMaps(),e)===e&&await this.enable()}};d=r([s.injectable(),i(0,s.inject(a.ICommandManager)),i(1,s.inject(l.IDisposableRegistry)),i(2,s.inject(l.IConfigurationService)),i(3,s.inject(a.IApplicationShell))],d),t.SourceMapSupportService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35),i=n(860),s=n(861),o=n(862),a=n(863),c=n(864),l=n(219);t.registerTypes=function(e){e.addSingleton(l.IDotNetCompatibilityService,i.DotNetCompatibilityService),e.addSingleton(l.IOSDotNetCompatibilityService,o.MacDotNetCompatibilityService,r.OSType.OSX),e.addSingleton(l.IOSDotNetCompatibilityService,c.WindowsDotNetCompatibilityService,r.OSType.Windows),e.addSingleton(l.IOSDotNetCompatibilityService,s.LinuxDotNetCompatibilityService,r.OSType.Linux),e.addSingleton(l.IOSDotNetCompatibilityService,a.UnknownOSDotNetCompatibilityService,r.OSType.Unknown)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8),a=n(35),c=n(219);let l=class{constructor(e,t,n,r,i){this.platformService=i,this.mappedServices=new Map,this.mappedServices.set(a.OSType.Unknown,e),this.mappedServices.set(a.OSType.OSX,t),this.mappedServices.set(a.OSType.Windows,n),this.mappedServices.set(a.OSType.Linux,r)}isSupported(){return this.mappedServices.get(this.platformService.osType).isSupported()}};l=r([s.injectable(),i(0,s.inject(c.IOSDotNetCompatibilityService)),i(0,s.named(a.OSType.Unknown)),i(1,s.inject(c.IOSDotNetCompatibilityService)),i(1,s.named(a.OSType.OSX)),i(2,s.inject(c.IOSDotNetCompatibilityService)),i(2,s.named(a.OSType.Windows)),i(3,s.inject(c.IOSDotNetCompatibilityService)),i(3,s.named(a.OSType.Linux)),i(4,s.inject(o.IPlatformService))],l),t.DotNetCompatibilityService=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(8);let c=class{constructor(e){this.platformService=e}async isSupported(){return!!this.platformService.is64bit||(o.traceError(".NET is not supported on 32 Bit Linux"),!1)}};r([o.traceDecorators.verbose("Checking support of .NET")],c.prototype,"isSupported",null),c=r([s.injectable(),i(0,s.inject(a.IPlatformService))],c),t.LinuxDotNetCompatibilityService=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8);let a=class{constructor(e){this.platformService=e}async isSupported(){return(await this.platformService.getVersion()).compare("16.0.0")>=0}};a=r([s.injectable(),i(0,s.inject(o.IPlatformService))],a),t.MacDotNetCompatibilityService=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);let s=class{async isSupported(){return!1}};r([n(6).traceDecorators.info("Unable to determine compatiblity of DOT.NET with an unknown OS")],s.prototype,"isSupported",null),s=r([i.injectable()],s),t.UnknownOSDotNetCompatibilityService=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});let i=class{async isSupported(){return!0}};i=r([n(0).injectable()],i),t.WindowsDotNetCompatibilityService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(866),s=n(1),o=n(868),a=n(869),c=n(871),l=n(872),u=n(873),d=n(874),h=n(875),p=n(876),f=n(125);t.registerTypes=function(e){e.addSingleton(f.IModuleInstaller,a.CondaInstaller),e.addSingleton(f.IModuleInstaller,u.PipInstaller),e.addSingleton(f.IModuleInstaller,l.PipEnvInstaller),e.addSingleton(f.IModuleInstaller,d.PoetryInstaller),e.addSingleton(f.IInstallationChannelManager,o.InstallationChannelManager),e.addSingleton(f.IExtensionBuildInstaller,c.StableBuildInstaller,f.STABLE_INSTALLER),e.addSingleton(f.IExtensionBuildInstaller,c.InsidersBuildInstaller,f.INSIDERS_INSTALLER),e.addSingleton(f.IProductService,p.ProductService),e.addSingleton(f.IProductPathService,h.CTagsProductPathService,s.ProductType.WorkspaceSymbols),e.addSingleton(f.IProductPathService,h.FormatterProductPathService,s.ProductType.Formatter),e.addSingleton(f.IProductPathService,h.LinterProductPathService,s.ProductType.Linter),e.addSingleton(f.IProductPathService,h.TestFrameworkProductPathService,s.ProductType.TestFramework),e.addSingleton(f.IProductPathService,h.RefactoringLibraryProductPathService,s.ProductType.RefactoringLibrary),e.addSingleton(f.IProductPathService,h.DataScienceProductPathService,s.ProductType.DataScience),e.addSingleton(r.IWebPanelProvider,i.WebPanelProvider)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(867);let c=class{constructor(e){this.serviceContainer=e}create(e,t,n,r,i,s){return new a.WebPanel(e,this.serviceContainer,t,n,r,i,s)}};c=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],c),t.WebPanelProvider=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(46),i=n(3),s=n(2),o=n(12),a=n(15),c=n(1);t.WebPanel=class{constructor(e,t,n,r,o,a,l){this.disposableRegistry=t.get(c.IDisposableRegistry),this.listener=n,this.rootPath=i.dirname(o),this.panel=s.window.createWebviewPanel(r.toLowerCase().replace(" ",""),r,{viewColumn:e,preserveFocus:!0},{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.file(this.rootPath)]}),this.loadPromise=this.load(o,a,l)}async show(e){await this.loadPromise,this.panel&&this.panel.reveal(this.panel.viewColumn,e)}close(){this.panel&&this.panel.dispose()}isVisible(){return!!this.panel&&this.panel.visible}isActive(){return!!this.panel&&this.panel.active}postMessage(e){this.panel&&this.panel.webview&&this.panel.webview.postMessage(e)}get title(){return this.panel?this.panel.title:""}set title(e){this.panel&&(this.panel.title=e)}async load(e,t,n){if(this.panel)if(await r.pathExists(e))this.panel.webview.html=this.generateReactHtml(e,this.panel.webview,t,n),this.disposableRegistry.push(this.panel.onDidDispose(()=>{this.panel=void 0,this.listener.dispose().ignoreErrors()})),this.disposableRegistry.push(this.panel.webview.onDidReceiveMessage(e=>{this.listener.onMessage(e.type,e.payload)})),this.disposableRegistry.push(this.panel.onDidChangeViewState(e=>{this.listener.onChangeViewState(this)})),this.listener.onChangeViewState(this);else{const t=o.DataScience.badWebPanelFormatString();this.panel.webview.html=t.format(e)}}generateReactHtml(e,t,n,r){const c=t.asWebviewUri(s.Uri.file(`${i.dirname(e)}/`)),l=t.asWebviewUri(s.Uri.file(e)),u=o.getCollectionJSON(),d=n||"",h=r?JSON.stringify(r):"{}";return`<!doctype html>\n        <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">\n                <meta http-equiv="Content-Security-Policy" content="img-src 'self' data: https: http: blob:; default-src 'unsafe-inline' 'unsafe-eval' vscode-resource: data: https: http:;">\n                <meta name="theme-color" content="#000000">\n                <meta name="theme" content="${a.Identifiers.GeneratedThemeName}"/>\n                <title>React App</title>\n                <base href="${c}"/>\n                <style type="text/css">\n                ${d}\n                </style>\n            </head>\n            <body>\n                <noscript>You need to enable JavaScript to run this app.</noscript>\n                <div id="root"></div>\n                <script type="text/javascript">\n                    function resolvePath(relativePath) {\n                        if (relativePath && relativePath[0] == '.' && relativePath[1] != '.') {\n                            return "${c}" + relativePath.substring(1);\n                        }\n\n                        return "${c}" + relativePath;\n                    }\n                    function getLocStrings() {\n                        return ${u};\n                    }\n                    function getInitialSettings() {\n                        return ${h};\n                    }\n                <\/script>\n            <script type="text/javascript" src="${l}"><\/script></body>\n        </html>`}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(14),a=n(10),c=n(4),l=n(8),u=n(156),d=n(125);let h=class{constructor(e){this.serviceContainer=e}async getInstallationChannel(e,t){const n=await this.getInstallationChannels(t);if(1===n.length)return n[0];const r=u.ProductNames.get(e),i=this.serviceContainer.get(c.IApplicationShell);if(0===n.length)return void await this.showNoInstallersMessage(t);const s=`Select an option to install ${r}`,o=n.map(e=>({label:`Install using ${e.displayName}`,description:"",installer:e})),a=await i.showQuickPick(o,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:s});return a?a.installer:void 0}async getInstallationChannels(e){const t=this.serviceContainer.getAll(d.IModuleInstaller),n=[];if(0===t.length)return[];t.sort((e,t)=>t.priority-e.priority);let r=t[0].priority;for(const i of t){if(i.priority!==r){if(n.length>0)break;r=i.priority}await i.isSupported(e)&&n.push(i)}return n}async showNoInstallersMessage(e){const t=this.serviceContainer.get(o.IInterpreterService),n=await t.getActiveInterpreter(e);if(!n)return;const r=this.serviceContainer.get(c.IApplicationShell),i="Search for help";let s;if((s=n.type===o.InterpreterType.Conda?await r.showErrorMessage("There is no Conda or Pip installer available in the selected environment.",i):await r.showErrorMessage("There is no Pip installer available in the selected environment.",i))===i){const e=this.serviceContainer.get(l.IPlatformService),t=e.isWindows?"Windows":e.isMac?"MacOS":"Linux";r.openUrl(`https://www.bing.com/search?q=Install Pip ${t} ${n.type===o.InterpreterType.Conda?"Conda":""}`)}}};h=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],h),t.InstallationChannelManager=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(14),a=n(10),c=n(1),l=n(157);let u=class extends l.ModuleInstaller{constructor(e){super(e)}get name(){return"Conda"}get displayName(){return"Conda"}get priority(){return 0}async isSupported(e){if(!1===this.isCondaAvailable)return!1;const t=this.serviceContainer.get(o.ICondaService);return this.isCondaAvailable=await t.isCondaAvailable(),!!this.isCondaAvailable&&this.isCurrentEnvironmentACondaEnvironment(e)}async getExecutionInfo(e,t){const n=this.serviceContainer.get(o.ICondaService),r=await n.getCondaFile(),i=this.serviceContainer.get(c.IConfigurationService).getSettings(t).pythonPath,s=await n.getCondaEnvironment(i),a=["install"];return s&&s.name?(a.push("--name"),a.push(s.name.toCommandArgument())):s&&s.path&&(a.push("--prefix"),a.push(s.path.fileToCommandArgument())),a.push(e),{args:a,execPath:r}}async isCurrentEnvironmentACondaEnvironment(e){const t=this.serviceContainer.get(o.ICondaService),n=this.serviceContainer.get(c.IConfigurationService).getSettings(e).pythonPath;return t.isCondaEnvironment(n)}};u=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],u),t.CondaInstaller=u},function(e,t){e.exports=require("./node_modules/sudo-prompt")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13),l=n(6),u=n(8),d=n(1),h=n(12);t.developmentBuildUri="https://pvsc.blob.core.windows.net/extension-builds/ms-python-insiders.vsix",t.vsixFileExtension=".vsix";let p=class{constructor(e,t){this.output=e,this.cmdManager=t}async install(){this.output.append(h.ExtensionChannels.installingStableMessage()),await this.cmdManager.executeCommand("workbench.extensions.installExtension",c.PVSC_EXTENSION_ID),this.output.appendLine(h.ExtensionChannels.installationCompleteMessage())}};r([l.traceDecorators.error("Installing stable build of extension failed")],p.prototype,"install",null),p=r([s.injectable(),i(0,s.inject(d.IOutputChannel)),i(0,s.named(c.STANDARD_OUTPUT_CHANNEL)),i(1,s.inject(a.ICommandManager))],p),t.StableBuildInstaller=p;let f=class{constructor(e,t,n,r){this.output=e,this.fileDownloader=t,this.fs=n,this.cmdManager=r}async install(){const e=await this.downloadInsiders();this.output.append(h.ExtensionChannels.installingInsidersMessage()),await this.cmdManager.executeCommand("workbench.extensions.installExtension",o.Uri.file(e)),this.output.appendLine(h.ExtensionChannels.installationCompleteMessage()),await this.fs.deleteFile(e)}async downloadInsiders(){this.output.appendLine(h.ExtensionChannels.startingDownloadOutputMessage());const e={extension:t.vsixFileExtension,outputChannel:this.output,progressMessagePrefix:h.ExtensionChannels.downloadingInsidersMessage()};return this.fileDownloader.downloadFile(t.developmentBuildUri,e).then(e=>(this.output.appendLine(h.ExtensionChannels.downloadCompletedOutputMessage()),e))}};r([l.traceDecorators.error("Installing insiders build of extension failed")],f.prototype,"install",null),r([l.traceDecorators.error("Downloading insiders build of extension failed")],f.prototype,"downloadInsiders",null),f=r([s.injectable(),i(0,s.inject(d.IOutputChannel)),i(0,s.named(c.STANDARD_OUTPUT_CHANNEL)),i(1,s.inject(d.IFileDownloader)),i(2,s.inject(u.IFileSystem)),i(3,s.inject(a.ICommandManager))],f),t.InsidersBuildInstaller=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(14),a=n(10),c=n(157);t.pipenvName="pipenv";let l=class extends c.ModuleInstaller{constructor(e){super(e),this.pipenv=this.serviceContainer.get(o.IInterpreterLocatorService,o.PIPENV_SERVICE)}get name(){return"pipenv"}get displayName(){return t.pipenvName}get priority(){return 10}async isSupported(e){const t=await this.pipenv.getInterpreters(e);return t&&t.length>0}async getExecutionInfo(e,n){const r=["install",e,"--dev"];return"black"===e&&r.push("--pre"),{args:r,execPath:t.pipenvName}}};l=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],l),t.PipEnvInstaller=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(4),c=n(20),l=n(157);let u=class extends l.ModuleInstaller{get name(){return"Pip"}get displayName(){return"Pip"}get priority(){return 0}constructor(e){super(e)}isSupported(e){return this.isPipAvailable(e)}async getExecutionInfo(e,t){const n=[],r=this.serviceContainer.get(a.IWorkspaceService).getConfiguration("http").get("proxy","");return r.length>0&&(n.push("--proxy"),n.push(r)),{args:[...n,"install","-U",e],moduleName:"pip"}}isPipAvailable(e){return this.serviceContainer.get(c.IPythonExecutionFactory).create({resource:e}).then(e=>e.isModuleInstalled("pip")).catch(()=>!1)}};u=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],u),t.PipInstaller=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(10),c=n(4),l=n(6),u=n(8),d=n(20),h=n(1),p=n(157);t.poetryName="poetry";let f=class extends p.ModuleInstaller{constructor(e,t,n,r,i){super(e),this.workspaceService=t,this.configurationService=n,this.fs=r,this.processFactory=i}get name(){return"poetry"}get displayName(){return t.poetryName}get priority(){return 10}async isSupported(e){if(!e)return!1;const t=this.workspaceService.getWorkspaceFolder(e);return!!t&&(!!await this.fs.fileExists(o.join(t.uri.fsPath,"poetry.lock"))&&this.isPoetryAvailable(t.uri))}async isPoetryAvailable(e){try{const t=await this.processFactory.create(e),n=this.configurationService.getSettings(e).poetryPath,r=await t.exec(n,["list"],{cwd:e.fsPath});return r&&0===(r.stderr||"").trim().length}catch(e){return l.traceError("poetry.lock exists but Poetry not found",e),!1}}async getExecutionInfo(e,t){const n=this.configurationService.getSettings(t).poetryPath,r=["add","--dev",e];return"black"===e&&r.push("--allow-prereleases"),{args:r,execPath:n}}};f=r([s.injectable(),i(0,s.inject(a.IServiceContainer)),i(1,s.inject(c.IWorkspaceService)),i(2,s.inject(h.IConfigurationService)),i(3,s.inject(u.IFileSystem)),i(4,s.inject(d.IProcessServiceFactory))],f),t.PoetryInstaller=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(221),c=n(10),l=n(53),u=n(18),d=n(1);let h=class{constructor(e){this.serviceContainer=e,this.configService=e.get(d.IConfigurationService),this.productInstaller=e.get(d.IInstaller)}isExecutableAModule(e,t){let n;try{n=this.productInstaller.translateProductToModuleName(e,d.ModuleNamePurpose.run)}catch(e){}const r=this.getExecutableNameFromSettings(e,t);return"string"==typeof n&&n.length>0&&o.basename(r)===r}};h=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],h);let p=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.configService.getSettings(t).workspaceSymbols.ctagsPath}};p=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],p),t.CTagsProductPathService=p;let f=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){const n=this.configService.getSettings(t),r=this.serviceContainer.get(a.IFormatterHelper).getSettingsPropertyNames(e);return n.formatting[r.pathName]}};f=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],f),t.FormatterProductPathService=f;let m=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.serviceContainer.get(l.ILinterManager).getLinterInfo(e).pathName(t)}};m=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],m),t.LinterProductPathService=m;let g=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){const n=this.serviceContainer.get(u.ITestsHelper).getSettingsPropertyNames(e);return n.pathName?this.configService.getSettings(t).testing[n.pathName]:this.productInstaller.translateProductToModuleName(e,d.ModuleNamePurpose.run)}};g=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],g),t.TestFrameworkProductPathService=g;let y=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.productInstaller.translateProductToModuleName(e,d.ModuleNamePurpose.run)}};y=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],y),t.RefactoringLibraryProductPathService=y;let v=class extends h{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.productInstaller.translateProductToModuleName(e,d.ModuleNamePurpose.run)}};v=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],v),t.DataScienceProductPathService=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(1);let o=class{constructor(){this.ProductTypes=new Map,this.ProductTypes.set(s.Product.bandit,s.ProductType.Linter),this.ProductTypes.set(s.Product.flake8,s.ProductType.Linter),this.ProductTypes.set(s.Product.mypy,s.ProductType.Linter),this.ProductTypes.set(s.Product.pycodestyle,s.ProductType.Linter),this.ProductTypes.set(s.Product.prospector,s.ProductType.Linter),this.ProductTypes.set(s.Product.pydocstyle,s.ProductType.Linter),this.ProductTypes.set(s.Product.pylama,s.ProductType.Linter),this.ProductTypes.set(s.Product.pylint,s.ProductType.Linter),this.ProductTypes.set(s.Product.ctags,s.ProductType.WorkspaceSymbols),this.ProductTypes.set(s.Product.nosetest,s.ProductType.TestFramework),this.ProductTypes.set(s.Product.pytest,s.ProductType.TestFramework),this.ProductTypes.set(s.Product.unittest,s.ProductType.TestFramework),this.ProductTypes.set(s.Product.autopep8,s.ProductType.Formatter),this.ProductTypes.set(s.Product.black,s.ProductType.Formatter),this.ProductTypes.set(s.Product.yapf,s.ProductType.Formatter),this.ProductTypes.set(s.Product.rope,s.ProductType.RefactoringLibrary),this.ProductTypes.set(s.Product.jupyter,s.ProductType.DataScience)}getProductType(e){return this.ProductTypes.get(e)}};o=r([i.injectable()],o),t.ProductService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(878),i=n(885),s=n(225),o=n(8);t.registerTypes=function(e){e.addSingleton(o.IPlatformService,i.PlatformService),e.addSingleton(o.IFileSystem,r.FileSystem),e.addSingleton(o.IRegistry,s.RegistryImplementation)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(58),o=n(26),a=n(46),c=n(222),l=n(0),u=n(3),d=n(338),h=n(17),p=n(8);let f=class{constructor(e){this.platformService=e}get directorySeparatorChar(){return u.sep}async stat(e){const t=n(2);return t.workspace.fs.stat(t.Uri.file(e))}objectExists(e,t){return new Promise(n=>{a.stat(e,(e,r)=>n(!e&&t(r)))})}fileExists(e){return this.objectExists(e,e=>e.isFile())}fileExistsSync(e){return a.existsSync(e)}readFile(e){return a.readFile(e).then(e=>e.toString())}async writeFile(e,t,n={encoding:"utf8"}){await a.writeFile(e,t,n)}directoryExists(e){return this.objectExists(e,e=>e.isDirectory())}createDirectory(e){return a.mkdirp(e)}deleteDirectory(e){const t=h.createDeferred();return a.rmdir(e,e=>e?t.reject(e):t.resolve()),t.promise}getSubDirectories(e){return new Promise(t=>{a.readdir(e,async(n,r)=>{if(n)return t([]);const i=(await Promise.all(r.map(async t=>{const n=u.join(e,t);try{if((await a.stat(n)).isDirectory())return n}catch(e){}}))).filter(e=>void 0!==e);t(i)})})}async getFiles(e){return(await a.readdir(e)).filter(async t=>{const n=u.join(e,t);return!!(await a.stat(n)).isFile()})}arePathsSame(e,t){return e=u.normalize(e),t=u.normalize(t),this.platformService.isWindows?e.toUpperCase()===t.toUpperCase():e===t}appendFileSync(e,t,n){return a.appendFileSync(e,t,n)}getRealPath(e){return new Promise(t=>{a.realpath(e,(n,r)=>{t(n?e:r)})})}copyFile(e,t){const n=h.createDeferred(),r=a.createReadStream(e).on("error",e=>{n.reject(e)}),i=a.createWriteStream(t).on("error",e=>{n.reject(e)}).on("close",()=>{n.resolve()});return r.pipe(i),n.promise}deleteFile(e){const t=h.createDeferred();return a.unlink(e,e=>e?t.reject(e):t.resolve()),t.promise}getFileHash(e){return new Promise((t,n)=>{a.lstat(e,(e,r)=>{if(e)n(e);else{const e=s.createHash("sha512").update(`${r.ctimeMs}-${r.mtimeMs}`).digest("hex");t(e)}})})}search(e){return new Promise((t,n)=>{c(e,(e,r)=>{if(e)return n(e);t(Array.isArray(r)?r:[])})})}createTemporaryFile(e){return new Promise((t,n)=>{d.file({postfix:e},(e,r,i,s)=>{if(e)return n(e);t({filePath:r,dispose:s})})})}createWriteStream(e){return o.createWriteStream(e)}chmod(e,t){return new Promise((n,r)=>{o.chmod(e,t,e=>{if(e)return r(e);n()})})}};f=r([l.injectable(),i(0,l.inject(p.IPlatformService))],f),t.FileSystem=f},function(e,t,n){var r=n(3),i="win32"===process.platform,s=n(26),o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(o){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else l=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,o,a,u,d=e,h={},p={};function f(){var t=l.exec(e);n=t[0].length,o=t[0],a=t[0],u="",i&&!p[a]&&(s.lstatSync(a),p[a]=!0)}for(f();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(u=o,o+=m[0],a=u+m[1],n=c.lastIndex,!(p[a]||t&&t[a]===a)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,a))g=t[a];else{var y=s.lstatSync(a);if(!y.isSymbolicLink()){p[a]=!0,t&&(t[a]=a);continue}var v=null;if(!i){var _=y.dev.toString(32)+":"+y.ino.toString(32);h.hasOwnProperty(_)&&(v=h[_])}null===v&&(s.statSync(a),v=s.readlinkSync(a)),g=r.resolve(u,v),t&&(t[a]=g),i||(h[_]=v)}e=r.resolve(g,e.slice(n)),f()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var o,u,d,h,p=e,f={},m={};function g(){var t=l.exec(e);o=t[0].length,u=t[0],d=t[0],h="",i&&!m[d]?s.lstat(d,function(e){if(e)return n(e);m[d]=!0,y()}):process.nextTick(y)}function y(){if(o>=e.length)return t&&(t[p]=e),n(null,e);c.lastIndex=o;var r=c.exec(e);return h=u,u+=r[0],d=h+r[1],o=c.lastIndex,m[d]||t&&t[d]===d?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,d)?b(t[d]):s.lstat(d,v)}function v(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(y);if(!i){var o=r.dev.toString(32)+":"+r.ino.toString(32);if(f.hasOwnProperty(o))return _(null,f[o],d)}s.stat(d,function(e){if(e)return n(e);s.readlink(d,function(e,t){i||(f[o]=t),_(e,t)})})}function _(e,i,s){if(e)return n(e);var o=r.resolve(h,i);t&&(t[s]=o),b(o)}function b(t){e=r.resolve(t,e.slice(o)),g()}g()}},function(e,t,n){var r=n(881),i=n(882);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var s=[];var o=i("{","}",t);if(!o||/\$$/.test(o.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var d=c||l;var g=o.body.indexOf(",")>=0;if(!d&&!g)return o.post.match(/,.*\}/)?(t=o.pre+"{"+o.body+a+o.post,e(t)):[t];var y;if(d)y=o.body.split(/\.\./);else if(1===(y=function e(t){if(!t)return[""];var n=[];var r=i("{","}",t);if(!r)return t.split(",");var s=r.pre;var o=r.body;var a=r.post;var c=s.split(",");c[c.length-1]+="{"+o+"}";var l=e(a);a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l));n.push.apply(n,c);return n}(o.body)).length&&1===(y=e(y[0],!1).map(h)).length){var v=o.post.length?e(o.post,!1):[""];return v.map(function(e){return o.pre+y[0]+e})}var _=o.pre;var v=o.post.length?e(o.post,!1):[""];var b;if(d){var S=u(y[0]),w=u(y[1]),C=Math.max(y[0].length,y[1].length),E=3==y.length?Math.abs(u(y[2])):1,T=f,D=w<S;D&&(E*=-1,T=m);var P=y.some(p);b=[];for(var k=S;T(k,w);k+=E){var I;if(l)"\\"===(I=String.fromCharCode(k))&&(I="");else if(I=String(k),P){var M=C-I.length;if(M>0){var x=new Array(M+1).join("0");I=k<0?"-"+x+I.slice(1):x+I}}b.push(I)}}else b=r(y,function(t){return e(t,!1)});for(var A=0;A<b.length;A++)for(var O=0;O<v.length;O++){var L=_+b[A]+v[O];(!n||d||L)&&s.push(L)}return s}(function(e){return e.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(d)};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(s).join("\\").split(o).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var s=t(e[i],i);n(s)?r.push.apply(r,s):r.push(s)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=s(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function s(e,t,n){var r,i,s,o,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(r=[],s=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((i=r.pop())<s&&(s=i,o=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[s,o])}return a}e.exports=r,r.range=s},function(e,t,n){e.exports=f,f.GlobSync=m;var r=n(26),i=n(346),s=n(158),o=(s.Minimatch,n(222).Glob,n(27),n(3)),a=n(146),c=n(223),l=n(347),u=(l.alphasort,l.alphasorti,l.setopts),d=l.ownProp,h=l.childrenIgnored,p=l.isIgnored;function f(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(u(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var s in t)try{s=e._makeAbs(s),r[i.realpathSync(s,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(s)]=!0}})}l.finish(this)},m.prototype._process=function(e,t,n){a(this instanceof m);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var o,l=e.slice(i);null===r?o=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),o=r):o=r;var u=this._makeAbs(o);h(this,o)||(l[0]===s.GLOBSTAR?this._processGlobStar(r,o,u,l,t,n):this._processReaddir(r,o,u,l,t,n))},m.prototype._processReaddir=function(e,t,n,r,i,s){var a=this._readdir(n,s);if(a){for(var c=r[0],l=!!this.minimatch.negate,u=c._glob,d=this.dot||"."===u.charAt(0),h=[],p=0;p<a.length;p++){if("."!==(g=a[p]).charAt(0)||d)(l&&!e?!g.match(c):g.match(c))&&h.push(g)}var f=h.length;if(0!==f)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<f;p++){var m;g=h[p];m=e?[e,g]:[g],this._process(m.concat(r),i,s)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<f;p++){var g=h[p];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=o.join(this.root,g)),this._emitMatch(i,g)}}}},m.prototype._emitMatch=function(e,t){if(!p(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,r,i,s){var o=this._readdir(n,s);if(o){var a=r.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1);var u=o.length;if(!this.symlinks[n]||!s)for(var d=0;d<u;d++){if("."!==o[d].charAt(0)||this.dot){var h=c.concat(o[d],a);this._process(h,i,!0);var p=c.concat(o[d],r);this._process(p,i,!0)}}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=o.join(this.root,e):(e=o.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var s=this.statCache[t];if(!s){var o;try{o=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{s=r.statSync(t)}catch(e){s=o}else s=o}this.statCache[t]=s;i=!0;return s&&(i=s.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},m.prototype._mark=function(e){return l.mark(this,e)},m.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},function(e,t,n){var r=n(348),i=Object.create(null),s=n(349);function o(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r(function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return s(function t(){var n=i[e],r=n.length,s=o(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,s)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){t.apply(null,s)})):delete i[e]}})}(e))})},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(22),o=n(49),a=n(9),c=n(11),l=n(35),u=n(224),d=n(69);let h=class{constructor(){this.osType=l.getOSType(),this.osType===l.OSType.Unknown&&a.sendTelemetryEvent(c.EventName.PLATFORM_INFO,void 0,{failureType:c.PlatformErrors.FailedToDetermineOS})}get pathVariableName(){return this.isWindows?d.WINDOWS_PATH_VARIABLE_NAME:d.NON_WINDOWS_PATH_VARIABLE_NAME}get virtualEnvBinName(){return this.isWindows?"Scripts":"bin"}async getVersion(){if(this.version)return this.version;switch(this.osType){case l.OSType.Windows:case l.OSType.OSX:try{const e=o.coerce(s.release());if(e)return a.sendTelemetryEvent(c.EventName.PLATFORM_INFO,void 0,{osVersion:`${e.major}.${e.minor}.${e.patch}`}),this.version=e;throw new Error("Unable to parse version")}catch(e){return a.sendTelemetryEvent(c.EventName.PLATFORM_INFO,void 0,{failureType:c.PlatformErrors.FailedToParseVersion}),u.parseVersion(s.release())}default:throw new Error("Not Supported")}}get isWindows(){return this.osType===l.OSType.Windows}get isMac(){return this.osType===l.OSType.OSX}get isLinux(){return this.osType===l.OSType.Linux}get osRelease(){return s.release()}get is64bit(){return"x64"===n(886)()}};h=r([i.injectable()],h),t.PlatformService=h},function(e,t,n){var r=n(59),i=n(26),s=n(3);e.exports=function(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var e=!1;try{e=!(!process.env.SYSTEMROOT||!i.statSync(process.env.SYSTEMROOT))}catch(e){}var t=e?process.env.SYSTEMROOT:"C:\\Windows",n=!1;try{n=!!i.statSync(s.join(t,"sysnative"))}catch(e){}return n?"x64":"x86"}return"linux"===process.platform&&"64\n"===r.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(888),i=n(906),s=n(917),o=n(919),a=n(20);t.registerTypes=function(e){e.addSingleton(a.IBufferDecoder,r.BufferDecoder),e.addSingleton(a.IProcessServiceFactory,i.ProcessServiceFactory),e.addSingleton(a.IPythonExecutionFactory,s.PythonExecutionFactory),e.addSingleton(a.IPythonToolExecutionService,o.PythonToolExecutionService)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(350),s=n(0),o=n(353);let a=class{decode(e,t=o.DEFAULT_ENCODING){return t=i.encodingExists(t)?t:o.DEFAULT_ENCODING,i.decode(Buffer.concat(e),t)}};a=r([s.injectable()],a),t.BufferDecoder=a},function(e,t,n){"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function i(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=i,i.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t?t:("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,t)},i.prototype.end=function(){return this.decoder.end()}},function(e,t,n){"use strict";for(var r=[n(891),n(892),n(893),n(894),n(895),n(896),n(897),n(898)],i=0;i<r.length;i++){e=r[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}},function(e,t,n){"use strict";var r=n(103).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=l,""!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=o;var s=n(200).StringDecoder;function o(e,t){s.call(this,t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function l(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}s.prototype.end||(s.prototype.end=function(){}),o.prototype=s.prototype,a.prototype.write=function(e){return r.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},l.prototype.write=function(e){for(var t=r.alloc(3*e.length),n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=192+(s>>>6),t[n++]=128+(63&s)):(t[n++]=224+(s>>>12),t[n++]=128+(s>>>6&63),t[n++]=128+(63&s))}return t.slice(0,n)},l.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,i="",s=0;s<e.length;s++){var o=e[s];128!=(192&o)?(n>0&&(i+=this.defaultCharUnicode,n=0),o<128?i+=String.fromCharCode(o):o<224?(t=31&o,n=1,r=1):o<240?(t=15&o,n=2,r=1):i+=this.defaultCharUnicode):n>0?(t=t<<6|63&o,r++,0===--n&&(i+=2===r&&t<128&&t>0?this.defaultCharUnicode:3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},function(e,t,n){"use strict";var r=n(103).Buffer;function i(){}function s(){}function o(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function l(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var n=t||"utf-16le";if(e.length>=2)if(254==e[0]&&255==e[1])n="utf-16be";else if(255==e[0]&&254==e[1])n="utf-16le";else{for(var r=0,i=0,s=Math.min(e.length-e.length%2,64),o=0;o<s;o+=2)0===e[o]&&0!==e[o+1]&&i++,0!==e[o]&&0===e[o+1]&&r++;i>r?n="utf-16be":i<r&&(n="utf-16le")}return n}t.utf16be=i,i.prototype.encoder=s,i.prototype.decoder=o,i.prototype.bomAware=!0,s.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=0;n<t.length;n+=2){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t},s.prototype.end=function(){},o.prototype.write=function(e){if(0==e.length)return"";var t=r.alloc(e.length+1),n=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,i=2);n<e.length-1;n+=2,i+=2)t[i]=e[n+1],t[i+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},o.prototype.end=function(){},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=l,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var t=u(e=r.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=r.concat(this.initialBytes),t=u(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var n=this.decoder.write(e),i=this.decoder.end();return i?n+i:n}return this.decoder.end()}},function(e,t,n){"use strict";var r=n(103).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=o,i.prototype.decoder=a,i.prototype.bomAware=!0;var s=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function o(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}o.prototype.write=function(e){return r.from(e.replace(s,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},o.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,l=[],u=0;u<256;u++)l[u]=c.test(String.fromCharCode(u));var d="+".charCodeAt(0),h="-".charCodeAt(0),p="&".charCodeAt(0);function f(e,t){this.iconv=t}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)if(i){if(!l[e[o]]){if(o==n&&e[o]==h)t+="+";else{var a=s+e.slice(n,o).toString();t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[o]!=h&&o--,n=o+1,i=!1,s=""}}else e[o]==d&&(t+=this.iconv.decode(e.slice(n,o),"ascii"),n=o+1,i=!0);if(i){var c=(a=s+e.slice(n).toString()).length-a.length%8;s=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=s,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=m,f.prototype.decoder=g,f.prototype.bomAware=!0,m.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,s=r.alloc(5*e.length+10),o=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(o+=s.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),o),i=0),s[o++]=h,t=!1),t||(s[o++]=c,c===p&&(s[o++]=h))):(t||(s[o++]=p,t=!0),t&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(o+=s.write(n.toString("base64").replace(/\//g,","),o),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,s.slice(0,o)},m.prototype.end=function(){var e=r.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=h,this.inBase64=!1),e.slice(0,t)};var y=l.slice();y[",".charCodeAt(0)]=!0,g.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)if(i){if(!y[e[o]]){if(o==n&&e[o]==h)t+="&";else{var a=s+e.slice(n,o).toString().replace(/,/g,"/");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[o]!=h&&o--,n=o+1,i=!1,s=""}}else e[o]==p&&(t+=this.iconv.decode(e.slice(n,o),"ascii"),n=o+1,i=!0);if(i){var c=(a=s+e.slice(n).toString().replace(/,/g,"/")).length-a.length%8;s=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=s,t},g.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},function(e,t,n){"use strict";var r=n(103).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);e.chars=n+e.chars}this.decodeBuf=r.from(e.chars,"ucs2");var s=r.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)s[e.chars.charCodeAt(i)]=i;this.encodeBuf=s}function s(e,t){this.encodeBuf=t.encodeBuf}function o(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=s,i.prototype.decoder=o,s.prototype.write=function(e){for(var t=r.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},s.prototype.end=function(){},o.prototype.write=function(e){for(var t=this.decodeBuf,n=r.alloc(2*e.length),i=0,s=0,o=0;o<e.length;o++)i=2*e[o],n[s=2*o]=t[i],n[s+1]=t[i+1];return n.toString("ucs2")},o.prototype.end=function(){}},function(e,t,n){"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(e,t,n){"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(e,t,n){"use strict";var r=n(103).Buffer;t._dbcs=l;for(var i=-1,s=-2,o=-1e3,a=new Array(256),c=0;c<256;c++)a[c]=i;function l(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=a.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var c={};if(e.encodeSkipVals)for(r=0;r<e.encodeSkipVals.length;r++){var l=e.encodeSkipVals[r];if("number"==typeof l)c[l]=!0;else for(var u=l.from;u<=l.to;u++)c[u]=!0}if(this._fillEncodeTable(0,0,c),e.encodeAdd)for(var d in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,d)&&this._setEncodeChar(d.charCodeAt(0),e.encodeAdd[d]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();var h=this.decodeTables.length,p=this.decodeTables[h]=a.slice(0),f=this.decodeTables.length,m=this.decodeTables[f]=a.slice(0);for(r=129;r<=254;r++){var g=o-this.decodeTables[0][r],y=this.decodeTables[g];for(u=48;u<=57;u++)y[u]=o-h}for(r=129;r<=254;r++)p[r]=o-f;for(r=48;r<=57;r++)m[r]=s}}function u(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function d(e,t){this.nodeIdx=0,this.prevBuf=r.alloc(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function h(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;n<r-1;){var i=n+Math.floor((r-n+1)/2);e[i]<=t?n=i:r=i}return n}l.prototype.encoder=u,l.prototype.decoder=d,l.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var s=n[t[r]];if(s==i)n[t[r]]=o-this.decodeTables.length,this.decodeTables.push(n=a.slice(0));else{if(!(s<=o))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[o-s]}}return n},l.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var s=0;s<i.length;){var o=i.charCodeAt(s++);if(55296<=o&&o<56320){var a=i.charCodeAt(s++);if(!(56320<=a&&a<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(o-55296)+(a-56320)}else if(4080<o&&o<=4095){for(var c=4095-o+2,l=[],u=0;u<c;u++)l.push(i.charCodeAt(s++));n[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else n[t++]=o}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var d=n[t-1]+1;for(s=0;s<i;s++)n[t++]=d++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},l.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=a.slice(0)),this.encodeTable[t]},l.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=-10?this.encodeTableSeq[-10-n[r]][-1]=t:n[r]==i&&(n[r]=t)},l.prototype._setEncodeSequence=function(e,t){var n,r=e[0],s=this._getEncodeBucket(r),o=255&r;s[o]<=-10?n=this.encodeTableSeq[-10-s[o]]:(n={},s[o]!==i&&(n[-1]=s[o]),s[o]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var a=1;a<e.length-1;a++){var c=n[r];"object"==typeof c?n=c:(n=n[r]={},void 0!==c&&(n[-1]=c))}n[r=e[e.length-1]]=t},l.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=0;i<256;i++){var s=r[i],a=t+i;n[a]||(s>=0?this._setEncodeChar(s,a):s<=o?this._fillEncodeTable(o-s,a<<8,n):s<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-s],a))}},u.prototype.write=function(e){for(var t=r.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,s=this.seqObj,o=-1,a=0,c=0;;){if(-1===o){if(a==e.length)break;var l=e.charCodeAt(a++)}else{l=o;o=-1}if(55296<=l&&l<57344)if(l<56320){if(-1===n){n=l;continue}n=l,l=i}else-1!==n?(l=65536+1024*(n-55296)+(l-56320),n=-1):l=i;else-1!==n&&(o=l,l=i,n=-1);var u=i;if(void 0!==s&&l!=i){var d=s[l];if("object"==typeof d){s=d;continue}"number"==typeof d?u=d:null==d&&void 0!==(d=s[-1])&&(u=d,o=l),s=void 0}else if(l>=0){var p=this.encodeTable[l>>8];if(void 0!==p&&(u=p[255&l]),u<=-10){s=this.encodeTableSeq[-10-u];continue}if(u==i&&this.gb18030){var f=h(this.gb18030.uChars,l);if(-1!=f){u=this.gb18030.gbChars[f]+(l-this.gb18030.uChars[f]);t[c++]=129+Math.floor(u/12600),u%=12600,t[c++]=48+Math.floor(u/1260),u%=1260,t[c++]=129+Math.floor(u/10),u%=10,t[c++]=48+u;continue}}}u===i&&(u=this.defaultCharSingleByte),u<256?t[c++]=u:u<65536?(t[c++]=u>>8,t[c++]=255&u):(t[c++]=u>>16,t[c++]=u>>8&255,t[c++]=255&u)}return this.seqObj=s,this.leadSurrogate=n,t.slice(0,c)},u.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=r.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},u.prototype.findIdx=h,d.prototype.write=function(e){var t=r.alloc(2*e.length),n=this.nodeIdx,a=this.prevBuf,c=this.prevBuf.length,l=-this.prevBuf.length;c>0&&(a=r.concat([a,e.slice(0,10)]));for(var u=0,d=0;u<e.length;u++){var p,f=u>=0?e[u]:a[u+c];if((p=this.decodeTables[n][f])>=0);else if(p===i)u=l,p=this.defaultCharUnicode.charCodeAt(0);else if(p===s){var m=l>=0?e.slice(l,u+1):a.slice(l+c,u+1+c),g=12600*(m[0]-129)+1260*(m[1]-48)+10*(m[2]-129)+(m[3]-48),y=h(this.gb18030.gbChars,g);p=this.gb18030.uChars[y]+g-this.gb18030.gbChars[y]}else{if(p<=o){n=o-p;continue}if(!(p<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+p+" at "+n+"/"+f);for(var v=this.decodeTableSeq[-10-p],_=0;_<v.length-1;_++)p=v[_],t[d++]=255&p,t[d++]=p>>8;p=v[v.length-1]}if(p>65535){p-=65536;var b=55296+Math.floor(p/1024);t[d++]=255&b,t[d++]=b>>8,p=56320+p%1024}t[d++]=255&p,t[d++]=p>>8,n=0,l=u+1}return this.nodeIdx=n,this.prevBuf=l>=0?e.slice(l):a.slice(l+c),t.slice(0,d).toString("ucs2")},d.prototype.end=function(){for(var e="";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=r.alloc(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e}},function(e,t,n){"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(899)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(900)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(227)}},gbk:{type:"_dbcs",table:function(){return n(227).concat(n(351))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(227).concat(n(351))},gb18030:function(){return n(901)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(902)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(352)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(352).concat(n(903))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(e){e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},function(e){e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},function(e){e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},function(e,t,n){"use strict";var r=n(68).Buffer,i=n(43).Transform;function s(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,i.call(this,t)}function o(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",i.call(this,t)}e.exports=function(e){e.encodeStream=function(t,n){return new s(e.getEncoder(t,n),n)},e.decodeStream=function(t,n){return new o(e.getDecoder(t,n),n)},e.supportsStreams=!0,e.IconvLiteEncoderStream=s,e.IconvLiteDecoderStream=o,e._collect=o.prototype.collect},s.prototype=Object.create(i.prototype,{constructor:{value:s}}),s.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(new Error("Iconv encoding stream needs strings as its input."));try{var r=this.conv.write(e);r&&r.length&&this.push(r),n()}catch(e){n(e)}},s.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},s.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,r.concat(t))}),this},o.prototype=Object.create(i.prototype,{constructor:{value:o}}),o.prototype._transform=function(e,t,n){if(!r.isBuffer(e))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},o.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},o.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this}},function(e,t,n){"use strict";var r=n(68).Buffer;e.exports=function(e){var t=void 0;e.supportsNodeEncodingsExtension=!(r.from||new r(0)instanceof Uint8Array),e.extendNodeEncodings=function(){if(!t){if(t={},!e.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var i={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};r.isNativeEncoding=function(e){return e&&i[e.toLowerCase()]};var s=n(68).SlowBuffer;if(t.SlowBufferToString=s.prototype.toString,s.prototype.toString=function(n,i,s){return n=String(n||"utf8").toLowerCase(),r.isNativeEncoding(n)?t.SlowBufferToString.call(this,n,i,s):(void 0===i&&(i=0),void 0===s&&(s=this.length),e.decode(this.slice(i,s),n))},t.SlowBufferWrite=s.prototype.write,s.prototype.write=function(n,i,s,o){if(isFinite(i))isFinite(s)||(o=s,s=void 0);else{var a=o;o=i,i=s,s=a}i=+i||0;var c=this.length-i;if(s?(s=+s)>c&&(s=c):s=c,o=String(o||"utf8").toLowerCase(),r.isNativeEncoding(o))return t.SlowBufferWrite.call(this,n,i,s,o);if(n.length>0&&(s<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var l=e.encode(n,o);return l.length<s&&(s=l.length),l.copy(this,i,0,s),s},t.BufferIsEncoding=r.isEncoding,r.isEncoding=function(t){return r.isNativeEncoding(t)||e.encodingExists(t)},t.BufferByteLength=r.byteLength,r.byteLength=s.byteLength=function(n,i){return i=String(i||"utf8").toLowerCase(),r.isNativeEncoding(i)?t.BufferByteLength.call(this,n,i):e.encode(n,i).length},t.BufferToString=r.prototype.toString,r.prototype.toString=function(n,i,s){return n=String(n||"utf8").toLowerCase(),r.isNativeEncoding(n)?t.BufferToString.call(this,n,i,s):(void 0===i&&(i=0),void 0===s&&(s=this.length),e.decode(this.slice(i,s),n))},t.BufferWrite=r.prototype.write,r.prototype.write=function(n,i,s,o){var a=i,c=s,l=o;if(isFinite(i))isFinite(s)||(o=s,s=void 0);else{var u=o;o=i,i=s,s=u}if(o=String(o||"utf8").toLowerCase(),r.isNativeEncoding(o))return t.BufferWrite.call(this,n,a,c,l);i=+i||0;var d=this.length-i;if(s?(s=+s)>d&&(s=d):s=d,n.length>0&&(s<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var h=e.encode(n,o);return h.length<s&&(s=h.length),h.copy(this,i,0,s),s},e.supportsStreams){var o=n(43).Readable;t.ReadableSetEncoding=o.prototype.setEncoding,o.prototype.setEncoding=function(t,n){this._readableState.decoder=e.getDecoder(t,n),this._readableState.encoding=t},o.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(e.supportsNodeEncodingsExtension){if(!t)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete r.isNativeEncoding;var i=n(68).SlowBuffer;if(i.prototype.toString=t.SlowBufferToString,i.prototype.write=t.SlowBufferWrite,r.isEncoding=t.BufferIsEncoding,r.byteLength=t.BufferByteLength,r.prototype.toString=t.BufferToString,r.prototype.write=t.BufferWrite,e.supportsStreams){var s=n(43).Readable;s.prototype.setEncoding=t.ReadableSetEncoding,delete s.prototype.collect}t=void 0}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(81),c=n(354),l=n(20);let u=class{constructor(e,t,n,r){this.envVarsService=e,this.processLogger=t,this.decoder=n,this.disposableRegistry=r}async create(e){const t=await this.envVarsService.getEnvironmentVariables(e),n=new c.ProcessService(this.decoder,t);return this.disposableRegistry.push(n),n.on("exec",this.processLogger.logProcess.bind(this.processLogger))}};u=r([s.injectable(),i(0,s.inject(a.IEnvironmentVariablesProvider)),i(1,s.inject(l.IProcessLogger)),i(2,s.inject(l.IBufferDecoder)),i(3,s.inject(o.IDisposableRegistry))],u),t.ProcessServiceFactory=u},function(e,t,n){"use strict";var r=n(908),i=n(358),s=n(357);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(s.empty)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(355),s=n(909),o=n(357),a=n(358),c=function(e){function t(t,n,r){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.empty;break;case 1:if(!t){this.destination=o.empty;break}if("object"==typeof t){if(u(t)){var i=t[a.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,n,r)}}return r(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(s.Subscription);t.Subscriber=c;var l=function(e){function t(t,n,r,s){var a;e.call(this),this._parentSubscriber=t;var c=this;i.isFunction(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.empty&&(c=Object.create(n),i.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=a,this._error=r,this._complete=s}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c);function u(e){return e instanceof c||"syncErrorThrowable"in e&&e[a.rxSubscriber]}},function(e,t,n){"use strict";var r=n(910),i=n(911),s=n(355),o=n(912),a=n(356),c=n(913),l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,l=this._parents,d=this._unsubscribe,h=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,f=l?l.length:0;n;)n.remove(this),n=++p<f&&l[p]||null;if(s.isFunction(d))o.tryCatch(d).call(this)===a.errorObject&&(t=!0,e=e||(a.errorObject.e instanceof c.UnsubscriptionError?u(a.errorObject.e.errors):[a.errorObject.e]));if(r.isArray(h))for(p=-1,f=h.length;++p<f;){var m=h[p];if(i.isObject(m))if(o.tryCatch(m.unsubscribe).call(m)===a.errorObject){t=!0,e=e||[];var g=a.errorObject.e;g instanceof c.UnsubscriptionError?e=e.concat(u(g.errors)):e.push(g)}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce(function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)},[])}t.Subscription=l},function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r,i=n(356);function s(){try{return r.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}t.tryCatch=function(e){return r=e,s}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=i},function(e,t,n){"use strict";var r=n(228);function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.getSymbolObservable=i,t.observable=i(r.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=n(916);function i(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e)},t.pipeFromArray=i},function(e,t,n){"use strict";t.noop=function(){}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(155),a=n(126),c=n(10),l=n(9),u=n(11),d=n(1),h=n(354),p=n(359),f=n(20),m=n(918);let g=class{constructor(e,t,n,r,i,s){this.serviceContainer=e,this.activationHelper=t,this.processServiceFactory=n,this.configService=r,this.decoder=i,this.windowsStoreInterpreter=s}async create(e){const t=e.pythonPath?e.pythonPath:this.configService.getSettings(e.resource).pythonPath,n=await this.processServiceFactory.create(e.resource),r=this.serviceContainer.get(f.IProcessLogger);return n.on("exec",r.logProcess.bind(r)),this.windowsStoreInterpreter.isWindowsStoreInterpreter(t)?new m.WindowsStorePythonProcess(this.serviceContainer,n,t,this.windowsStoreInterpreter):new p.PythonExecutionService(this.serviceContainer,n,t)}async createActivatedEnvironment(e){const t=await this.activationHelper.getActivatedEnvironmentVariables(e.resource,e.interpreter,e.allowEnvironmentFetchExceptions),n=t&&Object.keys(t).length>0;if(l.sendTelemetryEvent(u.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,void 0,{hasEnvVars:n}),!n)return this.create({resource:e.resource,pythonPath:e.interpreter?e.interpreter.path:void 0});const r=e.interpreter?e.interpreter.path:this.configService.getSettings(e.resource).pythonPath,i=new h.ProcessService(this.decoder,{...t}),s=this.serviceContainer.get(f.IProcessLogger);return i.on("exec",s.logProcess.bind(s)),this.serviceContainer.get(d.IDisposableRegistry).push(i),new p.PythonExecutionService(this.serviceContainer,i,r)}};g=r([s.injectable(),i(0,s.inject(c.IServiceContainer)),i(1,s.inject(o.IEnvironmentActivationService)),i(2,s.inject(f.IProcessServiceFactory)),i(3,s.inject(d.IConfigurationService)),i(4,s.inject(f.IBufferDecoder)),i(5,s.inject(a.WindowsStoreInterpreter))],g),t.PythonExecutionFactory=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(359);t.WindowsStorePythonProcess=class extends r.PythonExecutionService{constructor(e,t,n,r){super(e,t,n),this.windowsStoreInterpreter=r}async getExecutablePath(){return this.windowsStoreInterpreter.isWindowsStoreInterpreter(this.pythonPath)?this.pythonPath:super.getExecutablePath()}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(20);let c=class{constructor(e){this.serviceContainer=e}async execObservable(e,t,n){if(t.env)throw new Error("Environment variables are not supported");if(e.moduleName&&e.moduleName.length>0){return(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n})).execModuleObservable(e.moduleName,e.args,t)}return(await this.serviceContainer.get(a.IProcessServiceFactory).create(n)).execObservable(e.execPath,e.args,{...t})}async exec(e,t,n){if(t.env)throw new Error("Environment variables are not supported");if(e.moduleName&&e.moduleName.length>0){return(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n})).execModule(e.moduleName,e.args,t)}return(await this.serviceContainer.get(a.IProcessServiceFactory).create(n)).exec(e.execPath,e.args,{...t})}};c=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],c),t.PythonToolExecutionService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(1),s=n(921),o=n(365),a=n(928),c=n(930),l=n(931),u=n(345),d=n(932),h=n(933),p=n(934),f=n(935),m=n(936),g=n(4),y=n(366),v=n(937),_=n(938),b=n(940),S=n(149),w=n(942),C=n(943),E=n(944),T=n(945),D=n(946),P=n(947),k=n(229),I=n(230),M=n(948),x=n(6),A=n(367),O=n(951),L=n(953),R=n(954),j=n(145),F=n(955),N=n(69),Y=n(956),B=n(957),H=n(958),W=n(20),U=n(959),V=n(961),$=n(962),q=n(963),G=n(964),z=n(965),K=n(966),J=n(967),X=n(969),Q=n(971),Z=n(972),ee=n(973),te=n(974),ne=n(28),re=n(1),ie=n(370),se=n(209);t.registerTypes=function(e){e.addSingletonInstance(re.IsWindows,N.IS_WINDOWS),e.addSingleton(re.IExtensions,p.Extensions),e.addSingleton(re.IRandom,se.Random),e.addSingleton(re.IPersistentStateFactory,F.PersistentStateFactory),e.addSingleton(re.ILogger,x.Logger),e.addSingleton(ne.ITerminalServiceFactory,J.TerminalServiceFactory),e.addSingleton(re.IPathUtils,Y.PathUtils),e.addSingleton(g.IApplicationShell,c.ApplicationShell),e.addSingleton(re.ICurrentProcess,B.CurrentProcess),e.addSingleton(re.IInstaller,I.ProductInstaller),e.addSingleton(g.ICommandManager,l.CommandManager),e.addSingleton(re.IConfigurationService,_.ConfigurationService),e.addSingleton(g.IWorkspaceService,y.WorkspaceService),e.addSingleton(W.IProcessLogger,H.ProcessLogger),e.addSingleton(g.IDocumentManager,h.DocumentManager),e.addSingleton(g.ITerminalManager,m.TerminalManager),e.addSingleton(g.IDebugService,u.DebugService),e.addSingleton(g.IApplicationEnvironment,a.ApplicationEnvironment),e.addSingleton(g.ILanguageService,f.LanguageService),e.addSingleton(re.IBrowserService,A.BrowserService),e.addSingleton(i.IHttpClient,L.HttpClient),e.addSingleton(i.IFileDownloader,O.FileDownloader),e.addSingleton(re.IEditorUtils,S.EditorUtils),e.addSingleton(j.INugetService,R.NugetService),e.addSingleton(ne.ITerminalActivator,U.TerminalActivator),e.addSingleton(ne.ITerminalActivationHandler,V.PowershellTerminalActivationFailedHandler),e.addSingleton(g.ILiveShareApi,M.LiveShareApi),e.addSingleton(re.ICryptoUtils,b.CryptoUtils),e.addSingleton(re.IExperimentsManager,w.ExperimentsManager),e.addSingleton(ne.ITerminalHelper,X.TerminalHelper),e.addSingleton(ne.ITerminalActivationCommandProvider,$.Bash,ne.TerminalActivationProviders.bashCShellFish),e.addSingleton(ne.ITerminalActivationCommandProvider,q.CommandPromptAndPowerShell,ne.TerminalActivationProviders.commandPromptAndPowerShell),e.addSingleton(ne.ITerminalActivationCommandProvider,K.PyEnvActivationCommandProvider,ne.TerminalActivationProviders.pyenv),e.addSingleton(ne.ITerminalActivationCommandProvider,G.CondaActivationCommandProvider,ne.TerminalActivationProviders.conda),e.addSingleton(ne.ITerminalActivationCommandProvider,z.PipEnvActivationCommandProvider,ne.TerminalActivationProviders.pipenv),e.addSingleton(re.IFeatureDeprecationManager,C.FeatureDeprecationManager),e.addSingleton(re.IAsyncDisposableRegistry,v.AsyncDisposableRegistry),e.addSingleton(ie.IMultiStepInputFactory,ie.MultiStepInputFactory),e.addSingleton(o.IImportTracker,s.ImportTracker),e.addSingleton(ne.IShellDetector,Z.TerminalNameShellDetector),e.addSingleton(ne.IShellDetector,Q.SettingsShellDetector),e.addSingleton(ne.IShellDetector,ee.UserEnvironmentShellDetector),e.addSingleton(ne.IShellDetector,te.VSCEnvironmentShellDetector),e.addSingleton(k.IInsiderExtensionPrompt,D.InsidersExtensionPrompt),e.addSingleton(r.IExtensionSingleActivationService,P.InsidersExtensionService),e.addSingleton(k.IExtensionChannelService,T.ExtensionChannelService),e.addSingleton(k.IExtensionChannelRule,E.ExtensionInsidersOffChannelRule,k.ExtensionChannel.off),e.addSingleton(k.IExtensionChannelRule,E.ExtensionInsidersDailyChannelRule,k.ExtensionChannel.daily),e.addSingleton(k.IExtensionChannelRule,E.ExtensionInsidersWeeklyChannelRule,k.ExtensionChannel.weekly),e.addSingleton(r.IExtensionSingleActivationService,d.DebugSessionTelemetry)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(9),c=n(4),l=n(13);n(7);const u=n(16),d=n(11),h=/^\s*(from (?<fromImport>\w+)(?:\.\w+)* import \w+(?:, \w+)*(?: as \w+)?|import (?<importImport>\w+(?:, \w+)*)(?: as \w+)?)$/,p=l.isTestExecution();let f=class{constructor(e){this.documentManager=e,this.pendingDocs=new Map,this.sentMatches=new Set,this.hashFn=n(361).sha256,this.documentManager.onDidOpenTextDocument(e=>this.onOpenedOrSavedDocument(e)),this.documentManager.onDidSaveTextDocument(e=>this.onOpenedOrSavedDocument(e))}async activate(){this.documentManager.textDocuments.forEach(e=>this.onOpenedOrSavedDocument(e))}getDocumentLines(e){return Array(Math.min(e.lineCount,1e3)).fill("").map((t,n)=>{const r=e.lineAt(n);if(r&&!r.isEmptyOrWhitespace)return r.text}).filter(e=>e)}onOpenedOrSavedDocument(e){".py"===o.extname(e.fileName)&&this.scheduleDocument(e)}scheduleDocument(e){const t=this.pendingDocs.get(e.fileName);t&&(clearTimeout(t),this.pendingDocs.delete(e.fileName)),p?this.checkDocument(e):this.pendingDocs.set(e.fileName,setTimeout(()=>this.checkDocument(e),5e3))}checkDocument(e){this.pendingDocs.delete(e.fileName);const t=this.getDocumentLines(e);this.lookForImports(t)}sendTelemetry(e){if(this.sentMatches.has(e))return;this.sentMatches.add(e);const t=this.hashFn().update(e).digest("hex");a.sendTelemetryEvent(d.EventName.HASHED_PACKAGE_NAME,void 0,{hashedName:t})}lookForImports(e){try{for(const t of e){const e=t?h.exec(t):null;if(null!==e&&void 0!==e.groups)if(void 0!==e.groups.fromImport)this.sendTelemetry(e.groups.fromImport);else if(void 0!==e.groups.importImport){e.groups.importImport.split(",").map(e=>e.trim()).forEach(e=>this.sendTelemetry(e))}}}catch(e){u.noop()}}};r([a.captureTelemetry(d.EventName.HASHED_PACKAGE_PERF)],f.prototype,"checkDocument",null),f=r([s.injectable(),i(0,s.inject(c.IDocumentManager))],f),t.ImportTracker=f},function(e,t,n){"use strict";t.sha1=n(923),t.sha224=n(924),t.sha256=n(363),t.sha384=n(925),t.sha512=n(364)},function(e,t,n){"use strict";var r=n(64),i=n(128),s=n(362),o=r.rotl32,a=r.sum32,c=r.sum32_5,l=s.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,u),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=o(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],s=this.h[1],u=this.h[2],h=this.h[3],p=this.h[4];for(r=0;r<n.length;r++){var f=~~(r/20),m=c(o(i,5),l(f,s,u,h),p,n[r],d[f]);p=h,h=u,u=o(s,30),s=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],p)},h.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(64),i=n(363);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(64),i=n(364);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(64),i=n(128),s=r.rotl32,o=r.sum32,a=r.sum32_3,c=r.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],v=n,_=r,b=i,S=l,w=u,C=0;C<80;C++){var E=o(s(c(n,d(C,r,i,l),e[f[C]+t],h(C)),g[C]),u);n=u,u=l,l=s(i,10),i=r,r=E,E=o(s(c(v,d(79-C,_,b,S),e[m[C]+t],p(C)),y[C]),w),v=w,w=S,S=s(b,10),b=_,_=E}E=a(this.h[1],i,S),this.h[1]=a(this.h[2],l,w),this.h[2]=a(this.h[3],u,v),this.h[3]=a(this.h[4],n,_),this.h[4]=a(this.h[0],r,b),this.h[0]=E},u.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(64),i=n(127);function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(49),c=n(2),l=n(6),u=n(8),d=n(1),h=n(35);let p=class{constructor(e,t,n){this.platform=e,this.pathUtils=t,this.process=n}get userSettingsFile(){const e="insiders"===this.channel?"Code - Insiders":"Code";switch(this.platform.osType){case h.OSType.OSX:return o.join(this.pathUtils.home,"Library","Application Support",e,"User","settings.json");case h.OSType.Linux:return o.join(this.pathUtils.home,".config",e,"User","settings.json");case h.OSType.Windows:return this.process.env.APPDATA?o.join(this.process.env.APPDATA,e,"User","settings.json"):void 0;default:return}}get appName(){return c.env.appName}get appRoot(){return c.env.appRoot}get language(){return c.env.language}get sessionId(){return c.env.sessionId}get machineId(){return c.env.machineId}get extensionName(){return this.packageJson.displayName}get shell(){try{return c.env.shell}catch(e){l.traceError("Unable to determine shell using VS Code API.",e)}}get packageJson(){return n(929)}get channel(){return this.appName.indexOf("Insider")>0?"insiders":"stable"}get extensionChannel(){const e=a.parse(this.packageJson.version);return!e||e.prerelease.length>0?"insiders":"stable"}};p=r([s.injectable(),i(0,s.inject(u.IPlatformService)),i(1,s.inject(d.IPathUtils)),i(2,s.inject(d.ICurrentProcess))],p),t.ApplicationEnvironment=p},function(e){e.exports=JSON.parse('{"name":"vscode-starlark","displayName":"vscode-starlark","description":"IntelliSense for Starlark files","version":"0.3.1","languageServerVersion":"0.4.24","publisher":"phgn","author":{"name":"Peter Hagen"},"license":"MIT","homepage":"https://github.com/phgn0/vscode-starklark","repository":{"type":"git","url":"https://github.com/phgn0/vscode-starklark"},"bugs":{"url":"https://github.com/phgn0/vscode-starklark/issues"},"qna":"https://stackoverflow.com/questions/tagged/visual-studio-code+python","icon":"icon.png","galleryBanner":{"color":"#1e415e","theme":"dark"},"engines":{"vscode":"^1.38.0"},"keywords":["starlark","skylark","bazel","intellisense","linting"],"categories":["Programming Languages","Debuggers","Linters","Snippets","Formatters","Other"],"activationEvents":["onLanguage:starlark","onDebugResolve:starlark"],"main":"./out/client/extension","contributes":{"commands":[],"menus":{},"debuggers":[],"configuration":{"type":"object","title":"Starlark","properties":{"python.diagnostics.sourceMapsEnabled":{"type":"boolean","default":false,"description":"Enable source map support for meaningful stack traces in error logs.","scope":"application"},"python.autoComplete.addBrackets":{"type":"boolean","default":false,"description":"Automatically add brackets for functions.","scope":"resource"},"python.autoComplete.extraPaths":{"type":"array","default":[],"description":"List of paths to libraries and the like that need to be imported by auto complete engine. E.g. when using Google App SDK, the paths are not in system path, hence need to be added into this list.","scope":"resource"},"python.autoComplete.showAdvancedMembers":{"type":"boolean","default":true,"description":"Controls appearance of methods with double underscores in the completion list.","scope":"resource"},"python.autoComplete.typeshedPaths":{"type":"array","items":{"type":"string"},"default":[],"description":"Specifies paths to local typeshed repository clone(s) for the Python language server.","scope":"resource"},"python.autoUpdateLanguageServer":{"type":"boolean","default":false,"description":"Automatically update the Python language server.","scope":"application"},"python.disableInstallationCheck":{"type":"boolean","default":false,"description":"Whether to check if Python is installed (also warn when using the macOS-installed Python).","scope":"resource"},"python.envFile":{"type":"string","description":"Absolute path to a file containing environment variable definitions.","default":"${workspaceFolder}/.env","scope":"resource"},"python.formatting.autopep8Args":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.formatting.autopep8Path":{"type":"string","default":"autopep8","description":"Path to autopep8, you can use a custom version of autopep8 by modifying this setting to include the full path.","scope":"resource"},"python.formatting.provider":{"type":"string","default":"autopep8","description":"Provider for formatting. Possible options include \'autopep8\', \'black\', and \'yapf\'.","enum":["autopep8","black","yapf","none"],"scope":"resource"},"python.formatting.blackArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.formatting.blackPath":{"type":"string","default":"black","description":"Path to Black, you can use a custom version of Black by modifying this setting to include the full path.","scope":"resource"},"python.formatting.yapfArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.formatting.yapfPath":{"type":"string","default":"yapf","description":"Path to yapf, you can use a custom version of yapf by modifying this setting to include the full path.","scope":"resource"},"python.globalModuleInstallation":{"type":"boolean","default":false,"description":"Whether to install Python modules globally when not using an environment.","scope":"resource"},"python.jediEnabled":{"type":"boolean","default":true,"description":"Enables Jedi as IntelliSense engine instead of Microsoft Python Analysis Engine.","scope":"resource"},"python.jediMemoryLimit":{"type":"number","default":0,"description":"Memory limit for the Jedi completion engine in megabytes. Zero (default) means 1024 MB. -1 means unlimited (disable memory limit check)","scope":"resource"},"python.jediPath":{"type":"string","default":"","description":"Path to directory containing the Jedi library (this path will contain the \'Jedi\' sub directory).","scope":"resource"},"python.analysis.openFilesOnly":{"type":"boolean","default":true,"description":"Only show errors and warnings for open files rather than for the entire workspace.","scope":"resource"},"python.analysis.diagnosticPublishDelay":{"type":"integer","default":1000,"description":"Delay before diagnostic messages are transferred to the problems list (in milliseconds).","scope":"resource"},"python.analysis.errors":{"type":"array","default":[],"items":{"type":"string"},"description":"List of diagnostics messages to be shown as errors.","scope":"resource"},"python.analysis.warnings":{"type":"array","default":[],"items":{"type":"string"},"description":"List of diagnostics messages to be shown as warnings.","scope":"resource"},"python.analysis.information":{"type":"array","default":[],"items":{"type":"string"},"description":"List of diagnostics messages to be shown as information.","scope":"resource"},"python.analysis.disabled":{"type":"array","default":[],"items":{"type":"string"},"description":"List of suppressed diagnostic messages.","scope":"resource"},"python.analysis.typeshedPaths":{"type":"array","default":[],"items":{"type":"string"},"description":"Paths to Typeshed stub folders. Default is Typeshed installed with the language server. Change requires restart.","scope":"resource"},"python.analysis.cacheFolderPath":{"type":"string","description":"Path to a writable folder where analyzer can cache its data. Change requires restart.","scope":"resource"},"python.analysis.memory.keepLibraryAst":{"type":"boolean","default":false,"description":"Allows code analysis to keep parser trees in memory. Increases memory consumption but may improve performance with large library analysis.","scope":"resource"},"python.analysis.memory.keepLibraryLocalVariables":{"type":"boolean","default":false,"description":"Allows code analysis to keep library function local variables. Allows code navigation in Python libraries function bodies. Increases memory consumption.","scope":"resource"},"python.analysis.logLevel":{"type":"string","enum":["Error","Warning","Information","Trace"],"default":"Error","description":"Defines type of log messages language server writes into the output window.","scope":"resource"},"python.analysis.symbolsHierarchyDepthLimit":{"type":"integer","default":10,"description":"Limits depth of the symbol tree in the document outline.","scope":"resource"},"python.analysis.cachingLevel":{"type":"string","enum":["Default","None","System","Library"],"default":"Default","description":"Defines which types of modules get their analysis cached.","scope":"resource"},"python.linting.enabled":{"type":"boolean","default":true,"description":"Whether to lint Python files.","scope":"resource"},"python.linting.flake8Args":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.linting.flake8CategorySeverity.E":{"type":"string","default":"Error","description":"Severity of Flake8 message type \'E\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.flake8CategorySeverity.F":{"type":"string","default":"Error","description":"Severity of Flake8 message type \'F\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.flake8CategorySeverity.W":{"type":"string","default":"Warning","description":"Severity of Flake8 message type \'W\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.flake8Enabled":{"type":"boolean","default":false,"description":"Whether to lint Python files using flake8","scope":"resource"},"python.linting.flake8Path":{"type":"string","default":"flake8","description":"Path to flake8, you can use a custom version of flake8 by modifying this setting to include the full path.","scope":"resource"},"python.linting.ignorePatterns":{"type":"array","description":"Patterns used to exclude files or folders from being linted.","default":[".vscode/*.py","**/site-packages/**/*.py"],"items":{"type":"string"},"scope":"resource"},"python.linting.lintOnSave":{"type":"boolean","default":true,"description":"Whether to lint Python files when saved.","scope":"resource"},"python.linting.maxNumberOfProblems":{"type":"number","default":100,"description":"Controls the maximum number of problems produced by the server.","scope":"resource"},"python.linting.banditArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.linting.banditEnabled":{"type":"boolean","default":false,"description":"Whether to lint Python files using bandit.","scope":"resource"},"python.linting.banditPath":{"type":"string","default":"bandit","description":"Path to bandit, you can use a custom version of bandit by modifying this setting to include the full path.","scope":"resource"},"python.linting.mypyArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":["--ignore-missing-imports","--follow-imports=silent","--show-column-numbers"],"items":{"type":"string"},"scope":"resource"},"python.linting.mypyCategorySeverity.error":{"type":"string","default":"Error","description":"Severity of Mypy message type \'Error\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.mypyCategorySeverity.note":{"type":"string","default":"Information","description":"Severity of Mypy message type \'Note\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.mypyEnabled":{"type":"boolean","default":false,"description":"Whether to lint Python files using mypy.","scope":"resource"},"python.linting.mypyPath":{"type":"string","default":"mypy","description":"Path to mypy, you can use a custom version of mypy by modifying this setting to include the full path.","scope":"resource"},"python.linting.pycodestyleArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.linting.pycodestyleCategorySeverity.E":{"type":"string","default":"Error","description":"Severity of pycodestyle message type \'E\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.pycodestyleCategorySeverity.W":{"type":"string","default":"Warning","description":"Severity of pycodestyle message type \'W\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.pycodestyleEnabled":{"type":"boolean","default":false,"description":"Whether to lint Python files using pycodestyle","scope":"resource"},"python.linting.pycodestylePath":{"type":"string","default":"pycodestyle","description":"Path to pycodestyle, you can use a custom version of pycodestyle by modifying this setting to include the full path.","scope":"resource"},"python.linting.prospectorArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.linting.prospectorEnabled":{"type":"boolean","default":false,"description":"Whether to lint Python files using prospector.","scope":"resource"},"python.linting.prospectorPath":{"type":"string","default":"prospector","description":"Path to Prospector, you can use a custom version of prospector by modifying this setting to include the full path.","scope":"resource"},"python.linting.pydocstyleArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.linting.pydocstyleEnabled":{"type":"boolean","default":false,"description":"Whether to lint Python files using pydocstyle","scope":"resource"},"python.linting.pydocstylePath":{"type":"string","default":"pydocstyle","description":"Path to pydocstyle, you can use a custom version of pydocstyle by modifying this setting to include the full path.","scope":"resource"},"python.linting.pylamaArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.linting.pylamaEnabled":{"type":"boolean","default":false,"description":"Whether to lint Python files using pylama.","scope":"resource"},"python.linting.pylamaPath":{"type":"string","default":"pylama","description":"Path to pylama, you can use a custom version of pylama by modifying this setting to include the full path.","scope":"resource"},"python.linting.pylintArgs":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.linting.pylintCategorySeverity.convention":{"type":"string","default":"Information","description":"Severity of Pylint message type \'Convention/C\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.pylintCategorySeverity.error":{"type":"string","default":"Error","description":"Severity of Pylint message type \'Error/E\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.pylintCategorySeverity.fatal":{"type":"string","default":"Error","description":"Severity of Pylint message type \'Fatal/F\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.pylintCategorySeverity.refactor":{"type":"string","default":"Hint","description":"Severity of Pylint message type \'Refactor/R\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.pylintCategorySeverity.warning":{"type":"string","default":"Warning","description":"Severity of Pylint message type \'Warning/W\'.","enum":["Hint","Error","Information","Warning"],"scope":"resource"},"python.linting.pylintEnabled":{"type":"boolean","default":true,"description":"Whether to lint Python files using pylint.","scope":"resource"},"python.linting.pylintPath":{"type":"string","default":"pylint","description":"Path to Pylint, you can use a custom version of pylint by modifying this setting to include the full path.","scope":"resource"},"python.linting.pylintUseMinimalCheckers":{"type":"boolean","default":true,"description":"Whether to run Pylint with minimal set of rules.","scope":"resource"},"python.pythonPath":{"type":"string","default":"python","description":"Path to Python, you can use a custom version of Python by modifying this setting to include the full path.","scope":"resource"},"python.condaPath":{"type":"string","default":"","description":"Path to the conda executable to use for activation (version 4.4+).","scope":"resource"},"python.pipenvPath":{"type":"string","default":"pipenv","description":"Path to the pipenv executable to use for activation.","scope":"resource"},"python.poetryPath":{"type":"string","default":"poetry","description":"Path to the poetry executable.","scope":"resource"},"python.sortImports.args":{"type":"array","description":"Arguments passed in. Each argument is a separate item in the array.","default":[],"items":{"type":"string"},"scope":"resource"},"python.sortImports.path":{"type":"string","description":"Path to isort script, default using inner version","default":"","scope":"resource"},"python.terminal.activateEnvironment":{"type":"boolean","default":true,"description":"Activate Python Environment in Terminal created using the Extension.","scope":"resource"},"python.terminal.executeInFileDir":{"type":"boolean","default":false,"description":"When executing a file in the terminal, whether to use execute in the file\'s directory, instead of the current open folder.","scope":"resource"},"python.venvFolders":{"type":"array","default":[],"description":"Folders in your home directory to look into for virtual environments (supports pyenv, direnv and virtualenvwrapper by default).","scope":"resource","items":{"type":"string"}},"python.venvPath":{"type":"string","default":"","description":"Path to folder with a list of Virtual Environments (e.g. ~/.pyenv, ~/Envs, ~/.virtualenvs).","scope":"resource"},"python.workspaceSymbols.ctagsPath":{"type":"string","default":"ctags","description":"Fully qualified path to the ctags executable (else leave as ctags, assuming it is in current path).","scope":"resource"},"python.workspaceSymbols.enabled":{"type":"boolean","default":true,"description":"Set to \'false\' to disable Workspace Symbol provider using ctags.","scope":"resource"},"python.workspaceSymbols.exclusionPatterns":{"type":"array","default":["**/site-packages/**"],"items":{"type":"string"},"description":"Pattern used to exclude files and folders from ctags See http://ctags.sourceforge.net/ctags.html.","scope":"resource"},"python.workspaceSymbols.rebuildOnFileSave":{"type":"boolean","default":true,"description":"Whether to re-build the tags file on when changes made to python files are saved.","scope":"resource"},"python.workspaceSymbols.rebuildOnStart":{"type":"boolean","default":true,"description":"Whether to re-build the tags file on start (defaults to true).","scope":"resource"},"python.workspaceSymbols.tagFilePath":{"type":"string","default":"${workspaceFolder}/.vscode/tags","description":"Fully qualified path to tag file (exuberant ctag file), used to provide workspace symbols.","scope":"resource"},"python.dataScience.allowLiveShare":{"type":"boolean","default":true,"description":"Allow the Python Interactive window to be shared during a Live Share session","scope":"resource"}}},"languages":[{"id":"starlark","aliases":["Starlark","skylark","Skylark"],"extensions":[".star",".sky"],"configuration":"./syntaxes/starlark.configuration.json"}],"grammars":[{"language":"starlark","scopeName":"source.starlark","path":"./syntaxes/starlark.tmLanguage.json"}],"views":{"test":[{"id":"starlark_tests","name":"PYTHON","when":"testsDiscovered"}]}},"scripts":{"package":"gulp clean && gulp prePublishBundle && vsce package -o vscode-starlark.vsix","compile":"tsc -watch -p ./","compile-webviews-watch":"npx npx -n --max_old_space_size=4096 webpack --config webpack.datascience-ui.config.js --watch","dump-datascience-webpack-stats":"npx -n --max_old_space_size=4096 webpack --config webpack.datascience-ui.config.js --profile --json > tmp/ds-stats.json","compile-webviews":"gulp compile-webviews","compile-webviews-verbose":"npx webpack --config webpack.datascience-ui.config.js","postinstall":"node ./build/ci/postInstall.js","test":"node ./out/test/standardTest.js && node ./out/test/multiRootTest.js","test:unittests":"mocha --opts ./build/.mocha.unittests.js.opts","test:unittests:cover":"nyc --silent --no-clean --nycrc-path build/.nycrc mocha --opts ./build/.mocha.unittests.ts.opts","test:functional":"mocha --require source-map-support/register --opts ./build/.mocha.functional.opts","test:functional:cover":"npm run test:functional","test:cover:report":"nyc --nycrc-path build/.nycrc  report --reporter=lcov --reporter=text --reporter=html --reporter=text-summary --reporter=cobertura","testDebugger":"node ./out/test/testBootstrap.js ./out/test/debuggerTest.js","testSingleWorkspace":"node ./out/test/testBootstrap.js ./out/test/standardTest.js","testMultiWorkspace":"node ./out/test/testBootstrap.js ./out/test/multiRootTest.js","testPerformance":"node ./out/test/testBootstrap.js ./out/test/performanceTest.js","testSmoke":"node ./out/test/smokeTest.js","lint-staged":"node gulpfile.js","lint":"tslint src/**/*.ts -t verbose","clean":"gulp clean","updateBuildNumber":"gulp updateBuildNumber","verifyBundle":"gulp verifyBundle"},"dependencies":{"@blueprintjs/select":"3.10.0","@jupyterlab/services":"^3.2.1","@msrvida/python-program-analysis":"^0.2.6","ansi-regex":"^4.1.0","arch":"^2.1.0","azure-storage":"^2.10.3","detect-indent":"^6.0.0","diff-match-patch":"^1.0.0","fast-deep-equal":"^2.0.1","fs-extra":"^4.0.3","fuzzy":"^0.1.3","get-port":"^3.2.0","glob":"^7.1.2","hash.js":"^1.1.7","iconv-lite":"^0.4.21","inversify":"^4.11.1","jsonc-parser":"^2.0.3","less-plugin-inline-urls":"^1.2.0","line-by-line":"^0.1.6","lodash":"^4.17.15","md5":"^2.2.1","memoize-one":"^5.1.1","minimatch":"^3.0.4","monaco-editor-textmate":"^2.1.1","monaco-textmate":"^3.0.0","named-js-regexp":"^1.3.3","node-fetch":"^1.0.0","node-stream-zip":"^1.6.0","onigasm":"^2.2.2","pdfkit":"^0.10.0","pidusage":"^1.2.0","react-svg-pan-zoom":"^3.1.0","react-svgmt":"^1.1.8","react-virtualized":"^9.21.1","reflect-metadata":"^0.1.12","request":"^2.87.0","request-progress":"^3.0.0","rxjs":"^5.5.9","semver":"^5.5.0","slickgrid":"^2.4.7","stack-trace":"0.0.10","strip-ansi":"^5.2.0","sudo-prompt":"^8.2.0","svg-to-pdfkit":"^0.1.7","tmp":"^0.0.29","tree-kill":"^1.2.0","tslint":"^5.14.0","typescript-char":"^0.0.0","uint64be":"^1.0.1","unicode":"^10.0.0","untildify":"^3.0.2","vscode-debugadapter":"^1.28.0","vscode-debugprotocol":"^1.28.0","vscode-extension-telemetry":"0.1.0","vscode-languageclient":"^5.2.1","vscode-languageserver":"^5.2.1","vscode-languageserver-protocol":"^3.14.1","vsls":"^0.3.1291","winreg":"^1.2.4","winston":"^3.2.1","ws":"^6.0.0","xml2js":"^0.4.19"},"devDependencies":{"@babel/cli":"^7.4.4","@babel/core":"^7.4.4","@babel/plugin-transform-runtime":"^7.4.4","@babel/polyfill":"^7.4.4","@babel/preset-env":"^7.1.0","@babel/preset-react":"^7.0.0","@babel/register":"^7.4.4","@enonic/fnv-plus":"^1.3.0","@istanbuljs/nyc-config-typescript":"^0.1.3","@nteract/plotly":"^1.48.3","@nteract/transform-dataresource":"^4.3.5","@nteract/transform-geojson":"^3.2.3","@nteract/transform-model-debug":"^3.2.3","@nteract/transform-plotly":"^5.0.0","@nteract/transforms":"^4.4.4","@types/ansi-regex":"^4.0.0","@types/chai":"^4.1.2","@types/chai-arrays":"^1.0.2","@types/chai-as-promised":"^7.1.0","@types/copy-webpack-plugin":"^4.4.2","@types/del":"^3.0.0","@types/diff-match-patch":"^1.0.32","@types/download":"^6.2.2","@types/enzyme":"^3.1.14","@types/enzyme-adapter-react-16":"^1.0.3","@types/event-stream":"^3.3.33","@types/fs-extra":"^5.0.1","@types/get-port":"^3.2.0","@types/glob":"^5.0.35","@types/html-webpack-plugin":"^3.2.0","@types/iconv-lite":"^0.0.1","@types/jquery":"^1.10.35","@types/jsdom":"^11.12.0","@types/loader-utils":"^1.1.3","@types/lodash":"^4.14.104","@types/md5":"^2.1.32","@types/memoize-one":"^4.1.1","@types/mocha":"^5.2.7","@types/nock":"^10.0.3","@types/node":"^10.14.18","@types/node-fetch":"^2.3.4","@types/pdfkit":"^0.7.36","@types/promisify-node":"^0.4.0","@types/react":"^16.4.14","@types/react-dom":"^16.0.8","@types/react-json-tree":"^0.6.8","@types/react-virtualized":"^9.21.2","@types/request":"^2.47.0","@types/semver":"^5.5.0","@types/shortid":"^0.0.29","@types/sinon":"^7.0.13","@types/stack-trace":"0.0.29","@types/temp":"^0.8.32","@types/tmp":"0.0.33","@types/untildify":"^3.0.0","@types/uuid":"^3.4.3","@types/vscode":"^1.38.0","@types/webpack-bundle-analyzer":"^2.13.0","@types/winreg":"^1.2.30","@types/ws":"^6.0.1","@types/xml2js":"^0.4.2","JSONStream":"^1.3.2","ansi-to-html":"^0.6.7","awesome-typescript-loader":"^5.2.1","babel-loader":"^8.0.3","babel-plugin-inline-json-import":"^0.3.1","babel-plugin-transform-runtime":"^6.23.0","babel-polyfill":"^6.26.0","bootstrap":"^4.3.1","bootstrap-less":"^3.3.8","brfs":"^2.0.2","canvas":"^2.6.0","chai":"^4.1.2","chai-arrays":"^2.0.0","chai-as-promised":"^7.1.1","codecov":"^3.5.0","colors":"^1.2.1","copy-webpack-plugin":"^4.6.0","cross-spawn":"^6.0.5","css-loader":"^1.0.1","cucumber-html-reporter":"^4.0.5","decache":"^4.4.0","del":"^3.0.0","download":"^7.0.0","electron-download":"^4.1.1","enzyme":"^3.7.0","enzyme-adapter-react-16":"^1.6.0","event-stream":"3.3.4","expose-loader":"^0.7.5","extract-zip":"^1.6.7","file-loader":"^2.0.0","filemanager-webpack-plugin":"^2.0.5","flat":"^4.0.0","gulp":"^4.0.0","gulp-azure-storage":"^0.9.0","gulp-chmod":"^2.0.0","gulp-filter":"^5.1.0","gulp-gunzip":"^1.1.0","gulp-rename":"^1.4.0","gulp-sourcemaps":"^2.6.4","gulp-typescript":"^4.0.1","gulp-untar":"0.0.8","gulp-vinyl-zip":"^2.1.2","html-webpack-plugin":"^3.2.0","husky":"^1.1.2","immutable":"^4.0.0-rc.12","is-running":"^2.1.0","jsdom":"^15.0.0","json-loader":"^0.5.7","less":"^3.9.0","less-loader":"^5.0.0","loader-utils":"^1.1.0","mocha":"^6.1.4","mocha-junit-reporter":"^1.17.0","mocha-multi-reporters":"^1.1.7","monaco-editor":"0.18.1","monaco-editor-webpack-plugin":"^1.7.0","nock":"^10.0.6","node-has-native-dependencies":"^1.0.2","node-html-parser":"^1.1.13","nyc":"^14.1.1","raw-loader":"^0.5.1","react":"^16.5.2","react-data-grid":"^6.0.2-0","react-dev-utils":"^5.0.2","react-dom":"^16.5.2","react-json-tree":"^0.11.0","relative":"^3.0.2","retyped-diff-match-patch-tsd-ambient":"^1.0.0-0","rewiremock":"^3.13.0","sass-loader":"^7.1.0","shortid":"^2.2.8","sinon":"^7.3.2","source-map-support":"^0.5.12","style-loader":"^0.23.1","styled-jsx":"^3.1.0","svg-inline-loader":"^0.8.0","svg-inline-react":"^3.1.0","terser-webpack-plugin":"^1.2.3","transform-loader":"^0.2.4","ts-loader":"^5.3.0","ts-mockito":"^2.3.1","ts-node":"^8.3.0","tsconfig-paths-webpack-plugin":"^3.2.0","tslint-eslint-rules":"^5.1.0","tslint-microsoft-contrib":"^5.0.3","typed-react-markdown":"^0.1.0","typemoq":"^2.1.0","typescript":"^3.6.4","typescript-formatter":"^7.1.0","unicode-properties":"1.1.0","url-loader":"^1.1.2","uuid":"^3.3.2","vinyl-fs":"^3.0.3","vsce":"^1.59.0","vscode-debugadapter-testsupport":"^1.27.0","vscode-test":"^1.0.2","webpack":"^4.33.0","webpack-bundle-analyzer":"^3.3.2","webpack-cli":"^3.1.2","webpack-fix-default-import-plugin":"^1.0.3","webpack-merge":"^4.1.4","webpack-node-externals":"^1.7.2","why-is-node-running":"^2.0.3","wtfnode":"^0.8.0","yargs":"^12.0.2"},"__metadata":{"id":"f1f59ae4-9318-4f3c-a9b5-81b2eaa5f8a5","publisherDisplayName":"Microsoft","publisherId":"998b010b-e2af-44a5-a6cd-0b5fd3b9b6f8"}}')},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);let o=class{get onDidChangeWindowState(){return s.window.onDidChangeWindowState}showInformationMessage(e,t,...n){return s.window.showInformationMessage(e,t,...n)}showWarningMessage(e,t,...n){return s.window.showWarningMessage(e,t,...n)}showErrorMessage(e,t,...n){return s.window.showErrorMessage(e,t,...n)}showQuickPick(e,t,n){return s.window.showQuickPick(e,t,n)}showOpenDialog(e){return s.window.showOpenDialog(e)}showSaveDialog(e){return s.window.showSaveDialog(e)}showInputBox(e,t){return s.window.showInputBox(e,t)}openUrl(e){s.env.openExternal(s.Uri.parse(e))}setStatusBarMessage(e,t){return s.window.setStatusBarMessage(e,t)}createStatusBarItem(e,t){return s.window.createStatusBarItem(e,t)}showWorkspaceFolderPick(e){return s.window.showWorkspaceFolderPick(e)}withProgress(e,t){return s.window.withProgress(e,t)}createQuickPick(){return s.window.createQuickPick()}createInputBox(){return s.window.createInputBox()}createTreeView(e,t){return s.window.createTreeView(e,t)}createOutputChannel(e){return s.window.createOutputChannel(e)}};o=r([i.injectable()],o),t.ApplicationShell=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);let o=class{registerCommand(e,t,n){return null}registerTextEditorCommand(e,t,n){return null}executeCommand(e,...t){return s.commands.executeCommand(e,...t)}getCommands(e){return s.commands.getCommands(e)}};o=r([i.injectable()],o),t.CommandManager=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(9),a=n(11),c=n(1),l=n(24),u=n(4);class d{constructor(e){this.timer=new l.StopWatch,this.trigger="launch",this.trigger=e.configuration.type;const t=e.configuration;this.console=t.console}onWillStartSession(){this.sendTelemetry(a.EventName.DEBUG_SESSION_START)}onDidSendMessage(e){if("response"===e.type){"configurationDone"===e.command&&this.sendTelemetry(a.EventName.DEBUG_SESSION_USER_CODE_RUNNING)}}onWillStopSession(){this.sendTelemetry(a.EventName.DEBUG_SESSION_STOP)}onError(e){this.sendTelemetry(a.EventName.DEBUG_SESSION_ERROR)}sendTelemetry(e){e===a.EventName.DEBUG_SESSION_START&&this.timer.reset();const t={trigger:this.trigger,console:this.console};o.sendTelemetryEvent(e,this.timer.elapsedTime,t)}}let h=class{constructor(e,t){e.push(t.registerDebugAdapterTrackerFactory("python",this))}async activate(){}createDebugAdapterTracker(e){return new d(e)}};h=r([s.injectable(),i(0,s.inject(c.IDisposableRegistry)),i(1,s.inject(u.IDebugService))],h),t.DebugSessionTelemetry=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);let o=class{get textDocuments(){return s.workspace.textDocuments}get activeTextEditor(){return s.window.activeTextEditor}get visibleTextEditors(){return s.window.visibleTextEditors}get onDidChangeActiveTextEditor(){return s.window.onDidChangeActiveTextEditor}get onDidChangeTextDocument(){return s.workspace.onDidChangeTextDocument}get onDidChangeVisibleTextEditors(){return s.window.onDidChangeVisibleTextEditors}get onDidChangeTextEditorSelection(){return s.window.onDidChangeTextEditorSelection}get onDidChangeTextEditorOptions(){return s.window.onDidChangeTextEditorOptions}get onDidChangeTextEditorViewColumn(){return s.window.onDidChangeTextEditorViewColumn}get onDidOpenTextDocument(){return s.workspace.onDidOpenTextDocument}get onDidCloseTextDocument(){return s.workspace.onDidCloseTextDocument}get onDidSaveTextDocument(){return s.workspace.onDidSaveTextDocument}showTextDocument(e,t,n){return s.window.showTextDocument(e,t,n)}openTextDocument(e){return s.workspace.openTextDocument(e)}applyEdit(e){return s.workspace.applyEdit(e)}createTextEditorDecorationType(e){return s.window.createTextEditorDecorationType(e)}};o=r([i.injectable()],o),t.DocumentManager=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);let o=class{get all(){return s.extensions.all}get onDidChange(){return s.extensions.onDidChange}getExtension(e){return s.extensions.getExtension(e)}};o=r([i.injectable()],o),t.Extensions=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);let o=class{registerCompletionItemProvider(e,t,...n){return s.languages.registerCompletionItemProvider(e,t,...n)}};o=r([i.injectable()],o),t.LanguageService=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2);let o=class{get onDidCloseTerminal(){return s.window.onDidCloseTerminal}get onDidOpenTerminal(){return s.window.onDidOpenTerminal}createTerminal(e){return s.window.createTerminal(e)}};o=r([i.injectable()],o),t.TerminalManager=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});let i=class{constructor(){this.list=[]}async dispose(){const e=this.list.map(e=>e.dispose());await Promise.all(e)}push(e){e&&this.list.push(e)}};i=r([n(0).injectable()],i),t.AsyncDisposableRegistry=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(50),c=n(10),l=n(4),u=n(939);let d=class{constructor(e){this.serviceContainer=e,this.workspaceService=this.serviceContainer.get(l.IWorkspaceService)}getSettings(e){const t=this.serviceContainer.get(a.IInterpreterAutoSeletionProxyService);return u.PythonSettings.getInstance(e,t,this.workspaceService)}async updateSectionSetting(e,t,n,r,i){let s={uri:r,target:i||o.ConfigurationTarget.WorkspaceFolder};"python"===e&&i!==o.ConfigurationTarget.Global&&(s=u.PythonSettings.getSettingsUriAndTarget(r,this.workspaceService));const a=o.workspace.getConfiguration(e,s.uri?s.uri:null),c=a.inspect(t);void 0!==c&&(s.target===o.ConfigurationTarget.Global&&c.globalValue===n||s.target===o.ConfigurationTarget.Workspace&&c.workspaceValue===n||s.target===o.ConfigurationTarget.WorkspaceFolder&&c.workspaceFolderValue===n)||(await a.update(t,n,s.target),await this.verifySetting(a,s.target,t,n))}async updateSetting(e,t,n,r){return this.updateSectionSetting("python",e,t,n,r)}isTestExecution(){return"1"===process.env.VSC_PYTHON_CI_TEST}async verifySetting(e,t,n,r){if(this.isTestExecution()){let i=0;do{const s=e.inspect(n);if(!s&&void 0===r)break;if(s&&void 0!==r){if((t===o.ConfigurationTarget.Global?s.globalValue:t===o.ConfigurationTarget.Workspace?s.workspaceValue:s.workspaceFolderValue)===r)break}await new Promise(e=>setTimeout(e,250)),i+=1}while(i<20)}}};d=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],d),t.ConfigurationService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(59),s=n(3),o=n(2);n(7);const a=n(9),c=n(11),l=n(366),u=n(13),d=n(69),h=n(31),p=n(93),f=n(129);class m{constructor(e,t,n){this.interpreterAutoSelectionService=t,this.downloadLanguageServer=!0,this.jediEnabled=!0,this.jediPath="",this.jediMemoryLimit=1024,this.envFile="",this.venvPath="",this.venvFolders=[],this.condaPath="",this.pipenvPath="",this.poetryPath="",this.devOptions=[],this.disableInstallationChecks=!1,this.globalModuleInstallation=!1,this.autoUpdateLanguageServer=!0,this.changed=new o.EventEmitter,this.disposables=[],this._pythonPath="",this.workspace=n||new l.WorkspaceService,this.workspaceRoot=e||o.Uri.file(__dirname),this.initialize()}get onDidChange(){return this.changed.event}static getInstance(e,t,n){n=n||new l.WorkspaceService;const r=m.getSettingsUriAndTarget(e,n).uri,i=r?r.fsPath:"";if(!m.pythonSettings.has(i)){const s=new m(r,t,n);m.pythonSettings.set(i,s);const o=n.getConfiguration("editor",e||null),l=!!o&&o.get("formatOnType",!1);a.sendTelemetryEvent(c.EventName.COMPLETION_ADD_BRACKETS,void 0,{enabled:!!s.autoComplete&&s.autoComplete.addBrackets}),a.sendTelemetryEvent(c.EventName.FORMAT_ON_TYPE,void 0,{enabled:l})}return m.pythonSettings.get(i)}static getSettingsUriAndTarget(e,t){t=t||new l.WorkspaceService;const n=e?t.getWorkspaceFolder(e):void 0;let r=n?n.uri:void 0;return!r&&Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0&&(r=t.workspaceFolders[0].uri),{uri:r,target:r?o.ConfigurationTarget.WorkspaceFolder:o.ConfigurationTarget.Global}}static dispose(){if(!u.isTestExecution())throw new Error("Dispose can only be called from unit tests");m.pythonSettings.forEach(e=>e&&e.dispose()),m.pythonSettings.clear()}dispose(){this.disposables.forEach(e=>e&&e.dispose()),this.disposables=[]}update(e){const t=this.workspaceRoot.fsPath,n=new p.SystemVariables(void 0,t,this.workspace);if(this.pythonPath=n.resolveAny(e.get("pythonPath")),0===this.pythonPath.length||"python"===this.pythonPath){const e=this.interpreterAutoSelectionService.getAutoSelectedInterpreter(this.workspaceRoot);e&&this.interpreterAutoSelectionService.setWorkspaceInterpreter(this.workspaceRoot,e).ignoreErrors(),this.pythonPath=e?e.path:this.pythonPath}this.pythonPath=g(this.pythonPath,t),this.venvPath=n.resolveAny(e.get("venvPath")),this.venvFolders=n.resolveAny(e.get("venvFolders"));const r=n.resolveAny(e.get("condaPath"));this.condaPath=r&&r.length>0?g(r,t):r;const i=n.resolveAny(e.get("pipenvPath"));this.pipenvPath=i&&i.length>0?g(i,t):i;const a=n.resolveAny(e.get("poetryPath"));this.poetryPath=a&&a.length>0?g(a,t):a,this.downloadLanguageServer=n.resolveAny(e.get("downloadLanguageServer",!0)),this.jediEnabled=n.resolveAny(e.get("jediEnabled",!0)),this.autoUpdateLanguageServer=n.resolveAny(e.get("autoUpdateLanguageServer",!0)),this.jediEnabled&&(this.jediPath=n.resolveAny(e.get("jediPath")),"string"==typeof this.jediPath&&this.jediPath.length>0?this.jediPath=g(n.resolveAny(this.jediPath),t):this.jediPath="",this.jediMemoryLimit=e.get("jediMemoryLimit")),this.envFile=n.resolveAny(e.get("envFile")),this.devOptions=n.resolveAny(e.get("devOptions")),this.devOptions=Array.isArray(this.devOptions)?this.devOptions:[];const c=n.resolveAny(e.get("linting"));this.linting?Object.assign(this.linting,c):this.linting=c;const l=n.resolveAny(e.get("analysis"));this.analysis?Object.assign(this.analysis,l):this.analysis=l,this.disableInstallationChecks=!0===e.get("disableInstallationCheck"),this.globalModuleInstallation=!0===e.get("globalModuleInstallation");const d=n.resolveAny(e.get("sortImports"));this.sortImports?Object.assign(this.sortImports,d):this.sortImports=d,this.sortImports=this.sortImports?this.sortImports:{path:"",args:[]},this.linting=this.linting?this.linting:{enabled:!1,ignorePatterns:[],flake8Args:[],flake8Enabled:!1,flake8Path:"flake",lintOnSave:!1,maxNumberOfProblems:100,mypyArgs:[],mypyEnabled:!1,mypyPath:"mypy",banditArgs:[],banditEnabled:!1,banditPath:"bandit",pycodestyleArgs:[],pycodestyleEnabled:!1,pycodestylePath:"pycodestyle",pylamaArgs:[],pylamaEnabled:!1,pylamaPath:"pylama",prospectorArgs:[],prospectorEnabled:!1,prospectorPath:"prospector",pydocstyleArgs:[],pydocstyleEnabled:!1,pydocstylePath:"pydocstyle",pylintArgs:[],pylintEnabled:!1,pylintPath:"pylint_starlark",pylintCategorySeverity:{convention:o.DiagnosticSeverity.Hint,error:o.DiagnosticSeverity.Error,fatal:o.DiagnosticSeverity.Error,refactor:o.DiagnosticSeverity.Hint,warning:o.DiagnosticSeverity.Warning},pycodestyleCategorySeverity:{E:o.DiagnosticSeverity.Error,W:o.DiagnosticSeverity.Warning},flake8CategorySeverity:{E:o.DiagnosticSeverity.Error,W:o.DiagnosticSeverity.Warning,F:o.DiagnosticSeverity.Warning},mypyCategorySeverity:{error:o.DiagnosticSeverity.Error,note:o.DiagnosticSeverity.Hint},pylintUseMinimalCheckers:!1},this.linting.pylintPath="pylint_starlark",this.linting.flake8Path=g(n.resolveAny(this.linting.flake8Path),t),this.linting.pycodestylePath=g(n.resolveAny(this.linting.pycodestylePath),t),this.linting.pylamaPath=g(n.resolveAny(this.linting.pylamaPath),t),this.linting.prospectorPath=g(n.resolveAny(this.linting.prospectorPath),t),this.linting.pydocstylePath=g(n.resolveAny(this.linting.pydocstylePath),t),this.linting.mypyPath=g(n.resolveAny(this.linting.mypyPath),t),this.linting.banditPath=g(n.resolveAny(this.linting.banditPath),t);const h=n.resolveAny(e.get("formatting"));this.formatting?Object.assign(this.formatting,h):this.formatting=h,this.formatting=this.formatting?this.formatting:{autopep8Args:[],autopep8Path:"autopep8",provider:"autopep8",blackArgs:[],blackPath:"black",yapfArgs:[],yapfPath:"yapf"},this.formatting.autopep8Path=g(n.resolveAny(this.formatting.autopep8Path),t),this.formatting.yapfPath=g(n.resolveAny(this.formatting.yapfPath),t),this.formatting.blackPath=g(n.resolveAny(this.formatting.blackPath),t);const f=n.resolveAny(e.get("autoComplete"));this.autoComplete?Object.assign(this.autoComplete,f):this.autoComplete=f,this.autoComplete=this.autoComplete?this.autoComplete:{extraPaths:[],addBrackets:!1,showAdvancedMembers:!1,typeshedPaths:[]};const m=n.resolveAny(e.get("workspaceSymbols"));this.workspaceSymbols?Object.assign(this.workspaceSymbols,m):this.workspaceSymbols=m,this.workspaceSymbols=this.workspaceSymbols?this.workspaceSymbols:{ctagsPath:"ctags",enabled:!0,exclusionPatterns:[],rebuildOnFileSave:!0,rebuildOnStart:!0,tagFilePath:s.join(t,"tags")},this.workspaceSymbols.tagFilePath=g(n.resolveAny(this.workspaceSymbols.tagFilePath),t);const y=n.resolveAny(e.get("testing"));this.testing?Object.assign(this.testing,y):(this.testing=y,u.isTestExecution()&&!this.testing&&(this.testing={nosetestArgs:[],pytestArgs:[],unittestArgs:[],promptToConfigure:!0,debugPort:3e3,nosetestsEnabled:!1,pytestEnabled:!1,unittestEnabled:!1,nosetestPath:"nosetests",pytestPath:"pytest",autoTestDiscoverOnSaveEnabled:!0})),this.testing=this.testing?this.testing:{promptToConfigure:!0,debugPort:3e3,nosetestArgs:[],nosetestPath:"nosetest",nosetestsEnabled:!1,pytestArgs:[],pytestEnabled:!1,pytestPath:"pytest",unittestArgs:[],unittestEnabled:!1,autoTestDiscoverOnSaveEnabled:!0},this.testing.pytestPath=g(n.resolveAny(this.testing.pytestPath),t),this.testing.nosetestPath=g(n.resolveAny(this.testing.nosetestPath),t),this.testing.cwd&&(this.testing.cwd=g(n.resolveAny(this.testing.cwd),t)),this.testing.nosetestArgs=this.testing.nosetestArgs.map(e=>n.resolveAny(e)),this.testing.pytestArgs=this.testing.pytestArgs.map(e=>n.resolveAny(e)),this.testing.unittestArgs=this.testing.unittestArgs.map(e=>n.resolveAny(e));const v=n.resolveAny(e.get("terminal"));this.terminal?Object.assign(this.terminal,v):(this.terminal=v,u.isTestExecution()&&!this.terminal&&(this.terminal={})),this.terminal=this.terminal?this.terminal:{executeInFileDir:!0,launchArgs:[],activateEnvironment:!0};const _=n.resolveAny(e.get("experiments"));this.experiments?Object.assign(this.experiments,_):this.experiments=_,this.experiments=this.experiments?this.experiments:{enabled:!0};const b=n.resolveAny(e.get("dataScience"));this.datascience?Object.assign(this.datascience,b):this.datascience=b,this.insidersChannel=e.get("insidersChannel")}get pythonPath(){return this._pythonPath}set pythonPath(e){if(this._pythonPath!==e)try{this._pythonPath=this.getPythonExecutable(e)}catch(t){this._pythonPath=e}}getPythonExecutable(e){return function(e){if("python"===(e=f(e))||-1===e.indexOf(s.sep)||s.basename(e)===s.dirname(e))return e;if(y(e))return e;const t=["python","python4","python3.6","python3.5","python3","python2.7","python2"];for(let n of t)if(d.IS_WINDOWS){if(n=`${n}.exe`,y(s.join(e,n)))return s.join(e,n);if(y(s.join(e,"scripts",n)))return s.join(e,"scripts",n)}else{if(y(s.join(e,n)))return s.join(e,n);if(y(s.join(e,"bin",n)))return s.join(e,"bin",n)}return e}(e)}onWorkspaceFoldersChanged(){const e=this.workspace.workspaceFolders.map(e=>e.uri.fsPath),t=Array.from(m.pythonSettings.keys()).filter(t=>e.indexOf(t)<0);if(t.length>0)for(const e of t)m.pythonSettings.delete(e)}initialize(){const e=()=>{const e=this.workspace.getConfiguration("python",this.workspaceRoot);this.update(e),this.debounceChangeNotification()};this.disposables.push(this.workspace.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this)),this.disposables.push(this.interpreterAutoSelectionService.onDidChangeAutoSelectedInterpreter(e.bind(this))),this.disposables.push(this.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("python")&&e()}));const t=this.workspace.getConfiguration("python",this.workspaceRoot);t&&this.update(t)}debounceChangeNotification(){this.changed.fire()}}function g(e,t){return e=f(e),u.isTestExecution()&&!e?t:-1===e.indexOf(s.sep)?e:s.isAbsolute(e)?e:s.resolve(t,e)}function y(e){try{return i.execFileSync(e,["-c","print(1234)"],{encoding:"utf8"}).startsWith("1234")}catch(e){return!1}}m.pythonSettings=new Map,r([h.debounceSync(1)],m.prototype,"debounceChangeNotification",null),t.PythonSettings=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(58),s=n(0),o=n(6);let a=class{createHash(e,t,r="FNV"){let s;if("FNV"===r){s=n(941).fast1a32hex(e)}else s=i.createHash("sha512").update(e).digest("hex");if("number"===t){const t=parseInt(s,16);return isNaN(t)&&o.traceError(`Number hash for data '${e}' is NaN`),t}return s}};a=r([s.injectable()],a),t.CryptoUtils=a},function(e,t,n){var r=function(){var e,t,n,r,i,s,o,a,c=[],l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],u="1a",d=!1,h="chongo <Landon Curt Noll> /\\../\\",p=52,f={32:{offset:0},64:{offset:[0,0,0,0]},128:{offset:[0,0,0,0,0,0,0,0]},256:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},512:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},1024:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}};for(e=0;e<256;e++)c[e]=(e>>4&15).toString(16)+(15&e).toString(16);function m(e,t){var n,r,i,s=[0],o="";for(r=0;r<e.length;r+=2){for(n=parseInt(e.substr(r,2),16),i=0;i<s.length;i++)n+=s[i]<<8,s[i]=n%t,n=n/t|0;for(;n>0;)s.push(n%t),n=n/t|0}for(r=s.length-1;r>=0;--r)o+="0123456789abcdefghijklmnopqrstuvwxyz"[s[r]];return o}function g(e,t){return{bits:t,value:e,dec:function(){return m(e,10)},hex:function(){return e},str:function(){return m(e,36)}}}function y(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return c[e>>>24]+c[e>>>16&255]+c[e>>>8&255]+c[255&e]},str:function(){return e.toString(36)}}}function v(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return("0000000000000000"+e.toString(16)).substr(-13)},str:function(){return e.toString(36)}}}function _(e,c){var l="object"==typeof e?JSON.stringify(e):e;switch(c||p){case 32:return t(l);case 64:return r(l);case 128:return i(l);case 256:return s(l);case 512:return o(l);case 1024:return a(l);default:return n(l)}}function b(e){if("1a"===e)u=e,t=d?T:C,n=d?I:P,r=d?O:x,i=d?F:R,s=d?H:Y,o=d?$:U,a=d?K:G;else{if("1"!==e)throw new Error("Supported FNV versions: 1, 1a");u=e,t=d?D:E,n=d?M:k,r=d?L:A,i=d?N:j,s=d?W:B,o=d?q:V,a=d?J:z}}function S(e){e?(d=!0,t="1a"==u?T:D,n="1a"==u?I:M,r="1a"==u?O:L,i="1a"==u?F:N,s="1a"==u?H:W,o="1a"==u?$:q,a="1a"==u?K:J):(d=!1,t="1a"==u?C:E,n="1a"==u?P:k,r="1a"==u?x:A,i="1a"==u?R:j,s="1a"==u?Y:B,o="1a"==u?U:V,a="1a"==u?G:z)}function w(e){var t,n,r=u;for(var i in(e=e||0===e?e:h)===h&&b("1"),f){for(f[i].offset=[],n=0;n<i/16;n++)f[i].offset[n]=0;for(t=_(e,parseInt(i,10)).hex(),n=0;n<i/16;n++)f[i].offset[n]=parseInt(t.substr(4*n,4),16)}b(r)}function C(e){var t,n=e.length-3,r=f[32].offset,i=0,s=0|r[1],o=0,a=0|r[0];for(t=0;t<n;)o=403*a,o+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),o+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),o+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),a=(o+=(s^=e.charCodeAt(t++))<<8)+((i=403*s)>>>16)&65535,s=65535&i;for(;t<n+3;)o=403*a,a=(o+=(s^=e.charCodeAt(t++))<<8)+((i=403*s)>>>16)&65535,s=65535&i;return y((a<<16>>>0)+s,32)}function E(e){var t,n=e.length-3,r=f[32].offset,i=0,s=0|r[1],o=0,a=0|r[0];for(t=0;t<n;)o=403*a,o+=s<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),o+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),o+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),a=(o+=(s^=e.charCodeAt(t++))<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=e.charCodeAt(t++);for(;t<n+3;)o=403*a,a=(o+=s<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=e.charCodeAt(t++);return y((a<<16>>>0)+s,32)}function T(e){var t,n,r=e.length,i=f[32].offset,s=0,o=0|i[1],a=0,c=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=403*c,c=(a+=(o^=t>>6|192)<<8)+((s=403*o)>>>16)&65535,o=65535&s,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=403*c,a+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(s=403*o),a=403*(c=a+(s>>>16)&65535),a+=(o^=t>>12&63|128)<<8,o=65535&(s=403*o),a=403*(c=a+(s>>>16)&65535),c=(a+=(o^=t>>6&63|128)<<8)+((s=403*o)>>>16)&65535,o=65535&s,o^=63&t|128):(a=403*c,a+=(o^=t>>12|224)<<8,o=65535&(s=403*o),a=403*(c=a+(s>>>16)&65535),c=(a+=(o^=t>>6&63|128)<<8)+((s=403*o)>>>16)&65535,o=65535&s,o^=63&t|128),a=403*c,c=(a+=o<<8)+((s=403*o)>>>16)&65535,o=65535&s;return y((c<<16>>>0)+o,32)}function D(e){var t,n,r=e.length,i=f[32].offset,s=0,o=0|i[1],a=0,c=0|i[0];for(n=0;n<r;n++)a=403*c,c=(a+=o<<8)+((s=403*o)>>>16)&65535,o=65535&s,(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=403*c,c=(a+=(o^=t>>6|192)<<8)+((s=403*o)>>>16)&65535,o=65535&s,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=403*c,a+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(s=403*o),a=403*(c=a+(s>>>16)&65535),a+=(o^=t>>12&63|128)<<8,o=65535&(s=403*o),a=403*(c=a+(s>>>16)&65535),c=(a+=(o^=t>>6&63|128)<<8)+((s=403*o)>>>16)&65535,o=65535&s,o^=63&t|128):(a=403*c,a+=(o^=t>>12|224)<<8,o=65535&(s=403*o),a=403*(c=a+(s>>>16)&65535),c=(a+=(o^=t>>6&63|128)<<8)+((s=403*o)>>>16)&65535,o=65535&s,o^=63&t|128);return y((c<<16>>>0)+o,32)}function P(e){var t,n=e.length-3,r=f[64].offset,i=0,s=0|r[3],o=0,a=0|r[2],c=0,l=0|r[1],u=0,d=0|r[0];for(t=0;t<n;)o=435*a,c=435*l,u=435*d,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=e.charCodeAt(t++))<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c;for(;t<n+3;)o=435*a,c=435*l,u=435*d,c+=(s^=e.charCodeAt(t++))<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c;return v(281474976710656*(15&d)+4294967296*l+65536*a+(s^d>>4),52)}function k(e){var t,n=e.length-3,r=f[64].offset,i=0,s=0|r[3],o=0,a=0|r[2],c=0,l=0|r[1],u=0,d=0|r[0];for(t=0;t<n;)o=435*a,c=435*l,u=435*d,c+=s<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=e.charCodeAt(t++))<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c,s^=e.charCodeAt(t++);for(;t<n+3;)o=435*a,c=435*l,u=435*d,c+=s<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c,s^=e.charCodeAt(t++);return v(281474976710656*(15&d)+4294967296*l+65536*a+(s^d>>4),52)}function I(e){var t,n,r=e.length,i=f[64].offset,s=0,o=0|i[3],a=0,c=0|i[2],l=0,u=0|i[1],d=0,h=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=435*c,l=435*u,d=435*h,l+=(o^=t>>6|192)<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*c,l=435*u,d=435*h,l+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(s=435*o),h=(d+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(o^=t>>12&63|128)<<8,o=65535&(s=435*o),h=(d+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(o^=t>>6&63|128)<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,o^=63&t|128):(a=435*c,l=435*u,d=435*h,l+=(o^=t>>12|224)<<8,o=65535&(s=435*o),h=(d+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(o^=t>>6&63|128)<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,o^=63&t|128),a=435*c,l=435*u,d=435*h,l+=o<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l;return v(281474976710656*(15&h)+4294967296*u+65536*c+(o^h>>4),52)}function M(e){var t,n,r=e.length,i=f[64].offset,s=0,o=0|i[3],a=0,c=0|i[2],l=0,u=0|i[1],d=0,h=0|i[0];for(n=0;n<r;n++)a=435*c,l=435*u,d=435*h,l+=o<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=435*c,l=435*u,d=435*h,l+=(o^=t>>6|192)<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*c,l=435*u,d=435*h,l+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(s=435*o),h=(d+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(o^=t>>12&63|128)<<8,o=65535&(s=435*o),h=(d+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(o^=t>>6&63|128)<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,o^=63&t|128):(a=435*c,l=435*u,d=435*h,l+=(o^=t>>12|224)<<8,o=65535&(s=435*o),h=(d+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(o^=t>>6&63|128)<<8,d+=c<<8,o=65535&(s=435*o),c=65535&(a+=s>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,o^=63&t|128);return v(281474976710656*(15&h)+4294967296*u+65536*c+(o^h>>4),52)}function x(e){var t,n=e.length-3,r=f[64].offset,i=0,s=0|r[3],o=0,a=0|r[2],l=0,u=0|r[1],d=0,h=0|r[0];for(t=0;t<n;)o=435*a,l=435*u,d=435*h,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=e.charCodeAt(t++))<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l;for(;t<n+3;)o=435*a,l=435*u,d=435*h,l+=(s^=e.charCodeAt(t++))<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l;return g(c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],64)}function A(e){var t,n=e.length-3,r=f[64].offset,i=0,s=0|r[3],o=0,a=0|r[2],l=0,u=0|r[1],d=0,h=0|r[0];for(t=0;t<n;)o=435*a,l=435*u,d=435*h,l+=s<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=e.charCodeAt(t++))<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l,s^=e.charCodeAt(t++);for(;t<n+3;)o=435*a,l=435*u,d=435*h,l+=s<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l,s^=e.charCodeAt(t++);return g(c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],64)}function O(e){var t,n,r=e.length,i=f[64].offset,s=0,o=0|i[3],a=0,l=0|i[2],u=0,d=0|i[1],h=0,p=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=435*l,u=435*d,h=435*p,u+=(o^=t>>6|192)<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*l,u=435*d,h=435*p,u+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(s=435*o),p=(h+=l<<8)+((u+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*p,u+=(o^=t>>12&63|128)<<8,o=65535&(s=435*o),p=(h+=l<<8)+((u+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*p,u+=(o^=t>>6&63|128)<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u,o^=63&t|128):(a=435*l,u=435*d,h=435*p,u+=(o^=t>>12|224)<<8,o=65535&(s=435*o),p=(h+=l<<8)+((u+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*p,u+=(o^=t>>6&63|128)<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u,o^=63&t|128),a=435*l,u=435*d,h=435*p,u+=o<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u;return g(c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],64)}function L(e){var t,n,r=e.length,i=f[64].offset,s=0,o=0|i[3],a=0,l=0|i[2],u=0,d=0|i[1],h=0,p=0|i[0];for(n=0;n<r;n++)a=435*l,u=435*d,h=435*p,u+=o<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u,(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=435*l,u=435*d,h=435*p,u+=(o^=t>>6|192)<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*l,u=435*d,h=435*p,u+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(s=435*o),p=(h+=l<<8)+((u+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*p,u+=(o^=t>>12&63|128)<<8,o=65535&(s=435*o),p=(h+=l<<8)+((u+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*p,u+=(o^=t>>6&63|128)<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u,o^=63&t|128):(a=435*l,u=435*d,h=435*p,u+=(o^=t>>12|224)<<8,o=65535&(s=435*o),p=(h+=l<<8)+((u+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*p,u+=(o^=t>>6&63|128)<<8,h+=l<<8,o=65535&(s=435*o),l=65535&(a+=s>>>16),p=h+((u+=a>>>16)>>>16)&65535,d=65535&u,o^=63&t|128);return g(c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],64)}function R(e){var t,n=e.length-3,r=f[128].offset,i=0,s=0|r[7],o=0,a=0|r[6],l=0,u=0|r[5],d=0,h=0|r[4],p=0,m=0|r[3],y=0,v=0|r[2],_=0,b=0|r[1],S=0,w=0|r[0];for(t=0;t<n;)o=315*a,l=315*u,d=315*h,p=315*m,y=315*v,_=315*b,S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,s=65535&(i=315*s),w=(S+=u<<8)+((_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=315*(a=65535&o),l=315*(u=65535&l),d=315*(h=65535&d),p=315*(m=65535&p),y=315*(v=65535&y),_=315*(b=65535&_),S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,s=65535&(i=315*s),w=(S+=u<<8)+((_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=315*(a=65535&o),l=315*(u=65535&l),d=315*(h=65535&d),p=315*(m=65535&p),y=315*(v=65535&y),_=315*(b=65535&_),S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,s=65535&(i=315*s),w=(S+=u<<8)+((_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=315*(a=65535&o),l=315*(u=65535&l),d=315*(h=65535&d),p=315*(m=65535&p),y=315*(v=65535&y),_=315*(b=65535&_),S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,S+=u<<8,s=65535&(i=315*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),w=S+((_+=y>>>16)>>>16)&65535,b=65535&_;for(;t<n+3;)o=315*a,l=315*u,d=315*h,p=315*m,y=315*v,_=315*b,S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,S+=u<<8,s=65535&(i=315*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),w=S+((_+=y>>>16)>>>16)&65535,b=65535&_;return g(c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],128)}function j(e){var t,n=e.length-3,r=f[128].offset,i=0,s=0|r[7],o=0,a=0|r[6],l=0,u=0|r[5],d=0,h=0|r[4],p=0,m=0|r[3],y=0,v=0|r[2],_=0,b=0|r[1],S=0,w=0|r[0];for(t=0;t<n;)o=315*a,l=315*u,d=315*h,p=315*m,y=315*v,_=315*b,S=315*w,y+=s<<8,_+=a<<8,s=65535&(i=315*s),w=(S+=u<<8)+((_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=315*(a=65535&o),l=315*(u=65535&l),d=315*(h=65535&d),p=315*(m=65535&p),y=315*(v=65535&y),_=315*(b=65535&_),S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,s=65535&(i=315*s),w=(S+=u<<8)+((_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=315*(a=65535&o),l=315*(u=65535&l),d=315*(h=65535&d),p=315*(m=65535&p),y=315*(v=65535&y),_=315*(b=65535&_),S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,s=65535&(i=315*s),w=(S+=u<<8)+((_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=315*(a=65535&o),l=315*(u=65535&l),d=315*(h=65535&d),p=315*(m=65535&p),y=315*(v=65535&y),_=315*(b=65535&_),S=315*w,y+=(s^=e.charCodeAt(t++))<<8,_+=a<<8,S+=u<<8,s=65535&(i=315*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),w=S+((_+=y>>>16)>>>16)&65535,b=65535&_,s^=e.charCodeAt(t++);for(;t<n+3;)o=315*a,l=315*u,d=315*h,p=315*m,y=315*v,_=315*b,S=315*w,y+=s<<8,_+=a<<8,S+=u<<8,s=65535&(i=315*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),w=S+((_+=y>>>16)>>>16)&65535,b=65535&_,s^=e.charCodeAt(t++);return g(c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],128)}function F(e){var t,n,r=e.length,i=f[128].offset,s=0,o=0|i[7],a=0,l=0|i[6],u=0,d=0|i[5],h=0,p=0|i[4],m=0,y=0|i[3],v=0,_=0|i[2],b=0,S=0|i[1],w=0,C=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=(o^=t>>6|192)<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,b+=l<<8,o=65535&(s=315*o),C=(w+=d<<8)+((b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(p=65535&h),m=315*(y=65535&m),v=315*(_=65535&v),b=315*(S=65535&b),w=315*C,v+=(o^=t>>12&63|128)<<8,b+=l<<8,o=65535&(s=315*o),C=(w+=d<<8)+((b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(p=65535&h),m=315*(y=65535&m),v=315*(_=65535&v),b=315*(S=65535&b),w=315*C,v+=(o^=t>>6&63|128)<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b,o^=63&t|128):(a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=(o^=t>>12|224)<<8,b+=l<<8,o=65535&(s=315*o),C=(w+=d<<8)+((b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(p=65535&h),m=315*(y=65535&m),v=315*(_=65535&v),b=315*(S=65535&b),w=315*C,v+=(o^=t>>6&63|128)<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b,o^=63&t|128),a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=o<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b;return g(c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],128)}function N(e){var t,n,r=e.length,i=f[128].offset,s=0,o=0|i[7],a=0,l=0|i[6],u=0,d=0|i[5],h=0,p=0|i[4],m=0,y=0|i[3],v=0,_=0|i[2],b=0,S=0|i[1],w=0,C=0|i[0];for(n=0;n<r;n++)a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=o<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b,(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=(o^=t>>6|192)<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,b+=l<<8,o=65535&(s=315*o),C=(w+=d<<8)+((b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(p=65535&h),m=315*(y=65535&m),v=315*(_=65535&v),b=315*(S=65535&b),w=315*C,v+=(o^=t>>12&63|128)<<8,b+=l<<8,o=65535&(s=315*o),C=(w+=d<<8)+((b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(p=65535&h),m=315*(y=65535&m),v=315*(_=65535&v),b=315*(S=65535&b),w=315*C,v+=(o^=t>>6&63|128)<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b,o^=63&t|128):(a=315*l,u=315*d,h=315*p,m=315*y,v=315*_,b=315*S,w=315*C,v+=(o^=t>>12|224)<<8,b+=l<<8,o=65535&(s=315*o),C=(w+=d<<8)+((b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(p=65535&h),m=315*(y=65535&m),v=315*(_=65535&v),b=315*(S=65535&b),w=315*C,v+=(o^=t>>6&63|128)<<8,b+=l<<8,w+=d<<8,o=65535&(s=315*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),C=w+((b+=v>>>16)>>>16)&65535,S=65535&b,o^=63&t|128);return g(c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],128)}function Y(e){var t,n=e.length-3,r=f[256].offset,i=0,s=0|r[15],o=0,a=0|r[14],l=0,u=0|r[13],d=0,h=0|r[12],p=0,m=0|r[11],y=0,v=0|r[10],_=0,b=0|r[9],S=0,w=0|r[8],C=0,E=0|r[7],T=0,D=0|r[6],P=0,k=0|r[5],I=0,M=0|r[4],x=0,A=0|r[3],O=0,L=0|r[2],R=0,j=0|r[1],F=0,N=0|r[0];for(t=0;t<n;)o=355*a,l=355*u,d=355*h,p=355*m,y=355*v,_=355*b,S=355*w,C=355*E,T=355*D,P=355*k,I=355*M,x=355*A,O=355*L,R=355*j,F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,s=65535&(i=355*s),N=(F+=v<<8)+((R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=355*(a=65535&o),l=355*(u=65535&l),d=355*(h=65535&d),p=355*(m=65535&p),y=355*(v=65535&y),_=355*(b=65535&_),S=355*(w=65535&S),C=355*(E=65535&C),T=355*(D=65535&T),P=355*(k=65535&P),I=355*(M=65535&I),x=355*(A=65535&x),O=355*(L=65535&O),R=355*(j=65535&R),F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,s=65535&(i=355*s),N=(F+=v<<8)+((R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=355*(a=65535&o),l=355*(u=65535&l),d=355*(h=65535&d),p=355*(m=65535&p),y=355*(v=65535&y),_=355*(b=65535&_),S=355*(w=65535&S),C=355*(E=65535&C),T=355*(D=65535&T),P=355*(k=65535&P),I=355*(M=65535&I),x=355*(A=65535&x),O=355*(L=65535&O),R=355*(j=65535&R),F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,s=65535&(i=355*s),N=(F+=v<<8)+((R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=355*(a=65535&o),l=355*(u=65535&l),d=355*(h=65535&d),p=355*(m=65535&p),y=355*(v=65535&y),_=355*(b=65535&_),S=355*(w=65535&S),C=355*(E=65535&C),T=355*(D=65535&T),P=355*(k=65535&P),I=355*(M=65535&I),x=355*(A=65535&x),O=355*(L=65535&O),R=355*(j=65535&R),F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,F+=v<<8,s=65535&(i=355*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),N=F+((R+=O>>>16)>>>16)&65535,j=65535&R;for(;t<n+3;)o=355*a,l=355*u,d=355*h,p=355*m,y=355*v,_=355*b,S=355*w,C=355*E,T=355*D,P=355*k,I=355*M,x=355*A,O=355*L,R=355*j,F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,F+=v<<8,s=65535&(i=355*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),N=F+((R+=O>>>16)>>>16)&65535,j=65535&R;return g(c[N>>8]+c[255&N]+c[j>>8]+c[255&j]+c[L>>8]+c[255&L]+c[A>>8]+c[255&A]+c[M>>8]+c[255&M]+c[k>>8]+c[255&k]+c[D>>8]+c[255&D]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],256)}function B(e){var t,n=e.length-3,r=f[256].offset,i=0,s=0|r[15],o=0,a=0|r[14],l=0,u=0|r[13],d=0,h=0|r[12],p=0,m=0|r[11],y=0,v=0|r[10],_=0,b=0|r[9],S=0,w=0|r[8],C=0,E=0|r[7],T=0,D=0|r[6],P=0,k=0|r[5],I=0,M=0|r[4],x=0,A=0|r[3],O=0,L=0|r[2],R=0,j=0|r[1],F=0,N=0|r[0];for(t=0;t<n;)o=355*a,l=355*u,d=355*h,p=355*m,y=355*v,_=355*b,S=355*w,C=355*E,T=355*D,P=355*k,I=355*M,x=355*A,O=355*L,R=355*j,F=355*N,P+=s<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,s=65535&(i=355*s),N=(F+=v<<8)+((R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=355*(a=65535&o),l=355*(u=65535&l),d=355*(h=65535&d),p=355*(m=65535&p),y=355*(v=65535&y),_=355*(b=65535&_),S=355*(w=65535&S),C=355*(E=65535&C),T=355*(D=65535&T),P=355*(k=65535&P),I=355*(M=65535&I),x=355*(A=65535&x),O=355*(L=65535&O),R=355*(j=65535&R),F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,s=65535&(i=355*s),N=(F+=v<<8)+((R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=355*(a=65535&o),l=355*(u=65535&l),d=355*(h=65535&d),p=355*(m=65535&p),y=355*(v=65535&y),_=355*(b=65535&_),S=355*(w=65535&S),C=355*(E=65535&C),T=355*(D=65535&T),P=355*(k=65535&P),I=355*(M=65535&I),x=355*(A=65535&x),O=355*(L=65535&O),R=355*(j=65535&R),F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,s=65535&(i=355*s),N=(F+=v<<8)+((R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=355*(a=65535&o),l=355*(u=65535&l),d=355*(h=65535&d),p=355*(m=65535&p),y=355*(v=65535&y),_=355*(b=65535&_),S=355*(w=65535&S),C=355*(E=65535&C),T=355*(D=65535&T),P=355*(k=65535&P),I=355*(M=65535&I),x=355*(A=65535&x),O=355*(L=65535&O),R=355*(j=65535&R),F=355*N,P+=(s^=e.charCodeAt(t++))<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,F+=v<<8,s=65535&(i=355*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),N=F+((R+=O>>>16)>>>16)&65535,j=65535&R,s^=e.charCodeAt(t++);for(;t<n+3;)o=355*a,l=355*u,d=355*h,p=355*m,y=355*v,_=355*b,S=355*w,C=355*E,T=355*D,P=355*k,I=355*M,x=355*A,O=355*L,R=355*j,F=355*N,P+=s<<8,I+=a<<8,x+=u<<8,O+=h<<8,R+=m<<8,F+=v<<8,s=65535&(i=355*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),N=F+((R+=O>>>16)>>>16)&65535,j=65535&R,s^=e.charCodeAt(t++);return g(c[N>>8]+c[255&N]+c[j>>8]+c[255&j]+c[L>>8]+c[255&L]+c[A>>8]+c[255&A]+c[M>>8]+c[255&M]+c[k>>8]+c[255&k]+c[D>>8]+c[255&D]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],256)}function H(e){var t,n,r=e.length,i=f[256].offset,s=0,o=0|i[15],a=0,l=0|i[14],u=0,d=0|i[13],h=0,p=0|i[12],m=0,y=0|i[11],v=0,_=0|i[10],b=0,S=0|i[9],w=0,C=0|i[8],E=0,T=0|i[7],D=0,P=0|i[6],k=0,I=0|i[5],M=0,x=0|i[4],A=0,O=0|i[3],L=0,R=0|i[2],j=0,F=0|i[1],N=0,Y=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=(o^=t>>6|192)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,o=65535&(s=355*o),Y=(N+=_<<8)+((j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(p=65535&h),m=355*(y=65535&m),v=355*(_=65535&v),b=355*(S=65535&b),w=355*(C=65535&w),E=355*(T=65535&E),D=355*(P=65535&D),k=355*(I=65535&k),M=355*(x=65535&M),A=355*(O=65535&A),L=355*(R=65535&L),j=355*(F=65535&j),N=355*Y,k+=(o^=t>>12&63|128)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,o=65535&(s=355*o),Y=(N+=_<<8)+((j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(p=65535&h),m=355*(y=65535&m),v=355*(_=65535&v),b=355*(S=65535&b),w=355*(C=65535&w),E=355*(T=65535&E),D=355*(P=65535&D),k=355*(I=65535&k),M=355*(x=65535&M),A=355*(O=65535&A),L=355*(R=65535&L),j=355*(F=65535&j),N=355*Y,k+=(o^=t>>6&63|128)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j,o^=63&t|128):(a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=(o^=t>>12|224)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,o=65535&(s=355*o),Y=(N+=_<<8)+((j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(p=65535&h),m=355*(y=65535&m),v=355*(_=65535&v),b=355*(S=65535&b),w=355*(C=65535&w),E=355*(T=65535&E),D=355*(P=65535&D),k=355*(I=65535&k),M=355*(x=65535&M),A=355*(O=65535&A),L=355*(R=65535&L),j=355*(F=65535&j),N=355*Y,k+=(o^=t>>6&63|128)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j,o^=63&t|128),a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=o<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j;return g(c[Y>>8]+c[255&Y]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[I>>8]+c[255&I]+c[P>>8]+c[255&P]+c[T>>8]+c[255&T]+c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],256)}function W(e){var t,n,r=e.length,i=f[256].offset,s=0,o=0|i[15],a=0,l=0|i[14],u=0,d=0|i[13],h=0,p=0|i[12],m=0,y=0|i[11],v=0,_=0|i[10],b=0,S=0|i[9],w=0,C=0|i[8],E=0,T=0|i[7],D=0,P=0|i[6],k=0,I=0|i[5],M=0,x=0|i[4],A=0,O=0|i[3],L=0,R=0|i[2],j=0,F=0|i[1],N=0,Y=0|i[0];for(n=0;n<r;n++)a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=o<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j,(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=(o^=t>>6|192)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,o=65535&(s=355*o),Y=(N+=_<<8)+((j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(p=65535&h),m=355*(y=65535&m),v=355*(_=65535&v),b=355*(S=65535&b),w=355*(C=65535&w),E=355*(T=65535&E),D=355*(P=65535&D),k=355*(I=65535&k),M=355*(x=65535&M),A=355*(O=65535&A),L=355*(R=65535&L),j=355*(F=65535&j),N=355*Y,k+=(o^=t>>12&63|128)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,o=65535&(s=355*o),Y=(N+=_<<8)+((j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(p=65535&h),m=355*(y=65535&m),v=355*(_=65535&v),b=355*(S=65535&b),w=355*(C=65535&w),E=355*(T=65535&E),D=355*(P=65535&D),k=355*(I=65535&k),M=355*(x=65535&M),A=355*(O=65535&A),L=355*(R=65535&L),j=355*(F=65535&j),N=355*Y,k+=(o^=t>>6&63|128)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j,o^=63&t|128):(a=355*l,u=355*d,h=355*p,m=355*y,v=355*_,b=355*S,w=355*C,E=355*T,D=355*P,k=355*I,M=355*x,A=355*O,L=355*R,j=355*F,N=355*Y,k+=(o^=t>>12|224)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,o=65535&(s=355*o),Y=(N+=_<<8)+((j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(p=65535&h),m=355*(y=65535&m),v=355*(_=65535&v),b=355*(S=65535&b),w=355*(C=65535&w),E=355*(T=65535&E),D=355*(P=65535&D),k=355*(I=65535&k),M=355*(x=65535&M),A=355*(O=65535&A),L=355*(R=65535&L),j=355*(F=65535&j),N=355*Y,k+=(o^=t>>6&63|128)<<8,M+=l<<8,A+=d<<8,L+=p<<8,j+=y<<8,N+=_<<8,o=65535&(s=355*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),Y=N+((j+=L>>>16)>>>16)&65535,F=65535&j,o^=63&t|128);return g(c[Y>>8]+c[255&Y]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[I>>8]+c[255&I]+c[P>>8]+c[255&P]+c[T>>8]+c[255&T]+c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],256)}function U(e){var t,n=e.length-3,r=f[512].offset,i=0,s=0|r[31],o=0,a=0|r[30],l=0,u=0|r[29],d=0,h=0|r[28],p=0,m=0|r[27],y=0,v=0|r[26],_=0,b=0|r[25],S=0,w=0|r[24],C=0,E=0|r[23],T=0,D=0|r[22],P=0,k=0|r[21],I=0,M=0|r[20],x=0,A=0|r[19],O=0,L=0|r[18],R=0,j=0|r[17],F=0,N=0|r[16],Y=0,B=0|r[15],H=0,W=0|r[14],U=0,V=0|r[13],$=0,q=0|r[12],G=0,z=0|r[11],K=0,J=0|r[10],X=0,Q=0|r[9],Z=0,ee=0|r[8],te=0,ne=0|r[7],re=0,ie=0|r[6],se=0,oe=0|r[5],ae=0,ce=0|r[4],le=0,ue=0|r[3],de=0,he=0|r[2],pe=0,fe=0|r[1],me=0,ge=0|r[0];for(t=0;t<n;)o=343*a,l=343*u,d=343*h,p=343*m,y=343*v,_=343*b,S=343*w,C=343*E,T=343*D,P=343*k,I=343*M,x=343*A,O=343*L,R=343*j,F=343*N,Y=343*B,H=343*W,U=343*V,$=343*q,G=343*z,K=343*J,X=343*Q,Z=343*ee,te=343*ne,re=343*ie,se=343*oe,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,s=65535&(i=343*s),ge=(me+=k<<8)+((pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=343*(a=65535&o),l=343*(u=65535&l),d=343*(h=65535&d),p=343*(m=65535&p),y=343*(v=65535&y),_=343*(b=65535&_),S=343*(w=65535&S),C=343*(E=65535&C),T=343*(D=65535&T),P=343*(k=65535&P),I=343*(M=65535&I),x=343*(A=65535&x),O=343*(L=65535&O),R=343*(j=65535&R),F=343*(N=65535&F),Y=343*(B=65535&Y),H=343*(W=65535&H),U=343*(V=65535&U),$=343*(q=65535&$),G=343*(z=65535&G),K=343*(J=65535&K),X=343*(Q=65535&X),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),se=343*(oe=65535&se),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,s=65535&(i=343*s),ge=(me+=k<<8)+((pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=343*(a=65535&o),l=343*(u=65535&l),d=343*(h=65535&d),p=343*(m=65535&p),y=343*(v=65535&y),_=343*(b=65535&_),S=343*(w=65535&S),C=343*(E=65535&C),T=343*(D=65535&T),P=343*(k=65535&P),I=343*(M=65535&I),x=343*(A=65535&x),O=343*(L=65535&O),R=343*(j=65535&R),F=343*(N=65535&F),Y=343*(B=65535&Y),H=343*(W=65535&H),U=343*(V=65535&U),$=343*(q=65535&$),G=343*(z=65535&G),K=343*(J=65535&K),X=343*(Q=65535&X),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),se=343*(oe=65535&se),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,s=65535&(i=343*s),ge=(me+=k<<8)+((pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=343*(a=65535&o),l=343*(u=65535&l),d=343*(h=65535&d),p=343*(m=65535&p),y=343*(v=65535&y),_=343*(b=65535&_),S=343*(w=65535&S),C=343*(E=65535&C),T=343*(D=65535&T),P=343*(k=65535&P),I=343*(M=65535&I),x=343*(A=65535&x),O=343*(L=65535&O),R=343*(j=65535&R),F=343*(N=65535&F),Y=343*(B=65535&Y),H=343*(W=65535&H),U=343*(V=65535&U),$=343*(q=65535&$),G=343*(z=65535&G),K=343*(J=65535&K),X=343*(Q=65535&X),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),se=343*(oe=65535&se),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,me+=k<<8,s=65535&(i=343*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe;for(;t<n+3;)o=343*a,l=343*u,d=343*h,p=343*m,y=343*v,_=343*b,S=343*w,C=343*E,T=343*D,P=343*k,I=343*M,x=343*A,O=343*L,R=343*j,F=343*N,Y=343*B,H=343*W,U=343*V,$=343*q,G=343*z,K=343*J,X=343*Q,Z=343*ee,te=343*ne,re=343*ie,se=343*oe,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,me+=k<<8,s=65535&(i=343*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe;return g(c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[oe>>8]+c[255&oe]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Q>>8]+c[255&Q]+c[J>>8]+c[255&J]+c[z>>8]+c[255&z]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[B>>8]+c[255&B]+c[N>>8]+c[255&N]+c[j>>8]+c[255&j]+c[L>>8]+c[255&L]+c[A>>8]+c[255&A]+c[M>>8]+c[255&M]+c[k>>8]+c[255&k]+c[D>>8]+c[255&D]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],512)}function V(e){var t,n=e.length-3,r=f[512].offset,i=0,s=0|r[31],o=0,a=0|r[30],l=0,u=0|r[29],d=0,h=0|r[28],p=0,m=0|r[27],y=0,v=0|r[26],_=0,b=0|r[25],S=0,w=0|r[24],C=0,E=0|r[23],T=0,D=0|r[22],P=0,k=0|r[21],I=0,M=0|r[20],x=0,A=0|r[19],O=0,L=0|r[18],R=0,j=0|r[17],F=0,N=0|r[16],Y=0,B=0|r[15],H=0,W=0|r[14],U=0,V=0|r[13],$=0,q=0|r[12],G=0,z=0|r[11],K=0,J=0|r[10],X=0,Q=0|r[9],Z=0,ee=0|r[8],te=0,ne=0|r[7],re=0,ie=0|r[6],se=0,oe=0|r[5],ae=0,ce=0|r[4],le=0,ue=0|r[3],de=0,he=0|r[2],pe=0,fe=0|r[1],me=0,ge=0|r[0];for(t=0;t<n;)o=343*a,l=343*u,d=343*h,p=343*m,y=343*v,_=343*b,S=343*w,C=343*E,T=343*D,P=343*k,I=343*M,x=343*A,O=343*L,R=343*j,F=343*N,Y=343*B,H=343*W,U=343*V,$=343*q,G=343*z,K=343*J,X=343*Q,Z=343*ee,te=343*ne,re=343*ie,se=343*oe,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,K+=s<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,s=65535&(i=343*s),ge=(me+=k<<8)+((pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=343*(a=65535&o),l=343*(u=65535&l),d=343*(h=65535&d),p=343*(m=65535&p),y=343*(v=65535&y),_=343*(b=65535&_),S=343*(w=65535&S),C=343*(E=65535&C),T=343*(D=65535&T),P=343*(k=65535&P),I=343*(M=65535&I),x=343*(A=65535&x),O=343*(L=65535&O),R=343*(j=65535&R),F=343*(N=65535&F),Y=343*(B=65535&Y),H=343*(W=65535&H),U=343*(V=65535&U),$=343*(q=65535&$),G=343*(z=65535&G),K=343*(J=65535&K),X=343*(Q=65535&X),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),se=343*(oe=65535&se),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,s=65535&(i=343*s),ge=(me+=k<<8)+((pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=343*(a=65535&o),l=343*(u=65535&l),d=343*(h=65535&d),p=343*(m=65535&p),y=343*(v=65535&y),_=343*(b=65535&_),S=343*(w=65535&S),C=343*(E=65535&C),T=343*(D=65535&T),P=343*(k=65535&P),I=343*(M=65535&I),x=343*(A=65535&x),O=343*(L=65535&O),R=343*(j=65535&R),F=343*(N=65535&F),Y=343*(B=65535&Y),H=343*(W=65535&H),U=343*(V=65535&U),$=343*(q=65535&$),G=343*(z=65535&G),K=343*(J=65535&K),X=343*(Q=65535&X),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),se=343*(oe=65535&se),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,s=65535&(i=343*s),ge=(me+=k<<8)+((pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=343*(a=65535&o),l=343*(u=65535&l),d=343*(h=65535&d),p=343*(m=65535&p),y=343*(v=65535&y),_=343*(b=65535&_),S=343*(w=65535&S),C=343*(E=65535&C),T=343*(D=65535&T),P=343*(k=65535&P),I=343*(M=65535&I),x=343*(A=65535&x),O=343*(L=65535&O),R=343*(j=65535&R),F=343*(N=65535&F),Y=343*(B=65535&Y),H=343*(W=65535&H),U=343*(V=65535&U),$=343*(q=65535&$),G=343*(z=65535&G),K=343*(J=65535&K),X=343*(Q=65535&X),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),se=343*(oe=65535&se),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,K+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,me+=k<<8,s=65535&(i=343*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe,s^=e.charCodeAt(t++);for(;t<n+3;)o=343*a,l=343*u,d=343*h,p=343*m,y=343*v,_=343*b,S=343*w,C=343*E,T=343*D,P=343*k,I=343*M,x=343*A,O=343*L,R=343*j,F=343*N,Y=343*B,H=343*W,U=343*V,$=343*q,G=343*z,K=343*J,X=343*Q,Z=343*ee,te=343*ne,re=343*ie,se=343*oe,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,K+=s<<8,X+=a<<8,Z+=u<<8,te+=h<<8,re+=m<<8,se+=v<<8,ae+=b<<8,le+=w<<8,de+=E<<8,pe+=D<<8,me+=k<<8,s=65535&(i=343*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe,s^=e.charCodeAt(t++);return g(c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[oe>>8]+c[255&oe]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Q>>8]+c[255&Q]+c[J>>8]+c[255&J]+c[z>>8]+c[255&z]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[B>>8]+c[255&B]+c[N>>8]+c[255&N]+c[j>>8]+c[255&j]+c[L>>8]+c[255&L]+c[A>>8]+c[255&A]+c[M>>8]+c[255&M]+c[k>>8]+c[255&k]+c[D>>8]+c[255&D]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],512)}function $(e){var t,n,r=e.length,i=f[512].offset,s=0,o=0|i[31],a=0,l=0|i[30],u=0,d=0|i[29],h=0,p=0|i[28],m=0,y=0|i[27],v=0,_=0|i[26],b=0,S=0|i[25],w=0,C=0|i[24],E=0,T=0|i[23],D=0,P=0|i[22],k=0,I=0|i[21],M=0,x=0|i[20],A=0,O=0|i[19],L=0,R=0|i[18],j=0,F=0|i[17],N=0,Y=0|i[16],B=0,H=0|i[15],W=0,U=0|i[14],V=0,$=0|i[13],q=0,G=0|i[12],z=0,K=0|i[11],J=0,X=0|i[10],Q=0,Z=0|i[9],ee=0,te=0|i[8],ne=0,re=0|i[7],ie=0,se=0|i[6],oe=0,ae=0|i[5],ce=0,le=0|i[4],ue=0,de=0|i[3],he=0,pe=0|i[2],fe=0,me=0|i[1],ge=0,ye=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=(o^=t>>6|192)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,o=65535&(s=343*o),ye=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(p=65535&h),m=343*(y=65535&m),v=343*(_=65535&v),b=343*(S=65535&b),w=343*(C=65535&w),E=343*(T=65535&E),D=343*(P=65535&D),k=343*(I=65535&k),M=343*(x=65535&M),A=343*(O=65535&A),L=343*(R=65535&L),j=343*(F=65535&j),N=343*(Y=65535&N),B=343*(H=65535&B),W=343*(U=65535&W),V=343*($=65535&V),q=343*(G=65535&q),z=343*(K=65535&z),J=343*(X=65535&J),Q=343*(Z=65535&Q),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(se=65535&ie),oe=343*(ae=65535&oe),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ye,J+=(o^=t>>12&63|128)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,o=65535&(s=343*o),ye=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(p=65535&h),m=343*(y=65535&m),v=343*(_=65535&v),b=343*(S=65535&b),w=343*(C=65535&w),E=343*(T=65535&E),D=343*(P=65535&D),k=343*(I=65535&k),M=343*(x=65535&M),A=343*(O=65535&A),L=343*(R=65535&L),j=343*(F=65535&j),N=343*(Y=65535&N),B=343*(H=65535&B),W=343*(U=65535&W),V=343*($=65535&V),q=343*(G=65535&q),z=343*(K=65535&z),J=343*(X=65535&J),Q=343*(Z=65535&Q),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(se=65535&ie),oe=343*(ae=65535&oe),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ye,J+=(o^=t>>6&63|128)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,o^=63&t|128):(a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=(o^=t>>12|224)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,o=65535&(s=343*o),ye=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(p=65535&h),m=343*(y=65535&m),v=343*(_=65535&v),b=343*(S=65535&b),w=343*(C=65535&w),E=343*(T=65535&E),D=343*(P=65535&D),k=343*(I=65535&k),M=343*(x=65535&M),A=343*(O=65535&A),L=343*(R=65535&L),j=343*(F=65535&j),N=343*(Y=65535&N),B=343*(H=65535&B),W=343*(U=65535&W),V=343*($=65535&V),q=343*(G=65535&q),z=343*(K=65535&z),J=343*(X=65535&J),Q=343*(Z=65535&Q),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(se=65535&ie),oe=343*(ae=65535&oe),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ye,J+=(o^=t>>6&63|128)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,o^=63&t|128),a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=o<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe;return g(c[ye>>8]+c[255&ye]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[U>>8]+c[255&U]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[I>>8]+c[255&I]+c[P>>8]+c[255&P]+c[T>>8]+c[255&T]+c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],512)}function q(e){var t,n,r=e.length,i=f[512].offset,s=0,o=0|i[31],a=0,l=0|i[30],u=0,d=0|i[29],h=0,p=0|i[28],m=0,y=0|i[27],v=0,_=0|i[26],b=0,S=0|i[25],w=0,C=0|i[24],E=0,T=0|i[23],D=0,P=0|i[22],k=0,I=0|i[21],M=0,x=0|i[20],A=0,O=0|i[19],L=0,R=0|i[18],j=0,F=0|i[17],N=0,Y=0|i[16],B=0,H=0|i[15],W=0,U=0|i[14],V=0,$=0|i[13],q=0,G=0|i[12],z=0,K=0|i[11],J=0,X=0|i[10],Q=0,Z=0|i[9],ee=0,te=0|i[8],ne=0,re=0|i[7],ie=0,se=0|i[6],oe=0,ae=0|i[5],ce=0,le=0|i[4],ue=0,de=0|i[3],he=0,pe=0|i[2],fe=0,me=0|i[1],ge=0,ye=0|i[0];for(n=0;n<r;n++)a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=o<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=(o^=t>>6|192)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,o=65535&(s=343*o),ye=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(p=65535&h),m=343*(y=65535&m),v=343*(_=65535&v),b=343*(S=65535&b),w=343*(C=65535&w),E=343*(T=65535&E),D=343*(P=65535&D),k=343*(I=65535&k),M=343*(x=65535&M),A=343*(O=65535&A),L=343*(R=65535&L),j=343*(F=65535&j),N=343*(Y=65535&N),B=343*(H=65535&B),W=343*(U=65535&W),V=343*($=65535&V),q=343*(G=65535&q),z=343*(K=65535&z),J=343*(X=65535&J),Q=343*(Z=65535&Q),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(se=65535&ie),oe=343*(ae=65535&oe),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ye,J+=(o^=t>>12&63|128)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,o=65535&(s=343*o),ye=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(p=65535&h),m=343*(y=65535&m),v=343*(_=65535&v),b=343*(S=65535&b),w=343*(C=65535&w),E=343*(T=65535&E),D=343*(P=65535&D),k=343*(I=65535&k),M=343*(x=65535&M),A=343*(O=65535&A),L=343*(R=65535&L),j=343*(F=65535&j),N=343*(Y=65535&N),B=343*(H=65535&B),W=343*(U=65535&W),V=343*($=65535&V),q=343*(G=65535&q),z=343*(K=65535&z),J=343*(X=65535&J),Q=343*(Z=65535&Q),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(se=65535&ie),oe=343*(ae=65535&oe),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ye,J+=(o^=t>>6&63|128)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,o^=63&t|128):(a=343*l,u=343*d,h=343*p,m=343*y,v=343*_,b=343*S,w=343*C,E=343*T,D=343*P,k=343*I,M=343*x,A=343*O,L=343*R,j=343*F,N=343*Y,B=343*H,W=343*U,V=343*$,q=343*G,z=343*K,J=343*X,Q=343*Z,ee=343*te,ne=343*re,ie=343*se,oe=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ye,J+=(o^=t>>12|224)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,o=65535&(s=343*o),ye=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(p=65535&h),m=343*(y=65535&m),v=343*(_=65535&v),b=343*(S=65535&b),w=343*(C=65535&w),E=343*(T=65535&E),D=343*(P=65535&D),k=343*(I=65535&k),M=343*(x=65535&M),A=343*(O=65535&A),L=343*(R=65535&L),j=343*(F=65535&j),N=343*(Y=65535&N),B=343*(H=65535&B),W=343*(U=65535&W),V=343*($=65535&V),q=343*(G=65535&q),z=343*(K=65535&z),J=343*(X=65535&J),Q=343*(Z=65535&Q),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(se=65535&ie),oe=343*(ae=65535&oe),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ye,J+=(o^=t>>6&63|128)<<8,Q+=l<<8,ee+=d<<8,ne+=p<<8,ie+=y<<8,oe+=_<<8,ce+=S<<8,ue+=C<<8,he+=T<<8,fe+=P<<8,ge+=I<<8,o=65535&(s=343*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ye=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,o^=63&t|128);return g(c[ye>>8]+c[255&ye]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[U>>8]+c[255&U]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[I>>8]+c[255&I]+c[P>>8]+c[255&P]+c[T>>8]+c[255&T]+c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],512)}function G(e){var t,n=e.length-3,r=f[1024].offset,i=0,s=0|r[63],o=0,a=0|r[62],l=0,u=0|r[61],d=0,h=0|r[60],p=0,m=0|r[59],y=0,v=0|r[58],_=0,b=0|r[57],S=0,w=0|r[56],C=0,E=0|r[55],T=0,D=0|r[54],P=0,k=0|r[53],I=0,M=0|r[52],x=0,A=0|r[51],O=0,L=0|r[50],R=0,j=0|r[49],F=0,N=0|r[48],Y=0,B=0|r[47],H=0,W=0|r[46],U=0,V=0|r[45],$=0,q=0|r[44],G=0,z=0|r[43],K=0,J=0|r[42],X=0,Q=0|r[41],Z=0,ee=0|r[40],te=0,ne=0|r[39],re=0,ie=0|r[38],se=0,oe=0|r[37],ae=0,ce=0|r[36],le=0,ue=0|r[35],de=0,he=0|r[34],pe=0,fe=0|r[33],me=0,ge=0|r[32],ye=0,ve=0|r[31],_e=0,be=0|r[30],Se=0,we=0|r[29],Ce=0,Ee=0|r[28],Te=0,De=0|r[27],Pe=0,ke=0|r[26],Ie=0,Me=0|r[25],xe=0,Ae=0|r[24],Oe=0,Le=0|r[23],Re=0,je=0|r[22],Fe=0,Ne=0|r[21],Ye=0,Be=0|r[20],He=0,We=0|r[19],Ue=0,Ve=0|r[18],$e=0,qe=0|r[17],Ge=0,ze=0|r[16],Ke=0,Je=0|r[15],Xe=0,Qe=0|r[14],Ze=0,et=0|r[13],tt=0,nt=0|r[12],rt=0,it=0|r[11],st=0,ot=0|r[10],at=0,ct=0|r[9],lt=0,ut=0|r[8],dt=0,ht=0|r[7],pt=0,ft=0|r[6],mt=0,gt=0|r[5],yt=0,vt=0|r[4],_t=0,bt=0|r[3],St=0,wt=0|r[2],Ct=0,Et=0|r[1],Tt=0,Dt=0|r[0];for(t=0;t<n;)o=397*a,l=397*u,d=397*h,p=397*m,y=397*v,_=397*b,S=397*w,C=397*E,T=397*D,P=397*k,I=397*M,x=397*A,O=397*L,R=397*j,F=397*N,Y=397*B,H=397*W,U=397*V,$=397*q,G=397*z,K=397*J,X=397*Q,Z=397*ee,te=397*ne,re=397*ie,se=397*oe,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ye=397*ve,_e=397*be,Se=397*we,Ce=397*Ee,Te=397*De,Pe=397*ke,Ie=397*Me,xe=397*Ae,Oe=397*Le,Re=397*je,Fe=397*Ne,Ye=397*Be,He=397*We,Ue=397*Ve,$e=397*qe,Ge=397*ze,Ke=397*Je,Xe=397*Qe,Ze=397*et,tt=397*nt,rt=397*it,st=397*ot,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,yt=397*vt,_t=397*bt,St=397*wt,Ct=397*Et,Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,s=65535&(i=397*s),Dt=(Tt+=J<<8)+((Ct+=(St+=(_t+=(yt+=(mt+=(pt+=(dt+=(lt+=(at+=(st+=(rt+=(tt+=(Ze+=(Xe+=(Ke+=(Ge+=($e+=(Ue+=(He+=(Ye+=(Fe+=(Re+=(Oe+=(xe+=(Ie+=(Pe+=(Te+=(Ce+=(Se+=(_e+=(ye+=(me+=(pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=397*(a=65535&o),l=397*(u=65535&l),d=397*(h=65535&d),p=397*(m=65535&p),y=397*(v=65535&y),_=397*(b=65535&_),S=397*(w=65535&S),C=397*(E=65535&C),T=397*(D=65535&T),P=397*(k=65535&P),I=397*(M=65535&I),x=397*(A=65535&x),O=397*(L=65535&O),R=397*(j=65535&R),F=397*(N=65535&F),Y=397*(B=65535&Y),H=397*(W=65535&H),U=397*(V=65535&U),$=397*(q=65535&$),G=397*(z=65535&G),K=397*(J=65535&K),X=397*(Q=65535&X),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),se=397*(oe=65535&se),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ye=397*(ve=65535&ye),_e=397*(be=65535&_e),Se=397*(we=65535&Se),Ce=397*(Ee=65535&Ce),Te=397*(De=65535&Te),Pe=397*(ke=65535&Pe),Ie=397*(Me=65535&Ie),xe=397*(Ae=65535&xe),Oe=397*(Le=65535&Oe),Re=397*(je=65535&Re),Fe=397*(Ne=65535&Fe),Ye=397*(Be=65535&Ye),He=397*(We=65535&He),Ue=397*(Ve=65535&Ue),$e=397*(qe=65535&$e),Ge=397*(ze=65535&Ge),Ke=397*(Je=65535&Ke),Xe=397*(Qe=65535&Xe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),st=397*(ot=65535&st),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),yt=397*(vt=65535&yt),_t=397*(bt=65535&_t),St=397*(wt=65535&St),Ct=397*(Et=65535&Ct),Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,s=65535&(i=397*s),Dt=(Tt+=J<<8)+((Ct+=(St+=(_t+=(yt+=(mt+=(pt+=(dt+=(lt+=(at+=(st+=(rt+=(tt+=(Ze+=(Xe+=(Ke+=(Ge+=($e+=(Ue+=(He+=(Ye+=(Fe+=(Re+=(Oe+=(xe+=(Ie+=(Pe+=(Te+=(Ce+=(Se+=(_e+=(ye+=(me+=(pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=397*(a=65535&o),l=397*(u=65535&l),d=397*(h=65535&d),p=397*(m=65535&p),y=397*(v=65535&y),_=397*(b=65535&_),S=397*(w=65535&S),C=397*(E=65535&C),T=397*(D=65535&T),P=397*(k=65535&P),I=397*(M=65535&I),x=397*(A=65535&x),O=397*(L=65535&O),R=397*(j=65535&R),F=397*(N=65535&F),Y=397*(B=65535&Y),H=397*(W=65535&H),U=397*(V=65535&U),$=397*(q=65535&$),G=397*(z=65535&G),K=397*(J=65535&K),X=397*(Q=65535&X),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),se=397*(oe=65535&se),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ye=397*(ve=65535&ye),_e=397*(be=65535&_e),Se=397*(we=65535&Se),Ce=397*(Ee=65535&Ce),Te=397*(De=65535&Te),Pe=397*(ke=65535&Pe),Ie=397*(Me=65535&Ie),xe=397*(Ae=65535&xe),Oe=397*(Le=65535&Oe),Re=397*(je=65535&Re),Fe=397*(Ne=65535&Fe),Ye=397*(Be=65535&Ye),He=397*(We=65535&He),Ue=397*(Ve=65535&Ue),$e=397*(qe=65535&$e),Ge=397*(ze=65535&Ge),Ke=397*(Je=65535&Ke),Xe=397*(Qe=65535&Xe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),st=397*(ot=65535&st),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),yt=397*(vt=65535&yt),_t=397*(bt=65535&_t),St=397*(wt=65535&St),Ct=397*(Et=65535&Ct),Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,s=65535&(i=397*s),Dt=(Tt+=J<<8)+((Ct+=(St+=(_t+=(yt+=(mt+=(pt+=(dt+=(lt+=(at+=(st+=(rt+=(tt+=(Ze+=(Xe+=(Ke+=(Ge+=($e+=(Ue+=(He+=(Ye+=(Fe+=(Re+=(Oe+=(xe+=(Ie+=(Pe+=(Te+=(Ce+=(Se+=(_e+=(ye+=(me+=(pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=397*(a=65535&o),l=397*(u=65535&l),d=397*(h=65535&d),p=397*(m=65535&p),y=397*(v=65535&y),_=397*(b=65535&_),S=397*(w=65535&S),C=397*(E=65535&C),T=397*(D=65535&T),P=397*(k=65535&P),I=397*(M=65535&I),x=397*(A=65535&x),O=397*(L=65535&O),R=397*(j=65535&R),F=397*(N=65535&F),Y=397*(B=65535&Y),H=397*(W=65535&H),U=397*(V=65535&U),$=397*(q=65535&$),G=397*(z=65535&G),K=397*(J=65535&K),X=397*(Q=65535&X),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),se=397*(oe=65535&se),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ye=397*(ve=65535&ye),_e=397*(be=65535&_e),Se=397*(we=65535&Se),Ce=397*(Ee=65535&Ce),Te=397*(De=65535&Te),Pe=397*(ke=65535&Pe),Ie=397*(Me=65535&Ie),xe=397*(Ae=65535&xe),Oe=397*(Le=65535&Oe),Re=397*(je=65535&Re),Fe=397*(Ne=65535&Fe),Ye=397*(Be=65535&Ye),He=397*(We=65535&He),Ue=397*(Ve=65535&Ue),$e=397*(qe=65535&$e),Ge=397*(ze=65535&Ge),Ke=397*(Je=65535&Ke),Xe=397*(Qe=65535&Xe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),st=397*(ot=65535&st),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),yt=397*(vt=65535&yt),_t=397*(bt=65535&_t),St=397*(wt=65535&St),Ct=397*(Et=65535&Ct),Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,Tt+=J<<8,s=65535&(i=397*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ve=65535&(ye+=me>>>16),be=65535&(_e+=ye>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(Ce+=Se>>>16),De=65535&(Te+=Ce>>>16),ke=65535&(Pe+=Te>>>16),Me=65535&(Ie+=Pe>>>16),Ae=65535&(xe+=Ie>>>16),Le=65535&(Oe+=xe>>>16),je=65535&(Re+=Oe>>>16),Ne=65535&(Fe+=Re>>>16),Be=65535&(Ye+=Fe>>>16),We=65535&(He+=Ye>>>16),Ve=65535&(Ue+=He>>>16),qe=65535&($e+=Ue>>>16),ze=65535&(Ge+=$e>>>16),Je=65535&(Ke+=Ge>>>16),Qe=65535&(Xe+=Ke>>>16),et=65535&(Ze+=Xe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),ot=65535&(st+=rt>>>16),ct=65535&(at+=st>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),vt=65535&(yt+=mt>>>16),bt=65535&(_t+=yt>>>16),wt=65535&(St+=_t>>>16),Dt=Tt+((Ct+=St>>>16)>>>16)&65535,Et=65535&Ct;for(;t<n+3;)o=397*a,l=397*u,d=397*h,p=397*m,y=397*v,_=397*b,S=397*w,C=397*E,T=397*D,P=397*k,I=397*M,x=397*A,O=397*L,R=397*j,F=397*N,Y=397*B,H=397*W,U=397*V,$=397*q,G=397*z,K=397*J,X=397*Q,Z=397*ee,te=397*ne,re=397*ie,se=397*oe,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ye=397*ve,_e=397*be,Se=397*we,Ce=397*Ee,Te=397*De,Pe=397*ke,Ie=397*Me,xe=397*Ae,Oe=397*Le,Re=397*je,Fe=397*Ne,Ye=397*Be,He=397*We,Ue=397*Ve,$e=397*qe,Ge=397*ze,Ke=397*Je,Xe=397*Qe,Ze=397*et,tt=397*nt,rt=397*it,st=397*ot,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,yt=397*vt,_t=397*bt,St=397*wt,Ct=397*Et,Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,Tt+=J<<8,s=65535&(i=397*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ve=65535&(ye+=me>>>16),be=65535&(_e+=ye>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(Ce+=Se>>>16),De=65535&(Te+=Ce>>>16),ke=65535&(Pe+=Te>>>16),Me=65535&(Ie+=Pe>>>16),Ae=65535&(xe+=Ie>>>16),Le=65535&(Oe+=xe>>>16),je=65535&(Re+=Oe>>>16),Ne=65535&(Fe+=Re>>>16),Be=65535&(Ye+=Fe>>>16),We=65535&(He+=Ye>>>16),Ve=65535&(Ue+=He>>>16),qe=65535&($e+=Ue>>>16),ze=65535&(Ge+=$e>>>16),Je=65535&(Ke+=Ge>>>16),Qe=65535&(Xe+=Ke>>>16),et=65535&(Ze+=Xe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),ot=65535&(st+=rt>>>16),ct=65535&(at+=st>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),vt=65535&(yt+=mt>>>16),bt=65535&(_t+=yt>>>16),wt=65535&(St+=_t>>>16),Dt=Tt+((Ct+=St>>>16)>>>16)&65535,Et=65535&Ct;return g(c[Dt>>8]+c[255&Dt]+c[Et>>8]+c[255&Et]+c[wt>>8]+c[255&wt]+c[bt>>8]+c[255&bt]+c[vt>>8]+c[255&vt]+c[gt>>8]+c[255&gt]+c[ft>>8]+c[255&ft]+c[ht>>8]+c[255&ht]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[ot>>8]+c[255&ot]+c[it>>8]+c[255&it]+c[nt>>8]+c[255&nt]+c[et>>8]+c[255&et]+c[Qe>>8]+c[255&Qe]+c[Je>>8]+c[255&Je]+c[ze>>8]+c[255&ze]+c[qe>>8]+c[255&qe]+c[Ve>>8]+c[255&Ve]+c[We>>8]+c[255&We]+c[Be>>8]+c[255&Be]+c[Ne>>8]+c[255&Ne]+c[je>>8]+c[255&je]+c[Le>>8]+c[255&Le]+c[Ae>>8]+c[255&Ae]+c[Me>>8]+c[255&Me]+c[ke>>8]+c[255&ke]+c[De>>8]+c[255&De]+c[Ee>>8]+c[255&Ee]+c[we>>8]+c[255&we]+c[be>>8]+c[255&be]+c[ve>>8]+c[255&ve]+c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[oe>>8]+c[255&oe]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Q>>8]+c[255&Q]+c[J>>8]+c[255&J]+c[z>>8]+c[255&z]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[B>>8]+c[255&B]+c[N>>8]+c[255&N]+c[j>>8]+c[255&j]+c[L>>8]+c[255&L]+c[A>>8]+c[255&A]+c[M>>8]+c[255&M]+c[k>>8]+c[255&k]+c[D>>8]+c[255&D]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],1024)}function z(e){var t,n=e.length-3,r=f[1024].offset,i=0,s=0|r[63],o=0,a=0|r[62],l=0,u=0|r[61],d=0,h=0|r[60],p=0,m=0|r[59],y=0,v=0|r[58],_=0,b=0|r[57],S=0,w=0|r[56],C=0,E=0|r[55],T=0,D=0|r[54],P=0,k=0|r[53],I=0,M=0|r[52],x=0,A=0|r[51],O=0,L=0|r[50],R=0,j=0|r[49],F=0,N=0|r[48],Y=0,B=0|r[47],H=0,W=0|r[46],U=0,V=0|r[45],$=0,q=0|r[44],G=0,z=0|r[43],K=0,J=0|r[42],X=0,Q=0|r[41],Z=0,ee=0|r[40],te=0,ne=0|r[39],re=0,ie=0|r[38],se=0,oe=0|r[37],ae=0,ce=0|r[36],le=0,ue=0|r[35],de=0,he=0|r[34],pe=0,fe=0|r[33],me=0,ge=0|r[32],ye=0,ve=0|r[31],_e=0,be=0|r[30],Se=0,we=0|r[29],Ce=0,Ee=0|r[28],Te=0,De=0|r[27],Pe=0,ke=0|r[26],Ie=0,Me=0|r[25],xe=0,Ae=0|r[24],Oe=0,Le=0|r[23],Re=0,je=0|r[22],Fe=0,Ne=0|r[21],Ye=0,Be=0|r[20],He=0,We=0|r[19],Ue=0,Ve=0|r[18],$e=0,qe=0|r[17],Ge=0,ze=0|r[16],Ke=0,Je=0|r[15],Xe=0,Qe=0|r[14],Ze=0,et=0|r[13],tt=0,nt=0|r[12],rt=0,it=0|r[11],st=0,ot=0|r[10],at=0,ct=0|r[9],lt=0,ut=0|r[8],dt=0,ht=0|r[7],pt=0,ft=0|r[6],mt=0,gt=0|r[5],yt=0,vt=0|r[4],_t=0,bt=0|r[3],St=0,wt=0|r[2],Ct=0,Et=0|r[1],Tt=0,Dt=0|r[0];for(t=0;t<n;)o=397*a,l=397*u,d=397*h,p=397*m,y=397*v,_=397*b,S=397*w,C=397*E,T=397*D,P=397*k,I=397*M,x=397*A,O=397*L,R=397*j,F=397*N,Y=397*B,H=397*W,U=397*V,$=397*q,G=397*z,K=397*J,X=397*Q,Z=397*ee,te=397*ne,re=397*ie,se=397*oe,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ye=397*ve,_e=397*be,Se=397*we,Ce=397*Ee,Te=397*De,Pe=397*ke,Ie=397*Me,xe=397*Ae,Oe=397*Le,Re=397*je,Fe=397*Ne,Ye=397*Be,He=397*We,Ue=397*Ve,$e=397*qe,Ge=397*ze,Ke=397*Je,Xe=397*Qe,Ze=397*et,tt=397*nt,rt=397*it,st=397*ot,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,yt=397*vt,_t=397*bt,St=397*wt,Ct=397*Et,Tt=397*Dt,Fe+=s<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,s=65535&(i=397*s),Dt=(Tt+=J<<8)+((Ct+=(St+=(_t+=(yt+=(mt+=(pt+=(dt+=(lt+=(at+=(st+=(rt+=(tt+=(Ze+=(Xe+=(Ke+=(Ge+=($e+=(Ue+=(He+=(Ye+=(Fe+=(Re+=(Oe+=(xe+=(Ie+=(Pe+=(Te+=(Ce+=(Se+=(_e+=(ye+=(me+=(pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=397*(a=65535&o),l=397*(u=65535&l),d=397*(h=65535&d),p=397*(m=65535&p),y=397*(v=65535&y),_=397*(b=65535&_),S=397*(w=65535&S),C=397*(E=65535&C),T=397*(D=65535&T),P=397*(k=65535&P),I=397*(M=65535&I),x=397*(A=65535&x),O=397*(L=65535&O),R=397*(j=65535&R),F=397*(N=65535&F),Y=397*(B=65535&Y),H=397*(W=65535&H),U=397*(V=65535&U),$=397*(q=65535&$),G=397*(z=65535&G),K=397*(J=65535&K),X=397*(Q=65535&X),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),se=397*(oe=65535&se),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ye=397*(ve=65535&ye),_e=397*(be=65535&_e),Se=397*(we=65535&Se),Ce=397*(Ee=65535&Ce),Te=397*(De=65535&Te),Pe=397*(ke=65535&Pe),Ie=397*(Me=65535&Ie),xe=397*(Ae=65535&xe),Oe=397*(Le=65535&Oe),Re=397*(je=65535&Re),Fe=397*(Ne=65535&Fe),Ye=397*(Be=65535&Ye),He=397*(We=65535&He),Ue=397*(Ve=65535&Ue),$e=397*(qe=65535&$e),Ge=397*(ze=65535&Ge),Ke=397*(Je=65535&Ke),Xe=397*(Qe=65535&Xe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),st=397*(ot=65535&st),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),yt=397*(vt=65535&yt),_t=397*(bt=65535&_t),St=397*(wt=65535&St),Ct=397*(Et=65535&Ct),Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,s=65535&(i=397*s),Dt=(Tt+=J<<8)+((Ct+=(St+=(_t+=(yt+=(mt+=(pt+=(dt+=(lt+=(at+=(st+=(rt+=(tt+=(Ze+=(Xe+=(Ke+=(Ge+=($e+=(Ue+=(He+=(Ye+=(Fe+=(Re+=(Oe+=(xe+=(Ie+=(Pe+=(Te+=(Ce+=(Se+=(_e+=(ye+=(me+=(pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=397*(a=65535&o),l=397*(u=65535&l),d=397*(h=65535&d),p=397*(m=65535&p),y=397*(v=65535&y),_=397*(b=65535&_),S=397*(w=65535&S),C=397*(E=65535&C),T=397*(D=65535&T),P=397*(k=65535&P),I=397*(M=65535&I),x=397*(A=65535&x),O=397*(L=65535&O),R=397*(j=65535&R),F=397*(N=65535&F),Y=397*(B=65535&Y),H=397*(W=65535&H),U=397*(V=65535&U),$=397*(q=65535&$),G=397*(z=65535&G),K=397*(J=65535&K),X=397*(Q=65535&X),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),se=397*(oe=65535&se),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ye=397*(ve=65535&ye),_e=397*(be=65535&_e),Se=397*(we=65535&Se),Ce=397*(Ee=65535&Ce),Te=397*(De=65535&Te),Pe=397*(ke=65535&Pe),Ie=397*(Me=65535&Ie),xe=397*(Ae=65535&xe),Oe=397*(Le=65535&Oe),Re=397*(je=65535&Re),Fe=397*(Ne=65535&Fe),Ye=397*(Be=65535&Ye),He=397*(We=65535&He),Ue=397*(Ve=65535&Ue),$e=397*(qe=65535&$e),Ge=397*(ze=65535&Ge),Ke=397*(Je=65535&Ke),Xe=397*(Qe=65535&Xe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),st=397*(ot=65535&st),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),yt=397*(vt=65535&yt),_t=397*(bt=65535&_t),St=397*(wt=65535&St),Ct=397*(Et=65535&Ct),Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,s=65535&(i=397*s),Dt=(Tt+=J<<8)+((Ct+=(St+=(_t+=(yt+=(mt+=(pt+=(dt+=(lt+=(at+=(st+=(rt+=(tt+=(Ze+=(Xe+=(Ke+=(Ge+=($e+=(Ue+=(He+=(Ye+=(Fe+=(Re+=(Oe+=(xe+=(Ie+=(Pe+=(Te+=(Ce+=(Se+=(_e+=(ye+=(me+=(pe+=(de+=(le+=(ae+=(se+=(re+=(te+=(Z+=(X+=(K+=(G+=($+=(U+=(H+=(Y+=(F+=(R+=(O+=(x+=(I+=(P+=(T+=(C+=(S+=(_+=(y+=(p+=(d+=(l+=(o+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,o=397*(a=65535&o),l=397*(u=65535&l),d=397*(h=65535&d),p=397*(m=65535&p),y=397*(v=65535&y),_=397*(b=65535&_),S=397*(w=65535&S),C=397*(E=65535&C),T=397*(D=65535&T),P=397*(k=65535&P),I=397*(M=65535&I),x=397*(A=65535&x),O=397*(L=65535&O),R=397*(j=65535&R),F=397*(N=65535&F),Y=397*(B=65535&Y),H=397*(W=65535&H),U=397*(V=65535&U),$=397*(q=65535&$),G=397*(z=65535&G),K=397*(J=65535&K),X=397*(Q=65535&X),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),se=397*(oe=65535&se),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ye=397*(ve=65535&ye),_e=397*(be=65535&_e),Se=397*(we=65535&Se),Ce=397*(Ee=65535&Ce),Te=397*(De=65535&Te),Pe=397*(ke=65535&Pe),Ie=397*(Me=65535&Ie),xe=397*(Ae=65535&xe),Oe=397*(Le=65535&Oe),Re=397*(je=65535&Re),Fe=397*(Ne=65535&Fe),Ye=397*(Be=65535&Ye),He=397*(We=65535&He),Ue=397*(Ve=65535&Ue),$e=397*(qe=65535&$e),Ge=397*(ze=65535&Ge),Ke=397*(Je=65535&Ke),Xe=397*(Qe=65535&Xe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),st=397*(ot=65535&st),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),yt=397*(vt=65535&yt),_t=397*(bt=65535&_t),St=397*(wt=65535&St),Ct=397*(Et=65535&Ct),Tt=397*Dt,Fe+=(s^=e.charCodeAt(t++))<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,Tt+=J<<8,s=65535&(i=397*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ve=65535&(ye+=me>>>16),be=65535&(_e+=ye>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(Ce+=Se>>>16),De=65535&(Te+=Ce>>>16),ke=65535&(Pe+=Te>>>16),Me=65535&(Ie+=Pe>>>16),Ae=65535&(xe+=Ie>>>16),Le=65535&(Oe+=xe>>>16),je=65535&(Re+=Oe>>>16),Ne=65535&(Fe+=Re>>>16),Be=65535&(Ye+=Fe>>>16),We=65535&(He+=Ye>>>16),Ve=65535&(Ue+=He>>>16),qe=65535&($e+=Ue>>>16),ze=65535&(Ge+=$e>>>16),Je=65535&(Ke+=Ge>>>16),Qe=65535&(Xe+=Ke>>>16),et=65535&(Ze+=Xe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),ot=65535&(st+=rt>>>16),ct=65535&(at+=st>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),vt=65535&(yt+=mt>>>16),bt=65535&(_t+=yt>>>16),wt=65535&(St+=_t>>>16),Dt=Tt+((Ct+=St>>>16)>>>16)&65535,Et=65535&Ct,s^=e.charCodeAt(t++);for(;t<n+3;)o=397*a,l=397*u,d=397*h,p=397*m,y=397*v,_=397*b,S=397*w,C=397*E,T=397*D,P=397*k,I=397*M,x=397*A,O=397*L,R=397*j,F=397*N,Y=397*B,H=397*W,U=397*V,$=397*q,G=397*z,K=397*J,X=397*Q,Z=397*ee,te=397*ne,re=397*ie,se=397*oe,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ye=397*ve,_e=397*be,Se=397*we,Ce=397*Ee,Te=397*De,Pe=397*ke,Ie=397*Me,xe=397*Ae,Oe=397*Le,Re=397*je,Fe=397*Ne,Ye=397*Be,He=397*We,Ue=397*Ve,$e=397*qe,Ge=397*ze,Ke=397*Je,Xe=397*Qe,Ze=397*et,tt=397*nt,rt=397*it,st=397*ot,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,yt=397*vt,_t=397*bt,St=397*wt,Ct=397*Et,Tt=397*Dt,Fe+=s<<8,Ye+=a<<8,He+=u<<8,Ue+=h<<8,$e+=m<<8,Ge+=v<<8,Ke+=b<<8,Xe+=w<<8,Ze+=E<<8,tt+=D<<8,rt+=k<<8,st+=M<<8,at+=A<<8,lt+=L<<8,dt+=j<<8,pt+=N<<8,mt+=B<<8,yt+=W<<8,_t+=V<<8,St+=q<<8,Ct+=z<<8,Tt+=J<<8,s=65535&(i=397*s),a=65535&(o+=i>>>16),u=65535&(l+=o>>>16),h=65535&(d+=l>>>16),m=65535&(p+=d>>>16),v=65535&(y+=p>>>16),b=65535&(_+=y>>>16),w=65535&(S+=_>>>16),E=65535&(C+=S>>>16),D=65535&(T+=C>>>16),k=65535&(P+=T>>>16),M=65535&(I+=P>>>16),A=65535&(x+=I>>>16),L=65535&(O+=x>>>16),j=65535&(R+=O>>>16),N=65535&(F+=R>>>16),B=65535&(Y+=F>>>16),W=65535&(H+=Y>>>16),V=65535&(U+=H>>>16),q=65535&($+=U>>>16),z=65535&(G+=$>>>16),J=65535&(K+=G>>>16),Q=65535&(X+=K>>>16),ee=65535&(Z+=X>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),oe=65535&(se+=re>>>16),ce=65535&(ae+=se>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ve=65535&(ye+=me>>>16),be=65535&(_e+=ye>>>16),we=65535&(Se+=_e>>>16),Ee=65535&(Ce+=Se>>>16),De=65535&(Te+=Ce>>>16),ke=65535&(Pe+=Te>>>16),Me=65535&(Ie+=Pe>>>16),Ae=65535&(xe+=Ie>>>16),Le=65535&(Oe+=xe>>>16),je=65535&(Re+=Oe>>>16),Ne=65535&(Fe+=Re>>>16),Be=65535&(Ye+=Fe>>>16),We=65535&(He+=Ye>>>16),Ve=65535&(Ue+=He>>>16),qe=65535&($e+=Ue>>>16),ze=65535&(Ge+=$e>>>16),Je=65535&(Ke+=Ge>>>16),Qe=65535&(Xe+=Ke>>>16),et=65535&(Ze+=Xe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),ot=65535&(st+=rt>>>16),ct=65535&(at+=st>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),vt=65535&(yt+=mt>>>16),bt=65535&(_t+=yt>>>16),wt=65535&(St+=_t>>>16),Dt=Tt+((Ct+=St>>>16)>>>16)&65535,Et=65535&Ct,s^=e.charCodeAt(t++);return g(c[Dt>>8]+c[255&Dt]+c[Et>>8]+c[255&Et]+c[wt>>8]+c[255&wt]+c[bt>>8]+c[255&bt]+c[vt>>8]+c[255&vt]+c[gt>>8]+c[255&gt]+c[ft>>8]+c[255&ft]+c[ht>>8]+c[255&ht]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[ot>>8]+c[255&ot]+c[it>>8]+c[255&it]+c[nt>>8]+c[255&nt]+c[et>>8]+c[255&et]+c[Qe>>8]+c[255&Qe]+c[Je>>8]+c[255&Je]+c[ze>>8]+c[255&ze]+c[qe>>8]+c[255&qe]+c[Ve>>8]+c[255&Ve]+c[We>>8]+c[255&We]+c[Be>>8]+c[255&Be]+c[Ne>>8]+c[255&Ne]+c[je>>8]+c[255&je]+c[Le>>8]+c[255&Le]+c[Ae>>8]+c[255&Ae]+c[Me>>8]+c[255&Me]+c[ke>>8]+c[255&ke]+c[De>>8]+c[255&De]+c[Ee>>8]+c[255&Ee]+c[we>>8]+c[255&we]+c[be>>8]+c[255&be]+c[ve>>8]+c[255&ve]+c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[oe>>8]+c[255&oe]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Q>>8]+c[255&Q]+c[J>>8]+c[255&J]+c[z>>8]+c[255&z]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[B>>8]+c[255&B]+c[N>>8]+c[255&N]+c[j>>8]+c[255&j]+c[L>>8]+c[255&L]+c[A>>8]+c[255&A]+c[M>>8]+c[255&M]+c[k>>8]+c[255&k]+c[D>>8]+c[255&D]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],1024)}function K(e){var t,n,r=e.length,i=f[1024].offset,s=0,o=0|i[63],a=0,l=0|i[62],u=0,d=0|i[61],h=0,p=0|i[60],m=0,y=0|i[59],v=0,_=0|i[58],b=0,S=0|i[57],w=0,C=0|i[56],E=0,T=0|i[55],D=0,P=0|i[54],k=0,I=0|i[53],M=0,x=0|i[52],A=0,O=0|i[51],L=0,R=0|i[50],j=0,F=0|i[49],N=0,Y=0|i[48],B=0,H=0|i[47],W=0,U=0|i[46],V=0,$=0|i[45],q=0,G=0|i[44],z=0,K=0|i[43],J=0,X=0|i[42],Q=0,Z=0|i[41],ee=0,te=0|i[40],ne=0,re=0|i[39],ie=0,se=0|i[38],oe=0,ae=0|i[37],ce=0,le=0|i[36],ue=0,de=0|i[35],he=0,pe=0|i[34],fe=0,me=0|i[33],ge=0,ye=0|i[32],ve=0,_e=0|i[31],be=0,Se=0|i[30],we=0,Ce=0|i[29],Ee=0,Te=0|i[28],De=0,Pe=0|i[27],ke=0,Ie=0|i[26],Me=0,xe=0|i[25],Ae=0,Oe=0|i[24],Le=0,Re=0|i[23],je=0,Fe=0|i[22],Ne=0,Ye=0|i[21],Be=0,He=0|i[20],We=0,Ue=0|i[19],Ve=0,$e=0|i[18],qe=0,Ge=0|i[17],ze=0,Ke=0|i[16],Je=0,Xe=0|i[15],Qe=0,Ze=0|i[14],et=0,tt=0|i[13],nt=0,rt=0|i[12],it=0,st=0|i[11],ot=0,at=0|i[10],ct=0,lt=0|i[9],ut=0,dt=0|i[8],ht=0,pt=0|i[7],ft=0,mt=0|i[6],gt=0,yt=0|i[5],vt=0,_t=0|i[4],bt=0,St=0|i[3],wt=0,Ct=0|i[2],Et=0,Tt=0|i[1],Dt=0,Pt=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=(o^=t>>6|192)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,o=65535&(s=397*o),Pt=(Dt+=X<<8)+((Et+=(wt+=(bt+=(vt+=(gt+=(ft+=(ht+=(ut+=(ct+=(ot+=(it+=(nt+=(et+=(Qe+=(Je+=(ze+=(qe+=(Ve+=(We+=(Be+=(Ne+=(je+=(Le+=(Ae+=(Me+=(ke+=(De+=(Ee+=(we+=(be+=(ve+=(ge+=(fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(p=65535&h),m=397*(y=65535&m),v=397*(_=65535&v),b=397*(S=65535&b),w=397*(C=65535&w),E=397*(T=65535&E),D=397*(P=65535&D),k=397*(I=65535&k),M=397*(x=65535&M),A=397*(O=65535&A),L=397*(R=65535&L),j=397*(F=65535&j),N=397*(Y=65535&N),B=397*(H=65535&B),W=397*(U=65535&W),V=397*($=65535&V),q=397*(G=65535&q),z=397*(K=65535&z),J=397*(X=65535&J),Q=397*(Z=65535&Q),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(se=65535&ie),oe=397*(ae=65535&oe),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ye=65535&ge),ve=397*(_e=65535&ve),be=397*(Se=65535&be),we=397*(Ce=65535&we),Ee=397*(Te=65535&Ee),De=397*(Pe=65535&De),ke=397*(Ie=65535&ke),Me=397*(xe=65535&Me),Ae=397*(Oe=65535&Ae),Le=397*(Re=65535&Le),je=397*(Fe=65535&je),Ne=397*(Ye=65535&Ne),Be=397*(He=65535&Be),We=397*(Ue=65535&We),Ve=397*($e=65535&Ve),qe=397*(Ge=65535&qe),ze=397*(Ke=65535&ze),Je=397*(Xe=65535&Je),Qe=397*(Ze=65535&Qe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(st=65535&it),ot=397*(at=65535&ot),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(yt=65535&gt),vt=397*(_t=65535&vt),bt=397*(St=65535&bt),wt=397*(Ct=65535&wt),Et=397*(Tt=65535&Et),Dt=397*Pt,Ne+=(o^=t>>12&63|128)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,o=65535&(s=397*o),Pt=(Dt+=X<<8)+((Et+=(wt+=(bt+=(vt+=(gt+=(ft+=(ht+=(ut+=(ct+=(ot+=(it+=(nt+=(et+=(Qe+=(Je+=(ze+=(qe+=(Ve+=(We+=(Be+=(Ne+=(je+=(Le+=(Ae+=(Me+=(ke+=(De+=(Ee+=(we+=(be+=(ve+=(ge+=(fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(p=65535&h),m=397*(y=65535&m),v=397*(_=65535&v),b=397*(S=65535&b),w=397*(C=65535&w),E=397*(T=65535&E),D=397*(P=65535&D),k=397*(I=65535&k),M=397*(x=65535&M),A=397*(O=65535&A),L=397*(R=65535&L),j=397*(F=65535&j),N=397*(Y=65535&N),B=397*(H=65535&B),W=397*(U=65535&W),V=397*($=65535&V),q=397*(G=65535&q),z=397*(K=65535&z),J=397*(X=65535&J),Q=397*(Z=65535&Q),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(se=65535&ie),oe=397*(ae=65535&oe),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ye=65535&ge),ve=397*(_e=65535&ve),be=397*(Se=65535&be),we=397*(Ce=65535&we),Ee=397*(Te=65535&Ee),De=397*(Pe=65535&De),ke=397*(Ie=65535&ke),Me=397*(xe=65535&Me),Ae=397*(Oe=65535&Ae),Le=397*(Re=65535&Le),je=397*(Fe=65535&je),Ne=397*(Ye=65535&Ne),Be=397*(He=65535&Be),We=397*(Ue=65535&We),Ve=397*($e=65535&Ve),qe=397*(Ge=65535&qe),ze=397*(Ke=65535&ze),Je=397*(Xe=65535&Je),Qe=397*(Ze=65535&Qe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(st=65535&it),ot=397*(at=65535&ot),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(yt=65535&gt),vt=397*(_t=65535&vt),bt=397*(St=65535&bt),wt=397*(Ct=65535&wt),Et=397*(Tt=65535&Et),Dt=397*Pt,Ne+=(o^=t>>6&63|128)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,o^=63&t|128):(a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=(o^=t>>12|224)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,o=65535&(s=397*o),Pt=(Dt+=X<<8)+((Et+=(wt+=(bt+=(vt+=(gt+=(ft+=(ht+=(ut+=(ct+=(ot+=(it+=(nt+=(et+=(Qe+=(Je+=(ze+=(qe+=(Ve+=(We+=(Be+=(Ne+=(je+=(Le+=(Ae+=(Me+=(ke+=(De+=(Ee+=(we+=(be+=(ve+=(ge+=(fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(p=65535&h),m=397*(y=65535&m),v=397*(_=65535&v),b=397*(S=65535&b),w=397*(C=65535&w),E=397*(T=65535&E),D=397*(P=65535&D),k=397*(I=65535&k),M=397*(x=65535&M),A=397*(O=65535&A),L=397*(R=65535&L),j=397*(F=65535&j),N=397*(Y=65535&N),B=397*(H=65535&B),W=397*(U=65535&W),V=397*($=65535&V),q=397*(G=65535&q),z=397*(K=65535&z),J=397*(X=65535&J),Q=397*(Z=65535&Q),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(se=65535&ie),oe=397*(ae=65535&oe),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ye=65535&ge),ve=397*(_e=65535&ve),be=397*(Se=65535&be),we=397*(Ce=65535&we),Ee=397*(Te=65535&Ee),De=397*(Pe=65535&De),ke=397*(Ie=65535&ke),Me=397*(xe=65535&Me),Ae=397*(Oe=65535&Ae),Le=397*(Re=65535&Le),je=397*(Fe=65535&je),Ne=397*(Ye=65535&Ne),Be=397*(He=65535&Be),We=397*(Ue=65535&We),Ve=397*($e=65535&Ve),qe=397*(Ge=65535&qe),ze=397*(Ke=65535&ze),Je=397*(Xe=65535&Je),Qe=397*(Ze=65535&Qe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(st=65535&it),ot=397*(at=65535&ot),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(yt=65535&gt),vt=397*(_t=65535&vt),bt=397*(St=65535&bt),wt=397*(Ct=65535&wt),Et=397*(Tt=65535&Et),Dt=397*Pt,Ne+=(o^=t>>6&63|128)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,o^=63&t|128),a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=o<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et;return g(c[Pt>>8]+c[255&Pt]+c[Tt>>8]+c[255&Tt]+c[Ct>>8]+c[255&Ct]+c[St>>8]+c[255&St]+c[_t>>8]+c[255&_t]+c[yt>>8]+c[255&yt]+c[mt>>8]+c[255&mt]+c[pt>>8]+c[255&pt]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[st>>8]+c[255&st]+c[rt>>8]+c[255&rt]+c[tt>>8]+c[255&tt]+c[Ze>>8]+c[255&Ze]+c[Xe>>8]+c[255&Xe]+c[Ke>>8]+c[255&Ke]+c[Ge>>8]+c[255&Ge]+c[$e>>8]+c[255&$e]+c[Ue>>8]+c[255&Ue]+c[He>>8]+c[255&He]+c[Ye>>8]+c[255&Ye]+c[Fe>>8]+c[255&Fe]+c[Re>>8]+c[255&Re]+c[Oe>>8]+c[255&Oe]+c[xe>>8]+c[255&xe]+c[Ie>>8]+c[255&Ie]+c[Pe>>8]+c[255&Pe]+c[Te>>8]+c[255&Te]+c[Ce>>8]+c[255&Ce]+c[Se>>8]+c[255&Se]+c[_e>>8]+c[255&_e]+c[ye>>8]+c[255&ye]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[U>>8]+c[255&U]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[I>>8]+c[255&I]+c[P>>8]+c[255&P]+c[T>>8]+c[255&T]+c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],1024)}function J(e){var t,n,r=e.length,i=f[1024].offset,s=0,o=0|i[63],a=0,l=0|i[62],u=0,d=0|i[61],h=0,p=0|i[60],m=0,y=0|i[59],v=0,_=0|i[58],b=0,S=0|i[57],w=0,C=0|i[56],E=0,T=0|i[55],D=0,P=0|i[54],k=0,I=0|i[53],M=0,x=0|i[52],A=0,O=0|i[51],L=0,R=0|i[50],j=0,F=0|i[49],N=0,Y=0|i[48],B=0,H=0|i[47],W=0,U=0|i[46],V=0,$=0|i[45],q=0,G=0|i[44],z=0,K=0|i[43],J=0,X=0|i[42],Q=0,Z=0|i[41],ee=0,te=0|i[40],ne=0,re=0|i[39],ie=0,se=0|i[38],oe=0,ae=0|i[37],ce=0,le=0|i[36],ue=0,de=0|i[35],he=0,pe=0|i[34],fe=0,me=0|i[33],ge=0,ye=0|i[32],ve=0,_e=0|i[31],be=0,Se=0|i[30],we=0,Ce=0|i[29],Ee=0,Te=0|i[28],De=0,Pe=0|i[27],ke=0,Ie=0|i[26],Me=0,xe=0|i[25],Ae=0,Oe=0|i[24],Le=0,Re=0|i[23],je=0,Fe=0|i[22],Ne=0,Ye=0|i[21],Be=0,He=0|i[20],We=0,Ue=0|i[19],Ve=0,$e=0|i[18],qe=0,Ge=0|i[17],ze=0,Ke=0|i[16],Je=0,Xe=0|i[15],Qe=0,Ze=0|i[14],et=0,tt=0|i[13],nt=0,rt=0|i[12],it=0,st=0|i[11],ot=0,at=0|i[10],ct=0,lt=0|i[9],ut=0,dt=0|i[8],ht=0,pt=0|i[7],ft=0,mt=0|i[6],gt=0,yt=0|i[5],vt=0,_t=0|i[4],bt=0,St=0|i[3],wt=0,Ct=0|i[2],Et=0,Tt=0|i[1],Dt=0,Pt=0|i[0];for(n=0;n<r;n++)a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=o<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,(t=e.charCodeAt(n))<128?o^=t:t<2048?(a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=(o^=t>>6|192)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,o=65535&(s=397*o),Pt=(Dt+=X<<8)+((Et+=(wt+=(bt+=(vt+=(gt+=(ft+=(ht+=(ut+=(ct+=(ot+=(it+=(nt+=(et+=(Qe+=(Je+=(ze+=(qe+=(Ve+=(We+=(Be+=(Ne+=(je+=(Le+=(Ae+=(Me+=(ke+=(De+=(Ee+=(we+=(be+=(ve+=(ge+=(fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(p=65535&h),m=397*(y=65535&m),v=397*(_=65535&v),b=397*(S=65535&b),w=397*(C=65535&w),E=397*(T=65535&E),D=397*(P=65535&D),k=397*(I=65535&k),M=397*(x=65535&M),A=397*(O=65535&A),L=397*(R=65535&L),j=397*(F=65535&j),N=397*(Y=65535&N),B=397*(H=65535&B),W=397*(U=65535&W),V=397*($=65535&V),q=397*(G=65535&q),z=397*(K=65535&z),J=397*(X=65535&J),Q=397*(Z=65535&Q),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(se=65535&ie),oe=397*(ae=65535&oe),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ye=65535&ge),ve=397*(_e=65535&ve),be=397*(Se=65535&be),we=397*(Ce=65535&we),Ee=397*(Te=65535&Ee),De=397*(Pe=65535&De),ke=397*(Ie=65535&ke),Me=397*(xe=65535&Me),Ae=397*(Oe=65535&Ae),Le=397*(Re=65535&Le),je=397*(Fe=65535&je),Ne=397*(Ye=65535&Ne),Be=397*(He=65535&Be),We=397*(Ue=65535&We),Ve=397*($e=65535&Ve),qe=397*(Ge=65535&qe),ze=397*(Ke=65535&ze),Je=397*(Xe=65535&Je),Qe=397*(Ze=65535&Qe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(st=65535&it),ot=397*(at=65535&ot),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(yt=65535&gt),vt=397*(_t=65535&vt),bt=397*(St=65535&bt),wt=397*(Ct=65535&wt),Et=397*(Tt=65535&Et),Dt=397*Pt,Ne+=(o^=t>>12&63|128)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,o=65535&(s=397*o),Pt=(Dt+=X<<8)+((Et+=(wt+=(bt+=(vt+=(gt+=(ft+=(ht+=(ut+=(ct+=(ot+=(it+=(nt+=(et+=(Qe+=(Je+=(ze+=(qe+=(Ve+=(We+=(Be+=(Ne+=(je+=(Le+=(Ae+=(Me+=(ke+=(De+=(Ee+=(we+=(be+=(ve+=(ge+=(fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(p=65535&h),m=397*(y=65535&m),v=397*(_=65535&v),b=397*(S=65535&b),w=397*(C=65535&w),E=397*(T=65535&E),D=397*(P=65535&D),k=397*(I=65535&k),M=397*(x=65535&M),A=397*(O=65535&A),L=397*(R=65535&L),j=397*(F=65535&j),N=397*(Y=65535&N),B=397*(H=65535&B),W=397*(U=65535&W),V=397*($=65535&V),q=397*(G=65535&q),z=397*(K=65535&z),J=397*(X=65535&J),Q=397*(Z=65535&Q),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(se=65535&ie),oe=397*(ae=65535&oe),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ye=65535&ge),ve=397*(_e=65535&ve),be=397*(Se=65535&be),we=397*(Ce=65535&we),Ee=397*(Te=65535&Ee),De=397*(Pe=65535&De),ke=397*(Ie=65535&ke),Me=397*(xe=65535&Me),Ae=397*(Oe=65535&Ae),Le=397*(Re=65535&Le),je=397*(Fe=65535&je),Ne=397*(Ye=65535&Ne),Be=397*(He=65535&Be),We=397*(Ue=65535&We),Ve=397*($e=65535&Ve),qe=397*(Ge=65535&qe),ze=397*(Ke=65535&ze),Je=397*(Xe=65535&Je),Qe=397*(Ze=65535&Qe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(st=65535&it),ot=397*(at=65535&ot),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(yt=65535&gt),vt=397*(_t=65535&vt),bt=397*(St=65535&bt),wt=397*(Ct=65535&wt),Et=397*(Tt=65535&Et),Dt=397*Pt,Ne+=(o^=t>>6&63|128)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,o^=63&t|128):(a=397*l,u=397*d,h=397*p,m=397*y,v=397*_,b=397*S,w=397*C,E=397*T,D=397*P,k=397*I,M=397*x,A=397*O,L=397*R,j=397*F,N=397*Y,B=397*H,W=397*U,V=397*$,q=397*G,z=397*K,J=397*X,Q=397*Z,ee=397*te,ne=397*re,ie=397*se,oe=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ye,ve=397*_e,be=397*Se,we=397*Ce,Ee=397*Te,De=397*Pe,ke=397*Ie,Me=397*xe,Ae=397*Oe,Le=397*Re,je=397*Fe,Ne=397*Ye,Be=397*He,We=397*Ue,Ve=397*$e,qe=397*Ge,ze=397*Ke,Je=397*Xe,Qe=397*Ze,et=397*tt,nt=397*rt,it=397*st,ot=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*yt,vt=397*_t,bt=397*St,wt=397*Ct,Et=397*Tt,Dt=397*Pt,Ne+=(o^=t>>12|224)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,o=65535&(s=397*o),Pt=(Dt+=X<<8)+((Et+=(wt+=(bt+=(vt+=(gt+=(ft+=(ht+=(ut+=(ct+=(ot+=(it+=(nt+=(et+=(Qe+=(Je+=(ze+=(qe+=(Ve+=(We+=(Be+=(Ne+=(je+=(Le+=(Ae+=(Me+=(ke+=(De+=(Ee+=(we+=(be+=(ve+=(ge+=(fe+=(he+=(ue+=(ce+=(oe+=(ie+=(ne+=(ee+=(Q+=(J+=(z+=(q+=(V+=(W+=(B+=(N+=(j+=(L+=(A+=(M+=(k+=(D+=(E+=(w+=(b+=(v+=(m+=(h+=(u+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(p=65535&h),m=397*(y=65535&m),v=397*(_=65535&v),b=397*(S=65535&b),w=397*(C=65535&w),E=397*(T=65535&E),D=397*(P=65535&D),k=397*(I=65535&k),M=397*(x=65535&M),A=397*(O=65535&A),L=397*(R=65535&L),j=397*(F=65535&j),N=397*(Y=65535&N),B=397*(H=65535&B),W=397*(U=65535&W),V=397*($=65535&V),q=397*(G=65535&q),z=397*(K=65535&z),J=397*(X=65535&J),Q=397*(Z=65535&Q),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(se=65535&ie),oe=397*(ae=65535&oe),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ye=65535&ge),ve=397*(_e=65535&ve),be=397*(Se=65535&be),we=397*(Ce=65535&we),Ee=397*(Te=65535&Ee),De=397*(Pe=65535&De),ke=397*(Ie=65535&ke),Me=397*(xe=65535&Me),Ae=397*(Oe=65535&Ae),Le=397*(Re=65535&Le),je=397*(Fe=65535&je),Ne=397*(Ye=65535&Ne),Be=397*(He=65535&Be),We=397*(Ue=65535&We),Ve=397*($e=65535&Ve),qe=397*(Ge=65535&qe),ze=397*(Ke=65535&ze),Je=397*(Xe=65535&Je),Qe=397*(Ze=65535&Qe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(st=65535&it),ot=397*(at=65535&ot),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(yt=65535&gt),vt=397*(_t=65535&vt),bt=397*(St=65535&bt),wt=397*(Ct=65535&wt),Et=397*(Tt=65535&Et),Dt=397*Pt,Ne+=(o^=t>>6&63|128)<<8,Be+=l<<8,We+=d<<8,Ve+=p<<8,qe+=y<<8,ze+=_<<8,Je+=S<<8,Qe+=C<<8,et+=T<<8,nt+=P<<8,it+=I<<8,ot+=x<<8,ct+=O<<8,ut+=R<<8,ht+=F<<8,ft+=Y<<8,gt+=H<<8,vt+=U<<8,bt+=$<<8,wt+=G<<8,Et+=K<<8,Dt+=X<<8,o=65535&(s=397*o),l=65535&(a+=s>>>16),d=65535&(u+=a>>>16),p=65535&(h+=u>>>16),y=65535&(m+=h>>>16),_=65535&(v+=m>>>16),S=65535&(b+=v>>>16),C=65535&(w+=b>>>16),T=65535&(E+=w>>>16),P=65535&(D+=E>>>16),I=65535&(k+=D>>>16),x=65535&(M+=k>>>16),O=65535&(A+=M>>>16),R=65535&(L+=A>>>16),F=65535&(j+=L>>>16),Y=65535&(N+=j>>>16),H=65535&(B+=N>>>16),U=65535&(W+=B>>>16),$=65535&(V+=W>>>16),G=65535&(q+=V>>>16),K=65535&(z+=q>>>16),X=65535&(J+=z>>>16),Z=65535&(Q+=J>>>16),te=65535&(ee+=Q>>>16),re=65535&(ne+=ee>>>16),se=65535&(ie+=ne>>>16),ae=65535&(oe+=ie>>>16),le=65535&(ce+=oe>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ye=65535&(ge+=fe>>>16),_e=65535&(ve+=ge>>>16),Se=65535&(be+=ve>>>16),Ce=65535&(we+=be>>>16),Te=65535&(Ee+=we>>>16),Pe=65535&(De+=Ee>>>16),Ie=65535&(ke+=De>>>16),xe=65535&(Me+=ke>>>16),Oe=65535&(Ae+=Me>>>16),Re=65535&(Le+=Ae>>>16),Fe=65535&(je+=Le>>>16),Ye=65535&(Ne+=je>>>16),He=65535&(Be+=Ne>>>16),Ue=65535&(We+=Be>>>16),$e=65535&(Ve+=We>>>16),Ge=65535&(qe+=Ve>>>16),Ke=65535&(ze+=qe>>>16),Xe=65535&(Je+=ze>>>16),Ze=65535&(Qe+=Je>>>16),tt=65535&(et+=Qe>>>16),rt=65535&(nt+=et>>>16),st=65535&(it+=nt>>>16),at=65535&(ot+=it>>>16),lt=65535&(ct+=ot>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),yt=65535&(gt+=ft>>>16),_t=65535&(vt+=gt>>>16),St=65535&(bt+=vt>>>16),Ct=65535&(wt+=bt>>>16),Pt=Dt+((Et+=wt>>>16)>>>16)&65535,Tt=65535&Et,o^=63&t|128);return g(c[Pt>>8]+c[255&Pt]+c[Tt>>8]+c[255&Tt]+c[Ct>>8]+c[255&Ct]+c[St>>8]+c[255&St]+c[_t>>8]+c[255&_t]+c[yt>>8]+c[255&yt]+c[mt>>8]+c[255&mt]+c[pt>>8]+c[255&pt]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[st>>8]+c[255&st]+c[rt>>8]+c[255&rt]+c[tt>>8]+c[255&tt]+c[Ze>>8]+c[255&Ze]+c[Xe>>8]+c[255&Xe]+c[Ke>>8]+c[255&Ke]+c[Ge>>8]+c[255&Ge]+c[$e>>8]+c[255&$e]+c[Ue>>8]+c[255&Ue]+c[He>>8]+c[255&He]+c[Ye>>8]+c[255&Ye]+c[Fe>>8]+c[255&Fe]+c[Re>>8]+c[255&Re]+c[Oe>>8]+c[255&Oe]+c[xe>>8]+c[255&xe]+c[Ie>>8]+c[255&Ie]+c[Pe>>8]+c[255&Pe]+c[Te>>8]+c[255&Te]+c[Ce>>8]+c[255&Ce]+c[Se>>8]+c[255&Se]+c[_e>>8]+c[255&_e]+c[ye>>8]+c[255&ye]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[U>>8]+c[255&U]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[I>>8]+c[255&I]+c[P>>8]+c[255&P]+c[T>>8]+c[255&T]+c[C>>8]+c[255&C]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[p>>8]+c[255&p]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o],1024)}return t=C,n=P,r=x,i=R,s=Y,o=U,a=G,b("1a"),S(!1),w(),{hash:_,setKeyspace:function(e){if(52!==e&&!f[e])throw new Error("Supported FNV keyspacs: 32, 52, 64, 128, 256, 512, and 1024 bit");p=e},version:b,useUTF8:S,seed:w,fast1a32:function(e){var t,n=e.length-3,r=0,i=40389,s=0,o=33052;for(t=0;t<n;)s=403*o,s+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),s=403*(o=s+(r>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),s=403*(o=s+(r>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),s=403*(o=s+(r>>>16)&65535),o=(s+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;for(;t<n+3;)s=403*o,o=(s+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;return(o<<16>>>0)+i},fast1a32hex:function(e){var t,n=e.length-3,r=0,i=40389,s=0,o=33052;for(t=0;t<n;)s=403*o,s+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),s=403*(o=s+(r>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),s=403*(o=s+(r>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),s=403*(o=s+(r>>>16)&65535),o=(s+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;for(;t<n+3;)s=403*o,o=(s+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;return c[o>>>8&255]+c[255&o]+c[i>>>8&255]+c[255&i]},fast1a52:function(e){var t,n=e.length-3,r=0,i=8997,s=0,o=33826,a=0,c=40164,l=0,u=52210;for(t=0;t<n;)s=435*o,a=435*c,l=435*u,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),u=(l+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(c=65535&a),l=435*u,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),u=(l+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(c=65535&a),l=435*u,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),u=(l+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(c=65535&a),l=435*u,a+=(i^=e.charCodeAt(t++))<<8,l+=o<<8,i=65535&(r=435*i),o=65535&(s+=r>>>16),u=l+((a+=s>>>16)>>>16)&65535,c=65535&a;for(;t<n+3;)s=435*o,a=435*c,l=435*u,a+=(i^=e.charCodeAt(t++))<<8,l+=o<<8,i=65535&(r=435*i),o=65535&(s+=r>>>16),u=l+((a+=s>>>16)>>>16)&65535,c=65535&a;return 281474976710656*(15&u)+4294967296*c+65536*o+(i^u>>4)},fast1a52hex:function(e){var t,n=e.length-3,r=0,i=8997,s=0,o=33826,a=0,u=40164,d=0,h=52210;for(t=0;t<n;)s=435*o,a=435*u,d=435*h,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),h=(d+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(u=65535&a),d=435*h,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),h=(d+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(u=65535&a),d=435*h,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),h=(d+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(u=65535&a),d=435*h,a+=(i^=e.charCodeAt(t++))<<8,d+=o<<8,i=65535&(r=435*i),o=65535&(s+=r>>>16),h=d+((a+=s>>>16)>>>16)&65535,u=65535&a;for(;t<n+3;)s=435*o,a=435*u,d=435*h,a+=(i^=e.charCodeAt(t++))<<8,d+=o<<8,i=65535&(r=435*i),o=65535&(s+=r>>>16),h=d+((a+=s>>>16)>>>16)&65535,u=65535&a;return l[15&h]+c[u>>8]+c[255&u]+c[o>>8]+c[255&o]+c[i>>8^h>>12]+c[255&(i^h>>4)]},fast1a64:function(e){var t,n=e.length-3,r=0,i=8997,s=0,o=33826,a=0,l=40164,u=0,d=52210;for(t=0;t<n;)s=435*o,a=435*l,u=435*d,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),d=(u+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(l=65535&a),u=435*d,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),d=(u+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(l=65535&a),u=435*d,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),d=(u+=o<<8)+((a+=(s+=r>>>16)>>>16)>>>16)&65535,s=435*(o=65535&s),a=435*(l=65535&a),u=435*d,a+=(i^=e.charCodeAt(t++))<<8,u+=o<<8,i=65535&(r=435*i),o=65535&(s+=r>>>16),d=u+((a+=s>>>16)>>>16)&65535,l=65535&a;for(;t<n+3;)s=435*o,a=435*l,u=435*d,a+=(i^=e.charCodeAt(t++))<<8,u+=o<<8,i=65535&(r=435*i),o=65535&(s+=r>>>16),d=u+((a+=s>>>16)>>>16)&65535,l=65535&a;return c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[o>>8]+c[255&o]+c[i>>8]+c[255&i]},fast1a32utf:function(e){var t,n,r=e.length,i=0,s=40389,o=0,a=33052;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(o=403*a,a=(o+=(s^=t>>6|192)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(o=403*a,o+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),o+=(s^=t>>12&63|128)<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),a=(o+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):(o=403*a,o+=(s^=t>>12|224)<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),a=(o+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128),o=403*a,a=(o+=s<<8)+((i=403*s)>>>16)&65535,s=65535&i;return(a<<16>>>0)+s},fast1a32hexutf:function(e){var t,n,r=e.length,i=0,s=40389,o=0,a=33052;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(o=403*a,a=(o+=(s^=t>>6|192)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(o=403*a,o+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),o+=(s^=t>>12&63|128)<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),a=(o+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):(o=403*a,o+=(s^=t>>12|224)<<8,s=65535&(i=403*s),o=403*(a=o+(i>>>16)&65535),a=(o+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128),o=403*a,a=(o+=s<<8)+((i=403*s)>>>16)&65535,s=65535&i;return c[a>>>8&255]+c[255&a]+c[s>>>8&255]+c[255&s]},fast1a52utf:function(e){var t,n,r=e.length,i=0,s=8997,o=0,a=33826,c=0,l=40164,u=0,d=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(o=435*a,c=435*l,u=435*d,c+=(s^=t>>6|192)<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(o=435*a,c=435*l,u=435*d,c+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=t>>6&63|128)<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c,s^=63&t|128):(o=435*a,c=435*l,u=435*d,c+=(s^=t>>12|224)<<8,s=65535&(i=435*s),d=(u+=a<<8)+((c+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),c=435*(l=65535&c),u=435*d,c+=(s^=t>>6&63|128)<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c,s^=63&t|128),o=435*a,c=435*l,u=435*d,c+=s<<8,u+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),d=u+((c+=o>>>16)>>>16)&65535,l=65535&c;return 281474976710656*(15&d)+4294967296*l+65536*a+(s^d>>4)},fast1a52hexutf:function(e){var t,n,r=e.length,i=0,s=8997,o=0,a=33826,u=0,d=40164,h=0,p=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(o=435*a,u=435*d,h=435*p,u+=(s^=t>>6|192)<<8,h+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),p=h+((u+=o>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(o=435*a,u=435*d,h=435*p,u+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=435*s),p=(h+=a<<8)+((u+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),u=435*(d=65535&u),h=435*p,u+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),p=(h+=a<<8)+((u+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),u=435*(d=65535&u),h=435*p,u+=(s^=t>>6&63|128)<<8,h+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),p=h+((u+=o>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):(o=435*a,u=435*d,h=435*p,u+=(s^=t>>12|224)<<8,s=65535&(i=435*s),p=(h+=a<<8)+((u+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),u=435*(d=65535&u),h=435*p,u+=(s^=t>>6&63|128)<<8,h+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),p=h+((u+=o>>>16)>>>16)&65535,d=65535&u,s^=63&t|128),o=435*a,u=435*d,h=435*p,u+=s<<8,h+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),p=h+((u+=o>>>16)>>>16)&65535,d=65535&u;return l[15&p]+c[d>>8]+c[255&d]+c[a>>8]+c[255&a]+c[s>>8^p>>12]+c[255&(s^p>>4)]},fast1a64utf:function(e){var t,n,r=e.length,i=0,s=8997,o=0,a=33826,l=0,u=40164,d=0,h=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(o=435*a,l=435*u,d=435*h,l+=(s^=t>>6|192)<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(o=435*a,l=435*u,d=435*h,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):(o=435*a,l=435*u,d=435*h,l+=(s^=t>>12|224)<<8,s=65535&(i=435*s),h=(d+=a<<8)+((l+=(o+=i>>>16)>>>16)>>>16)&65535,o=435*(a=65535&o),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l,s^=63&t|128),o=435*a,l=435*u,d=435*h,l+=s<<8,d+=a<<8,s=65535&(i=435*s),a=65535&(o+=i>>>16),h=d+((l+=o>>>16)>>>16)&65535,u=65535&l;return c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s]}}}();void 0!==e.exports&&(e.exports=r)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(112),a=n(3),c=n(1),l=n(9),u=n(11),d=n(4),h=n(13),p=n(6),f=n(8),m=n(1),g=n(17),y=n(31),v=n(12);t.isDownloadedStorageValidKey="IS_EXPERIMENTS_STORAGE_VALID_KEY",t.experimentStorageKey="EXPERIMENT_STORAGE_KEY",t.downloadedExperimentStorageKey="DOWNLOADED_EXPERIMENTS_STORAGE_KEY";const _=a.join(h.EXTENSION_ROOT_DIR,"experiments.json");t.configUri="https://raw.githubusercontent.com/microsoft/vscode-python/master/experiments.json",t.EXPERIMENTS_EFFORT_TIMEOUT_MS=2e3,t.oldExperimentSalts=["ShowExtensionSurveyPrompt","ShowPlayIcon","AlwaysDisplayTestExplorer","LS"];let b=class{constructor(e,n,r,i,s,o,a,c,l=t.EXPERIMENTS_EFFORT_TIMEOUT_MS){this.persistentStateFactory=e,this.workspaceService=n,this.httpClient=r,this.crypto=i,this.appEnvironment=s,this.output=o,this.fs=a,this.experimentEffortTimeout=l,this.userExperiments=[],this.activatedOnce=!1,this.isDownloadedStorageValid=this.persistentStateFactory.createGlobalPersistentState(t.isDownloadedStorageValidKey,!1,18e5),this.experimentStorage=this.persistentStateFactory.createGlobalPersistentState(t.experimentStorageKey,void 0),this.downloadedExperimentsStorage=this.persistentStateFactory.createGlobalPersistentState(t.downloadedExperimentStorageKey,void 0),this.enabled=c.getSettings(void 0).experiments.enabled}async activate(){if(!this.activatedOnce&&!l.isTelemetryDisabled(this.workspaceService))if(this.activatedOnce=!0,this.enabled){await this.updateExperimentStorage(),this.populateUserExperiments();for(const e of this.userExperiments||[])this.output.appendLine(v.Experiments.inGroup().format(e.name));this.initializeInBackground().ignoreErrors()}else l.sendTelemetryEvent(u.EventName.PYTHON_EXPERIMENTS_DISABLED)}inExperiment(e){return!!this.enabled&&(this.sendTelemetryIfInExperiment(e),!!this.userExperiments.find(t=>t.name===e))}populateUserExperiments(){if(Array.isArray(this.experimentStorage.value))for(const e of this.experimentStorage.value)try{this.isUserInRange(e.min,e.max,e.salt)&&this.userExperiments.push(e)}catch(t){p.traceError(`Failed to populate experiment list for experiment '${e.name}'`,t)}}sendTelemetryIfInExperiment(e){this.userExperiments.find(t=>t.name===e)&&l.sendTelemetryEvent(u.EventName.PYTHON_EXPERIMENTS,void 0,{expName:e})}async initializeInBackground(){this.isDownloadedStorageValid.value||await this.downloadAndStoreExperiments()}async downloadAndStoreExperiments(e=this.downloadedExperimentsStorage){const n=await this.httpClient.getJSON(t.configUri,!1);this.areExperimentsValid(n)&&(await e.updateValue(n),await this.isDownloadedStorageValid.updateValue(!0))}isUserInRange(e,n,r){if("string"!=typeof this.appEnvironment.machineId)throw new Error("Machine ID should be a string");let i;return(i=t.oldExperimentSalts.find(e=>e===r)?this.crypto.createHash(`${this.appEnvironment.machineId}+${r}`,"number","SHA512"):this.crypto.createHash(`${this.appEnvironment.machineId}+${r}`,"number","FNV"))%100>=e&&i%100<n}async updateExperimentStorage(){if(Array.isArray(this.downloadedExperimentsStorage.value))return await this.experimentStorage.updateValue(this.downloadedExperimentsStorage.value),this.downloadedExperimentsStorage.updateValue(void 0);if(!Array.isArray(this.experimentStorage.value)&&!0!==await this.doBestEffortToPopulateExperiments()&&await this.fs.fileExists(_)){const e=await this.fs.readFile(_);try{const t=o.parse(e,[],{allowTrailingComma:!0,disallowComments:!1});if(!this.areExperimentsValid(t))throw new Error("Parsed experiments are not valid");await this.experimentStorage.updateValue(t)}catch(e){p.traceError("Failed to parse experiments configuration file to update storage",e)}}}areExperimentsValid(e){if(!Array.isArray(e))return p.traceError("Experiments are not of array type"),!1;for(const t of e)if(void 0===t.name||void 0===t.salt||void 0===t.min||void 0===t.max)return p.traceError("Experiments are missing fields from ABExperiments type"),!1;return!0}async doBestEffortToPopulateExperiments(){try{const e=await Promise.race([this.downloadAndStoreExperiments(this.experimentStorage).then(()=>!0),g.sleep(this.experimentEffortTimeout).then(()=>!1)]);return l.sendTelemetryEvent(u.EventName.PYTHON_EXPERIMENTS_DOWNLOAD_SUCCESS_RATE,void 0,{success:e}),e}catch(e){return l.sendTelemetryEvent(u.EventName.PYTHON_EXPERIMENTS_DOWNLOAD_SUCCESS_RATE,void 0,{success:!1,error:"Downloading experiments failed with error"},e),p.traceError("Effort to download experiments within timeout failed with error",e),!1}}};r([y.swallowExceptions("Failed to activate experiments")],b.prototype,"activate",null),r([p.traceDecorators.error("Failed to identify if user is in experiment")],b.prototype,"inExperiment",null),r([p.traceDecorators.error("Failed to populate user experiments")],b.prototype,"populateUserExperiments",null),r([p.traceDecorators.error("Failed to send telemetry when user is in experiment")],b.prototype,"sendTelemetryIfInExperiment",null),r([p.traceDecorators.error("Failed to initialize experiments")],b.prototype,"initializeInBackground",null),r([p.traceDecorators.error("Failed to download and store experiments")],b.prototype,"downloadAndStoreExperiments",null),r([y.swallowExceptions("Failed to update experiment storage")],b.prototype,"updateExperimentStorage",null),b=r([s.injectable(),i(0,s.inject(m.IPersistentStateFactory)),i(1,s.inject(d.IWorkspaceService)),i(2,s.inject(c.IHttpClient)),i(3,s.inject(m.ICryptoUtils)),i(4,s.inject(d.IApplicationEnvironment)),i(5,s.inject(m.IOutputChannel)),i(5,s.named(h.STANDARD_OUTPUT_CHANNEL)),i(6,s.inject(f.IFileSystem)),i(7,s.inject(c.IConfigurationService)),i(8,s.optional())],b),t.ExperimentsManager=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(367),c=n(1),l=[{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_FORMAT_ON_SAVE",message:"The setting 'python.formatting.formatOnSave' is deprecated, please use 'editor.formatOnSave'.",moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/309",setting:{setting:"formatting.formatOnSave",values:["true",!0]}},{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_LINT_ON_TEXT_CHANGE",message:"The setting 'python.linting.lintOnTextChange' is deprecated, please enable 'python.linting.lintOnSave' and 'files.autoSave'.",moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/313",setting:{setting:"linting.lintOnTextChange",values:["true",!0]}},{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_FOR_AUTO_COMPLETE_PRELOAD_MODULES",message:"The setting 'python.autoComplete.preloadModules' is deprecated, please consider using the new Language Server ('python.jediEnabled = false').",moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/1704",setting:{setting:"autoComplete.preloadModules"}}];let u=class{constructor(e,t,n,r){this.persistentStateFactory=e,this.cmdMgr=t,this.workspace=n,this.appShell=r,this.disposables=[]}dispose(){this.disposables.forEach(e=>e.dispose())}initialize(){l.forEach(this.registerDeprecation.bind(this))}registerDeprecation(e){Array.isArray(e.commands)&&e.commands.forEach(t=>{this.disposables.push(this.cmdMgr.registerCommand(t,()=>this.notifyDeprecation(e),this))}),e.setting&&this.checkAndNotifyDeprecatedSetting(e)}async notifyDeprecation(e){const t=this.persistentStateFactory.createGlobalPersistentState(e.doNotDisplayPromptStateKey,!0);if(!t.value)return;const n=await this.appShell.showInformationMessage(e.message,"Learn more","Never show again");if(n)switch(n){case"Learn more":a.launch(e.moreInfoUrl);break;case"Never show again":await t.updateValue(!1);break;default:throw new Error("Selected option not supported.")}}checkAndNotifyDeprecatedSetting(e){let t=!1;Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>0?this.workspace.workspaceFolders.forEach(n=>{t||(t=this.isDeprecatedSettingAndValueUsed(this.workspace.getConfiguration("python",n.uri),e.setting))}):t=this.isDeprecatedSettingAndValueUsed(this.workspace.getConfiguration("python"),e.setting),t&&this.notifyDeprecation(e).catch(e=>console.error("Starlark Extension: notifyDeprecation",e))}isDeprecatedSettingAndValueUsed(e,t){if(!e.has(t.setting))return!1;const n=e.get(t.setting);return Array.isArray(t.values)&&0!==t.values.length?Array.isArray(t.values)&&0!==t.values.length?t.values.indexOf(e.get(t.setting))>=0:void 0!==n&&(!Array.isArray(n)||n.length>0):!Array.isArray(n)||n.length>0}};u=r([s.injectable(),i(0,s.inject(c.IPersistentStateFactory)),i(1,s.inject(o.ICommandManager)),i(2,s.inject(o.IWorkspaceService)),i(3,s.inject(o.IApplicationShell))],u),t.FeatureDeprecationManager=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(1);t.frequencyForDailyInsidersCheck=864e5,t.frequencyForWeeklyInsidersCheck=6048e5,t.lastLookUpTimeKey="INSIDERS_LAST_LOOK_UP_TIME_KEY";let c=class{async shouldLookForInsidersBuild(){return!1}};c=r([s.injectable()],c),t.ExtensionInsidersOffChannelRule=c;let l=class{constructor(e){this.persistentStateFactory=e}async shouldLookForInsidersBuild(e){const n=this.persistentStateFactory.createGlobalPersistentState(t.lastLookUpTimeKey,-1);return e?(await n.updateValue(Date.now()),!0):(-1===n.value||n.value+t.frequencyForDailyInsidersCheck<Date.now())&&(await n.updateValue(Date.now()),!0)}};r([o.traceDecorators.error("Error in checking if insiders build is to be for daily channel rule")],l.prototype,"shouldLookForInsidersBuild",null),l=r([s.injectable(),i(0,s.inject(a.IPersistentStateFactory))],l),t.ExtensionInsidersDailyChannelRule=l;let u=class{constructor(e){this.persistentStateFactory=e}async shouldLookForInsidersBuild(e){const n=this.persistentStateFactory.createGlobalPersistentState(t.lastLookUpTimeKey,-1);return e?(await n.updateValue(Date.now()),!0):(-1===n.value||n.value+t.frequencyForWeeklyInsidersCheck<Date.now())&&(await n.updateValue(Date.now()),!0)}};r([o.traceDecorators.error("Error in checking if insiders build is to be for daily channel rule")],u.prototype,"shouldLookForInsidersBuild",null),u=r([s.injectable(),i(0,s.inject(a.IPersistentStateFactory))],u),t.ExtensionInsidersWeeklyChannelRule=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(6),l=n(1);t.insidersChannelSetting="insidersChannel";let u=class{constructor(e,t,n){this.configService=e,this.workspaceService=t,this._onDidChannelChange=new o.EventEmitter,n.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this)))}getChannel(){return this.configService.getSettings().insidersChannel}get isChannelUsingDefaultConfiguration(){const e=this.workspaceService.getConfiguration("python").inspect(t.insidersChannelSetting);if(!e)throw new Error(`WorkspaceConfiguration.inspect returns 'undefined' for setting 'python.${t.insidersChannelSetting}'`);return!e.globalValue}async updateChannel(e){await this.configService.updateSetting(t.insidersChannelSetting,e,void 0,o.ConfigurationTarget.Global)}get onDidChannelChange(){return this._onDidChannelChange.event}async onDidChangeConfiguration(e){if(e.affectsConfiguration(`python.${t.insidersChannelSetting}`)){const e=this.configService.getSettings();this._onDidChannelChange.fire(e.insidersChannel)}}};r([c.traceDecorators.error("Updating channel failed")],u.prototype,"updateChannel",null),u=r([s.injectable(),i(0,s.inject(l.IConfigurationService)),i(1,s.inject(a.IWorkspaceService)),i(2,s.inject(l.IDisposableRegistry))],u),t.ExtensionChannelService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(9),a=n(11),c=n(4),l=n(6),u=n(1),d=n(12),h=n(16),p=n(229);t.insidersPromptStateKey="INSIDERS_PROMPT_STATE_KEY",t.optIntoInsidersPromptAgainStateKey="OPT_INTO_INSIDERS_PROGRAM_AGAIN_STATE_KEY";let f=class{constructor(e,n,r,i){this.appShell=e,this.insidersDownloadChannelService=n,this.cmdManager=r,this.persistentStateFactory=i,this.hasUserBeenNotified=this.persistentStateFactory.createGlobalPersistentState(t.insidersPromptStateKey,!1),this.hasUserBeenAskedToOptInAgain=this.persistentStateFactory.createGlobalPersistentState(t.optIntoInsidersPromptAgainStateKey,!1)}async promptToInstallInsiders(){await this.promptAndUpdate(d.ExtensionChannels.promptMessage(),this.hasUserBeenNotified,a.EventName.INSIDERS_PROMPT)}async promptToEnrollBackToInsiders(){await this.promptAndUpdate(d.ExtensionChannels.optIntoProgramAgainMessage(),this.hasUserBeenAskedToOptInAgain,a.EventName.OPT_INTO_INSIDERS_AGAIN_PROMPT)}async promptToReload(){const e=await this.appShell.showInformationMessage(d.ExtensionChannels.reloadToUseInsidersMessage(),d.Common.reload());o.sendTelemetryEvent(a.EventName.INSIDERS_RELOAD_PROMPT,void 0,{selection:e?"Reload":void 0}),e&&e===d.Common.reload()&&this.cmdManager.executeCommand("workbench.action.reloadWindow").then(h.noop)}async promptAndUpdate(e,t,n){const r=[d.ExtensionChannels.yesWeekly(),d.ExtensionChannels.yesDaily(),d.DataScienceSurveyBanner.bannerLabelNo()],i=await this.appShell.showInformationMessage(e,...r);o.sendTelemetryEvent(n,void 0,{selection:i?["Yes, weekly","Yes, daily","No, thanks"][r.indexOf(i)]:void 0}),await t.updateValue(!0),i&&(i===d.ExtensionChannels.yesWeekly()?await this.insidersDownloadChannelService.updateChannel("weekly"):i===d.ExtensionChannels.yesDaily()&&await this.insidersDownloadChannelService.updateChannel("daily"))}};r([l.traceDecorators.error("Error in prompting to install insiders")],f.prototype,"promptToInstallInsiders",null),r([l.traceDecorators.error("Error in prompting to enroll back to insiders program")],f.prototype,"promptToEnrollBackToInsiders",null),r([l.traceDecorators.error("Error in prompting to reload")],f.prototype,"promptToReload",null),f=r([s.injectable(),i(0,s.inject(c.IApplicationShell)),i(1,s.inject(p.IExtensionChannelService)),i(2,s.inject(c.ICommandManager)),i(3,s.inject(u.IPersistentStateFactory))],f),t.InsidersExtensionPrompt=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(4),c=n(13);n(7);const l=n(125),u=n(6),d=n(1),h=n(229);let p=class{constructor(e,t,n,r,i,s,o){this.extensionChannelService=e,this.insidersPrompt=t,this.appEnvironment=n,this.cmdManager=r,this.serviceContainer=i,this.insidersInstaller=s,this.disposables=o}async activate(){this.registerCommandsAndHandlers(),await this.initChannel()}registerCommandsAndHandlers(){this.disposables.push(this.extensionChannelService.onDidChannelChange(e=>this.handleChannel(e,!0))),this.disposables.push(this.cmdManager.registerCommand(c.Commands.SwitchOffInsidersChannel,()=>this.extensionChannelService.updateChannel("off"))),this.disposables.push(this.cmdManager.registerCommand(c.Commands.SwitchToInsidersDaily,()=>this.extensionChannelService.updateChannel("daily"))),this.disposables.push(this.cmdManager.registerCommand(c.Commands.SwitchToInsidersWeekly,()=>this.extensionChannelService.updateChannel("weekly")))}async initChannel(){const e=this.extensionChannelService.getChannel(),t=this.extensionChannelService.isChannelUsingDefaultConfiguration;await this.handleEdgeCases(e,t)||this.handleChannel(e).ignoreErrors()}async handleChannel(e,t=!1){const n=this.serviceContainer.get(h.IExtensionChannelRule,e);await n.shouldLookForInsidersBuild(t)&&(await this.insidersInstaller.install(),await this.insidersPrompt.promptToReload())}async handleEdgeCases(e,t){return!!process.env.UITEST_DISABLE_INSIDERS||(!!await this.promptToEnrollBackToInsidersIfApplicable(e,t)||(!!await this.promptToInstallInsidersIfApplicable(t)||!!await this.setInsidersChannelToOffIfApplicable(e)))}async promptToEnrollBackToInsidersIfApplicable(e,t){return"off"===e&&(!this.insidersPrompt.hasUserBeenAskedToOptInAgain.value&&(!t&&(await this.insidersPrompt.promptToEnrollBackToInsiders(),!0)))}async promptToInstallInsidersIfApplicable(e){return"insiders"===this.appEnvironment.channel&&(!this.insidersPrompt.hasUserBeenNotified.value&&(!!e&&(await this.insidersPrompt.promptToInstallInsiders(),!0)))}async setInsidersChannelToOffIfApplicable(e){return"off"!==e&&("stable"===this.appEnvironment.extensionChannel&&(await this.extensionChannelService.updateChannel("off"),!0))}};r([u.traceDecorators.error("Handling channel failed")],p.prototype,"handleChannel",null),p=r([s.injectable(),i(0,s.inject(h.IExtensionChannelService)),i(1,s.inject(h.IInsiderExtensionPrompt)),i(2,s.inject(a.IApplicationEnvironment)),i(3,s.inject(a.ICommandManager)),i(4,s.inject(o.IServiceContainer)),i(5,s.inject(l.IExtensionBuildInstaller)),i(5,s.named(l.INSIDERS_INSTALLER)),i(6,s.inject(d.IDisposableRegistry))],p),t.InsidersExtensionService=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(41),a=n(4),c=n(1),l=n(949);let u=class{constructor(e,t,n,r){this.configService=n,this.appShell=r,this.supported=!1,this.disposed=!1;const i=t.onDidChangeConfiguration(e=>{e.affectsConfiguration("python.dataScience",void 0)&&this.onSettingsChanged()});e.push(i),e.push(this),this.onSettingsChanged()}dispose(){this.disposed=!0}getApi(){return this.disposed?Promise.resolve(null):this.apiPromise}onSettingsChanged(){const e=this.configService.getSettings().datascience.allowLiveShare;if(e!==this.supported){this.supported=!!e;const t=this.configService.getSettings().datascience.liveShareConnectionTimeout;this.apiPromise=e?o.getApi().then(e=>e?new l.LiveShareProxy(this.appShell,t,e):e):Promise.resolve(null)}else this.apiPromise||(this.apiPromise=Promise.resolve(null))}};u=r([s.injectable(),i(0,s.inject(c.IDisposableRegistry)),i(1,s.inject(a.IWorkspaceService)),i(2,s.inject(c.IConfigurationService)),i(3,s.inject(a.IApplicationShell))],u),t.LiveShareApi=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(15),s=n(17),o=n(12),a=n(950);t.LiveShareProxy=class{constructor(e,t,n){this.applicationShell=e,this.peerTimeout=t,this.realApi=n,this.currentRole=r.Role.None,this.guestChecker=null,this.pendingGuestCheckCount=0,this.realApi.onDidChangePeers(this.onPeersChanged,this),this.realApi.onDidChangeSession(this.onSessionChanged,this),this.onSessionChanged({session:this.realApi.session}).ignoreErrors()}get session(){return this.realApi.session}get onDidChangeSession(){return this.realApi.onDidChangeSession}get peers(){return this.realApi.peers}get onDidChangePeers(){return this.realApi.onDidChangePeers}share(e){return this.realApi.share(e)}join(e,t){return this.realApi.join(e,t)}end(){return this.realApi.end()}async shareService(e){const t=await this.realApi.shareService(e);return t?new a.ServiceProxy(t,()=>this.peersAreOkay(),()=>this.forceShutdown()):t}unshareService(e){return this.realApi.unshareService(e)}getSharedService(e){return this.realApi.getSharedService(e)}convertLocalUriToShared(e){return this.realApi.convertLocalUriToShared(e)}convertSharedUriToLocal(e){return this.realApi.convertSharedUriToLocal(e)}registerCommand(e,t,n){return this.realApi.registerCommand(e,t,n)}registerTreeDataProvider(e,t){return this.realApi.registerTreeDataProvider(e,t)}registerContactServiceProvider(e,t){return this.realApi.registerContactServiceProvider(e,t)}shareServer(e){return this.realApi.shareServer(e)}getContacts(e){return this.realApi.getContacts(e)}async onSessionChanged(e){const t=e.session?e.session.role:r.Role.None;this.currentRole!==t&&(this.currentRole===r.Role.Host&&await this.realApi.unshareService(i.LiveShare.GuestCheckerService),this.currentRole=t,this.currentRole===r.Role.Host?(this.guestChecker=await this.realApi.shareService(i.LiveShare.GuestCheckerService),this.guestChecker&&this.guestChecker.onNotify(i.LiveShareCommands.guestCheck,e=>this.onGuestResponse())):this.currentRole===r.Role.Guest&&(this.guestChecker=await this.realApi.getSharedService(i.LiveShare.GuestCheckerService),this.guestChecker&&this.guestChecker.onNotify(i.LiveShareCommands.guestCheck,e=>this.onHostRequest())))}onPeersChanged(e){this.currentRole===r.Role.Host&&this.guestChecker&&(this.pendingGuestCheckCount=this.realApi.peers.length,this.peerCheckPromise=void 0)}peersAreOkay(){return this.peerCheckPromise?this.peerCheckPromise.promise:!this.guestChecker||this.currentRole!==r.Role.Host||this.pendingGuestCheckCount<=0?Promise.resolve(!0):(this.peerCheckPromise=s.createDeferred(),this.guestChecker.notify(i.LiveShareCommands.guestCheck,{}),setTimeout(this.validatePendingGuests.bind(this),this.peerTimeout?this.peerTimeout:1e3),this.peerCheckPromise.promise)}validatePendingGuests(){this.peerCheckPromise&&!this.peerCheckPromise.resolved&&this.peerCheckPromise.resolve(this.pendingGuestCheckCount<=0)}onGuestResponse(){this.pendingGuestCheckCount-=1,this.pendingGuestCheckCount<=0&&this.peerCheckPromise&&this.peerCheckPromise.resolve(!0)}onHostRequest(){this.guestChecker&&this.currentRole===r.Role.Guest&&this.guestChecker.notify(i.LiveShareCommands.guestCheck,{})}forceShutdown(){this.realApi.end().then(()=>{this.pendingGuestCheckCount=0,this.peerCheckPromise=void 0,this.applicationShell.showErrorMessage(o.DataScience.liveShareInvalid())}).ignoreErrors()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ServiceProxy=class{constructor(e,t,n){this.realService=e,this.guestsResponding=t,this.forceShutdown=n}get isServiceAvailable(){return this.realService.isServiceAvailable}get onDidChangeIsServiceAvailable(){return this.realService.onDidChangeIsServiceAvailable}onRequest(e,t){return this.realService.onRequest(e,t)}onNotify(e,t){return this.realService.onNotify(e,t)}async notify(e,t){if(await this.guestsResponding())return this.realService.notify(e,t);this.forceShutdown()}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(8),l=n(1),u=n(12),d=n(16);let h=class{constructor(e,t,n){this.httpClient=e,this.fs=t,this.appShell=n}async downloadFile(e,t){t.outputChannel&&t.outputChannel.appendLine(u.Http.downloadingFile().format(e));const n=await this.fs.createTemporaryFile(t.extension);return await this.downloadFileWithStatusBarProgress(e,t.progressMessagePrefix,n.filePath).then(d.noop,e=>(n.dispose(),Promise.reject(e))),n.filePath}async downloadFileWithStatusBarProgress(e,t,n){await this.appShell.withProgress({location:o.ProgressLocation.Window},async r=>{const i=await this.httpClient.downloadFile(e),s=this.fs.createWriteStream(n);return this.displayDownloadProgress(e,r,i,s,t)})}async displayDownloadProgress(e,t,r,i,s){return new Promise((o,a)=>{r.on("response",t=>{200!==t.statusCode&&a(new Error(`Failed with status ${t.statusCode}, ${t.statusMessage}, Uri ${e}`))}),n(952)(r).on("progress",e=>{const n=Math.round(e.size.transferred/1024),r=Math.round(e.size.total/1024),i=Math.round(100*e.percent),o=u.Http.downloadingFileProgress().format(s,n.toString(),r.toString(),i.toString());t.report({message:o})}).on("error",a).pipe(i).on("error",a).on("close",o)})}};h=r([s.injectable(),i(0,s.inject(l.IHttpClient)),i(1,s.inject(c.IFileSystem)),i(2,s.inject(a.IApplicationShell))],h),t.FileDownloader=h},function(e,t){e.exports=require("./node_modules/request-progress")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(112),a=n(10),c=n(4),l=n(6);let u=class{constructor(e){const t=e.get(c.IWorkspaceService);this.requestOptions={proxy:t.getConfiguration("http").get("proxy","")}}async downloadFile(e){return(await Promise.resolve().then(()=>n(368)))(e,this.requestOptions)}async getJSON(e,t=!0){const n=await this.getBody(e);return this.parseBodyToJSON(n,t)}async parseBodyToJSON(e,t){if(t)return JSON.parse(e);{let t=[];const n=o.parse(e,t,{allowTrailingComma:!0,disallowComments:!1});return t.length>0&&l.traceError("JSONC parser returned ParseError codes",t),n}}async getBody(e){const t=n(368);return new Promise((n,r)=>{t(e,this.requestOptions,(t,i,s)=>t?r(t):200!==i.statusCode?r(new Error(`Failed with status ${i.statusCode}, ${i.statusMessage}, Uri ${e}`)):void n(s))})}};u=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],u),t.HttpClient=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(3),o=n(49);let a=class{isReleaseVersion(e){return 0===e.prerelease.length}getVersionFromPackageFileName(e){const t=s.extname(e),n=e.substring(e.indexOf(".")+1),r=n.substring(0,n.length-t.length).split("."),i=r.filter((e,t)=>t<=2).join("."),a=r.filter((e,t)=>3===t).join("."),c=`${i}${0===a.length?"":`-${a}`}`;return o.parse(c,!0)||new o.SemVer("0.0.0")}};a=r([i.injectable()],a),t.NugetService=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1);class a{constructor(e,t,n,r){this.storage=e,this.key=t,this.defaultValue=n,this.expiryDurationMs=r}get value(){if(this.expiryDurationMs){const e=this.storage.get(this.key,{data:this.defaultValue});return!e||!e.expiry||e.expiry<Date.now()?this.defaultValue:e.data}return this.storage.get(this.key,this.defaultValue)}async updateValue(e){this.expiryDurationMs?await this.storage.update(this.key,{data:e,expiry:Date.now()+this.expiryDurationMs}):await this.storage.update(this.key,e)}}t.PersistentState=a;let c=class{constructor(e,t){this.globalState=e,this.workspaceState=t}createGlobalPersistentState(e,t,n){return new a(this.globalState,e,t,n)}createWorkspacePersistentState(e,t,n){return new a(this.workspaceState,e,t,n)}};c=r([s.injectable(),i(0,s.inject(o.IMemento)),i(0,s.named(o.GLOBAL_MEMENTO)),i(1,s.inject(o.IMemento)),i(1,s.named(o.WORKSPACE_MEMENTO))],c),t.PersistentStateFactory=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(1),c=n(69),l=n(129);let u=class{constructor(e){this.isWindows=e,this.home="",this.home=l("~")}get delimiter(){return o.delimiter}get separator(){return o.sep}getPathVariableName(){return this.isWindows?c.WINDOWS_PATH_VARIABLE_NAME:c.NON_WINDOWS_PATH_VARIABLE_NAME}basename(e,t){return o.basename(e,t)}getDisplayName(e,t){return t&&e.startsWith(t)?`.${o.sep}${o.relative(t,e)}`:e.startsWith(this.home)?`~${o.sep}${o.relative(this.home,e)}`:e}};u=r([s.injectable(),i(0,s.inject(a.IsWindows))],u),t.PathUtils=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});let i=class{constructor(){this.on=(e,t)=>(process.on(e,t),process)}get env(){return process.env}get argv(){return process.argv}get stdout(){return process.stdout}get stdin(){return process.stdin}get execPath(){return process.execPath}};i=r([n(0).injectable()],i),t.CurrentProcess=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(13),a=n(6),c=n(1),l=n(12);let u=class{constructor(e,t){this.outputChannel=e,this.pathUtils=t}logProcess(e,t,n){if(!o.isTestExecution()&&o.isCI&&process.env.UITEST_DISABLE_PROCESS_LOGGING)return;const r=t.reduce((e,t,n)=>{let r=this.pathUtils.getDisplayName(t).toCommandArgument();return"'"!==t[0]&&'"'!==t[0]||(r=`${t[0]}${this.pathUtils.getDisplayName(t.substr(1))}`),0===n?r:`${e} ${r}`},""),i=[`> ${this.pathUtils.getDisplayName(e)} ${r}`];n&&n.cwd&&i.push(`${l.Logging.currentWorkingDirectory()} ${this.pathUtils.getDisplayName(n.cwd)}`),i.forEach(e=>{a.traceInfo(e),this.outputChannel.appendLine(e)})}};u=r([s.injectable(),i(0,s.inject(c.IOutputChannel)),i(0,s.named(o.STANDARD_OUTPUT_CHANNEL)),i(1,s.inject(c.IPathUtils))],u),t.ProcessLogger=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(28),a=n(960);let c=class{constructor(e,t){this.helper=e,this.handlers=t,this.initialize()}async activateEnvironmentInTerminal(e,t,n=!0){const r=await this.baseActivator.activateEnvironmentInTerminal(e,t,n);return this.handlers.forEach(i=>i.handleActivation(e,t,n,r).ignoreErrors()),r}initialize(){this.baseActivator=new a.BaseTerminalActivator(this.helper)}};c=r([s.injectable(),i(0,s.inject(o.ITerminalHelper)),i(1,s.multiInject(o.ITerminalActivationHandler))],c),t.TerminalActivator=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);t.BaseTerminalActivator=class{constructor(e){this.helper=e,this.activatedTerminals=new Map}async activateEnvironmentInTerminal(e,t,n=!0){if(this.activatedTerminals.has(e))return this.activatedTerminals.get(e);const i=r.createDeferred();this.activatedTerminals.set(e,i.promise);const s=this.helper.identifyTerminalShell(e),o=await this.helper.getEnvironmentActivationCommands(s,t);let a=!1;if(o)for(const t of o)e.show(n),e.sendText(t),await this.waitForCommandToProcess(s),a=!0;return i.resolve(a),a}async waitForCommandToProcess(e){await r.sleep(500)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(344),a=n(38),c=n(8),l=n(28);let u=class{constructor(e,t,n){this.helper=e,this.platformService=t,this.diagnosticService=n}async handleActivation(e,t,n,r){if(r||!this.platformService.isWindows)return;const i=this.helper.identifyTerminalShell(e);if(i!==l.TerminalShellType.powershell&&i!==l.TerminalShellType.powershellCore)return;const s=await this.helper.getEnvironmentActivationCommands(l.TerminalShellType.commandPrompt,t);s&&Array.isArray(s)&&0!==s.length&&this.diagnosticService.handle([new o.PowershellActivationNotAvailableDiagnostic(t)]).ignoreErrors()}};u=r([s.injectable(),i(0,s.inject(l.ITerminalHelper)),i(1,s.inject(c.IPlatformService)),i(2,s.inject(a.IDiagnosticsService)),i(2,s.named(o.PowerShellActivationHackDiagnosticsServiceId))],u),t.PowershellTerminalActivationFailedHandler=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10);n(7);const a=n(28),c=n(369);let l=class extends c.BaseActivationCommandProvider{constructor(e){super(e)}isShellSupported(e){return e===a.TerminalShellType.bash||e===a.TerminalShellType.gitbash||e===a.TerminalShellType.wsl||e===a.TerminalShellType.ksh||e===a.TerminalShellType.zsh||e===a.TerminalShellType.cshell||e===a.TerminalShellType.tcshell||e===a.TerminalShellType.fish}async getActivationCommandsForInterpreter(e,t){const n=await this.findScriptFile(e,this.getScriptsInOrderOfPreference(t));if(n)return[`source ${n.fileToCommandArgument()}`]}getScriptsInOrderOfPreference(e){switch(e){case a.TerminalShellType.wsl:case a.TerminalShellType.ksh:case a.TerminalShellType.zsh:case a.TerminalShellType.gitbash:case a.TerminalShellType.bash:return["activate.sh","activate"];case a.TerminalShellType.tcshell:case a.TerminalShellType.cshell:return["activate.csh"];case a.TerminalShellType.fish:return["activate.fish"];default:return[]}}};l=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],l),t.Bash=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(10);n(7);const c=n(28),l=n(369);let u=class extends l.BaseActivationCommandProvider{constructor(e){super(e)}isShellSupported(e){return e===c.TerminalShellType.commandPrompt||e===c.TerminalShellType.powershell||e===c.TerminalShellType.powershellCore}async getActivationCommandsForInterpreter(e,t){const n=await this.findScriptFile(e,this.getScriptsInOrderOfPreference(t));if(n)return t===c.TerminalShellType.commandPrompt&&n.endsWith("activate.bat")?[n.fileToCommandArgument()]:t!==c.TerminalShellType.powershell&&t!==c.TerminalShellType.powershellCore||!n.endsWith("activate.ps1")?t===c.TerminalShellType.commandPrompt&&n.endsWith("activate.ps1")?[]:void 0:[`& ${n.fileToCommandArgument()}`]}getScriptsInOrderOfPreference(e){const t=["activate.bat",o.join("Scripts","activate.bat"),o.join("scripts","activate.bat")],n=["activate.ps1",o.join("Scripts","activate.ps1"),o.join("scripts","activate.ps1")];return e===c.TerminalShellType.commandPrompt?t.concat(n):n.concat(t)}};u=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],u),t.CommandPromptAndPowerShell=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(3),a=n(14),c=n(8),l=n(1),u=n(28);let d=class{constructor(e,t,n){this.condaService=e,this.platform=t,this.configService=n}isShellSupported(e){return!0}getActivationCommands(e,t){const n=this.configService.getSettings(e).pythonPath;return this.getActivationCommandsForInterpreter(n,t)}async getActivationCommandsForInterpreter(e,t){const n=await this.condaService.getCondaEnvironment(e);if(!n)return;const r=await this.condaService.getCondaVersion();if(r&&r.major>=4){if(r.minor>=6&&(t===u.TerminalShellType.powershell||t===u.TerminalShellType.powershellCore))return this.getPowershellCommands(n.name);if(r.minor>=4){const t=await this.condaService.getCondaFileFromInterpreter(e,n.name);if(t){const e=o.join(o.dirname(t),"activate").fileToCommandArgument();return[this.platform.isWindows?e:`source ${e}`,`conda activate ${n.name.toCommandArgument()}`]}}}switch(t){case u.TerminalShellType.powershell:case u.TerminalShellType.powershellCore:return this.getPowershellCommands(n.name);case u.TerminalShellType.fish:return this.getFishCommands(n.name,await this.condaService.getCondaFile());default:return this.platform.isWindows?this.getWindowsCommands(n.name):this.getUnixCommands(n.name,await this.condaService.getCondaFile())}}async getWindowsActivateCommand(){let e="activate";const t=await this.condaService.getCondaFile();if(t&&o.basename(t)!==t){const n=o.dirname(t);e=(e=o.join(n,e)).toCommandArgument()}return e}async getWindowsCommands(e){return[`${await this.getWindowsActivateCommand()} ${e.toCommandArgument()}`]}async getPowershellCommands(e){return[`conda activate ${e.toCommandArgument()}`]}async getFishCommands(e,t){return[`${t.fileToCommandArgument()} activate ${e.toCommandArgument()}`]}async getUnixCommands(e,t){const n=o.dirname(t);return[`source ${o.join(n,"activate").fileToCommandArgument()} ${e.toCommandArgument()}`]}};d=r([s.injectable(),i(0,s.inject(a.ICondaService)),i(1,s.inject(c.IPlatformService)),i(2,s.inject(l.IConfigurationService))],d),t.CondaActivationCommandProvider=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0);n(7);const o=n(14),a=n(4),c=n(8);let l=class{constructor(e,t,n,r){this.interpreterService=e,this.pipenvService=t,this.workspaceService=n,this.fs=r}isShellSupported(e){return!1}async getActivationCommands(e,t){const n=await this.interpreterService.getActiveInterpreter(e);if(!n||n.type!==o.InterpreterType.Pipenv)return;const r=e?this.workspaceService.getWorkspaceFolder(e):void 0;return r&&n.pipEnvWorkspaceFolder&&!this.fs.arePathsSame(r.uri.fsPath,n.pipEnvWorkspaceFolder)?void 0:[`${this.pipenvService.executable.fileToCommandArgument()} shell`]}async getActivationCommandsForInterpreter(e,t){const n=await this.interpreterService.getInterpreterDetails(e);if(n&&n.type===o.InterpreterType.Pipenv)return[`${this.pipenvService.executable.fileToCommandArgument()} shell`]}};l=r([s.injectable(),i(0,s.inject(o.IInterpreterService)),i(1,s.inject(o.IPipEnvService)),i(2,s.inject(a.IWorkspaceService)),i(3,s.inject(c.IFileSystem))],l),t.PipEnvActivationCommandProvider=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(14),a=n(10);let c=class{constructor(e){this.serviceContainer=e}isShellSupported(e){return!0}async getActivationCommands(e,t){const n=await this.serviceContainer.get(o.IInterpreterService).getActiveInterpreter(e);if(n&&n.type===o.InterpreterType.Pyenv&&n.envName)return[`pyenv shell ${n.envName.toCommandArgument()}`]}async getActivationCommandsForInterpreter(e,t){const n=await this.serviceContainer.get(o.IInterpreterService).getInterpreterDetails(e);if(n&&n.type===o.InterpreterType.Pyenv&&n.envName)return[`pyenv shell ${n.envName.toCommandArgument()}`]}};c=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],c),t.PyEnvActivationCommandProvider=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(4),c=n(968);let l=class{constructor(e){this.serviceContainer=e,this.terminalServices=new Map}getTerminalService(e,t){const n="string"==typeof t&&t.trim().length>0?t.trim():"Python",r=this.getTerminalId(n,e);if(!this.terminalServices.has(r)){const t=new c.TerminalService(this.serviceContainer,e,n);this.terminalServices.set(r,t)}return this.terminalServices.get(r)}createTerminalService(e,t){const n="string"==typeof t&&t.trim().length>0?t.trim():"Python";return new c.TerminalService(this.serviceContainer,e,n)}getTerminalId(e,t){if(!t)return e;const n=this.serviceContainer.get(a.IWorkspaceService).getWorkspaceFolder(t);return n?`${e}:${n.uri.fsPath}`:e}};l=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],l),t.TerminalServiceFactory=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2);n(7);const a=n(14),c=n(10),l=n(9),u=n(11),d=n(4),h=n(1),p=n(28);let f=class{constructor(e,t,n="Python"){this.serviceContainer=e,this.resource=t,this.title=n,this.terminalClosed=new o.EventEmitter;const r=this.serviceContainer.get(h.IDisposableRegistry);r.push(this),this.terminalHelper=this.serviceContainer.get(p.ITerminalHelper),this.terminalManager=this.serviceContainer.get(d.ITerminalManager),this.terminalManager.onDidCloseTerminal(this.terminalCloseHandler,this,r),this.terminalActivator=this.serviceContainer.get(p.ITerminalActivator)}get onDidCloseTerminal(){return this.terminalClosed.event.bind(this.terminalClosed)}dispose(){this.terminal&&this.terminal.dispose()}async sendCommand(e,t){await this.ensureTerminal();const n=this.terminalHelper.buildCommandForTerminal(this.terminalShellType,e,t);this.terminal.show(!0),this.terminal.sendText(n,!0)}async sendText(e){await this.ensureTerminal(),this.terminal.show(!0),this.terminal.sendText(e)}async show(e=!0){await this.ensureTerminal(e),this.terminal.show(e)}async ensureTerminal(e=!0){this.terminal||(this.terminalShellType=this.terminalHelper.identifyTerminalShell(this.terminal),this.terminal=this.terminalManager.createTerminal({name:this.title}),await new Promise(e=>setTimeout(e,100)),await this.terminalActivator.activateEnvironmentInTerminal(this.terminal,this.resource,e),this.terminal.show(e),this.sendTelemetry().ignoreErrors())}terminalCloseHandler(e){e===this.terminal&&(this.terminalClosed.fire(),this.terminal=void 0)}async sendTelemetry(){const e=this.serviceContainer.get(h.IConfigurationService).getSettings(this.resource).pythonPath,t=await this.serviceContainer.get(a.IInterpreterService).getInterpreterDetails(e),n=t&&t.version?t.version.raw:void 0,r=t?t.type:void 0;l.captureTelemetry(u.EventName.TERMINAL_CREATE,{terminal:this.terminalShellType,pythonVersion:n,interpreterType:r})}};f=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],f),t.TerminalService=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(14),a=n(9),c=n(11),l=n(4);n(7);const u=n(6),d=n(8),h=n(1),p=n(35),f=n(970),m=n(28);let g=class{constructor(e,t,n,r,i,s,o,a,c,l,u){this.platform=e,this.terminalManager=t,this.condaService=n,this.interpreterService=r,this.configurationService=i,this.conda=s,this.bashCShellFish=o,this.commandPromptAndPowerShell=a,this.pyenv=c,this.pipenv=l,this.shellDetector=new f.ShellDetector(this.platform,u)}createTerminal(e){return this.terminalManager.createTerminal({name:e})}identifyTerminalShell(e){return this.shellDetector.identifyTerminalShell(e)}buildCommandForTerminal(e,t,n){return`${e===m.TerminalShellType.powershell||e===m.TerminalShellType.powershellCore?"& ":""}${t.fileToCommandArgument()} ${n.join(" ")}`.trim()}async getEnvironmentActivationCommands(e,t){const n=[this.pipenv,this.pyenv,this.bashCShellFish,this.commandPromptAndPowerShell],r=this.getActivationCommands(t||void 0,void 0,e,n);return this.sendTelemetry(t,e,c.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL,r).ignoreErrors(),r}async getEnvironmentActivationShellCommands(e,t,n){if(this.platform.osType===p.OSType.Unknown)return;const r=[this.bashCShellFish,this.commandPromptAndPowerShell],i=this.getActivationCommands(e,n,t,r);return this.sendTelemetry(e,t,c.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE,i).ignoreErrors(),i}async sendTelemetry(e,t,n,r){let i=!1;const s=await this.interpreterService.getActiveInterpreter(e);let c=!1;try{const e=await r;i=Array.isArray(e)&&e.length>0}catch(e){c=!0,u.traceError("Failed to get activation commands",e)}const l=s&&s.version?s.version.raw:void 0,d={failed:c,hasCommands:i,interpreterType:s?s.type:o.InterpreterType.Unknown,terminal:t,pythonVersion:l};a.sendTelemetryEvent(n,void 0,d)}async getActivationCommands(e,t,n,r){const i=this.configurationService.getSettings(e);if(!i.terminal.activateEnvironment)return;if(await this.condaService.isCondaEnvironment(i.pythonPath)){const r=t?await this.conda.getActivationCommandsForInterpreter(t.path,n):await this.conda.getActivationCommands(e,n);if(Array.isArray(r))return r}const s=r.filter(e=>e.isShellSupported(n));for(const r of s){const i=t?await r.getActivationCommandsForInterpreter(t.path,n):await r.getActivationCommands(e,n);if(Array.isArray(i)&&i.length>0)return i}}};r([u.traceDecorators.error("Failed to capture telemetry")],g.prototype,"sendTelemetry",null),g=r([s.injectable(),i(0,s.inject(d.IPlatformService)),i(1,s.inject(l.ITerminalManager)),i(2,s.inject(o.ICondaService)),i(3,s.inject(o.IInterpreterService)),i(4,s.inject(h.IConfigurationService)),i(5,s.inject(m.ITerminalActivationCommandProvider)),i(5,s.named(m.TerminalActivationProviders.conda)),i(6,s.inject(m.ITerminalActivationCommandProvider)),i(6,s.named(m.TerminalActivationProviders.bashCShellFish)),i(7,s.inject(m.ITerminalActivationCommandProvider)),i(7,s.named(m.TerminalActivationProviders.commandPromptAndPowerShell)),i(8,s.inject(m.ITerminalActivationCommandProvider)),i(8,s.named(m.TerminalActivationProviders.pyenv)),i(9,s.inject(m.ITerminalActivationCommandProvider)),i(9,s.named(m.TerminalActivationProviders.pipenv)),i(10,s.multiInject(m.IShellDetector))],g),t.TerminalHelper=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(9),a=n(11);n(7);const c=n(6),l=n(8),u=n(35),d=n(28),h={[u.OSType.Linux]:d.TerminalShellType.bash,[u.OSType.OSX]:d.TerminalShellType.bash,[u.OSType.Windows]:d.TerminalShellType.commandPrompt,[u.OSType.Unknown]:d.TerminalShellType.other};let p=class{constructor(e,t){this.platform=e,this.shellDetectors=t}identifyTerminalShell(e){let t;const n={failed:!0,shellIdentificationSource:"default",terminalProvided:!!e,hasCustomShell:void 0,hasShellInEnv:void 0},r=this.shellDetectors.slice();r.sort((e,t)=>e.priority<t.priority?1:0);for(const i of r)if(t=i.identify(n,e),c.traceVerbose(`${i}. Shell identified as ${t} ${e?`(Terminal name is ${e.name})`:""}`),t&&t!==d.TerminalShellType.other)break;return o.sendTelemetryEvent(a.EventName.TERMINAL_SHELL_IDENTIFICATION,void 0,n),c.traceVerbose(`Shell identified as '${t}'`),void 0!==t&&t!==d.TerminalShellType.other||(c.traceVerbose("Using default OS shell"),t=h[this.platform.osType]),t}};p=r([s.injectable(),i(0,s.inject(l.IPlatformService)),i(1,s.multiInject(d.IShellDetector))],p),t.ShellDetector=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(6),c=n(8),l=n(35),u=n(28),d=n(160);let h=class extends d.BaseShellDetector{constructor(e,t){super(2),this.workspace=e,this.platform=t}getTerminalShellPath(){const e=this.workspace.getConfiguration("terminal.integrated.shell");let t="";switch(this.platform.osType){case l.OSType.Windows:t="windows";break;case l.OSType.OSX:t="osx";break;case l.OSType.Linux:t="linux";break;default:return""}return e.get(t)}identify(e,t){const n=this.getTerminalShellPath();e.hasCustomShell=!!n;const r=n?this.identifyShellFromShellPath(n):u.TerminalShellType.other;return r!==u.TerminalShellType.other&&(e.shellIdentificationSource="environment"),e.shellIdentificationSource="settings",a.traceVerbose(`Shell path from user settings '${n}'`),r}};h=r([s.injectable(),i(0,s.inject(o.IWorkspaceService)),i(1,s.inject(c.IPlatformService))],h),t.SettingsShellDetector=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(6),o=n(28),a=n(160);let c=class extends a.BaseShellDetector{constructor(){super(4)}identify(e,t){if(!t)return;const n=this.identifyShellFromShellPath(t.name);return s.traceVerbose(`Terminal name '${t.name}' identified as shell '${n}'`),e.shellIdentificationSource=n===o.TerminalShellType.other?e.shellIdentificationSource:"terminalName",n}};c=r([i.injectable()],c),t.TerminalNameShellDetector=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(8),c=n(1),l=n(35),u=n(28),d=n(160);let h=class extends d.BaseShellDetector{constructor(e,t){super(1),this.currentProcess=e,this.platform=t}getDefaultPlatformShell(){return function(e,t){if(e.osType===l.OSType.Windows)return function(e,t){const n=parseFloat(e.osRelease)>=10,r=t.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),i=`${t.env.windir}\\${r?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return n?i:function(e){return e.env.comspec||"cmd.exe"}(t)}(e,t);return t.env.SHELL&&"/bin/false"!==t.env.SHELL?t.env.SHELL:"/bin/bash"}(this.platform,this.currentProcess)}identify(e,t){const n=this.getDefaultPlatformShell();e.hasShellInEnv=!!n;const r=this.identifyShellFromShellPath(n);return r!==u.TerminalShellType.other&&(e.shellIdentificationSource="environment"),o.traceVerbose(`Shell path from user env '${n}'`),r}};h=r([s.injectable(),i(0,s.inject(c.ICurrentProcess)),i(1,s.inject(a.IPlatformService))],h),t.UserEnvironmentShellDetector=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(6),c=n(28),l=n(160);let u=class extends l.BaseShellDetector{constructor(e){super(3),this.appEnv=e}identify(e,t){if(!this.appEnv.shell)return;const n=this.identifyShellFromShellPath(this.appEnv.shell);return a.traceVerbose(`Terminal shell path '${this.appEnv.shell}' identified as shell '${n}'`),e.shellIdentificationSource=n===c.TerminalShellType.other?e.shellIdentificationSource:"vscode",n}};u=r([i(0,s.inject(o.IApplicationEnvironment))],u),t.VSCEnvironmentShellDetector=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(976),i=n(977),s=n(81);t.registerTypes=function(e){e.addSingleton(s.IEnvironmentVariablesService,r.EnvironmentVariablesService),e.addSingleton(s.IEnvironmentVariablesProvider,i.EnvironmentVariablesProvider)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(46),o=n(0),a=n(3),c=n(9),l=n(11),u=n(1);let d=class{constructor(e){this.pathVariable=e.getPathVariableName()}async parseFile(e,t){if(e&&await s.pathExists(e)&&s.lstatSync(e).isFile())return h(await s.readFile(e),t)}mergeVariables(e,t){if(!t)return;const n=["PYTHONPATH",this.pathVariable];Object.keys(e).forEach(r=>{n.indexOf(r)>=0||void 0===t[r]&&(t[r]=e[r])})}appendPythonPath(e,...t){return this.appendPaths(e,"PYTHONPATH",...t)}appendPath(e,...t){return this.appendPaths(e,this.pathVariable,...t)}appendPaths(e,t,...n){const r=n.filter(e=>"string"==typeof e&&e.trim().length>0).map(e=>e.trim()).join(a.delimiter);if(0===r.length)return e;const i=e?e[t]:void 0;return i&&"string"==typeof i&&i.length>0?e[t]=i+a.delimiter+r:e[t]=r,e}};function h(e,t){const n=t||{},r={};return e.toString().split("\n").forEach((e,t)=>{const[i,s]=function(e){const t=e.match(/^\s*([a-zA-Z]\w*)\s*=\s*(.*?)?\s*$/);if(!t)return["",""];const n=t[1];let r=t[2];r&&""!==r?"'"===r[0]&&"'"===r[r.length-1]?r=(r=r.substring(1,r.length-1)).replace(/\\n/gm,"\n"):'"'===r[0]&&'"'===r[r.length-1]&&(r=(r=r.substring(1,r.length-1)).replace(/\\n/gm,"\n")):r="";return[n,r]}(e);""!==i&&(r[i]=function(e,t,n,r=""){let i=!1,s=e;s=s.replace(p,(e,s,o,a,c)=>a>0&&"\\"===c[a-1]?e:o&&""!==o||!s||""===s?(i=!0,e):t[s]||n[s]||r),i||s===e||(e=s,c.sendTelemetryEvent(l.EventName.ENVFILE_VARIABLE_SUBSTITUTION));return e.replace(/\\\$/g,"$")}(s,r,n))}),r}d=r([o.injectable(),i(0,o.inject(u.IPathUtils))],d),t.EnvironmentVariablesService=d,t.parseEnvFile=h;const p=/\${([a-zA-Z]\w*)?([^}\w].*)?}/g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(8),l=n(1),u=n(31),d=n(81);let h=class{constructor(e,t,n,r,i,s){this.envVarsService=e,this.platformService=n,this.workspaceService=r,this.configurationService=i,this.process=s,this.trackedWorkspaceFolders=new Set,this.fileWatchers=new Map,this.disposables=[],t.push(this),this.changeEventEmitter=new o.EventEmitter;const a=this.workspaceService.onDidChangeConfiguration(this.configurationChanged,this);this.disposables.push(a)}get onDidEnvironmentVariablesChange(){return this.changeEventEmitter.event}dispose(){this.changeEventEmitter.dispose(),this.fileWatchers.forEach(e=>{e&&e.dispose()})}async getEnvironmentVariables(e){const t=this.configurationService.getSettings(e),n=this.getWorkspaceFolderUri(e);this.trackedWorkspaceFolders.add(n?n.fsPath:""),this.createFileWatcher(t.envFile,n);let r=await this.envVarsService.parseFile(t.envFile,this.process.env);r||(r={}),this.envVarsService.mergeVariables(this.process.env,r);const i=this.platformService.pathVariableName,s=this.process.env[i];return s&&this.envVarsService.appendPath(r,s),this.process.env.PYTHONPATH&&this.envVarsService.appendPythonPath(r,this.process.env.PYTHONPATH),r}configurationChanged(e){this.trackedWorkspaceFolders.forEach(t=>{const n=t&&t.length>0?o.Uri.file(t):void 0;e.affectsConfiguration("python.envFile",n)&&this.onEnvironmentFileChanged(n)})}createFileWatcher(e,t){if(this.fileWatchers.has(e))return;const n=this.workspaceService.createFileSystemWatcher(e);this.fileWatchers.set(e,n),n&&(this.disposables.push(n.onDidChange(()=>this.onEnvironmentFileChanged(t))),this.disposables.push(n.onDidCreate(()=>this.onEnvironmentFileChanged(t))),this.disposables.push(n.onDidDelete(()=>this.onEnvironmentFileChanged(t))))}getWorkspaceFolderUri(e){if(!e)return;const t=this.workspaceService.getWorkspaceFolder(e);return t?t.uri:void 0}onEnvironmentFileChanged(e){u.clearCachedResourceSpecificIngterpreterData("getEnvironmentVariables",e),u.clearCachedResourceSpecificIngterpreterData("CustomEnvironmentVariables",e),this.changeEventEmitter.fire(e)}};r([u.cacheResourceSpecificInterpreterData("getEnvironmentVariables",36e5)],h.prototype,"getEnvironmentVariables",null),h=r([s.injectable(),i(0,s.inject(d.IEnvironmentVariablesService)),i(1,s.inject(l.IDisposableRegistry)),i(2,s.inject(c.IPlatformService)),i(3,s.inject(a.IWorkspaceService)),i(4,s.inject(l.IConfigurationService)),i(5,s.inject(l.ICurrentProcess))],h),t.EnvironmentVariablesProvider=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(16),s=n(24),o=n(9),a=n(979),c=n(15),l=n(980),u=n(982),d=n(983),h=n(986),p=n(988),f=n(989),m=n(990),g=n(991),y=n(992),v=n(993),_=n(994),b=n(1141),S=n(1142),w=n(1143),C=n(1146),E=n(1147),T=n(1148),D=n(1149),P=n(1150),k=n(1153),I=n(1154),M=n(1155),x=n(1156),A=n(1157),O=n(1158),L=n(1159),R=n(1162),j=n(1170),F=n(1171),N=n(1172),Y=n(1179),B=n(1188),H=n(1197),W=n(1200),U=n(1205),V=n(1206),$=n(1207),q=n(19);function G(e){return class extends e{constructor(...t){const n=new s.StopWatch;super(...t);try{const t=e.toString().match(/\w+/g)[1];o.sendTelemetryEvent(c.Telemetry.ClassConstructionTime,n.elapsedTime,{class:t})}catch(e){i.noop()}}}}t.registerTypes=function(e){e.addSingleton(q.IDataScienceCodeLensProvider,G(m.DataScienceCodeLensProvider)),e.addSingleton(q.IDataScience,G(d.DataScience)),e.addSingleton(q.IJupyterExecution,G(R.JupyterExecutionFactory)),e.addSingleton(q.IDataScienceCommandListener,G(x.InteractiveWindowCommandListener)),e.addSingleton(q.IInteractiveWindowProvider,G(A.InteractiveWindowProvider)),e.add(q.IInteractiveWindow,G(M.InteractiveWindow)),e.add(q.INotebookExporter,G(j.JupyterExporter)),e.add(q.INotebookImporter,G(F.JupyterImporter)),e.add(q.INotebookServer,G(Y.JupyterServerFactory)),e.addSingleton(q.ICodeCssGenerator,G(a.CodeCssGenerator)),e.addSingleton(q.IJupyterPasswordConnect,G(N.JupyterPasswordConnect)),e.addSingleton(q.IStatusProvider,G(V.StatusProvider)),e.addSingleton(q.IJupyterSessionManagerFactory,G(B.JupyterSessionManagerFactory)),e.addSingleton(q.IJupyterVariables,G(H.JupyterVariables)),e.add(q.ICodeWatcher,G(g.CodeWatcher)),e.add(q.IJupyterCommandFactory,G(O.JupyterCommandFactory)),e.addSingleton(q.IThemeFinder,G($.ThemeFinder)),e.addSingleton(q.IDataViewerProvider,G(u.DataViewerProvider)),e.add(q.IDataViewer,G(l.DataViewer)),e.addSingleton(r.IExtensionSingleActivationService,G(y.Decorator)),e.add(q.IInteractiveWindowListener,G(w.DotNetIntellisenseProvider)),e.add(q.IInteractiveWindowListener,G(C.JediIntellisenseProvider)),e.add(q.IInteractiveWindowListener,G(E.LinkProvider)),e.add(q.IInteractiveWindowListener,G(T.ShowPlotListener)),e.add(q.IInteractiveWindowListener,G(S.DebugListener)),e.add(q.IInteractiveWindowListener,G(b.GatherListener)),e.add(q.IInteractiveWindowListener,G(D.AutoSaveService)),e.addSingleton(q.IPlotViewerProvider,G(U.PlotViewerProvider)),e.add(q.IPlotViewer,G(W.PlotViewer)),e.addSingleton(q.IJupyterDebugger,G(L.JupyterDebugger)),e.add(q.IDataScienceErrorHandler,G(v.DataScienceErrorHandler)),e.addSingleton(q.ICodeLensFactory,G(f.CodeLensFactory)),e.addSingleton(q.ICellHashProvider,G(p.CellHashProvider)),e.addSingleton(q.IGatherExecution,G(_.GatherExecution)),e.addBinding(q.ICellHashProvider,q.IInteractiveWindowListener),e.addBinding(q.ICellHashProvider,q.INotebookExecutionLogger),e.addBinding(q.IJupyterDebugger,q.ICellHashListener),e.addSingleton(q.INotebookEditorProvider,G(I.NativeEditorProvider)),e.add(q.INotebookEditor,G(P.NativeEditor)),e.addSingleton(q.IDataScienceCommandListener,G(k.NativeEditorCommandListener)),e.addBinding(q.IGatherExecution,q.INotebookExecutionLogger),e.addBinding(q.ICodeLensFactory,q.IInteractiveWindowListener),e.addSingleton(q.IDebugLocationTracker,G(h.DebugLocationTrackerFactory))}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(46),o=n(0),a=n(112),c=n(3),l=n(4),u=n(1),d=n(15),h=n(19),p=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,f=/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/,m={light:"\n    :root {\n        --override-widget-background: #f3f3f3;\n        --override-foreground: #000000;\n        --override-background: #FFFFFF;\n        --override-selection-background: #add6ff;\n        --override-watermark-color: rgba(66, 66, 66, 0.75);\n        --override-tabs-background: #f3f3f3;\n        --override-progress-background: #0066bf;\n        --override-badge-background: #c4c4c4;\n        --override-lineHighlightBorder: #eeeeee;\n        --override-peek-background: #f2f8fc;\n    }\n",dark:"\n    :root {\n        --override-widget-background: #1e1e1e;\n        --override-foreground: #d4d4d4;\n        --override-background: #1e1e1e;\n        --override-selection-background: #264f78;\n        --override-watermark-color: rgba(231, 231, 231, 0.6);\n        --override-tabs-background: #252526;\n        --override-progress-background: #0066bf;\n        --override-badge-background: #4d4d4d;\n        --override-lineHighlightBorder: #282828;\n        --override-peek-background: #001f33;\n    }\n"},g={"light.comment":"#008000","light.constant.numeric":"#09885a","light.string":"#a31515","light.keyword.control":"#AF00DB","light.keyword.operator":"#000000","light.variable":"#001080","light.entity.name.type":"#267f99","light.support.function":"#795E26","light.punctuation":"#000000","dark.comment":"#6A9955","dark.constant.numeric":"#b5cea8","dark.string":"#ce9178","dark.keyword.control":"#C586C0","dark.keyword.operator":"#d4d4d4","dark.variable":"#9CDCFE","dark.entity.name.type":"#4EC9B0","dark.support.function":"#DCDCAA","dark.punctuation":"#1e1e1e"};let y=class{constructor(e,t,n,r){this.workspaceService=e,this.themeFinder=t,this.configService=n,this.logger=r,this.getScopeStyle=(e,t,n,r)=>{if(e){let r=this.matchTokenColor(e,t);r<0&&n&&(r=this.matchTokenColor(e,n));const i=r>=0?e[r]:null;if(null!==i){const e=i.settings;if(e&&null!==e){return{fontStyle:e.fontStyle?e.fontStyle:"normal",color:e.foreground?e.foreground:"var(--vscode-editor-foreground)"}}}}return{color:this.getDefaultColor(r,t),fontStyle:"normal"}},this.mergeColors=(e,t)=>[...e,...t],this.mergeBaseColors=(e,t)=>({...e,...t}),this.readTokenColors=async e=>{const t=await s.readFile(e,"utf8"),n=a.parse(t),r=n.tokenColors;if(r&&r.length>0){const t=n?n.include:void 0;if(t){const n=c.join(c.dirname(e),t.toString()),i=await this.readTokenColors(n);return this.mergeColors(r,i)}return r}const i=n.settings;return i&&i.length>0?i:[]},this.readBaseColors=async e=>{const t=await s.readFile(e,"utf8"),n=a.parse(t),r=n.colors,i=n?n.include:void 0;if(i){const t=c.join(c.dirname(e),i.toString()),n=await this.readBaseColors(t);return this.mergeBaseColors(r,n)}return r},this.findTokenColors=async e=>{try{this.logger.logInformation("Attempting search for colors ...");const t=await this.themeFinder.findThemeRootJson(e);if(t){this.logger.logInformation(`Loading colors from ${t} ...`);const n=await s.readFile(t,"utf8"),r=a.parse(n),i=r.contributes;if(!i){if(r.tokenColors)return await this.readTokenColors(t)}const o=i.themes,l=o.findIndex(t=>null!==t&&(t.id===e||t.name===e)),u=l>=0?o[l]:null;if(null!==u){const e=c.join(c.dirname(t),u.path);return this.logger.logInformation(`Reading colors from ${e}`),await this.readTokenColors(e)}}else this.logger.logWarning(`Color theme ${e} not found. Using default colors.`)}catch(e){this.logger.logError(e)}return null},this.findBaseColors=async e=>{try{this.logger.logInformation("Attempting search for colors ...");const t=await this.themeFinder.findThemeRootJson(e);if(t){this.logger.logInformation(`Loading base colors from ${t} ...`);const n=await s.readFile(t,"utf8"),r=a.parse(n).contributes;if(!r)return await this.readBaseColors(t);const i=r.themes,o=i.findIndex(t=>null!==t&&(t.id===e||t.name===e)),l=o>=0?i[o]:null;if(null!==l){const e=c.join(c.dirname(t),l.path);return this.logger.logInformation(`Reading base colors from ${e}`),await this.readBaseColors(e)}}else this.logger.logWarning(`Color theme ${e} not found. Using default colors.`)}catch(e){this.logger.logError(e)}return null}}generateThemeCss(e,t){return this.applyThemeData(e,t,"",this.generateCss.bind(this))}generateMonacoTheme(e,t){return this.applyThemeData(e,t,{},this.generateMonacoThemeObject.bind(this))}async applyThemeData(e,t,n,r){let i=n;try{const n=!!this.configService.getSettings().datascience.ignoreVscodeTheme;t=n?d.DefaultTheme:t;const s=this.workspaceService.getConfiguration("editor",void 0),o=s?s.get("fontFamily","Consolas, 'Courier New', monospace"):"Consolas, 'Courier New', monospace",a=s?s.get("fontSize",14):14,c=!n&&e;if(t){this.logger.logInformation("Searching for token colors ...");const s=await this.findTokenColors(t),l=await this.findBaseColors(t);if(s&&o&&a)this.logger.logInformation("Using colors to generate CSS ..."),i=r({tokenColors:s,baseColors:l,fontFamily:o,fontSize:a,isDark:c,defaultStyle:n?"light":void 0});else if(null===s&&o&&a){i=r({fontFamily:o,fontSize:a,isDark:c,defaultStyle:e?"dark":"light"})}}}catch(e){this.logger.logError(e)}return i}getScopes(e){return e&&e.scope?Array.isArray(e.scope)?e.scope:e.scope.toString().split(","):[]}matchTokenColor(e,t){return e.findIndex(e=>{return!!this.getScopes(e).find(e=>null!=e&&e.toString().trim()===t)})}getDefaultColor(e,t){return e?g[`${e}.${t}`]:"var(--override-foreground, var(--vscode-editor-foreground))"}generateCss(e){const t=this.getScopeStyle(e.tokenColors,"comment","comment",e.defaultStyle),n=this.getScopeStyle(e.tokenColors,"constant.numeric","constant",e.defaultStyle),r=this.getScopeStyle(e.tokenColors,"string","string",e.defaultStyle),i=this.getScopeStyle(e.tokenColors,"variable","variable",e.defaultStyle),s=this.getScopeStyle(e.tokenColors,"entity.name.type","entity.name.type",e.defaultStyle);return`\n        :root {\n            --code-comment-color: ${t.color};\n            --code-numeric-color: ${n.color};\n            --code-string-color: ${r.color};\n            --code-variable-color: ${i.color};\n            --code-type-color: ${s.color};\n            --code-font-family: ${e.fontFamily};\n            --code-font-size: ${e.fontSize}px;\n        }\n\n        ${e.defaultStyle?m[e.defaultStyle]:void 0}\n`}generateMonacoThemeObject(e){const t={base:e.isDark?"vs-dark":"vs",inherit:!1,rules:[],colors:{}};if(e.tokenColors&&e.tokenColors.length){const n=new Set;e.tokenColors.forEach(e=>{const r=this.getScopes(e),i=e&&e.settings?e.settings:void 0;r&&i&&r.forEach(e=>{const r=e?e.toString():"";if(!n.has(r)){if(n.add(r),i.foreground&&!p.test(i.foreground)){const e=f.exec(i.foreground);e&&e.length>3?i.foreground=`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:i.foreground=void 0}i.foreground?t.rules.push({token:r,foreground:i.foreground,background:i.background,fontStyle:i.fontStyle}):t.rules.push({token:r,background:i.background,fontStyle:i.fontStyle}),"comment"===r&&t.rules.push({token:"punctuation.definition.comment",foreground:i.foreground,background:i.background,fontStyle:i.fontStyle}),"string"===r&&t.rules.push({token:"punctuation.definition.string",foreground:i.foreground,background:i.background,fontStyle:i.fontStyle})}})}),t.rules=t.rules.sort((e,t)=>e.token.localeCompare(t.token))}else t.base="dark"===e.defaultStyle?"vs-dark":"vs",t.inherit=!0,e.defaultStyle&&(t.rules.push({token:"punctuation.definition.comment",foreground:g[`${e.defaultStyle}.comment`]}),t.rules.push({token:"punctuation.definition.string",foreground:g[`${e.defaultStyle}.string`]}));if(e.baseColors){Object.keys(e.baseColors).forEach(n=>{const r=e.baseColors&&e.baseColors[n]?e.baseColors[n]:"#000000";t.colors[n]=r?r.toString():"#000000"})}return t}};y=r([o.injectable(),i(0,o.inject(l.IWorkspaceService)),i(1,o.inject(h.IThemeFinder)),i(2,o.inject(u.IConfigurationService)),i(3,o.inject(u.ILogger))],y),t.CodeCssGenerator=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(3),a=n(2),c=n(4),l=n(13),u=n(6),d=n(1),h=n(12),p=n(16),f=n(24),m=n(9),g=n(15),y=n(371),v=n(19),_=n(231),b=n(981),S=n(372);let w=class extends _.WebViewHost{constructor(e,t,n,r,i,s,c){super(t,e,n,r,i,(e,t,n)=>new b.DataViewerMessageListener(e,t,n),o.join(l.EXTENSION_ROOT_DIR,"out","datascience-ui","data-explorer","index_bundle.js"),h.DataScience.dataExplorerTitle(),a.ViewColumn.One),this.variableManager=s,this.applicationShell=c,this.pendingRowsCount=0}async showVariable(e,t){if(!this.isDisposed){this.notebook=t,this.variable=await this.prepVariable(e,t);let n=`${h.DataScience.dataExplorerTitle()} - ${e.name}`;const r=40;n.length>r&&(n=`${n.substr(0,r)}...`),super.setTitle(n),await super.show(!0),this.postMessage(S.DataViewerMessages.InitializeData,this.variable).ignoreErrors()}}onMessage(e,t){switch(e){case S.DataViewerMessages.GetAllRowsRequest:this.getAllRows().ignoreErrors();break;case S.DataViewerMessages.GetRowsRequest:this.getRowChunk(t).ignoreErrors()}super.onMessage(e,t)}async prepVariable(e,t){this.rowsTimer=new f.StopWatch;const n=await this.variableManager.getDataFrameInfo(e,t);try{m.sendTelemetryEvent(g.Telemetry.ShowDataViewer,0,{rows:n.rowCount?n.rowCount:0,columns:n.columns?n.columns.length:0}),this.pendingRowsCount=n.rowCount?n.rowCount:0}catch(e){p.noop()}return n}async getAllRows(){return this.wrapRequest(async()=>{if(this.variable&&this.variable.rowCount&&this.notebook){const e=await this.variableManager.getDataFrameRows(this.variable,this.notebook,0,this.variable.rowCount);return this.pendingRowsCount=0,this.postMessage(S.DataViewerMessages.GetAllRowsResponse,e)}})}getRowChunk(e){return this.wrapRequest(async()=>{if(this.variable&&this.variable.rowCount&&this.notebook){const t=await this.variableManager.getDataFrameRows(this.variable,this.notebook,e.start,Math.min(e.end,this.variable.rowCount));return this.postMessage(S.DataViewerMessages.GetRowsResponse,{rows:t,start:e.start,end:e.end})}})}async wrapRequest(e){try{return await e()}catch(e){if(e instanceof y.JupyterDataRateLimitError){u.traceError(e);const t=h.DataScience.pythonInteractiveHelpLink();this.applicationShell.showErrorMessage(e.toString(),t).then(e=>{e===t&&this.applicationShell.openUrl(g.HelpLinks.JupyterDataRateHelpLink)}),this.dispose()}u.traceError(e),this.applicationShell.showErrorMessage(e)}finally{this.sendElapsedTimeTelemetry()}}sendElapsedTimeTelemetry(){this.rowsTimer&&0===this.pendingRowsCount&&m.sendTelemetryEvent(g.Telemetry.ShowDataViewer,this.rowsTimer.elapsedTime)}};w=r([s.injectable(),i(0,s.inject(c.IWebPanelProvider)),i(1,s.inject(d.IConfigurationService)),i(2,s.inject(v.ICodeCssGenerator)),i(3,s.inject(v.IThemeFinder)),i(4,s.inject(c.IWorkspaceService)),i(5,s.inject(v.IJupyterVariables)),i(6,s.inject(c.IApplicationShell))],w),t.DataViewer=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);t.DataViewerMessageListener=class{constructor(e,t,n){this.disposedCallback=n,this.callback=e,this.viewChanged=t}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}onChangeViewState(e){this.viewChanged&&this.viewChanged(e)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(20),a=n(1),c=n(12),l=n(16),u=n(10),d=n(19);let h=class{constructor(e,t,n,r,i){this.serviceContainer=e,this.variables=n,this.pythonFactory=r,this.jupyterExecution=i,this.activeExplorers=[],t.push(this)}async dispose(){await Promise.all(this.activeExplorers.map(e=>e.dispose()))}async create(e,t){const n=await this.variables.getVariables(t),r=n.findIndex(t=>t&&t.name===e);if(r>=0){const e=this.serviceContainer.get(d.IDataViewer);return this.activeExplorers.push(e),await e.showVariable(n[r],t),e}throw new Error(c.DataScience.dataExplorerInvalidVariableFormat().format(e))}async getPandasVersion(){const e=await this.jupyterExecution.getUsableJupyterPython(),t=await this.pythonFactory.createActivatedEnvironment({resource:void 0,interpreter:e,allowEnvironmentFetchExceptions:!0});try{const e=await t.exec(["-c","import pandas;print(pandas.__version__)"],{throwOnStdErr:!0}),n=/^\s*(\d+)\.(\d+)\.(.+)\s*$/.exec(e.stdout);if(n&&n.length>2){return{major:parseInt(n[1],10),minor:parseInt(n[2],10),build:parseInt(n[3],10)}}}catch(e){l.noop()}}};h=r([s.injectable(),i(0,s.inject(u.IServiceContainer)),i(1,s.inject(a.IAsyncDisposableRegistry)),i(2,s.inject(d.IJupyterVariables)),i(3,s.inject(o.IPythonExecutionFactory)),i(4,s.inject(d.IJupyterExecution))],h),t.DataViewerProvider=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(45),a=n(2),c=n(4),l=n(13),u=n(104),d=n(6),h=n(1),p=n(31),f=n(12),m=n(10),g=n(9),y=n(105),v=n(15),_=n(19);let b=class{constructor(e,t,n,r,i,s,a,c,l,d,p,m){this.serviceContainer=e,this.commandManager=t,this.disposableRegistry=n,this.extensionContext=r,this.dataScienceCodeLensProvider=i,this.configuration=s,this.documentManager=a,this.appShell=c,this.workspace=l,this.commandListeners=d,this.notebookProvider=p,this.debugService=m,this.isDisposed=!1,this.startTime=Date.now(),this.validateURI=e=>{try{new o.URL(e)}catch(e){return f.DataScience.jupyterSelectURIInvalidURI()}return null},this.onSettingsChanged=()=>{const e=this.configuration.getSettings(),t=e.datascience.enabled;let n=new u.ContextKey(v.EditorContexts.DataScienceEnabled,this.commandManager);n.set(t).catch();const r=e.datascience.sendSelectionToInteractiveWindow;(n=new u.ContextKey(v.EditorContexts.OwnsSelection,this.commandManager)).set(r&&t).catch()},this.dataScienceSurveyBanner=this.serviceContainer.get(h.IPythonExtensionBanner,h.BANNER_NAME_DS_SURVEY)}get activationStartTime(){return this.startTime}async activate(){this.registerCommands(),this.extensionContext.subscriptions.push(a.languages.registerCodeLensProvider(l.PYTHON_ALLFILES,this.dataScienceCodeLensProvider)),this.onSettingsChanged(),this.changeHandler=this.configuration.getSettings().onDidChange(this.onSettingsChanged.bind(this)),this.disposableRegistry.push(this),this.disposableRegistry.push(this.documentManager.onDidChangeActiveTextEditor(()=>this.onChangedActiveTextEditor())),this.onChangedActiveTextEditor(),this.sendSettingsTelemetry().ignoreErrors(),this.sendStartupTelemetry()}async dispose(){this.changeHandler&&(this.changeHandler.dispose(),this.changeHandler=void 0)}async runFileInteractive(e){this.dataScienceSurveyBanner.showBanner().ignoreErrors();let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.runFileInteractive():Promise.resolve()}async debugFileInteractive(e){this.dataScienceSurveyBanner.showBanner().ignoreErrors();let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.debugFileInteractive():Promise.resolve()}async runAllCells(e){this.dataScienceSurveyBanner.showBanner().ignoreErrors();let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.runAllCells():Promise.resolve()}async runCell(e,t,n,r,i){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const s=this.getCodeWatcher(e);if(s)return s.runCell(new a.Range(t,n,r,i))}async runAllCellsAbove(e,t,n){if(this.dataScienceSurveyBanner.showBanner().ignoreErrors(),e){const r=this.getCodeWatcher(e);if(r)return r.runAllCellsAbove(t,n)}}async runCellAndAllBelow(e,t,n){if(this.dataScienceSurveyBanner.showBanner().ignoreErrors(),e){const r=this.getCodeWatcher(e);if(r)return r.runCellAndAllBelow(t,n)}}async runToLine(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeWatcher(),t=this.documentManager.activeTextEditor;if(e&&t&&t.selection)return e.runToLine(t.selection.start.line)}async runFromLine(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeWatcher(),t=this.documentManager.activeTextEditor;if(e&&t&&t.selection)return e.runFromLine(t.selection.start.line)}async runCurrentCell(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeWatcher();return e?e.runCurrentCell():Promise.resolve()}async runCurrentCellAndAdvance(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeWatcher();return e?e.runCurrentCellAndAdvance():Promise.resolve()}async runSelectionOrLine(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeWatcher();return e?e.runSelectionOrLine(this.documentManager.activeTextEditor):Promise.resolve()}async selectJupyterURI(){const e=[f.DataScience.jupyterSelectURILaunchLocal(),f.DataScience.jupyterSelectURISpecifyURI()];switch(await this.appShell.showQuickPick(e,{ignoreFocusOut:!0})){case f.DataScience.jupyterSelectURILaunchLocal():return this.setJupyterURIToLocal();case f.DataScience.jupyterSelectURISpecifyURI():return this.selectJupyterLaunchURI()}}async debugCell(e,t,n,r,i){if(this.dataScienceSurveyBanner.showBanner().ignoreErrors(),e){const s=this.getCodeWatcher(e);if(s)return s.debugCell(new a.Range(t,n,r,i))}}async debugStepOver(){this.dataScienceSurveyBanner.showBanner().ignoreErrors(),this.debugService.activeDebugSession&&this.commandManager.executeCommand("workbench.action.debug.stepOver")}async debugStop(){this.dataScienceSurveyBanner.showBanner().ignoreErrors(),this.debugService.activeDebugSession&&this.commandManager.executeCommand("workbench.action.debug.stop")}async debugContinue(){this.dataScienceSurveyBanner.showBanner().ignoreErrors(),this.debugService.activeDebugSession&&this.commandManager.executeCommand("workbench.action.debug.continue")}async setJupyterURIToLocal(){await this.configuration.updateSetting("dataScience.jupyterServerURI",v.Settings.JupyterServerLocalLaunch,void 0,a.ConfigurationTarget.Workspace)}async selectJupyterLaunchURI(){const e=await this.appShell.showInputBox({prompt:f.DataScience.jupyterSelectURIPrompt(),placeHolder:"https://hostname:8080/?token=849d61a414abafab97bc4aab1f3547755ddc232c2b8cb7fe",validateInput:this.validateURI,ignoreFocusOut:!0});e&&await this.configuration.updateSetting("dataScience.jupyterServerURI",e,void 0,a.ConfigurationTarget.Workspace)}async addCellBelow(){const e=this.documentManager.activeTextEditor,t=this.getCurrentCodeWatcher();if(e&&t)return t.addEmptyCellToBottom()}async runCurrentCellAndAddBelow(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeWatcher();return e?e.runCurrentCellAndAddBelow():Promise.resolve()}getCurrentCodeLens(){const e=this.documentManager.activeTextEditor,t=this.getCurrentCodeWatcher();if(e&&t)return t.getCodeLenses().find(t=>t.range.end.line>=e.selection.anchor.line&&t.range.start.line<=e.selection.anchor.line)}async runAllCellsAboveFromCursor(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeLens();if(!e)return Promise.resolve();{const t=this.getCurrentCodeWatcher();if(t)return t.runAllCellsAbove(e.range.start.line,e.range.start.character)}}async runCellAndAllBelowFromCursor(){this.dataScienceSurveyBanner.showBanner().ignoreErrors();const e=this.getCurrentCodeLens();if(!e)return Promise.resolve();{const t=this.getCurrentCodeWatcher();if(t)return t.runCellAndAllBelow(e.range.start.line,e.range.start.character)}}async debugCurrentCellFromCursor(){if(this.dataScienceSurveyBanner.showBanner().ignoreErrors(),!this.getCurrentCodeLens())return Promise.resolve();{const e=this.getCurrentCodeWatcher();if(e)return e.debugCurrentCell()}}getCodeWatcher(e){const t=this.documentManager.textDocuments.filter(t=>t.fileName===e);if(t&&1===t.length)return this.dataScienceCodeLensProvider.getCodeWatcher(t[0]);if(t&&t.length>1)throw new Error(f.DataScience.documentMismatch().format(e))}getCurrentCodeWatcher(){const e=this.documentManager.activeTextEditor;if(e&&e.document)return this.dataScienceCodeLensProvider.getCodeWatcher(e.document)}registerCommands(){let e=this.commandManager.registerCommand(v.Commands.RunAllCells,this.runAllCells,this);this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunCell,this.runCell,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunCurrentCell,this.runCurrentCell,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunCurrentCellAdvance,this.runCurrentCellAndAdvance,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.ExecSelectionInInteractiveWindow,this.runSelectionOrLine,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.SelectJupyterURI,this.selectJupyterURI,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunAllCellsAbove,this.runAllCellsAbove,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunCellAndAllBelow,this.runCellAndAllBelow,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunAllCellsAbovePalette,this.runAllCellsAboveFromCursor,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunCellAndAllBelowPalette,this.runCellAndAllBelowFromCursor,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunToLine,this.runToLine,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunFromLine,this.runFromLine,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunFileInInteractiveWindows,this.runFileInteractive,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.DebugFileInInteractiveWindows,this.debugFileInteractive,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.AddCellBelow,this.addCellBelow,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.RunCurrentCellAndAddBelow,this.runCurrentCellAndAddBelow,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.DebugCell,this.debugCell,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.DebugStepOver,this.debugStepOver,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.DebugContinue,this.debugContinue,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.DebugStop,this.debugStop,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.DebugCurrentCellPalette,this.debugCurrentCellFromCursor,this),this.disposableRegistry.push(e),e=this.commandManager.registerCommand(v.Commands.CreateNewNotebook,this.createNewNotebook,this),this.disposableRegistry.push(e),this.commandListeners&&this.commandListeners.forEach(e=>{e.register(this.commandManager)})}onChangedActiveTextEditor(){const e=new u.ContextKey(v.EditorContexts.HasCodeCells,this.commandManager),t=this.documentManager.activeTextEditor;t&&t.document.languageId===l.PYTHON_LANGUAGE?e.set(y.hasCells(t.document,this.configuration.getSettings().datascience)).catch():e.set(!1).catch()}async sendSettingsTelemetry(){try{const e=this.configuration.getSettings().datascience,t=this.workspace.getConfiguration("python");if(t){const n=Object.keys(e),r={};for(const i of n){const n=e[i];if("string"==typeof n){const e=t.inspect(`dataScience.${i}`);e&&e.defaultValue!==n?r[i]="non-default":r[i]="default"}else r[i]=n}g.sendTelemetryEvent(v.Telemetry.DataScienceSettings,0,r)}}catch(e){d.traceError(e)}}sendStartupTelemetry(){const e=this.workspace.getConfiguration("files");g.sendTelemetryEvent(v.Telemetry.AutoSaveEnabled,void 0,{enabled:"off"!==e.get("autoSave","off")})}async createNewNotebook(){await this.notebookProvider.createNew()}};r([g.captureTelemetry(v.Telemetry.SelectJupyterURI)],b.prototype,"selectJupyterURI",null),r([g.captureTelemetry(v.Telemetry.DebugStepOver)],b.prototype,"debugStepOver",null),r([g.captureTelemetry(v.Telemetry.DebugStop)],b.prototype,"debugStop",null),r([g.captureTelemetry(v.Telemetry.DebugContinue)],b.prototype,"debugContinue",null),r([g.captureTelemetry(v.Telemetry.SetJupyterURIToLocal)],b.prototype,"setJupyterURIToLocal",null),r([g.captureTelemetry(v.Telemetry.SetJupyterURIToUserSpecified)],b.prototype,"selectJupyterLaunchURI",null),r([g.captureTelemetry(v.Telemetry.AddCellBelow)],b.prototype,"addCellBelow",null),r([p.debounceAsync(1)],b.prototype,"sendSettingsTelemetry",null),r([p.swallowExceptions("Error in sending DS Startup telemetry")],b.prototype,"sendStartupTelemetry",null),b=r([s.injectable(),i(0,s.inject(m.IServiceContainer)),i(1,s.inject(c.ICommandManager)),i(2,s.inject(h.IDisposableRegistry)),i(3,s.inject(h.IExtensionContext)),i(4,s.inject(_.IDataScienceCodeLensProvider)),i(5,s.inject(h.IConfigurationService)),i(6,s.inject(c.IDocumentManager)),i(7,s.inject(c.IApplicationShell)),i(8,s.inject(c.IWorkspaceService)),i(9,s.multiInject(_.IDataScienceCommandListener)),i(9,s.optional()),i(10,s.inject(_.INotebookEditorProvider)),i(11,s.inject(c.IDebugService))],b),t.DataScience=b},function(e,t,n){var r=n(58);e.exports=function(){return r.randomBytes(16)}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(1),l=n(987);let u=class{constructor(e,t){this.activeTrackers=new Map,this.updatedEmitter=new o.EventEmitter,t.push(e.registerDebugAdapterTrackerFactory("python",this))}createDebugAdapterTracker(e){const t=new l.DebugLocationTracker(e.id);return this.activeTrackers.set(e.id,t),t.sessionEnded(this.onSessionEnd.bind(this)),t.debugLocationUpdated(this.onLocationUpdated.bind(this)),this.onLocationUpdated(),t}get updated(){return this.updatedEmitter.event}getLocation(e){const t=this.activeTrackers.get(e.id);if(t)return t.debugLocation}onSessionEnd(e){this.activeTrackers.delete(e.sessionId)}onLocationUpdated(){this.updatedEmitter.fire()}};u=r([s.injectable(),i(0,s.inject(a.IDebugService)),i(1,s.inject(c.IDisposableRegistry))],u),t.DebugLocationTrackerFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.DebugLocationTracker=class{constructor(e){this._sessionId=e,this.waitingForStackTrace=!1,this.debugLocationUpdatedEvent=new r.EventEmitter,this.sessionEndedEmitter=new r.EventEmitter,this.DebugLocation=void 0}get sessionId(){return this._sessionId}get sessionEnded(){return this.sessionEndedEmitter.event}get debugLocationUpdated(){return this.debugLocationUpdatedEvent.event}get debugLocation(){return this._debugLocation}onDidSendMessage(e){if(this.isStopEvent(e)&&(this.waitingForStackTrace=!0),this.isContinueEvent(e)&&(this.DebugLocation=void 0,this.waitingForStackTrace=!1),this.waitingForStackTrace){const t=this.getStackTrace(e);t&&(this.DebugLocation=t,this.waitingForStackTrace=!1)}}onWillStopSession(){this.sessionEndedEmitter.fire(this)}set DebugLocation(e){const t=this._debugLocation;this._debugLocation=e,this._debugLocation!==t&&this.debugLocationUpdatedEvent.fire()}isStopEvent(e){return"event"===e.type&&"stopped"===e.event}getStackTrace(e){if("response"===e.type){const t=e;if("stackTrace"===t.command){const e=t.body;if(e.stackFrames.length>0)return{lineNumber:e.stackFrames[0].line,fileName:this.normalizeFilePath(e.stackFrames[0].source.path),column:e.stackFrames[0].column}}}}normalizeFilePath(e){return"win32"!==process.platform?e.replace(/\\/g,"/"):e}isContinueEvent(e){if("event"===e.type){if("continue"===e.event)return!0}else if("response"===e.type&&"continue"===e.command)return!0;return!1}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(361),o=n(0),a=n(2),c=n(4),l=n(6),u=n(8),d=n(1),h=n(16),p=n(94),f=n(82),m=n(15),g=n(44),y=n(19);let v=class{constructor(e,t,n,r,i){this.documentManager=e,this.configService=t,this.debugService=n,this.fileSystem=r,this.listeners=i,this.postEmitter=new a.EventEmitter,this.hashes=new Map,this.executionCount=0,this.updateEventEmitter=new a.EventEmitter,this.documentManager.onDidChangeTextDocument(this.onChangedDocument.bind(this))}dispose(){this.hashes.clear()}get updated(){return this.updateEventEmitter.event}get postMessage(){return this.postEmitter.event}onMessage(e,t){switch(e){case g.InteractiveWindowMessages.AddedSysInfo:if(t&&t.type){t.type!==g.SysInfoReason.Interrupt&&(this.hashes.clear(),this.executionCount=0,this.updateEventEmitter.fire())}}}getHashes(){return[...this.hashes.entries()].map(e=>({file:e[0],hashes:e[1].filter(e=>!e.deleted)})).filter(e=>e.hashes.length>0)}async preExecute(e,t){try{if(!t){const t=this.extractExecutableLines(e.data.source);t.length>0&&t.find(e=>e.trim().length>0)&&(this.executionCount+=1,e.file!==m.Identifiers.EmptyFileName&&await this.addCellHash(e,this.executionCount))}}catch(e){l.traceError(e)}}async postExecute(e,t){h.noop()}onChangedDocument(e){const t=this.hashes.get(e.document.fileName);if(t){const n=e.document.getText();e.contentChanges.forEach(e=>{this.handleContentChange(n,e,t)})}}extractExecutableLines(e){const t=new p.CellMatcher(this.configService.getSettings().datascience),n=f.splitMultilineString(e);return n.length>0&&(t.isCode(n[0])||t.isMarkdown(n[0]))?n.slice(1):n}handleContentChange(e,t,n){const r=t.range.start.line-t.range.end.line+t.text.split("\n").length-1,i=t.text.length-t.rangeLength,s=t.rangeLength<=0?t.rangeOffset:t.rangeOffset+t.rangeLength-1;n.forEach(n=>{n.endOffset<t.rangeOffset||(n.startOffset>s?(n.line+=r,n.endLine+=r,n.startOffset+=i,n.endOffset+=i):n.startOffset===s?n.deleted||t.rangeLength>0||0===r?n.deleted=e.substr(n.startOffset,n.endOffset-n.startOffset)!==n.realCode:(n.line+=r,n.endLine+=r,n.startOffset+=i,n.endOffset+=i):n.deleted=e.substr(n.startOffset,n.endOffset-n.startOffset)!==n.realCode)})}async addCellHash(e,t){const n=this.documentManager.textDocuments.find(t=>this.fileSystem.arePathsSame(t.fileName,e.file));if(n){const r=f.splitMultilineString(e.data.source),i=this.extractExecutableLines(e.data.source);let o=e.line;for(let e=0;e<i.length;e+=1)if(i[e]!==r[e]){o+=e+1;break}const c=n.lineAt(o),u=n.lineAt(Math.min(o+i.length-1,n.lineCount-1)),d=n.offsetAt(new a.Position(e.line,0)),h=n.offsetAt(u.rangeIncludingLineBreak.end);let p=i[i.length-1];for(;void 0!==p&&(0===p.length||"\n"===p);)i.splice(i.length-1,1),p=i[i.length-1];!p.endsWith("\n")&&p.length>0&&(i[i.length-1]=`${p}\n`);const m=this.adjustRuntimeForDebugging(e,i,d,h),g=i.join(""),y=n.getText(new a.Range(new a.Position(e.line,0),u.rangeIncludingLineBreak.end)),v={hash:s.sha1().update(g).digest("hex").substr(0,12),line:c.lineNumber+1,endLine:u.lineNumber+1,executionCount:t,startOffset:d,endOffset:h,deleted:!1,code:g,realCode:y,runtimeLine:m,id:e.id};l.traceInfo(`Adding hash for ${t} = ${v.hash} with ${i.length} lines`);let _=this.hashes.get(e.file);_||(_=[]);let b=!1;for(let e=0;e<_.length&&!b;e+=1){const t=_[e];v.line>=t.line&&v.line<=t.endLine?(_.splice(e,1,v),b=!0):t.line>v.line&&(_.splice(e,0,v),b=!0)}if(b||_.push(v),this.hashes.set(e.file,_),this.listeners){const e=this.getHashes();await Promise.all(this.listeners.map(t=>t.hashesUpdated(e))),this.updateEventEmitter.fire()}}}adjustRuntimeForDebugging(e,t,n,r){return this.debugService.activeDebugSession&&this.configService.getSettings().datascience.stopOnFirstLineWhileDebugging?(t.splice(0,0,"breakpoint()\n"),e.data.source=t,e.extraLines=[0],2):1}};v=r([o.injectable(),i(0,o.inject(c.IDocumentManager)),i(1,o.inject(d.IConfigurationService)),i(2,o.inject(c.IDebugService)),i(3,o.inject(u.IFileSystem)),i(4,o.multiInject(y.ICellHashListener)),i(4,o.optional())],v),t.CellHashProvider=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(6),c=n(8),l=n(1),u=n(12),d=n(16),h=n(105),p=n(15),f=n(44),m=n(19);let g=class{constructor(e,t,n){this.configService=e,this.hashProvider=t,this.fileSystem=n,this.updateEvent=new o.EventEmitter,this.postEmitter=new o.EventEmitter,this.cellExecutionCounts=new Map,t.updated(this.hashesUpdated.bind(this))}dispose(){d.noop()}get postMessage(){return this.postEmitter.event}onMessage(e,t){switch(e){case f.InteractiveWindowMessages.FinishCell:const n=t;n&&n.data&&n.data.execution_count&&this.cellExecutionCounts.set(n.id,n.data.execution_count.toString()),this.updateEvent.fire()}}hashesUpdated(){this.updateEvent.fire()}get updateRequired(){return this.updateEvent.event}createCodeLenses(e){const t=h.generateCellRanges(e,this.configService.getSettings().datascience),n=this.enumerateCommands(),r=this.configService.getSettings().datascience.addGotoCodeLenses?this.hashProvider.getHashes():[],i=[];let s=!0;return t.forEach(t=>{n.forEach(n=>{const r=this.createCodeLens(e,t,n,s);r&&i.push(r)}),this.addExecutionCount(i,e,t.range,r),s=!1}),i}enumerateCommands(){let e;const t=this.configService.getSettings().datascience.codeLenses;e=t?t.split(",").map(e=>e.trim()):p.CodeLensCommands.DefaultDesignLenses;const n=this.configService.getSettings().datascience.debugCodeLenses;return e=n?e.concat(n.split(",").map(e=>e.trim())):e.concat(p.CodeLensCommands.DefaultDebuggingLenses)}createCodeLens(e,t,n,r){const{range:i,cell_type:s}=t;switch(n){case p.Commands.RunCurrentCellAndAddBelow:return this.generateCodeLens(i,p.Commands.RunCurrentCellAndAddBelow,u.DataScience.runCurrentCellAndAddBelow());case p.Commands.AddCellBelow:return this.generateCodeLens(i,p.Commands.AddCellBelow,u.DataScience.addCellBelowCommandTitle(),[e.fileName,i.start.line]);case p.Commands.DebugCurrentCellPalette:return this.generateCodeLens(i,p.Commands.DebugCurrentCellPalette,u.DataScience.debugCellCommandTitle());case p.Commands.DebugCell:if("code"!==s)break;return this.generateCodeLens(i,p.Commands.DebugCell,u.DataScience.debugCellCommandTitle(),[e.fileName,i.start.line,i.start.character,i.end.line,i.end.character]);case p.Commands.DebugStepOver:if("code"!==s)break;return this.generateCodeLens(i,p.Commands.DebugStepOver,u.DataScience.debugStepOverCommandTitle());case p.Commands.DebugContinue:if("code"!==s)break;return this.generateCodeLens(i,p.Commands.DebugContinue,u.DataScience.debugContinueCommandTitle());case p.Commands.DebugStop:if("code"!==s)break;return this.generateCodeLens(i,p.Commands.DebugStop,u.DataScience.debugStopCommandTitle());case p.Commands.RunCurrentCell:case p.Commands.RunCell:return this.generateCodeLens(i,p.Commands.RunCell,u.DataScience.runCellLensCommandTitle(),[e.fileName,i.start.line,i.start.character,i.end.line,i.end.character]);case p.Commands.RunAllCells:return this.generateCodeLens(i,p.Commands.RunAllCells,u.DataScience.runAllCellsLensCommandTitle(),[e.fileName,i.start.line,i.start.character]);case p.Commands.RunAllCellsAbovePalette:case p.Commands.RunAllCellsAbove:return r?this.generateCodeLens(i,p.Commands.RunCellAndAllBelow,u.DataScience.runCellAndAllBelowLensCommandTitle(),[e.fileName,i.start.line,i.start.character]):this.generateCodeLens(i,p.Commands.RunAllCellsAbove,u.DataScience.runAllCellsAboveLensCommandTitle(),[e.fileName,i.start.line,i.start.character]);case p.Commands.RunCellAndAllBelowPalette:case p.Commands.RunCellAndAllBelow:return this.generateCodeLens(i,p.Commands.RunCellAndAllBelow,u.DataScience.runCellAndAllBelowLensCommandTitle(),[e.fileName,i.start.line,i.start.character]);default:a.traceWarning(`Invalid command for code lens ${n}`)}}addExecutionCount(e,t,n,r){const i=r.find(e=>this.fileSystem.arePathsSame(e.file,t.fileName));if(i){const r=i.hashes.filter(e=>e.line-2===n.start.line);if(r&&r.length){const i=r[r.length-1];this.cellExecutionCounts.has(i.id)&&e.push(this.generateCodeLens(n,p.Commands.ScrollToCell,u.DataScience.scrollToCellTitleFormatMessage().format(this.cellExecutionCounts.get(i.id)),[t.fileName,i.id]))}}}generateCodeLens(e,t,n,r){return new o.CodeLens(e,this.generateCommand(t,n,r))}generateCommand(e,t,n){return{arguments:n,title:t,command:e}}};g=r([s.injectable(),i(0,s.inject(l.IConfigurationService)),i(1,s.inject(m.ICellHashProvider)),i(2,s.inject(c.IFileSystem))],g),t.CodeLensFactory=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(104),l=n(8),u=n(1),d=n(24),h=n(10),p=n(9),f=n(15),m=n(19);let g=class{constructor(e,t,n,r,i,s,a,c){this.serviceContainer=e,this.debugLocationTracker=t,this.documentManager=n,this.configuration=r,this.commandManager=i,this.debugService=a,this.fileSystem=c,this.totalExecutionTimeInMs=0,this.totalGetCodeLensCalls=0,this.activeCodeWatchers=[],this.didChangeCodeLenses=new o.EventEmitter,s.push(this),s.push(this.debugService.onDidChangeActiveDebugSession(this.onChangeDebugSession.bind(this))),s.push(this.documentManager.onDidCloseTextDocument(this.onDidCloseTextDocument.bind(this))),s.push(this.debugLocationTracker.updated(this.onDebugLocationUpdated.bind(this)))}dispose(){this.totalGetCodeLensCalls>0&&p.sendTelemetryEvent(f.Telemetry.CodeLensAverageAcquisitionTime,this.totalExecutionTimeInMs/this.totalGetCodeLensCalls)}get onDidChangeCodeLenses(){return this.didChangeCodeLenses.event}provideCodeLenses(e,t){return this.getCodeLensTimed(e)}getCodeWatcher(e){return this.matchWatcher(e.fileName,e.version,this.configuration.getSettings().datascience)}onDebugLocationUpdated(){this.didChangeCodeLenses.fire()}onChangeDebugSession(e){this.didChangeCodeLenses.fire()}onDidCloseTextDocument(e){const t=this.activeCodeWatchers.findIndex(t=>t.getFileName()===e.fileName);t>=0&&this.activeCodeWatchers.splice(t,1)}getCodeLensTimed(e){const t=new d.StopWatch,n=this.getCodeLens(e);this.totalExecutionTimeInMs+=t.elapsedTime,this.totalGetCodeLensCalls+=1,new c.ContextKey(f.EditorContexts.HasCodeCells,this.commandManager).set(n&&n.length>0).catch();const r=this.configuration.getSettings();return r.datascience.enabled&&r.datascience.enableCellCodeLens?this.adjustDebuggingLenses(e,n):(this.activeCodeWatchers.length>0&&(this.activeCodeWatchers=[]),[])}adjustDebuggingLenses(e,t){const n=f.CodeLensCommands.DebuggerCommands;if(!this.debugService.activeDebugSession)return t.filter(e=>!!e.command&&!n.includes(e.command.command));{const r=this.debugLocationTracker.getLocation(this.debugService.activeDebugSession);if(r&&this.fileSystem.arePathsSame(r.fileName,e.uri.fsPath)){return t.filter(e=>{const t=new o.Position(r.lineNumber-1,r.column-1);return e.range.contains(t)}).filter(e=>!!e.command&&n.includes(e.command.command))}}return[]}getCodeLens(e){const t=this.matchWatcher(e.fileName,e.version,this.configuration.getSettings().datascience);return t?t.getCodeLenses():this.createNewCodeWatcher(e).getCodeLenses()}matchWatcher(e,t,n){const r=this.activeCodeWatchers.findIndex(t=>t.getFileName()===e);if(r>=0){const e=this.activeCodeWatchers[r];if(e.getVersion()===t){if(JSON.stringify(n)===JSON.stringify(e.getCachedSettings()))return e}this.activeCodeWatchers.splice(r,1)}const i=this.documentManager.textDocuments.filter(t=>t.fileName===e);if(i&&i.length>0)return this.createNewCodeWatcher(i[0])}createNewCodeWatcher(e){const t=this.serviceContainer.get(m.ICodeWatcher);return t.setDocument(e),t.codeLensUpdated(this.onWatcherUpdated.bind(this)),this.activeCodeWatchers.push(t),t}onWatcherUpdated(){this.didChangeCodeLenses.fire()}};g=r([s.injectable(),i(0,s.inject(h.IServiceContainer)),i(1,s.inject(m.IDebugLocationTracker)),i(2,s.inject(a.IDocumentManager)),i(3,s.inject(u.IConfigurationService)),i(4,s.inject(a.ICommandManager)),i(5,s.inject(u.IDisposableRegistry)),i(6,s.inject(a.IDebugService)),i(7,s.inject(l.IFileSystem))],g),t.DataScienceCodeLensProvider=g},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},s=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),a=n(2),c=n(4),l=n(8),u=n(1),d=n(12),h=n(24),p=n(9),f=n(130),m=n(94),g=n(15),y=n(19);let v=r=class{constructor(e,t,n,r,i,s,o){this.interactiveWindowProvider=e,this.fileSystem=t,this.configService=n,this.documentManager=r,this.executionHelper=i,this.dataScienceErrorHandler=s,this.codeLensFactory=o,this.version=-1,this.fileName="",this.codeLenses=[],this.codeLensUpdatedEvent=new a.EventEmitter}setDocument(e){this.document=e,this.fileName=e.fileName,this.version=e.version,this.cachedSettings=JSON.parse(JSON.stringify(this.configService.getSettings().datascience)),this.codeLenses=this.codeLensFactory.createCodeLenses(e),this.codeLensFactory.updateRequired(this.onCodeLensFactoryUpdated.bind(this))}get codeLensUpdated(){return this.codeLensUpdatedEvent.event}getFileName(){return this.fileName}getVersion(){return this.version}getCachedSettings(){return this.cachedSettings}getCodeLenses(){return this.codeLenses}async debugCurrentCell(){return this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document?this.runMatchingCell(this.documentManager.activeTextEditor.selection,!1,!0):Promise.resolve()}async runAllCells(){const e=this.codeLenses.filter(e=>e.command&&e.command.command===g.Commands.RunCell&&e.command.arguments&&e.command.arguments.length>=5);let t=e.length;for(const n of e){const e=new a.Range(n.command.arguments[1],n.command.arguments[2],n.command.arguments[3],n.command.arguments[4]);if(this.document&&e){const n=this.document.getText(e);if(t-=1,!await this.addCode(n,this.getFileName(),e.start.line)){await this.addErrorMessage(t);break}}}if(0===e.length)return this.runFileInteractiveInternal(!1)}async runFileInteractive(){return this.runFileInteractiveInternal(!1)}async debugFileInteractive(){return this.runFileInteractiveInternal(!0)}async runAllCellsAbove(e,t){const n=this.codeLenses.filter(e=>e.command&&e.command.command===g.Commands.RunCell);let r=n.findIndex(n=>n.range.start.line>=e&&n.range.start.character>=t);r<0&&(r=n.length);for(const e of n){if(!(r>0&&this.document))break;{r-=1;const t=this.document.getText(e.range);if(!await this.addCode(t,this.getFileName(),e.range.start.line)){await this.addErrorMessage(r);break}}}}async runCellAndAllBelow(e,t){const n=this.codeLenses.filter(e=>e.command&&e.command.command===g.Commands.RunCell),r=n.findIndex(n=>n.range.start.line>=e&&n.range.start.character>=t);let i=r>0?n.length-r:n.length;for(let e=r;e>=0&&e<n.length;e+=1)if(i>0&&this.document){const t=n[e];i-=1;const r=this.document.getText(t.range);if(!await this.addCode(r,this.getFileName(),t.range.start.line)){await this.addErrorMessage(i);break}}}async runSelectionOrLine(e){if(this.document&&e&&this.fileSystem.arePathsSame(e.document.fileName,this.document.fileName)){const t=await this.executionHelper.getSelectedTextToExecute(e);if(!t)return;const n=await this.executionHelper.normalizeLines(t);if(!n||0===n.trim().length)return;await this.addCode(n,this.getFileName(),e.selection.start.line,e)}}async runToLine(e){if(this.document&&e>0){const t=this.document.lineAt(e-1),n=this.document.getText(new a.Range(0,0,t.range.end.line,t.range.end.character));n&&n.trim().length&&await this.addCode(n,this.getFileName(),0)}}async runFromLine(e){if(this.document&&e<this.document.lineCount){const t=this.document.lineAt(this.document.lineCount-1),n=this.document.getText(new a.Range(e,0,t.range.end.line,t.range.end.character));n&&n.trim().length&&await this.addCode(n,this.getFileName(),e)}}runCell(e){if(!this.documentManager.activeTextEditor||!this.documentManager.activeTextEditor.document)return Promise.resolve();const t=e.contains(this.documentManager.activeTextEditor.selection.start)&&this.configService.getSettings().datascience.enableAutoMoveToNextCell;return this.runMatchingCell(e,t)}debugCell(e){return this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document?this.runMatchingCell(e,!1,!0):Promise.resolve()}runCurrentCell(){return this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document?this.runMatchingCell(this.documentManager.activeTextEditor.selection,!1):Promise.resolve()}async runCurrentCellAndAdvance(){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(this.documentManager.activeTextEditor.selection,!0)}async addEmptyCellToBottom(){const e=this.documentManager.activeTextEditor,t=this.defaultCellMarker;if(e){e.edit(n=>{n.insert(new a.Position(e.document.lineCount,0),`\n\n${t}\n`)});const n=new a.Position(e.document.lineCount+3,0);return this.advanceToRange(new a.Range(n,n))}}async runCurrentCellAndAddBelow(){if(!this.documentManager.activeTextEditor||!this.documentManager.activeTextEditor.document)return Promise.resolve();const e=this.documentManager.activeTextEditor,t=new m.CellMatcher;let n=0;const r=this.defaultCellMarker;e&&e.edit(i=>{let s=!0;for(let o=e.selection.end.line+1;o<e.document.lineCount;o+=1)if(t.isCell(e.document.lineAt(o).text)){s=!1,n=o,i.insert(new a.Position(o,0),`${r}\n\n`);break}s&&(n=e.document.lineCount,i.insert(new a.Position(e.document.lineCount,0),`\n${r}\n`))});const i=new a.Position(n+1,0);return this.runMatchingCell(e.selection,!1).then(()=>this.advanceToRange(new a.Range(i,i)))}get defaultCellMarker(){return this.configService.getSettings().datascience.defaultCellMarker||g.Identifiers.DefaultCodeCellMarker}onCodeLensFactoryUpdated(){this.document&&(this.codeLenses=this.codeLensFactory.createCodeLenses(this.document)),this.codeLensUpdatedEvent.fire()}async addCode(e,t,n,r,i){let s=!1;try{const o=new h.StopWatch,a=await this.interactiveWindowProvider.getOrCreateActive();s=i?await a.debugCode(e,t,n,r):await a.addCode(e,t,n,r),this.sendPerceivedCellExecute(o)}catch(e){await this.dataScienceErrorHandler.handleError(e)}return s}async addErrorMessage(e){if(e>0){const t=d.DataScience.cellStopOnErrorFormatMessage().format(e.toString());try{return(await this.interactiveWindowProvider.getOrCreateActive()).addMessage(t)}catch(e){await this.dataScienceErrorHandler.handleError(e)}}}sendPerceivedCellExecute(e){e&&(r.sentExecuteCellTelemetry?p.sendTelemetryEvent(g.Telemetry.ExecuteCellPerceivedWarm,e.elapsedTime):(r.sentExecuteCellTelemetry=!0,p.sendTelemetryEvent(g.Telemetry.ExecuteCellPerceivedCold,e.elapsedTime)))}async runMatchingCell(e,t,n){const r=this.getCurrentCellLens(e.start),i=this.getNextCellLens(e.start);if(r){if(t){let e;(e=i?i.range:this.createNewCell(r.range))&&this.advanceToRange(e)}if(this.document){const e=this.document.getText(r.range);await this.addCode(e,this.getFileName(),r.range.start.line,this.documentManager.activeTextEditor,n)}}}getCurrentCellLens(e){return this.codeLenses.find(t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===g.Commands.RunCell)}getNextCellLens(e){const t=this.codeLenses.findIndex(t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===g.Commands.RunCell);if(t>=0)return this.codeLenses.find((e,n)=>void 0!==e.command&&e.command.command===g.Commands.RunCell&&n>t)}async runFileInteractiveInternal(e){if(this.document){const t=this.document.getText();await this.addCode(t,this.getFileName(),0,void 0,e)}}createNewCell(e){const t=this.documentManager.activeTextEditor,n=new a.Position(e.end.line+3,0);return t&&t.edit(t=>{t.insert(new a.Position(e.end.line+1,0),`\n\n${this.defaultCellMarker}\n`)}),new a.Range(n,n)}advanceToRange(e){const t=this.documentManager.activeTextEditor,n=new a.Selection(e.start,e.start);t&&(t.selection=n,t.revealRange(e,a.TextEditorRevealType.Default))}};v.sentExecuteCellTelemetry=!1,i([p.captureTelemetry(g.Telemetry.DebugCurrentCell)],v.prototype,"debugCurrentCell",null),i([p.captureTelemetry(g.Telemetry.RunAllCells)],v.prototype,"runAllCells",null),i([p.captureTelemetry(g.Telemetry.RunFileInteractive)],v.prototype,"runFileInteractive",null),i([p.captureTelemetry(g.Telemetry.DebugFileInteractive)],v.prototype,"debugFileInteractive",null),i([p.captureTelemetry(g.Telemetry.RunAllCellsAbove)],v.prototype,"runAllCellsAbove",null),i([p.captureTelemetry(g.Telemetry.RunAllCellsAbove)],v.prototype,"runCellAndAllBelow",null),i([p.captureTelemetry(g.Telemetry.RunSelectionOrLine)],v.prototype,"runSelectionOrLine",null),i([p.captureTelemetry(g.Telemetry.RunToLine)],v.prototype,"runToLine",null),i([p.captureTelemetry(g.Telemetry.RunFromLine)],v.prototype,"runFromLine",null),i([p.captureTelemetry(g.Telemetry.RunCell)],v.prototype,"runCell",null),i([p.captureTelemetry(g.Telemetry.DebugCurrentCell)],v.prototype,"debugCell",null),i([p.captureTelemetry(g.Telemetry.RunCurrentCell)],v.prototype,"runCurrentCell",null),i([p.captureTelemetry(g.Telemetry.RunCurrentCellAndAdvance)],v.prototype,"runCurrentCellAndAdvance",null),v=r=i([o.injectable(),s(0,o.inject(y.IInteractiveWindowProvider)),s(1,o.inject(l.IFileSystem)),s(2,o.inject(u.IConfigurationService)),s(3,o.inject(c.IDocumentManager)),s(4,o.inject(f.ICodeExecutionHelper)),s(5,o.inject(y.IDataScienceErrorHandler)),s(6,o.inject(y.ICodeLensFactory))],v),t.CodeWatcher=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13),l=n(1),u=n(105);let d=class{constructor(e,t,n){this.documentManager=e,this.configuration=n,this.computeDecorations(),t.push(this),t.push(this.configuration.getSettings().onDidChange(this.settingsChanged,this)),t.push(this.documentManager.onDidChangeActiveTextEditor(this.changedEditor,this)),t.push(this.documentManager.onDidChangeTextEditorSelection(this.changedSelection,this)),t.push(this.documentManager.onDidChangeTextDocument(this.changedDocument,this)),this.settingsChanged()}activate(){return Promise.resolve()}dispose(){this.timer&&clearTimeout(this.timer)}settingsChanged(){this.documentManager.activeTextEditor&&this.triggerUpdate(this.documentManager.activeTextEditor)}changedEditor(e){this.triggerUpdate(e)}changedDocument(e){this.documentManager.activeTextEditor&&e.document===this.documentManager.activeTextEditor.document&&this.triggerUpdate(this.documentManager.activeTextEditor)}changedSelection(e){e.textEditor&&e.textEditor.selection.anchor&&this.triggerUpdate(e.textEditor)}triggerUpdate(e){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>this.update(e),100)}computeDecorations(){this.activeCellTop=this.documentManager.createTextEditorDecorationType({borderColor:new o.ThemeColor("peekView.border"),borderWidth:"2px 0px 0px 0px",borderStyle:"solid",isWholeLine:!0}),this.activeCellBottom=this.documentManager.createTextEditorDecorationType({borderColor:new o.ThemeColor("peekView.border"),borderWidth:"0px 0px 1px 0px",borderStyle:"solid",isWholeLine:!0}),this.cellSeparatorType=this.documentManager.createTextEditorDecorationType({borderColor:new o.ThemeColor("editor.lineHighlightBorder"),borderWidth:"1px 0px 0px 0px",borderStyle:"solid",isWholeLine:!0})}update(e){if(e&&e.document&&e.document.languageId===c.PYTHON_LANGUAGE&&this.activeCellTop&&this.cellSeparatorType&&this.activeCellBottom){const t=this.configuration.getSettings().datascience;if(t.decorateCells&&t.enabled){const t=u.generateCellRanges(e.document,this.configuration.getSettings().datascience),n=t.map(e=>e.range).filter(t=>t.contains(e.selection.anchor)),r=n.length>0?[new o.Range(n[0].start,n[0].start)]:[],i=n.length>0?[new o.Range(n[0].end,n[0].end)]:[];e.setDecorations(this.activeCellTop,r),e.setDecorations(this.activeCellBottom,i);const s=t.map(e=>new o.Range(e.range.start,e.range.start));e.setDecorations(this.cellSeparatorType,s)}else e.setDecorations(this.activeCellTop,[]),e.setDecorations(this.activeCellBottom,[]),e.setDecorations(this.cellSeparatorType,[])}}};d=r([s.injectable(),i(0,s.inject(a.IDocumentManager)),i(1,s.inject(l.IDisposableRegistry)),i(2,s.inject(l.IConfigurationService))],d),t.Decorator=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(156),c=n(125),l=n(1),u=n(12),d=n(16),h=n(9),p=n(15),f=n(162),m=n(232);let g=class{constructor(e,t,n){this.applicationShell=e,this.logger=t,this.channels=n}async handleError(e){if(e instanceof f.JupyterInstallError){h.sendTelemetryEvent(p.Telemetry.JupyterNotInstalledErrorShown);const t=await this.applicationShell.showInformationMessage(e.message,u.DataScience.jupyterInstall(),u.DataScience.notebookCheckForImportNo(),e.actionTitle);if(t===u.DataScience.jupyterInstall()){const e=await this.channels.getInstallationChannels();if(e){const t=e.find(e=>"Conda"===e.name),n=a.ProductNames.get(l.Product.jupyter);t&&n?(h.sendTelemetryEvent(p.Telemetry.UserInstalledJupyter),t.installModule(n).catch(e=>this.applicationShell.showErrorMessage(e.message,u.DataScience.pythonInteractiveHelpLink()))):e[0]&&n&&e[0].installModule(n).catch(e=>this.applicationShell.showErrorMessage(e.message,u.DataScience.pythonInteractiveHelpLink()))}}else t===u.DataScience.notebookCheckForImportNo()?h.sendTelemetryEvent(p.Telemetry.UserDidNotInstallJupyter):t===e.actionTitle&&this.applicationShell.openUrl(e.action)}else e instanceof m.JupyterSelfCertsError?d.noop():e.message?this.applicationShell.showErrorMessage(e.message):this.applicationShell.showErrorMessage(e.toString());this.logger.logError(e)}};g=r([s.injectable(),i(0,s.inject(o.IApplicationShell)),i(1,s.inject(l.ILogger)),i(2,s.inject(c.IInstallationChannelManager))],g),t.DataScienceErrorHandler=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(995),o=n(509),a=n(0),c=n(511),l=n(4),u=n(6),d=n(1),h=n(12),p=n(12),f=n(16),m=n(94),g=n(82),y=n(15),v=n(19);let _=class{constructor(e,t,n,r){this.configService=e,this.applicationShell=t,this.disposables=n,this.commandManager=r,this._enabled=!!this.configService.getSettings().datascience.enableGather,this.dataflowAnalyzer=new s.DataflowAnalyzer,this._executionSlicer=new o.ExecutionLogSlicer(this.dataflowAnalyzer),this._enabled&&this.disposables.push(this.configService.getSettings().onDidChange(e=>this.updateEnableGather(e))),u.traceInfo("Gathering tools have been activated")}async preExecute(e,t){f.noop()}async postExecute(e,t){if(this._enabled&&""!==e.data.source&&!t){const t=c(e),n=new m.CellMatcher(this.configService.getSettings().datascience);t.data.source=n.stripFirstMarker(g.concatMultilineStringInput(e.data.source));const r=S(t);this._executionSlicer.logExecution(r)}}gatherCode(e){const t=S(e);if(void 0===t)return"";const n=this.configService.getSettings().datascience.defaultCellMarker||y.Identifiers.DefaultCodeCellMarker,r=this._executionSlicer.sliceAllExecutions(t),i=r.length>0?r[0].cellSlices.reduce(b,"").replace(/#%%/g,n):"";return"# This file contains the minimal amount of code required to produce the code cell you gathered.\n".concat(i)}get executionSlicer(){return this._executionSlicer}get enabled(){return this._enabled}set enabled(e){this._enabled=e}async updateEnableGather(e){if(this.enabled!==this.configService.getSettings().datascience.enableGather){this.enabled=!!this.configService.getSettings().datascience.enableGather;const e=await this.applicationShell.showInformationMessage(h.DataScience.reloadRequired(),p.Common.reload());if(!e)return;"Reload"===e&&this.commandManager.executeCommand("workbench.action.reloadWindow")}}};function b(e,t){return`${e}#%%\n${t.textSliceLines}\n\n`}function S(e){if("code"===e.data.cell_type){return{id:e.id,gathered:!1,dirty:!1,text:e.data.source,executionCount:e.data.execution_count,executionEventId:e.id,persistentId:e.id,outputs:e.data.outputs,hasError:e.state===v.CellState.error,is_cell:!0}}}_=r([a.injectable(),i(0,a.inject(d.IConfigurationService)),i(1,a.inject(l.IApplicationShell)),i(2,a.inject(d.IDisposableRegistry)),i(3,a.inject(l.ICommandManager))],_),t.GatherExecution=_},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(131)),r(n(106)),r(n(234)),r(n(235)),r(n(233)),r(n(236)),r(n(1004)),r(n(507)),r(n(508)),r(n(509)),r(n(510)),r(n(236))},function(e,t,n){(function(e){var r=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,5],n=[1,57],r=[1,80],i=[1,31],s=[1,83],o=[1,60],a=[1,35],c=[1,36],l=[1,50],u=[1,51],d=[1,52],h=[1,53],p=[1,56],f=[1,55],m=[1,87],g=[1,44],y=[1,45],v=[1,46],_=[1,26],b=[1,27],S=[1,28],w=[1,29],C=[1,30],E=[1,63],T=[1,65],D=[1,74],P=[1,75],k=[1,76],I=[1,81],M=[1,82],x=[1,84],A=[1,88],O=[1,89],L=[1,90],R=[1,91],j=[1,92],F=[1,32],N=[1,61],Y=[5,7,10,12,19,20,31,68,70,76,77,78,79,80,83,88,96,98,100,106,111,112,115,120,126,131,138,164,165,171,178,180,183,186,187,188,189,190,202,207],B=[7,39],H=[1,125],W=[19,202],U=[7,30,39,56,57,58,59,60,61,62,63,64,65,66,67],V=[1,141],$=[1,144],q=[1,145],G=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,112,179,181],z=[7,13,30,39],K=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,179,181],J=[1,152],X=[1,159],Q=[1,157],Z=[1,158],ee=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,134,179,181],te=[1,161],ne=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,134,137,179,181],re=[1,171],ie=[1,172],se=[1,165],oe=[1,166],ae=[1,167],ce=[1,168],le=[1,169],ue=[1,170],de=[1,173],he=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,179,181],pe=[1,175],fe=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,179,181],me=[1,177],ge=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,154,179,181],ye=[1,179],ve=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,154,157,179,181],_e=[1,181],be=[1,182],Se=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,154,157,160,161,179,181],we=[1,184],Ce=[1,185],Ee=[7,13,22,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,154,157,160,161,164,165,179,181],Te=[1,187],De=[1,188],Pe=[1,189],ke=[1,190],Ie=[7,13,22,28,30,31,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,154,157,160,161,164,165,168,169,170,179,181],Me=[7,13,22,28,30,31,32,39,56,57,58,59,60,61,62,63,64,65,66,67,80,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,154,157,160,161,164,165,168,169,170,179,181],xe=[1,197],Ae=[1,199],Oe=[1,198],Le=[7,12,13,22,28,30,31,32,39,56,57,58,59,60,61,62,63,64,65,66,67,80,87,91,106,110,112,113,134,137,138,142,143,144,145,146,147,148,151,154,157,160,161,164,165,168,169,170,178,179,181],Re=[5,7,10,12,19,20,31,68,70,76,77,78,79,80,83,88,96,98,100,106,109,110,111,112,115,116,119,120,126,131,138,164,165,171,178,180,183,186,187,188,189,190,202,207],je=[7,39,113],Fe=[1,224],Ne=[1,227],Ye=[22,28],Be=[12,20,88,131,138,164,165,171,178,180,183,186,187,188,189,190,207],He=[1,238],We=[1,240],Ue=[7,13,22,30,39],Ve=[1,248],$e=[7,28,39],qe=[7,12,28,39,83,91],Ge=[1,251],ze=[20,83],Ke=[12,20,88,164,165,171,178,180,183,186,187,188,189,190],Je=[1,290],Xe=[1,289],Qe=[1,295],Ze=[13,179],et=[1,303],tt=[1,322],nt=[1,336],rt=[1,334],it=[1,335],st=[1,356],ot=[1,359],at=[1,355],ct=[10,19,202],lt=[13,28],ut=[28,179],dt=[1,395],ht=[1,404],pt=[1,403],ft=[22,24],mt=[13,28,30],gt=[7,13,39],yt=[7,13,28,39],vt=[5,7,10,12,19,20,31,68,70,76,77,78,79,80,83,88,96,98,100,106,110,111,112,115,116,120,126,131,138,164,165,171,178,180,183,186,187,188,189,190,202,207],_t=[13,28,179,181],bt=[1,506],St=[1,514],wt=[5,7,10,12,19,20,31,68,70,76,77,78,79,80,83,88,96,98,100,106,110,111,112,115,120,126,131,138,164,165,171,178,180,183,186,187,188,189,190,202,207],Ct=[13,28,106,112,179,181],Et={trace:function(){},yy:{},symbols_:{error:2,expressions:3,file_input:4,EOF:5,file_input0:6,NEWLINE:7,stmt:8,decorator:9,"@":10,dotted_name:11,"(":12,")":13,arglist:14,decorators:15,decorated:16,classdef:17,funcdef:18,def:19,NAME:20,parameters:21,":":22,suite:23,"->":24,test:25,typedargslist:26,typedarglist_part:27,",":28,tfpdef:29,"=":30,"*":31,"**":32,varargslist:33,varargspart:34,vfpdef:35,simple_stmt:36,compound_stmt:37,small_stmt:38,";":39,simple_stmt0:40,expr_stmt:41,del_stmt:42,pass_stmt:43,flow_stmt:44,import_stmt:45,global_stmt:46,nonlocal_stmt:47,assert_stmt:48,testlist_star_expr:49,augassign:50,yield_expr:51,testlist:52,assignlist:53,testlist_star_expr0:54,star_expr:55,"+=":56,"-=":57,"*=":58,"/=":59,"%=":60,"&=":61,"|=":62,"^=":63,"<<=":64,">>=":65,"**=":66,"//=":67,del:68,exprlist:69,pass:70,break_stmt:71,continue_stmt:72,return_stmt:73,raise_stmt:74,yield_stmt:75,break:76,continue:77,return:78,raise:79,from:80,import_name:81,import_from:82,import:83,dotted_as_names:84,import_from_tail:85,import_from0:86,".":87,ELLIPSIS:88,import_as_names:89,import_as_name:90,as:91,dotted_as_name:92,import_as_names0:93,dotted_as_names0:94,dotted_name0:95,global:96,global_stmt0:97,nonlocal:98,nonlocal_stmt0:99,assert:100,if_stmt:101,while_stmt:102,for_stmt:103,try_stmt:104,with_stmt:105,if:106,else_part:107,if_stmt0:108,elif:109,else:110,while:111,for:112,in:113,colon:114,try:115,finally:116,try_excepts:117,except_clause:118,except:119,with:120,with_item:121,with_stmt0:122,expr:123,INDENT:124,suite0:125,DEDENT:126,or_test:127,lambdef:128,test_nocond:129,lambdef_nocond:130,lambda:131,and_test:132,or_test0:133,or:134,not_test:135,and_test0:136,and:137,not:138,comparison:139,comparison0:140,comp_op:141,"<":142,">":143,"==":144,">=":145,"<=":146,"!=":147,is:148,xor_expr:149,expr0:150,"|":151,and_expr:152,xor_expr0:153,"^":154,shift_expr:155,and_expr0:156,"&":157,arith_expr:158,shift_expr0:159,"<<":160,">>":161,term:162,arith_expr0:163,"+":164,"-":165,factor:166,term0:167,"/":168,"%":169,"//":170,"~":171,power:172,atom_expr:173,trailer_list:174,trailer:175,atom:176,testlist_comp:177,"[":178,"]":179,"{":180,"}":181,dictorsetmaker:182,NUMBER:183,string:184,bytes:185,None:186,True:187,False:188,STRING:189,BYTES:190,testlist_comp_tail:191,comp_for:192,testlist_comp_tail0:193,subscriptlist:194,subscript:195,subscriptlist0:196,sliceop:197,exprlist0:198,testlist0:199,dictmaker:200,setmaker:201,class:202,argument:203,arglist0:204,comp_iter:205,comp_if:206,yield:207,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"NEWLINE",10:"@",12:"(",13:")",19:"def",20:"NAME",22:":",24:"->",28:",",30:"=",31:"*",32:"**",39:";",56:"+=",57:"-=",58:"*=",59:"/=",60:"%=",61:"&=",62:"|=",63:"^=",64:"<<=",65:">>=",66:"**=",67:"//=",68:"del",70:"pass",76:"break",77:"continue",78:"return",79:"raise",80:"from",83:"import",87:".",88:"ELLIPSIS",91:"as",96:"global",98:"nonlocal",100:"assert",106:"if",109:"elif",110:"else",111:"while",112:"for",113:"in",115:"try",116:"finally",119:"except",120:"with",124:"INDENT",126:"DEDENT",131:"lambda",134:"or",137:"and",138:"not",142:"<",143:">",144:"==",145:">=",146:"<=",147:"!=",148:"is",151:"|",154:"^",157:"&",160:"<<",161:">>",164:"+",165:"-",168:"/",169:"%",170:"//",171:"~",178:"[",179:"]",180:"{",181:"}",183:"NUMBER",186:"None",187:"True",188:"False",189:"STRING",190:"BYTES",202:"class",207:"yield"},productions_:[0,[3,1],[4,1],[4,2],[6,1],[6,1],[6,2],[6,2],[9,3],[9,5],[9,6],[15,1],[15,2],[16,2],[16,2],[18,5],[18,7],[21,2],[21,3],[26,1],[26,2],[26,3],[27,1],[27,3],[27,1],[27,2],[27,2],[29,1],[29,3],[33,1],[33,2],[33,3],[34,1],[34,3],[34,1],[34,2],[34,2],[35,1],[8,1],[8,1],[36,2],[36,3],[36,3],[40,2],[40,3],[40,3],[38,1],[38,1],[38,1],[38,1],[38,1],[38,1],[38,1],[38,1],[41,1],[41,3],[41,3],[41,2],[53,2],[53,3],[53,2],[53,3],[49,1],[49,2],[49,2],[49,1],[49,2],[49,2],[54,2],[54,3],[54,3],[54,2],[54,3],[54,3],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[42,2],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[71,1],[72,1],[73,1],[73,2],[75,1],[74,1],[74,2],[74,4],[45,1],[45,1],[81,2],[82,4],[82,5],[82,4],[86,1],[86,2],[86,1],[86,2],[85,1],[85,3],[85,1],[90,1],[90,3],[92,1],[92,3],[89,1],[89,2],[89,2],[93,2],[93,3],[93,3],[84,1],[84,2],[94,2],[94,3],[11,1],[11,2],[95,2],[95,3],[46,2],[46,3],[97,2],[97,3],[47,2],[47,3],[99,2],[99,3],[48,2],[48,4],[37,1],[37,1],[37,1],[37,1],[37,1],[37,1],[37,1],[37,1],[101,4],[101,5],[101,5],[101,6],[108,4],[108,5],[107,3],[102,4],[102,7],[103,6],[103,9],[104,6],[104,4],[104,7],[104,7],[104,10],[117,3],[117,4],[118,1],[118,2],[118,4],[105,4],[105,5],[122,2],[122,3],[121,1],[121,3],[23,1],[23,4],[125,1],[125,2],[25,1],[25,5],[25,1],[129,1],[129,1],[128,3],[128,4],[130,3],[130,4],[127,1],[127,2],[133,2],[133,3],[132,1],[132,2],[136,2],[136,3],[135,2],[135,1],[139,1],[139,2],[140,2],[140,3],[141,1],[141,1],[141,1],[141,1],[141,1],[141,1],[141,1],[141,2],[141,1],[141,2],[55,2],[123,1],[123,2],[150,2],[150,3],[149,1],[149,2],[153,2],[153,3],[152,1],[152,2],[156,2],[156,3],[155,1],[155,2],[159,2],[159,3],[159,2],[159,3],[158,1],[158,2],[163,2],[163,3],[163,2],[163,3],[162,1],[162,2],[167,2],[167,3],[167,2],[167,3],[167,2],[167,3],[167,2],[167,3],[166,2],[166,2],[166,2],[166,1],[172,1],[172,3],[174,1],[174,2],[173,1],[173,2],[176,2],[176,3],[176,3],[176,2],[176,3],[176,2],[176,3],[176,1],[176,1],[176,1],[176,1],[176,1],[176,1],[176,1],[176,1],[184,1],[184,2],[185,1],[185,2],[114,1],[177,1],[177,2],[177,2],[177,1],[177,2],[177,2],[191,1],[191,1],[193,2],[193,3],[193,3],[193,2],[193,3],[193,3],[175,2],[175,3],[175,2],[175,3],[175,2],[194,1],[194,2],[194,2],[196,2],[196,3],[196,3],[195,1],[195,4],[195,3],[195,3],[195,2],[195,3],[195,2],[195,2],[195,1],[197,1],[197,2],[69,1],[69,2],[69,2],[69,1],[69,2],[69,2],[198,2],[198,3],[198,3],[198,2],[198,3],[198,3],[52,1],[52,2],[52,2],[199,2],[199,3],[199,3],[182,3],[182,4],[182,4],[182,4],[182,1],[182,2],[182,2],[182,2],[200,4],[200,5],[200,5],[201,2],[201,3],[201,3],[17,4],[17,6],[17,7],[14,1],[14,2],[14,2],[204,2],[204,3],[204,3],[203,1],[203,2],[203,3],[203,2],[203,2],[205,1],[205,1],[192,4],[192,5],[206,2],[206,3],[51,1],[51,3],[51,2]],performAction:function(e,t,n,r,i,s,o){var a=s.length-1;switch(i){case 1:return s[a];case 2:this.$={type:"module",code:[],location:this._$};break;case 3:this.$={type:"module",code:s[a-1],location:this._$};break;case 5:case 6:case 38:case 177:case 179:case 314:this.$=s[a];break;case 7:case 180:this.$=s[a-1].concat(s[a]);break;case 8:this.$={type:"decorator",decorator:s[a-1],location:this._$};break;case 9:this.$={type:"decorator",decorator:s[a-3],args:"()",location:this._$};break;case 10:this.$={type:"decorator",decorator:s[a-4],args:s[a-2],location:this._$};break;case 11:case 19:case 43:case 62:case 65:case 68:case 71:case 118:case 121:case 124:case 126:case 173:case 279:case 282:case 287:case 290:case 298:case 301:case 327:case 330:case 344:case 350:case 353:this.$=[s[a]];break;case 12:case 45:case 64:case 67:case 70:case 73:case 120:case 123:case 125:case 127:case 174:case 281:case 284:case 289:case 292:case 300:case 303:case 329:case 332:case 346:case 352:case 355:this.$=[s[a-1]].concat(s[a]);break;case 13:case 14:this.$={type:"decorate",decorators:s[a-1],def:s[a],location:this._$};break;case 15:this.$={type:"def",name:s[a-3],params:s[a-2],code:s[a],location:this._$};break;case 16:this.$={type:"def",name:s[a-5],params:s[a-4],code:s[a],annot:s[a-2],location:this._$};break;case 17:this.$=[];break;case 18:case 112:case 178:this.$=s[a-1];break;case 20:case 44:case 63:case 66:case 69:case 72:case 119:case 122:case 280:case 283:case 288:case 291:case 299:case 302:case 328:case 331:case 345:case 351:case 354:this.$=[s[a-1]];break;case 21:this.$=[s[a-2]].concat(s[a]);break;case 23:s[a-2].default=s[a],this.$=s[a-2];break;case 24:this.$={name:"",star:!0,location:this._$};break;case 25:this.$={name:s[a],star:!0,location:this._$};break;case 26:this.$={name:s[a],starstar:!0,location:this._$};break;case 27:this.$={type:"parameter",name:s[a],location:this._$};break;case 28:this.$={type:"parameter",name:s[a-2],anno:s[a],location:this._$};break;case 29:case 39:case 134:case 138:case 315:case 318:case 321:case 324:this.$=[s[a]];break;case 30:case 40:case 316:case 319:case 322:case 325:this.$=[s[a-1]];break;case 31:this.$=[s[a-2]].concat(s[a]);break;case 32:this.$=[{type:"parameter",name:s[a],location:this._$}];break;case 33:this.$=[{type:"parameter",name:s[a-2],default_value:s[a],location:this._$}];break;case 34:this.$=[{name:"",star:!0,location:this._$}];break;case 35:this.$=[{name:s[a],star:!0,location:this._$}];break;case 36:this.$=[{name:s[a],starstar:!0,location:this._$}];break;case 41:this.$=[s[a-2]];break;case 42:this.$=[s[a-2]].concat(s[a-1]);break;case 54:this.$=1==s[a].length?s[a][0]:{type:"tuple",items:s[a],location:this._$};break;case 55:case 56:this.$={type:"assign",op:s[a-1],targets:s[a-2],sources:s[a],location:this._$};break;case 57:this.$={type:"assign",targets:s[a-1].concat(s[a].targets),sources:s[a].sources,location:this._$};break;case 58:this.$={targets:[],sources:[s[a]]};break;case 59:this.$={targets:s[a],sources:[s[a-1]]};break;case 60:this.$={targets:[],sources:s[a]};break;case 61:this.$={targets:s[a-1].concat(s[a].targets),sources:s[a].sources};break;case 86:this.$={type:"del",name:s[a-1],location:this._$};break;case 87:this.$={type:"pass",location:this._$};break;case 93:this.$={type:"break",location:this._$};break;case 94:this.$={type:"continue",location:this._$};break;case 95:this.$={type:"return",location:this._$};break;case 96:this.$={type:"return",values:s[a],location:this._$};break;case 98:this.$={type:"raise",location:this._$};break;case 99:this.$={type:"raise",err:s[a],location:this._$};break;case 100:this.$={type:"raise",err:s[a-2],location:this._$};break;case 103:this.$={type:"import",names:s[a],location:this._$};break;case 104:case 106:this.$={type:"from",base:s[a-2],imports:s[a],location:this._$};break;case 105:this.$={type:"from",base:s[a-3]+s[a-2],imports:s[a],location:this._$};break;case 108:case 110:case 129:case 130:case 275:case 277:this.$=s[a-1]+s[a];break;case 111:this.$=[{path:"*"}];break;case 114:case 116:this.$={path:s[a],location:this._$};break;case 115:case 117:this.$={path:s[a-2],name:s[a],location:this._$};break;case 131:this.$=s[a-2]+s[a-1]+s[a];break;case 132:this.$={type:"global",names:[s[a]],location:this._$};break;case 133:this.$={type:"global",names:s[a-1],location:this._$};break;case 135:case 139:case 317:case 323:this.$=[s[a-1]].concat(s[a]);break;case 136:this.$={type:"nonlocal",names:[s[a]],location:this._$};break;case 137:this.$={type:"nonlocal",names:s[a-1],location:this._$};break;case 140:this.$={type:"assert",cond:s[a],location:this._$};break;case 141:this.$={type:"assert",cond:s[a-2],err:s[a],location:this._$};break;case 150:this.$={type:"if",cond:s[a-2],code:s[a],location:this._$};break;case 151:this.$={type:"if",cond:s[a-3],code:s[a-1],else:s[a],location:this._$};break;case 152:this.$={type:"if",cond:s[a-3],code:s[a-1],elif:s[a],location:this._$};break;case 153:this.$={type:"if",cond:s[a-4],code:s[a-2],elif:s[a-1],else:s[a],location:this._$};break;case 154:this.$=[{cond:s[a-2],code:s[a]}];break;case 155:this.$=[{cond:s[a-3],code:s[a-1]}].concat(s[a]);break;case 156:this.$={type:"else",code:s[a],location:this._$};break;case 157:this.$={type:"while",cond:s[a-2],code:s[a],location:this._$};break;case 158:this.$={type:"while",cond:s[a-5],code:s[a-3],else:s[a],location:this._$};break;case 159:this.$={type:"for",target:s[a-4],iter:s[a-2],code:s[a],location:this._$,decl_location:{first_line:this._$.first_line,first_column:this._$.first_column,last_line:s[a-1].location.last_line,last_column:s[a-1].location.last_column}};break;case 160:this.$={type:"for",target:s[a-7],iter:s[a-5],code:s[a-3],else:s[a],location:this._$,decl_location:{first_line:this._$.first_line,first_column:this._$.first_column,last_line:s[a-4].location.last_line,last_column:s[a-4].location.last_column}};break;case 161:this.$={type:"try",code:s[a-3],finally:s[a],location:this._$};break;case 162:this.$={type:"try",code:s[a-1],excepts:s[a],location:this._$};break;case 163:this.$={type:"try",code:s[a-4],excepts:s[a-3],finally:s[a],location:this._$};break;case 164:this.$={type:"try",code:s[a-4],excepts:s[a-3],else:s[a],location:this._$};break;case 165:this.$={type:"try",code:s[a-7],excepts:s[a-6],else:s[a-3],finally:s[a],location:this._$};break;case 166:s[a-2].code=s[a],this.$=[s[a-2]];break;case 167:s[a-3].code=s[a-1],this.$=[s[a-3]].concat(s[a]);break;case 168:this.$={cond:null};break;case 169:this.$={cond:s[a]};break;case 170:this.$={cond:s[a-2],name:s[a]};break;case 171:this.$={type:"with",items:[s[a-2]],code:s[a],location:this._$};break;case 172:s[a-3]=[s[a-3]].concat(s[a-2]),this.$={type:"with",items:s[a-3],code:s[a],location:this._$};break;case 175:this.$={with:s[a],as:s[a]};break;case 176:this.$={with:s[a-2],as:s[a]};break;case 182:this.$={type:"ifexpr",test:s[a-2],then:s[a-4],else:s[a],location:this._$};break;case 186:this.$={type:"lambda",args:"",code:s[a],location:this._$};break;case 187:this.$={type:"lambda",args:s[a-2],code:s[a-1],location:this._$};break;case 191:case 195:case 201:case 216:case 220:case 224:case 228:case 234:case 240:this.$=s[a](s[a-1]);break;case 192:case 196:loc=this._$,this.$=function(e){return{type:"binop",op:s[a-1],left:e,right:s[a],location:loc}};break;case 193:case 197:loc=this._$,this.$=function(e){return s[a]({type:"binop",op:s[a-2],left:e,right:s[a-1],location:loc})};break;case 198:this.$={type:"unop",op:s[a-1],operand:s[a],location:this._$};break;case 202:loc=this._$,this.$=function(e){return{type:"binop",op:s[a-1],left:e,right:s[a],location:loc}};break;case 203:loc=this._$,this.$=function(e){return s[a]({type:"binop",op:s[a-2],left:e,right:s[a-1],location:loc})};break;case 211:case 213:this.$=s[a-1]+s[a];break;case 214:this.$={type:"starred",value:s[a-1],location:this._$};break;case 217:case 221:case 225:case 229:case 231:case 235:case 237:case 241:case 243:case 245:case 247:loc=this._$,this.$=function(e){return{type:"binop",op:s[a-1],left:e,right:s[a],location:loc}};break;case 218:case 222:case 226:case 230:case 232:case 236:case 238:case 242:case 244:case 246:case 248:loc=this._$,this.$=function(e){return s[a]({type:"binop",op:s[a-2],left:e,right:s[a-1],location:loc})};break;case 249:case 250:case 251:this.$={type:"unop",op:s[a-1],operand:s[a],location:this._$};break;case 254:this.$={type:"binop",op:s[a-1],left:s[a-2],right:s[a],location:this._$};break;case 256:this.$=function(e){return s[a](s[a-1](e))};break;case 258:partial=s[a](s[a-1]),partial.location=this._$,this.$=partial;break;case 259:this.$={type:"tuple",items:[],location:this._$};break;case 260:this.$={type:"yieldexpr",value:s[a-1],location:this._$};break;case 261:this.$={type:"tuple",items:s[a-1],location:this._$};break;case 262:this.$={type:"list",items:[],location:this._$};break;case 263:this.$={type:"list",items:s[a-1],location:this._$};break;case 264:this.$={type:"dict",entries:[],location:this._$};break;case 265:this.$={type:s[a-1].type,entries:s[a-1].entries,comp_for:s[a-1].comp_for,location:this._$};break;case 266:this.$={type:"name",id:s[a],location:this._$};break;case 267:this.$={type:"literal",value:1*s[a],location:this._$};break;case 268:case 269:this.$={type:"literal",value:s[a],location:this._$};break;case 270:this.$={type:"literal",value:{type:"ellipsis"},location:this._$};break;case 271:this.$={type:"literal",value:"None",location:this._$};break;case 272:this.$={type:"literal",value:"True",location:this._$};break;case 273:this.$={type:"literal",value:"False",location:this._$};break;case 278:this.$={location:this._$};break;case 293:loc=this._$,this.$=function(e){return{type:"call",func:e,args:[],location:loc}};break;case 294:loc=this._$,this.$=function(e){return{type:"call",func:e,args:s[a-1],location:loc}};break;case 295:loc=this._$,this.$=function(e){return{type:"index",value:e,args:[],location:loc}};break;case 296:loc=this._$,this.$=function(e){return{type:"index",value:e,args:s[a-1],location:loc}};break;case 297:loc=this._$,this.$=function(e){return{type:"dot",value:e,name:s[a],location:loc}};break;case 305:this.$={type:"slice",start:s[a-3],stop:s[a-1],step:s[a],location:this._$};break;case 306:this.$={type:"slice",start:s[a-2],stop:s[a],location:this._$};break;case 307:this.$={type:"slice",start:s[a-2],step:s[a],location:this._$};break;case 308:this.$={type:"slice",start:s[a-1],location:this._$};break;case 309:this.$={type:"slice",stop:s[a-1],step:s[a],location:this._$};break;case 310:this.$={type:"slice",stop:s[a],location:this._$};break;case 311:this.$={type:"slice",step:s[a],location:this._$};break;case 312:this.$={type:"slice",location:this._$};break;case 313:this.$=void 0;break;case 320:case 326:this.$=s[a-1].concat(s[a]);break;case 333:this.$={type:"dict",entries:[{k:s[a-2],v:s[a]}],location:this._$};break;case 334:this.$={type:"dict",entries:[{k:s[a-3],v:s[a-1]}],location:this._$};break;case 335:this.$={type:"dict",entries:[{k:s[a-3],v:s[a-1]}],comp_for:s[a],location:this._$};break;case 336:this.$={type:"dict",entries:[{k:s[a-3],v:s[a-1]}].concat(s[a]),location:this._$};break;case 337:this.$={type:"set",entries:[s[a]],location:this._$};break;case 338:this.$={type:"set",entries:[s[a-1]],location:this._$};break;case 339:this.$={type:"set",entries:[s[a-1]],comp_for:s[a],location:this._$};break;case 340:this.$={type:"set",entries:[s[a-1]].concat(s[a]),location:this._$};break;case 341:this.$=[{k:s[a-2],v:s[a]}];break;case 342:this.$=[{k:s[a-3],v:s[a-1]}];break;case 343:this.$=[{k:s[a-3],v:s[a-1]}].concat(s[a]);break;case 347:this.$={type:"class",name:s[a-2],code:s[a],location:this._$};break;case 348:this.$={type:"class",name:s[a-4],code:s[a],location:this._$};break;case 349:this.$={type:"class",name:s[a-5],code:s[a],extends:s[a-3],location:this._$};break;case 356:this.$={type:"arg",actual:s[a],location:this._$};break;case 357:this.$={type:"arg",actual:s[a-1],loop:s[a],location:this._$};break;case 358:this.$={type:"arg",keyword:s[a-2],actual:s[a],location:this._$};break;case 359:this.$={type:"arg",kwargs:!0,actual:s[a],location:this._$};break;case 360:this.$={type:"arg",varargs:!0,actual:s[a],location:this._$};break;case 363:this.$=[{type:"comp_for",for:s[a-2],in:s[a],location:this._$}];break;case 364:this.$=[{type:"comp_for",for:s[a-3],in:s[a-1],location:this._$}].concat(s[a]);break;case 365:this.$=[{type:"comp_if",test:s[a],location:this._$}];break;case 366:this.$=[{type:"comp_if",test:s[a-1],location:this._$}].concat(s[a]);break;case 367:this.$={type:"yield",location:this._$};break;case 368:this.$={type:"yield",from:s[a],location:this._$};break;case 369:this.$={type:"yield",value:s[a],location:this._$}}},table:[{3:1,4:2,5:[1,3],6:4,7:t,8:6,9:47,10:n,12:r,15:33,16:17,17:16,18:15,19:i,20:s,25:48,31:o,36:7,37:8,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,101:10,102:11,103:12,104:13,105:14,106:_,111:b,112:S,115:w,120:C,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,202:F,207:N},{1:[3]},{1:[2,1]},{1:[2,2]},{5:[1,93]},{5:[2,4],6:94,7:t,8:6,9:47,10:n,12:r,15:33,16:17,17:16,18:15,19:i,20:s,25:48,31:o,36:7,37:8,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,101:10,102:11,103:12,104:13,105:14,106:_,111:b,112:S,115:w,120:C,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,202:F,207:N},{5:[2,5],6:95,7:t,8:6,9:47,10:n,12:r,15:33,16:17,17:16,18:15,19:i,20:s,25:48,31:o,36:7,37:8,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,101:10,102:11,103:12,104:13,105:14,106:_,111:b,112:S,115:w,120:C,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,202:F,207:N},e(Y,[2,38]),e(Y,[2,39]),{7:[1,96],39:[1,97],40:98},e(Y,[2,142]),e(Y,[2,143]),e(Y,[2,144]),e(Y,[2,145]),e(Y,[2,146]),e(Y,[2,147]),e(Y,[2,148]),e(Y,[2,149]),e(B,[2,46]),e(B,[2,47]),e(B,[2,48]),e(B,[2,49]),e(B,[2,50]),e(B,[2,51]),e(B,[2,52]),e(B,[2,53]),{12:r,20:s,25:99,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,25:100,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,31:o,55:103,69:101,88:m,123:102,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{22:[1,104]},{12:r,20:s,25:106,88:m,121:105,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{20:[1,107]},{20:[1,108]},{17:109,18:110,19:i,202:F},e(B,[2,54],{50:111,53:112,30:H,56:[1,113],57:[1,114],58:[1,115],59:[1,116],60:[1,117],61:[1,118],62:[1,119],63:[1,120],64:[1,121],65:[1,122],66:[1,123],67:[1,124]}),{12:r,20:s,31:o,55:103,69:126,88:m,123:102,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(B,[2,87]),e(B,[2,88]),e(B,[2,89]),e(B,[2,90]),e(B,[2,91]),e(B,[2,92]),e(B,[2,101]),e(B,[2,102]),{20:[1,127]},{20:[1,128]},{12:r,20:s,25:129,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(W,[2,11],{9:47,15:130,10:n}),e(U,[2,62],{54:132,28:[1,131]}),e(U,[2,65],{54:134,28:[1,133]}),e(B,[2,93]),e(B,[2,94]),e(B,[2,95],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,52:135,25:136,12:r,20:s,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(B,[2,98],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:137,12:r,20:s,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(B,[2,97]),{11:140,20:V,84:138,92:139},{11:142,20:V,86:143,87:$,88:q},{11:146,20:V},e(G,[2,181],{106:[1,147]}),e(G,[2,183]),{12:r,20:s,88:m,123:148,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(z,[2,367],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:136,52:150,12:r,20:s,80:[1,149],88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(K,[2,190],{133:151,134:J}),{20:X,22:[1,153],31:Q,32:Z,33:154,34:155,35:156},e(ee,[2,194],{136:160,137:te}),{12:r,20:s,88:m,123:67,135:162,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(ne,[2,199]),e(ne,[2,200],{140:163,141:164,113:re,138:ie,142:se,143:oe,144:ae,145:ce,146:le,147:ue,148:de}),e(he,[2,215],{150:174,151:pe}),e(fe,[2,219],{153:176,154:me}),e(ge,[2,223],{156:178,157:ye}),e(ve,[2,227],{159:180,160:_e,161:be}),e(Se,[2,233],{163:183,164:we,165:Ce}),e(Ee,[2,239],{167:186,31:Te,168:De,169:Pe,170:ke}),{12:r,20:s,88:m,164:D,165:P,166:191,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,164:D,165:P,166:192,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,164:D,165:P,166:193,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Ie,[2,252]),e(Ie,[2,253],{32:[1,194]}),e(Me,[2,257],{174:195,175:196,12:xe,87:Ae,178:Oe}),{12:r,13:[1,200],20:s,25:203,31:o,51:201,55:204,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,177:202,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{12:r,20:s,25:203,31:o,55:204,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,177:206,178:I,179:[1,205],180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,25:209,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,181:[1,207],182:208,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Le,[2,266]),e(Le,[2,267]),e(Le,[2,268]),e(Le,[2,269]),e(Le,[2,270]),e(Le,[2,271]),e(Le,[2,272]),e(Le,[2,273]),e(Le,[2,274],{184:210,189:R}),e(Le,[2,276],{185:211,190:j}),{1:[2,3]},{5:[2,6]},{5:[2,7]},e(Re,[2,40]),{7:[1,212],12:r,20:s,25:48,31:o,38:213,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{7:[1,214]},{22:[1,215]},{22:[1,216]},{113:[1,217]},e(je,[2,315],{198:219,28:[1,218]}),e(je,[2,318],{198:221,28:[1,220]}),{7:Fe,12:r,20:s,23:222,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[1,225],28:Ne,122:226},e(Ye,[2,175],{91:[1,228]}),{12:[1,230],21:229},{12:[1,232],22:[1,231]},e(Y,[2,13]),e(Y,[2,14]),{12:r,20:s,25:136,51:233,52:234,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e(B,[2,57]),e(Be,[2,74]),e(Be,[2,75]),e(Be,[2,76]),e(Be,[2,77]),e(Be,[2,78]),e(Be,[2,79]),e(Be,[2,80]),e(Be,[2,81]),e(Be,[2,82]),e(Be,[2,83]),e(Be,[2,84]),e(Be,[2,85]),{12:r,20:s,25:48,31:o,49:236,51:235,55:49,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e(B,[2,86]),e(B,[2,132],{97:237,28:He}),e(B,[2,136],{99:239,28:We}),e(B,[2,140],{28:[1,241]}),e(W,[2,12]),e(U,[2,63],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:242,55:243,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(U,[2,64]),e(U,[2,66],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:242,55:243,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(U,[2,67]),e(B,[2,96]),e(Ue,[2,327],{199:245,28:[1,244]}),e(B,[2,99],{80:[1,246]}),e(B,[2,103]),e(B,[2,124],{94:247,28:Ve}),e($e,[2,116],{91:[1,249]}),e(qe,[2,128],{95:250,87:Ge}),{83:[1,252]},{11:253,20:V,83:[1,254]},e(ze,[2,107],{86:255,87:$,88:q}),e(ze,[2,109],{86:256,87:$,88:q}),{7:[1,257],12:[1,258]},{12:r,20:s,88:m,123:67,127:259,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e([7,13,28,30,39,56,57,58,59,60,61,62,63,64,65,66,67,112,113,179],[2,214]),{12:r,20:s,25:260,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(z,[2,369]),e(K,[2,191]),{12:r,20:s,88:m,123:67,132:261,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,25:262,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{22:[1,263]},{22:[2,29],28:[1,264]},e(Ye,[2,32],{30:[1,265]}),e(Ye,[2,34],{35:266,20:X}),{20:X,35:267},e([22,28,30],[2,37]),e(ee,[2,195]),{12:r,20:s,88:m,123:67,135:268,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(ne,[2,198]),e(ne,[2,201]),{12:r,20:s,88:m,123:269,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Ke,[2,204]),e(Ke,[2,205]),e(Ke,[2,206]),e(Ke,[2,207]),e(Ke,[2,208]),e(Ke,[2,209]),e(Ke,[2,210]),{113:[1,270]},e(Ke,[2,212],{138:[1,271]}),e(he,[2,216]),{12:r,20:s,88:m,149:272,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(fe,[2,220]),{12:r,20:s,88:m,152:273,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(ge,[2,224]),{12:r,20:s,88:m,155:274,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(ve,[2,228]),{12:r,20:s,88:m,158:275,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,158:276,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Se,[2,234]),{12:r,20:s,88:m,162:277,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,162:278,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Ee,[2,240]),{12:r,20:s,88:m,164:D,165:P,166:279,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,164:D,165:P,166:280,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,164:D,165:P,166:281,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,164:D,165:P,166:282,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Ie,[2,249]),e(Ie,[2,250]),e(Ie,[2,251]),{12:r,20:s,88:m,164:D,165:P,166:283,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Me,[2,258]),e(Me,[2,255],{175:196,174:284,12:xe,87:Ae,178:Oe}),{12:r,13:[1,285],14:286,20:s,25:288,31:Je,32:Xe,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,203:287},{12:r,20:s,22:Qe,25:294,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,179:[1,291],180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,194:292,195:293},{20:[1,296]},e(Le,[2,259]),{13:[1,297]},{13:[1,298]},e(Ze,[2,279],{191:300,192:301,193:302,28:[1,299],112:et}),e(Ze,[2,282],{192:301,193:302,191:305,28:[1,304],112:et}),e(Le,[2,262]),{179:[1,306]},e(Le,[2,264]),{181:[1,307]},{22:[1,308],28:[1,309],112:et,181:[2,337],192:310,201:311},e(Le,[2,275]),e(Le,[2,277]),e(Re,[2,41]),{7:[2,43],39:[1,312],40:313},e(Re,[2,42]),{7:Fe,12:r,20:s,23:314,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{7:Fe,12:r,20:s,23:315,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{12:r,20:s,25:136,52:316,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(je,[2,316],{149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,123:317,55:318,12:r,20:s,31:o,88:m,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(je,[2,317]),e(je,[2,319],{149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,123:317,55:318,12:r,20:s,31:o,88:m,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(je,[2,320]),{116:[1,319],117:320,118:321,119:tt},e(Re,[2,177]),{124:[1,323]},{7:Fe,12:r,20:s,23:324,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[1,325]},{12:r,20:s,25:106,88:m,121:326,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,88:m,123:327,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{22:[1,328],24:[1,329]},{13:[1,330],20:nt,26:331,27:332,29:333,31:rt,32:it},{7:Fe,12:r,20:s,23:337,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{12:r,13:[1,338],14:339,20:s,25:288,31:Je,32:Xe,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,203:287},e(B,[2,55]),e(B,[2,56]),e(B,[2,58],{53:340,30:H}),e(B,[2,60],{53:341,30:H}),e(B,[2,133]),{20:[1,342]},e(B,[2,137]),{20:[1,343]},{12:r,20:s,25:344,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(U,[2,68],{54:346,28:[1,345]}),e(U,[2,71],{54:348,28:[1,347]}),e(Ue,[2,328],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:349,12:r,20:s,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Ue,[2,329]),{12:r,20:s,25:350,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(B,[2,125]),{11:140,20:V,92:351},{20:[1,352]},e(qe,[2,129]),{20:[1,353]},{12:st,20:ot,31:at,85:354,89:357,90:358},{83:[1,360]},{12:st,20:ot,31:at,85:361,89:357,90:358},e(ze,[2,108]),e(ze,[2,110]),e(ct,[2,8]),{12:r,13:[1,362],14:363,20:s,25:288,31:Je,32:Xe,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,203:287},{110:[1,364]},e(z,[2,368]),e(K,[2,192],{133:365,134:J}),e(G,[2,186]),{12:r,20:s,25:366,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{20:X,22:[2,30],31:Q,32:Z,33:367,34:155,35:156},{12:r,20:s,25:368,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Ye,[2,35]),e(Ye,[2,36]),e(ee,[2,196],{136:369,137:te}),e(ne,[2,202],{141:164,140:370,113:re,138:ie,142:se,143:oe,144:ae,145:ce,146:le,147:ue,148:de}),e(Ke,[2,211]),e(Ke,[2,213]),e(he,[2,217],{150:371,151:pe}),e(fe,[2,221],{153:372,154:me}),e(ge,[2,225],{156:373,157:ye}),e(ve,[2,229],{159:374,160:_e,161:be}),e(ve,[2,231],{159:375,160:_e,161:be}),e(Se,[2,235],{163:376,164:we,165:Ce}),e(Se,[2,237],{163:377,164:we,165:Ce}),e(Ee,[2,241],{167:378,31:Te,168:De,169:Pe,170:ke}),e(Ee,[2,243],{167:379,31:Te,168:De,169:Pe,170:ke}),e(Ee,[2,245],{167:380,31:Te,168:De,169:Pe,170:ke}),e(Ee,[2,247],{167:381,31:Te,168:De,169:Pe,170:ke}),e(Ie,[2,254]),e(Me,[2,256]),e(Le,[2,293]),{13:[1,382]},{13:[2,350],28:[1,383],204:384},e(lt,[2,356],{192:385,30:[1,386],112:et}),{12:r,20:s,25:387,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,25:388,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Le,[2,295]),{179:[1,389]},{28:[1,390],179:[2,298],196:391},e(ut,[2,304],{22:[1,392]}),e(ut,[2,312],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:393,197:394,12:r,20:s,22:dt,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Le,[2,297]),e(Le,[2,260]),e(Le,[2,261]),e(Ze,[2,280],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:396,55:397,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Ze,[2,281]),e(Ze,[2,285]),e(Ze,[2,286]),{12:r,20:s,31:o,55:103,69:398,88:m,123:102,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Ze,[2,283],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:396,55:397,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Ze,[2,284]),e(Le,[2,263]),e(Le,[2,265]),{12:r,20:s,25:399,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,25:400,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,181:[2,338],183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{181:[2,339]},{181:[2,340]},{7:[2,44],12:r,20:s,25:48,31:o,38:213,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{7:[2,45]},e(Y,[2,150],{107:401,108:402,109:ht,110:pt}),e(Y,[2,157],{110:[1,405]}),{22:[1,407],114:406},e(je,[2,321],{198:409,28:[1,408]}),e(je,[2,324],{198:411,28:[1,410]}),{22:[1,412]},e(Y,[2,162],{110:[1,414],116:[1,413]}),{22:[1,415]},{12:r,20:s,22:[2,168],25:416,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{8:418,9:47,10:n,12:r,15:33,16:17,17:16,18:15,19:i,20:s,25:48,31:o,36:7,37:8,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,101:10,102:11,103:12,104:13,105:14,106:_,111:b,112:S,115:w,120:C,123:67,125:417,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,202:F,207:N},e(Y,[2,171]),{7:Fe,12:r,20:s,23:419,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[2,173],28:Ne,122:420},e(Ye,[2,176]),{7:Fe,12:r,20:s,23:421,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{12:r,20:s,25:422,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(ft,[2,17]),{13:[1,423]},{13:[2,19],28:[1,424]},e(lt,[2,22],{30:[1,425]}),e(lt,[2,24],{29:426,20:nt}),{20:nt,29:427},e(mt,[2,27],{22:[1,428]}),e(Y,[2,347]),{22:[1,429]},{13:[1,430]},e(B,[2,59]),e(B,[2,61]),e(B,[2,134],{97:431,28:He}),e(B,[2,138],{99:432,28:We}),e(B,[2,141]),e(U,[2,69],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:242,55:243,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(U,[2,70]),e(U,[2,72],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:242,55:243,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(U,[2,73]),e(Ue,[2,330],{199:434,28:[1,433]}),e(B,[2,100]),e(B,[2,126],{94:435,28:Ve}),e($e,[2,117]),e(qe,[2,130],{95:436,87:Ge}),e(B,[2,104]),e(B,[2,111]),{20:ot,89:437,90:358},e(B,[2,113]),e(gt,[2,118],{93:439,28:[1,438]}),e(yt,[2,114],{91:[1,440]}),{12:st,20:ot,31:at,85:441,89:357,90:358},e(B,[2,106]),{7:[1,442]},{13:[1,443]},{12:r,20:s,25:444,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(K,[2,193]),e(G,[2,187]),{22:[2,31]},e(Ye,[2,33]),e(ee,[2,197]),e(ne,[2,203]),e(he,[2,218]),e(fe,[2,222]),e(ge,[2,226]),e(ve,[2,230]),e(ve,[2,232]),e(Se,[2,236]),e(Se,[2,238]),e(Ee,[2,242]),e(Ee,[2,244]),e(Ee,[2,246]),e(Ee,[2,248]),e(Le,[2,294]),{12:r,13:[2,351],20:s,25:288,31:Je,32:Xe,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,203:445},{13:[2,352]},e(lt,[2,357]),{12:r,20:s,25:446,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(lt,[2,359]),e(lt,[2,360]),e(Le,[2,296]),{12:r,20:s,22:Qe,25:294,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,179:[2,299],180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,195:447},{179:[2,300]},e(ut,[2,308],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:448,197:449,12:r,20:s,22:dt,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(ut,[2,310],{197:450,22:dt}),e(ut,[2,311]),e(ut,[2,313],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:451,12:r,20:s,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Ze,[2,287],{193:453,28:[1,452]}),e(Ze,[2,290],{193:455,28:[1,454]}),{113:[1,456]},{28:[1,457],112:et,181:[2,333],192:458,200:459},{28:[1,460],181:[2,344],201:461},e(Y,[2,151]),e(Y,[2,152],{107:462,110:pt}),{22:[1,463]},{12:r,20:s,25:464,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{22:[1,465]},{7:Fe,12:r,20:s,23:466,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e([7,12,20,31,68,70,76,77,78,79,80,83,88,96,98,100,131,138,164,165,171,178,180,183,186,187,188,189,190,207],[2,278]),e(je,[2,322],{149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,123:317,55:318,12:r,20:s,31:o,88:m,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(je,[2,323]),e(je,[2,325],{149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,123:317,55:318,12:r,20:s,31:o,88:m,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(je,[2,326]),{7:Fe,12:r,20:s,23:467,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[1,468]},{22:[1,469]},{7:Fe,12:r,20:s,23:470,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[2,169],91:[1,471]},{126:[1,472]},{8:418,9:47,10:n,12:r,15:33,16:17,17:16,18:15,19:i,20:s,25:48,31:o,36:7,37:8,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,101:10,102:11,103:12,104:13,105:14,106:_,111:b,112:S,115:w,120:C,123:67,125:473,126:[2,179],127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,202:F,207:N},e(Y,[2,172]),{22:[2,174]},e(Y,[2,15]),{22:[1,474]},e(ft,[2,18]),{13:[2,20],20:nt,26:475,27:332,29:333,31:rt,32:it},{12:r,20:s,25:476,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(lt,[2,25]),e(lt,[2,26]),{12:r,20:s,25:477,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{7:Fe,12:r,20:s,23:478,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[1,479]},e(B,[2,135]),e(B,[2,139]),e(Ue,[2,331],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:349,12:r,20:s,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Ue,[2,332]),e(B,[2,127]),e(qe,[2,131]),{13:[1,480]},e(gt,[2,119],{90:481,20:ot}),e(gt,[2,120]),{20:[1,482]},e(B,[2,105]),e(ct,[2,9]),{7:[1,483]},e(G,[2,182]),{13:[2,353],28:[1,484],204:485},e(lt,[2,358]),{28:[1,486],179:[2,301],196:487},e(ut,[2,306],{197:488,22:dt}),e(ut,[2,307]),e(ut,[2,309]),e(ut,[2,314]),e(Ze,[2,288],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:396,55:397,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Ze,[2,289]),e(Ze,[2,291],{127:58,128:59,132:62,135:64,139:66,123:67,149:68,152:69,155:70,158:71,162:72,166:73,172:77,173:78,176:79,184:85,185:86,25:396,55:397,12:r,20:s,31:o,88:m,131:E,138:T,164:D,165:P,171:k,178:I,180:M,183:x,186:A,187:O,188:L,189:R,190:j}),e(Ze,[2,292]),{12:r,20:s,88:m,123:67,127:489,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,25:490,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,181:[2,334],183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{181:[2,335]},{181:[2,336]},{12:r,20:s,25:400,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,181:[2,345],183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{181:[2,346]},e(Y,[2,153]),{7:Fe,12:r,20:s,23:491,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[1,492]},{7:Fe,12:r,20:s,23:493,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e(Y,[2,159],{110:[1,494]}),e(Y,[2,161]),{7:Fe,12:r,20:s,23:495,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{7:Fe,12:r,20:s,23:496,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e(vt,[2,166],{118:321,117:497,119:tt}),{20:[1,498]},e(Re,[2,178]),{126:[2,180]},{7:Fe,12:r,20:s,23:499,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{13:[2,21]},e(lt,[2,23]),e(mt,[2,28]),e(Y,[2,348]),{7:Fe,12:r,20:s,23:500,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e(B,[2,112]),e(gt,[2,121],{93:502,28:[1,501]}),e(yt,[2,115]),e(ct,[2,10]),{12:r,13:[2,354],20:s,25:288,31:Je,32:Xe,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,203:445},{13:[2,355]},{12:r,20:s,22:Qe,25:294,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,179:[2,302],180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,195:447},{179:[2,303]},e(ut,[2,305]),e(_t,[2,363],{205:503,192:504,206:505,106:bt,112:et}),{22:[1,507]},e(Y,[2,156]),{7:Fe,12:r,20:s,23:508,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e(Y,[2,158]),{22:[1,509]},e(Y,[2,163]),e(Y,[2,164],{116:[1,510]}),e(vt,[2,167]),{22:[2,170]},e(Y,[2,16]),e(Y,[2,349]),e(gt,[2,122],{90:481,20:ot}),e(gt,[2,123]),e(_t,[2,364]),e(_t,[2,361]),e(_t,[2,362]),{12:r,20:s,88:m,123:67,127:512,129:511,130:513,131:St,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{12:r,20:s,25:515,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(wt,[2,154],{108:516,109:ht}),{7:Fe,12:r,20:s,23:517,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},{22:[1,518]},e(_t,[2,365],{192:504,206:505,205:519,106:bt,112:et}),e(Ct,[2,184]),e(Ct,[2,185]),{20:X,22:[1,520],31:Q,32:Z,33:521,34:155,35:156},{28:[1,522],181:[2,341],200:523},e(wt,[2,155]),e(Y,[2,160]),{7:Fe,12:r,20:s,23:524,25:48,31:o,36:223,38:9,41:18,42:19,43:20,44:21,45:22,46:23,47:24,48:25,49:34,51:54,55:49,68:a,70:c,71:37,72:38,73:39,74:40,75:41,76:l,77:u,78:d,79:h,80:p,81:42,82:43,83:f,88:m,96:g,98:y,100:v,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j,207:N},e(_t,[2,366]),{12:r,20:s,88:m,123:67,127:512,129:525,130:513,131:St,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{22:[1,526]},{12:r,20:s,25:490,88:m,123:67,127:58,128:59,131:E,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,181:[2,342],183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},{181:[2,343]},e(Y,[2,165]),e(Ct,[2,188]),{12:r,20:s,88:m,123:67,127:512,129:527,130:513,131:St,132:62,135:64,138:T,139:66,149:68,152:69,155:70,158:71,162:72,164:D,165:P,166:73,171:k,172:77,173:78,176:79,178:I,180:M,183:x,184:85,185:86,186:A,187:O,188:L,189:R,190:j},e(Ct,[2,189])],defaultActions:{2:[2,1],3:[2,2],93:[2,3],94:[2,6],95:[2,7],310:[2,339],311:[2,340],313:[2,45],367:[2,31],384:[2,352],391:[2,300],420:[2,174],458:[2,335],459:[2,336],461:[2,346],473:[2,180],475:[2,21],485:[2,355],487:[2,303],498:[2,170],523:[2,343]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],s=this.table,o="",a=0,c=0,l=0,u=2,d=1,h=i.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);p.setInput(e,f.yy),f.yy.lexer=p,f.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;i.push(g);var y=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,_,b,S,w,C,E,T,D,P=function(){var e;return"number"!=typeof(e=p.lex()||d)&&(e=t.symbols_[e]||e),e},k={};;){if(b=n[n.length-1],this.defaultActions[b]?S=this.defaultActions[b]:(null==v&&(v=P()),S=s[b]&&s[b][v]),void 0===S||!S.length||!S[0]){var I="";for(C in D=[],s[b])this.terminals_[C]&&C>u&&D.push("'"+this.terminals_[C]+"'");I=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(v==d?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(I,{text:p.match,token:this.terminals_[v]||v,line:p.yylineno,loc:g,expected:D})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+v);switch(S[0]){case 1:n.push(v),r.push(p.yytext),i.push(p.yylloc),n.push(S[1]),v=null,_?(v=_,_=null):(c=p.yyleng,o=p.yytext,a=p.yylineno,g=p.yylloc,l>0&&l--);break;case 2:if(E=this.productions_[S[1]][1],k.$=r[r.length-E],k._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},y&&(k._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(w=this.performAction.apply(k,[o,c,a,f.yy,S[1],r,i].concat(h))))return w;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),i=i.slice(0,-1*E)),n.push(this.productions_[S[1]][0]),r.push(k.$),i.push(k._$),T=s[n[n.length-2]][n[n.length-1]],n.push(T);break;case 3:return!0}}return!0}},Tt={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in i)this[s]=i[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length;s++)if((n=this._input.match(this.rules[i[s]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=s,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[s])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:if(null==this.indents&&(this.indents=[0]),!(this.indents.length>1))return 5;this.begin("DEDENTS"),this.unput(" "),this.dedents=1,this.indents.pop();break;case 1:null==this.indent&&(this.indent=0),this.indent+=1;break;case 2:null==this.indent&&(this.indent=0),this.indent=this.indent+8&-7;break;case 3:this.indent=0;break;case 4:break;case 5:this.unput(t.yytext),null==this.indents&&(this.indents=[0]);var i=this.indents[this.indents.length-1];if(null==this.indent&&(this.indent=0),this.indent>i)return this.begin("INLINE"),this.indents.push(this.indent),124;if(this.indent<i){for(this.begin("DEDENTS"),this.dedents=0;this.indents.length&&(this.dedents+=1,this.indents.pop(),(i=this.indents[this.indents.length-1])!=this.indent););if(!this.indents.length)throw new Error("TabError: Inconsistent")}else this.begin("INLINE");break;case 6:if(this.unput(t.yytext),null==this.dedents&&(this.dedents=0),this.dedents-- >0)return 126;this.begin("INLINE");break;case 7:if(null==this.brackets_count&&(this.brackets_count=0),this.brackets_count<=0)return this.indent=0,this.begin("INITIAL"),7;break;case 8:tripleString="",this.begin("TRIPLE_D");break;case 9:var s=tripleString.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");return t.yytext='"'+s+'"',this.popState(),189;case 10:tripleString+="\n";break;case 11:tripleString+=t.yytext;break;case 12:tripleString="",this.begin("TRIPLE_S");break;case 13:return s=tripleString.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),t.yytext='"'+s+'"',this.popState(),189;case 14:tripleString+="\n";break;case 15:tripleString+=t.yytext;break;case 16:case 17:case 18:break;case 19:return 88;case 20:case 21:return 183;case 22:var o=t.yytext.substr(2);return t.yytext='parseInt("'+o+'",2)',183;case 23:return 183;case 24:return null==this.brackets_count&&(this.brackets_count=0),"{"==t.yytext||"["==t.yytext||"("==t.yytext?this.brackets_count+=1:"}"!=t.yytext&&"]"!=t.yytext&&")"!=t.yytext||(this.brackets_count-=1),t.yytext;case 25:return 189;case 26:return(t.yytext.endsWith("'''")||t.yytext.endsWith('"""'))&&(s=t.yytext.substr(3,t.yytext.length-6).replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),t.yytext='"'+s+'"'),190;case 27:return-1==["continue","nonlocal","finally","lambda","return","assert","global","import","except","raise","break","False","class","while","yield","None","True","from","with","elif","else","pass","for","try","def","and","del","not","is","as","if","or","in"].indexOf(t.yytext)?"NAME":t.yytext}},rules:[/^(?:$)/,/^(?: )/,/^(?:\t)/,/^(?:\n)/,/^(?:#[^\n]*)/,/^(?:.)/,/^(?:.)/,/^(?:\n)/,/^(?:("""))/,/^(?:("""))/,/^(?:\n)/,/^(?:.)/,/^(?:('''))/,/^(?:('''))/,/^(?:\n)/,/^(?:.)/,/^(?:#[^\n]*)/,/^(?:\\\n[\ \t\f]*)/,/^(?:[\ \t\f]+)/,/^(?:(\.\.\.))/,/^(?:(((((([0-9])+|((\.([0-9])+)|(([0-9])+)(\.([0-9])+)|(([0-9])+)\.))([e|E][\+|\-]?(([0-9]))+))|((\.([0-9])+)|(([0-9])+)(\.([0-9])+)|(([0-9])+)\.))|(([0-9])+))[jJ]))/,/^(?:(((([0-9])+|((\.([0-9])+)|(([0-9])+)(\.([0-9])+)|(([0-9])+)\.))([e|E][\+|\-]?(([0-9]))+))|((\.([0-9])+)|(([0-9])+)(\.([0-9])+)|(([0-9])+)\.)))/,/^(?:(0[b|B]([0|1])+))/,/^(?:((0[x|X](([0-9])|[a-fA-F])+)|(0[o|O]([0-7])+)|((([1-9]([0-9])*)|0+))))/,/^(?:(>>=|<<=|\*\*=|\/\/=|->|\+=|-=|\*=|\/=|%=|&=|\|=|\^=|\*\*|\/\/|<<|>>|<=|>=|==|!=|\(|\)|\[|\]|\{|\}|,|:|\.|;|@|=|\+|-|\*|\/|%|&|\||\^|~|<|>|\|\|"))/,/^(?:(([rR]|[uU]|[fF]|[fF][rR]|[rR][fF])?((("(([^\\\n\"])|(\\.|\\\n))*")|('(([^\\\n\'])|(\\.|\\\n))*')))))/,/^(?:(([bB]|[bB][rR]|[rR][bB])((("(([^\\\n\"])|(\\.|\\\n))*")|('(([^\\\n\'])|(\\.|\\\n))*')))))/,/^(?:((((_)|(([A-Z]))|(([a-z]))))((((_)|(([A-Z]))|(([a-z])))|([0-9])))*))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,8,12],inclusive:!0},INLINE:{rules:[0,7,8,12,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0},DEDENTS:{rules:[6],inclusive:!0},TRIPLE_D:{rules:[9,10,11],inclusive:!0},TRIPLE_S:{rules:[13,14,15],inclusive:!0}}};function Dt(){this.yy={}}return Et.lexer=Tt,Dt.prototype=Et,Et.Parser=Dt,new Dt}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var r=n(26).readFileSync(n(3).normalize(e[1]),"utf8");return t.parser.parse(r)},n.c[n.s]===e&&t.main(process.argv.slice(1))}).call(this,n(100)(e))},function(e){e.exports=JSON.parse('{"__builtins__":{"functions":["credits",{"name":"delattr","updates":[1]},"dict","dir","divmod","enumerate","eval","exec","exit",{"name":"filter","higherorder":1},"float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","license","list","locals",{"name":"map","higherorder":1},"max","memoryview","min","next","object","oct","open","ord","pow","print","property","quit","range","repr","reversed","round","set",{"name":"setattr","updates":[1]},"slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],"types":{"BaseException":{"methods":[{"name":"with_traceback","updates":[1]}]}}}}')},function(e){e.exports=JSON.parse('{"random":{"functions":["betavariate","choice","choices","expovariate","gammavariate","gauss","getrandbits","getstate","lognormvariate","normalvariate","paretovariate","randint","random","randrange","sample","seed","setstate","shuffle","triangular","uniform","vonmisesvariate","weibullvariate"]}}')},function(e){e.exports=JSON.parse('{"matplotlib":{"functions":["checkdep_dvipng","checkdep_ghostscript","checkdep_inkscape","checkdep_pdftops","checkdep_ps_distiller","checkdep_usetex","compare_versions","cycler","dedent",{"name":"get_backend","reads":["rcParams"]},"get_cachedir","get_configdir","get_data_path","get_home","get_label","get_py2exe_datafiles",{"name":"interactive","updates":["rcParams"]},{"name":"is_interactive","reads":["rcParams"]},"is_url","matplotlib_fname","mplDeprecation",{"name":"rc","updates":["rcParams"]},{"name":"rc_context","updates":["rcParams"]},{"name":"rc_file","updates":["rcParams"]},{"name":"rc_file_defaults","updates":["rcParams"]},"rc_params","rc_params_from_file",{"name":"rcdefaults","updates":["rcParams"]},"sanitize_sequence","test",{"name":"tk_window_focus","updates":["rcParams"]},"use","validate_backend"],"modules":{"pyplot":{"functions":["acorr","angle_spectrum","annotate","arrow","autoscale","autumn","axes","axhline","axhspan","axis","axvline","axvspan","bar","barbs","barh","bone","box","boxplot","broken_barh","cla","clabel","clf","clim","close","cm","cohere","colorbar","colormaps","connect","contour","contourf","cool","copper","csd","cycler","dedent","delaxes","deprecated","disconnect","docstring","draw","draw_all","draw_if_interactive","errorbar","eventplot","figaspect","figimage","figlegend","fignum_exists","figtext","fill","fill_between","fill_betweenx","findobj","flag","gca","gcf","gci","get","get_backend","get_cmap","get_current_fig_manager","get_figlabels","get_fignums","get_plot_commands","get_scale_docs","get_scale_names","getp","ginput","gray","grid","hexbin","hist","hist2d","hlines","hot","hsv","importlib","imread","imsave","imshow","inferno","inspect","install_repl_d","matshow","minorticks_off","minorticks_on","mlab",{"name":"figure","reads":["rcParams"]},"new_figure_manager","nipy_spectral","np","pause","pcolor","pcolormesh","phase_spectrum","pie","pink","plasma","plot","plot_date","plotfile","plotting","polar","prism","psd","pylab_setup","quiver","quiverkey","rc","rcParams","rcParamsDefault","rcParamsOrig","rc_context","rcdefaults","rcsetup","re","register_cmap","rgrids","savefig","sca","scatter","sci","semilogx","semilogy","set_cmap","setp","show","silent_list","specgram","spring","spy","stackplot","stem","step","streamplot","style","subplot",{"name":"subplot_tool","updates":["rcParams"]},"subplot2grid","subplots","subplots_adjust","summer","suptitle",{"name":"switch_backend","updates":["rcParams"]},"sys","table","text","thetagrids","tick_params","ticklabel_format","tight_layout","time","title","tricontour","tricontourf","tripcolor","triplot","twinx","twiny","uninstall_repl_displayhook","violinplot","viridis","vlines","waitforbuttonpress","warn_deprecated","warnings","winter","xcorr",{"name":"xkcd","reads":["rcParams"]},"xlabel","xlim","xscale","xticks","ylabel","ylim","yscale","yticks"]}}}}')},function(e){e.exports=JSON.parse('{"pandas":{"functions":["array","bdate_range","concat","crosstab","cut","date_range","datetime","describe_option","eval","factorize","get_dummies","get_option","infer_freq","interval_range","isna","isnull","lreshape","melt","merge","merge_asof","merge_ordered","notna","notnull","option_context","period_range","pivot","pivot_table","qcut",{"name":"read_clipboard","returns":"DataFrame"},{"name":"read_csv","returns":"DataFrame"},{"name":"read_excel","returns":"DataFrame"},{"name":"read_feather","returns":"DataFrame"},{"name":"read_fwf","returns":"DataFrame"},{"name":"read_gbq","returns":"DataFrame"},{"name":"read_hdf","returns":"DataFrame"},{"name":"read_html","returns":"DataFrame"},{"name":"read_json","returns":"DataFrame"},{"name":"read_msgpack","returns":"DataFrame"},{"name":"read_parquet","returns":"DataFrame"},{"name":"read_pickle","returns":"DataFrame"},{"name":"read_sas","returns":"DataFrame"},{"name":"read_sql","returns":"DataFrame"},{"name":"read_sql_query","returns":"DataFrame"},{"name":"read_sql_table","returns":"DataFrame"},{"name":"read_stata","returns":"DataFrame"},{"name":"read_table","returns":"DataFrame"},"reset_option","set_eng_float_format","set_option","show_versions","test","timedelta_range","to_datetime","to_msgpack","to_numeric","to_pickle","to_timedelta","unique","value_counts","wide_to_long"],"types":{"DataFrame":{"methods":["abs","add","add_prefix","add_suffix","agg","aggregate","align","all","any","append","apply","applymap","as_blocks","as_matrix","asfreq","asof","assign","astype","at_time","between_time","bfill","bool","boxplot","clip","clip_lower","clip_upper","combine","combine_first","compound","convert_objects","copy","corr","corrwith","count","cov","cummax","cummin","cumprod","cumsum","describe","diff","div","divide","dot","drop","drop_duplicates","droplevel","dropna","duplicated","eq","equals","eval","ewm","expanding","ffill","fillna","filter","first","first_valid_index","floordiv","from_csv","from_dict","from_items","from_records","ge","get","get_dtype_counts","get_ftype_counts","get_value","get_values","groupby","gt","head","hist","idxmax","idxmin","infer_objects","info","insert","interpolate","isin","isna","isnull","items","iteritems","iterrows","itertuples","join","keys","kurt","kurtosis","last","last_valid_index","le","lookup","lt","mad","mask","max","mean","median",{"name":"melt","updates":[0]},"memory_usage","merge","min","mod","mode","mul","multiply","ne","nlargest","notna","notnull","nsmallest","nunique","pct_change","pipe","pivot","pivot_table","plot",{"name":"pop","updates":[0]},"pow","prod","product","quantile","query","radd","rank","rdiv","reindex","reindex_axis","reindex_like","rename","rename_axis","reorder_levels","replace","resample","reset_index","rfloordiv","rmod","rmul","rolling","round","rpow","rsub","rtruediv","sample","select","select_dtypes","sem","set_axis","set_index","set_value","shift","skew","slice_shift","sort_index","sort_values","squeeze","stack","std","sub","subtract","sum","swapaxes","swaplevel","tail","take","to_clipboard","to_csv","to_dense","to_dict","to_excel","to_feather","to_gbq","to_hdf","to_html","to_json","to_latex","to_msgpack","to_numpy","to_panel","to_parquet","to_period","to_pickle","to_records","to_sparse","to_sql","to_stata","to_string","to_timestamp","to_xarray","transform","transpose","truediv","truncate","tshift","tz_convert","tz_localize","unstack",{"name":"update","updates":[0]},"var","where","xs"]}}}}')},function(e){e.exports=JSON.parse('{"sklearn":{"modules":{"cluster":{"types":{"KMeans":{"methods":[{"name":"fit","updates":[0]},{"name":"fit_predict","updates":[0]},{"name":"fit_transform","updates":[0]},"predict","score","transform"]}}},"datasets":{"functions":["clear_data_home","dump_svmlight_file","fetch_20newsgroups","fetch_20newsgroups_vectorized","fetch_lfw_pairs","fetch_lfw_people","fetch_mldata","fetch_olivetti_faces","fetch_species_distributions","fetch_california_housing","fetch_covtype","fetch_rcv1","fetch_kddcup99","fetch_openml","get_data_home","load_boston","load_diabetes","load_digits","load_files","load_iris","load_breast_cancer","load_linnerud","load_mlcomp","load_sample_image","load_sample_images","load_svmlight_file","load_svmlight_files","load_wine","make_biclusters","make_blobs","make_circles","make_classification","make_checkerboard","make_friedman1","make_friedman2","make_friedman3","make_gaussian_quantiles","make_hastie_10_2","make_low_rank_matrix","make_moons","make_multilabel_classification","make_regression","make_s_curve","make_sparse_coded_signal","make_sparse_spd_matrix","make_sparse_uncorrelated","make_spd_matrix","make_swiss_roll","mldata_filename"]}}}}')},function(e){e.exports=JSON.parse('{"numpy":{"functions":[{"name":"abs","returns":"ndarray"},{"name":"absolute","returns":"ndarray"},{"name":"add","returns":"ndarray"},{"name":"add_docstring","returns":"ndarray"},{"name":"add_newdoc","returns":"ndarray"},{"name":"add_newdoc_ufunc","returns":"ndarray"},{"name":"alen","returns":"ndarray"},{"name":"all","returns":"ndarray"},{"name":"allclose","returns":"ndarray"},{"name":"alltrue","returns":"ndarray"},{"name":"amax","returns":"ndarray"},{"name":"amin","returns":"ndarray"},{"name":"angle","returns":"ndarray"},{"name":"any","returns":"ndarray"},{"name":"append","returns":"ndarray"},{"name":"apply_along_axis","returns":"ndarray"},{"name":"apply_over_axes","returns":"ndarray"},{"name":"arange","returns":"ndarray"},{"name":"arccos","returns":"ndarray"},{"name":"arccosh","returns":"ndarray"},{"name":"arcsin","returns":"ndarray"},{"name":"arcsinh","returns":"ndarray"},{"name":"arctan","returns":"ndarray"},{"name":"arctan2","returns":"ndarray"},{"name":"arctanh","returns":"ndarray"},{"name":"argmax","returns":"ndarray"},{"name":"argmin","returns":"ndarray"},{"name":"argpartition","returns":"ndarray"},{"name":"argsort","returns":"ndarray"},{"name":"argwhere","returns":"ndarray"},{"name":"around","returns":"ndarray"},{"name":"array","returns":"ndarray"},{"name":"array2string","returns":"ndarray"},{"name":"array_equal","returns":"ndarray"},{"name":"array_equiv","returns":"ndarray"},{"name":"array_repr","returns":"ndarray"},{"name":"array_split","returns":"ndarray"},{"name":"array_str","returns":"ndarray"},{"name":"asanyarray","returns":"ndarray"},{"name":"asarray","returns":"ndarray"},{"name":"asarray_chkfinite","returns":"ndarray"},{"name":"ascontiguousarray","returns":"ndarray"},{"name":"asfarray","returns":"ndarray"},{"name":"asfortranarray","returns":"ndarray"},{"name":"asmatrix","returns":"ndarray"},{"name":"asscalar","returns":"ndarray"},{"name":"atleast_1d","returns":"ndarray"},{"name":"atleast_2d","returns":"ndarray"},{"name":"atleast_3d","returns":"ndarray"},{"name":"average","returns":"ndarray"},{"name":"bartlett","returns":"ndarray"},{"name":"base_repr","returns":"ndarray"},{"name":"binary_repr","returns":"ndarray"},{"name":"bincount","returns":"ndarray"},{"name":"bitwise_and","returns":"ndarray"},{"name":"bitwise_not","returns":"ndarray"},{"name":"bitwise_or","returns":"ndarray"},{"name":"bitwise_xor","returns":"ndarray"},{"name":"blackman","returns":"ndarray"},{"name":"block","returns":"ndarray"},{"name":"bmat","returns":"ndarray"},{"name":"broadcast","returns":"broadcast"},{"name":"broadcast_arrays","returns":"broadcast"},{"name":"broadcast_to","returns":"broadcast"},{"name":"busday_count","returns":"ndarray"},{"name":"busday_offset","returns":"ndarray"},"byte_bounds",{"name":"can_cast","returns":"ndarray"},{"name":"cbrt","returns":"ndarray"},{"name":"cdouble","returns":"ndarray"},{"name":"ceil","returns":"ndarray"},{"name":"choose","returns":"ndarray"},{"name":"clip","returns":"ndarray"},{"name":"clongdouble","returns":"ndarray"},{"name":"clongfloat","returns":"ndarray"},{"name":"column_stack","returns":"ndarray"},{"name":"common_type","returns":"ndarray"},{"name":"compare_chararrays","returns":"ndarray"},{"name":"compress","returns":"ndarray"},{"name":"concatenate","returns":"ndarray"},{"name":"conj","returns":"ndarray"},{"name":"conjugate","returns":"ndarray"},{"name":"convolve","returns":"ndarray"},{"name":"copy","returns":"ndarray"},{"name":"copysign","returns":"ndarray"},{"name":"copyto","returns":"ndarray"},{"name":"corrcoef","returns":"ndarray"},{"name":"correlate","returns":"ndarray"},{"name":"cos","returns":"ndarray"},{"name":"cosh","returns":"ndarray"},{"name":"count_nonzero","returns":"ndarray"},{"name":"cov","returns":"ndarray"},{"name":"cross","returns":"ndarray"},{"name":"csingle","returns":"ndarray"},{"name":"cumprod","returns":"ndarray"},{"name":"cumproduct","returns":"ndarray"},{"name":"cumsum","returns":"ndarray"},{"name":"datetime64","returns":"ndarray"},{"name":"datetime_as_string","returns":"ndarray"},{"name":"datetime_data","returns":"ndarray"},{"name":"deg2rad","returns":"ndarray"},{"name":"degrees","returns":"ndarray"},{"name":"delete","returns":"ndarray"},{"name":"deprecate","returns":"ndarray"},{"name":"deprecate_with_doc","returns":"ndarray"},{"name":"diag","returns":"ndarray"},{"name":"diag_indices","returns":"ndarray"},{"name":"diag_indices_from","returns":"ndarray"},{"name":"diagflat","returns":"ndarray"},{"name":"diagonal","returns":"ndarray"},{"name":"diff","returns":"ndarray"},{"name":"digitize","returns":"ndarray"},{"name":"disp","returns":"ndarray"},{"name":"divide","returns":"ndarray"},{"name":"divmod","returns":"ndarray"},{"name":"dot","returns":"ndarray"},{"name":"double","returns":"ndarray"},{"name":"dsplit","returns":"ndarray"},{"name":"dstack","returns":"ndarray"},{"name":"dtype","returns":"ndarray"},{"name":"ediff1d","returns":"ndarray"},{"name":"einsum","returns":"ndarray"},{"name":"einsum_path","returns":"ndarray"},{"name":"empty","returns":"ndarray"},{"name":"empty_like","returns":"ndarray"},{"name":"equal","returns":"ndarray"},{"name":"errstate","returns":"ndarray"},{"name":"exp","returns":"ndarray"},{"name":"exp2","returns":"ndarray"},{"name":"expand_dims","returns":"ndarray"},{"name":"expm1","returns":"ndarray"},{"name":"extract","returns":"ndarray"},{"name":"eye","returns":"ndarray"},{"name":"fabs","returns":"ndarray"},{"name":"fastCopyAndTranspose","returns":"ndarray"},{"name":"fill_diagonal","returns":"ndarray"},{"name":"find_common_type","returns":"ndarray"},{"name":"finfo","returns":"ndarray"},{"name":"fix","returns":"ndarray"},{"name":"flatiter","returns":"ndarray"},{"name":"flatnonzero","returns":"ndarray"},{"name":"flexible","returns":"ndarray"},{"name":"flip","returns":"ndarray"},{"name":"fliplr","returns":"ndarray"},{"name":"flipud","returns":"ndarray"},{"name":"float","returns":"ndarray"},{"name":"float16","returns":"ndarray"},{"name":"float32","returns":"ndarray"},{"name":"float64","returns":"ndarray"},{"name":"float_","returns":"ndarray"},{"name":"float_power","returns":"ndarray"},{"name":"floating","returns":"ndarray"},{"name":"floor","returns":"ndarray"},{"name":"floor_divide","returns":"ndarray"},{"name":"fmax","returns":"ndarray"},{"name":"fmin","returns":"ndarray"},{"name":"fmod","returns":"ndarray"},{"name":"format_float_positional","returns":"ndarray"},{"name":"format_float_scientific","returns":"ndarray"},{"name":"format_parser","returns":"ndarray"},{"name":"frexp","returns":"ndarray"},{"name":"frombuffer","returns":"ndarray"},{"name":"fromfile","returns":"ndarray"},{"name":"fromfunction","returns":"ndarray"},{"name":"fromiter","returns":"ndarray"},{"name":"frompyfunc","returns":"ndarray"},{"name":"fromregex","returns":"ndarray"},{"name":"fromstring","returns":"ndarray"},{"name":"full","returns":"ndarray"},{"name":"full_like","returns":"ndarray"},{"name":"fv","returns":"ndarray"},{"name":"gcd","returns":"ndarray"},{"name":"generic","returns":"ndarray"},{"name":"genfromtxt","returns":"ndarray"},{"name":"geomspace","returns":"ndarray"},{"name":"get_array_wrap","returns":"ndarray"},{"name":"get_include","returns":"ndarray"},{"name":"get_printoptions","returns":"ndarray"},{"name":"getbufsize","returns":"ndarray"},{"name":"geterr","returns":"ndarray"},{"name":"geterrcall","returns":"ndarray"},{"name":"geterrobj","returns":"ndarray"},{"name":"gradient","returns":"ndarray"},{"name":"greater","returns":"ndarray"},{"name":"greater_equal","returns":"ndarray"},{"name":"half","returns":"ndarray"},{"name":"hamming","returns":"ndarray"},{"name":"hanning","returns":"ndarray"},{"name":"heaviside","returns":"ndarray"},{"name":"histogram","returns":"ndarray"},{"name":"histogram2d","returns":"ndarray"},{"name":"histogram_bin_edges","returns":"ndarray"},{"name":"histogramdd","returns":"ndarray"},{"name":"hsplit","returns":"ndarray"},{"name":"hstack","returns":"ndarray"},{"name":"hypot","returns":"ndarray"},{"name":"i0","returns":"ndarray"},{"name":"identity","returns":"ndarray"},{"name":"iinfo","returns":"ndarray"},{"name":"imag","returns":"ndarray"},{"name":"in1d","returns":"ndarray"},{"name":"indices","returns":"ndarray"},{"name":"inexact","returns":"ndarray"},{"name":"info","returns":"ndarray"},{"name":"inner","returns":"ndarray"},{"name":"insert","returns":"ndarray"},{"name":"int_asbuffer","returns":"ndarray"},{"name":"intc","returns":"ndarray"},{"name":"integer","returns":"ndarray"},{"name":"interp","returns":"ndarray"},{"name":"intersect1d","returns":"ndarray"},{"name":"intp","returns":"ndarray"},{"name":"invert","returns":"ndarray"},{"name":"ipmt","returns":"ndarray"},{"name":"irr","returns":"ndarray"},{"name":"is_busday","returns":"ndarray"},{"name":"isclose","returns":"ndarray"},{"name":"iscomplex","returns":"ndarray"},{"name":"iscomplexobj","returns":"ndarray"},{"name":"isfinite","returns":"ndarray"},{"name":"isfortran","returns":"ndarray"},{"name":"isin","returns":"ndarray"},{"name":"isinf","returns":"ndarray"},{"name":"isnan","returns":"ndarray"},{"name":"isnat","returns":"ndarray"},{"name":"isneginf","returns":"ndarray"},{"name":"isposinf","returns":"ndarray"},{"name":"isreal","returns":"ndarray"},{"name":"isrealobj","returns":"ndarray"},{"name":"isscalar","returns":"ndarray"},{"name":"issctype","returns":"ndarray"},{"name":"issubclass_","returns":"ndarray"},{"name":"issubdtype","returns":"ndarray"},{"name":"issubsctype","returns":"ndarray"},{"name":"iterable","returns":"ndarray"},{"name":"ix_","returns":"ndarray"},{"name":"kaiser","returns":"ndarray"},{"name":"kron","returns":"ndarray"},{"name":"lcm","returns":"ndarray"},{"name":"ldexp","returns":"ndarray"},{"name":"left_shift","returns":"ndarray"},{"name":"less","returns":"ndarray"},{"name":"less_equal","returns":"ndarray"},{"name":"lexsort","returns":"ndarray"},{"name":"linspace","returns":"ndarray"},{"name":"load","returns":"ndarray"},{"name":"loads","returns":"ndarray"},{"name":"loadtxt","returns":"ndarray"},{"name":"log","returns":"ndarray"},{"name":"log10","returns":"ndarray"},{"name":"log1p","returns":"ndarray"},{"name":"log2","returns":"ndarray"},{"name":"logaddexp","returns":"ndarray"},{"name":"logaddexp2","returns":"ndarray"},{"name":"logical_and","returns":"ndarray"},{"name":"logical_not","returns":"ndarray"},{"name":"logical_or","returns":"ndarray"},{"name":"logical_xor","returns":"ndarray"},{"name":"logspace","returns":"ndarray"},{"name":"long","returns":"ndarray"},{"name":"longcomplex","returns":"ndarray"},{"name":"longdouble","returns":"ndarray"},{"name":"longfloat","returns":"ndarray"},{"name":"longlong","returns":"ndarray"},{"name":"lookfor","returns":"ndarray"},{"name":"mafromtxt","returns":"ndarray"},{"name":"mask_indices","returns":"ndarray"},{"name":"mat","returns":"ndarray"},{"name":"matmul","returns":"ndarray"},{"name":"matrix","returns":"ndarray"},{"name":"max","returns":"ndarray"},{"name":"maximum","returns":"ndarray"},{"name":"maximum_sctype","returns":"ndarray"},"may_share_memory",{"name":"mean","returns":"ndarray"},{"name":"median","returns":"ndarray"},{"name":"memmap","returns":"ndarray"},{"name":"meshgrid","returns":"ndarray"},{"name":"min","returns":"ndarray"},{"name":"min_scalar_type","returns":"ndarray"},{"name":"minimum","returns":"ndarray"},{"name":"mintypecode","returns":"ndarray"},{"name":"mirr","returns":"ndarray"},{"name":"mod","returns":"ndarray"},{"name":"modf","returns":"ndarray"},{"name":"moveaxis","returns":"ndarray"},{"name":"msort","returns":"ndarray"},{"name":"multiply","returns":"ndarray"},{"name":"nan_to_num","returns":"ndarray"},{"name":"nanargmax","returns":"ndarray"},{"name":"nanargmin","returns":"ndarray"},{"name":"nancumprod","returns":"ndarray"},{"name":"nancumsum","returns":"ndarray"},{"name":"nanmax","returns":"ndarray"},{"name":"nanmean","returns":"ndarray"},{"name":"nanmedian","returns":"ndarray"},{"name":"nanmin","returns":"ndarray"},{"name":"nanpercentile","returns":"ndarray"},{"name":"nanprod","returns":"ndarray"},{"name":"nanquantile","returns":"ndarray"},{"name":"nanstd","returns":"ndarray"},{"name":"nansum","returns":"ndarray"},{"name":"nanvar","returns":"ndarray"},{"name":"ndarray","returns":"ndarray"},{"name":"ndenumerate","returns":"ndarray"},{"name":"ndfromtxt","returns":"ndarray"},{"name":"ndim","returns":"ndarray"},{"name":"negative","returns":"ndarray"},{"name":"nested_iters","returns":"ndarray"},{"name":"nextafter","returns":"ndarray"},{"name":"nonzero","returns":"ndarray"},{"name":"not_equal","returns":"ndarray"},{"name":"nper","returns":"ndarray"},{"name":"npv","returns":"ndarray"},{"name":"obj2sctype","returns":"ndarray"},{"name":"ones","returns":"ndarray"},{"name":"ones_like","returns":"ndarray"},{"name":"outer","returns":"ndarray"},{"name":"packbits","returns":"ndarray"},{"name":"pad","returns":"ndarray"},{"name":"partition","returns":"ndarray"},{"name":"percentile","returns":"ndarray"},{"name":"piecewise","returns":"ndarray"},{"name":"place","returns":"ndarray"},{"name":"pmt","returns":"ndarray"},{"name":"poly","returns":"ndarray"},{"name":"polyadd","returns":"ndarray"},{"name":"polyder","returns":"ndarray"},{"name":"polydiv","returns":"ndarray"},{"name":"polyfit","returns":"ndarray"},{"name":"polyint","returns":"ndarray"},{"name":"polymul","returns":"ndarray"},{"name":"polysub","returns":"ndarray"},{"name":"polyval","returns":"ndarray"},{"name":"positive","returns":"ndarray"},{"name":"power","returns":"ndarray"},{"name":"ppmt","returns":"ndarray"},{"name":"printoptions","returns":"ndarray"},{"name":"prod","returns":"ndarray"},{"name":"product","returns":"ndarray"},{"name":"promote_types","returns":"ndarray"},{"name":"ptp","returns":"ndarray"},{"name":"put","returns":"ndarray"},{"name":"put_along_axis","returns":"ndarray"},{"name":"putmask","returns":"ndarray"},{"name":"pv","returns":"ndarray"},{"name":"quantile","returns":"ndarray"},{"name":"rad2deg","returns":"ndarray"},{"name":"radians","returns":"ndarray"},{"name":"rank","returns":"ndarray"},{"name":"rate","returns":"ndarray"},{"name":"ravel","returns":"ndarray"},{"name":"ravel_multi_index","returns":"ndarray"},{"name":"real","returns":"ndarray"},{"name":"real_if_close","returns":"ndarray"},{"name":"recfromcsv","returns":"ndarray"},{"name":"recfromtxt","returns":"ndarray"},{"name":"reciprocal","returns":"ndarray"},{"name":"remainder","returns":"ndarray"},{"name":"repeat","returns":"ndarray"},{"name":"require","returns":"ndarray"},{"name":"reshape","returns":"ndarray"},{"name":"resize","returns":"ndarray"},{"name":"result_type","returns":"ndarray"},{"name":"right_shift","returns":"ndarray"},{"name":"rint","returns":"ndarray"},{"name":"roll","returns":"ndarray"},{"name":"rollaxis","returns":"ndarray"},{"name":"roots","returns":"ndarray"},{"name":"rot90","returns":"ndarray"},{"name":"round","returns":"ndarray"},{"name":"round_","returns":"ndarray"},{"name":"row_stack","returns":"ndarray"},"safe_eval","save","savetxt","savez","savez_compressed",{"name":"sctype2char","returns":"ndarray"},{"name":"searchsorted","returns":"ndarray"},{"name":"select","returns":"ndarray"},{"name":"set_numeric_ops","returns":"ndarray"},{"name":"set_printoptions","returns":"ndarray"},{"name":"set_string_function","returns":"ndarray"},{"name":"setbufsize","returns":"ndarray"},{"name":"setdiff1d","returns":"ndarray"},{"name":"seterr","returns":"ndarray"},{"name":"seterrcall","returns":"ndarray"},{"name":"seterrobj","returns":"ndarray"},{"name":"setxor1d","returns":"ndarray"},{"name":"shape","returns":"ndarray"},{"name":"shares_memory","returns":"ndarray"},{"name":"short","returns":"ndarray"},{"name":"show_config","returns":"ndarray"},{"name":"sign","returns":"ndarray"},{"name":"signbit","returns":"ndarray"},{"name":"signedinteger","returns":"ndarray"},{"name":"sin","returns":"ndarray"},{"name":"sinc","returns":"ndarray"},{"name":"single","returns":"ndarray"},{"name":"singlecomplex","returns":"ndarray"},{"name":"sinh","returns":"ndarray"},"size",{"name":"sometrue","returns":"ndarray"},{"name":"sort","returns":"ndarray"},{"name":"sort_complex","returns":"ndarray"},{"name":"source","returns":"ndarray"},{"name":"spacing","returns":"ndarray"},{"name":"split","returns":"ndarray"},{"name":"sqrt","returns":"ndarray"},{"name":"square","returns":"ndarray"},{"name":"squeeze","returns":"ndarray"},{"name":"stack","returns":"ndarray"},{"name":"std","returns":"ndarray"},{"name":"subtract","returns":"ndarray"},{"name":"sum","returns":"ndarray"},{"name":"swapaxes","returns":"ndarray"},{"name":"take","returns":"ndarray"},{"name":"take_along_axis","returns":"ndarray"},{"name":"tan","returns":"ndarray"},{"name":"tanh","returns":"ndarray"},{"name":"tensordot","returns":"ndarray"},{"name":"tile","returns":"ndarray"},{"name":"timedelta64","returns":"ndarray"},{"name":"trace","returns":"ndarray"},{"name":"transpose","returns":"ndarray"},{"name":"trapz","returns":"ndarray"},{"name":"tri","returns":"ndarray"},{"name":"tril","returns":"ndarray"},{"name":"tril_indices","returns":"ndarray"},{"name":"tril_indices_from","returns":"ndarray"},{"name":"trim_zeros","returns":"ndarray"},{"name":"triu","returns":"ndarray"},{"name":"triu_indices","returns":"ndarray"},{"name":"triu_indices_from","returns":"ndarray"},{"name":"true_divide","returns":"ndarray"},{"name":"trunc","returns":"ndarray"},"typename",{"name":"union1d","returns":"ndarray"},{"name":"unique","returns":"ndarray"},{"name":"unpackbits","returns":"ndarray"},{"name":"unravel_index","returns":"ndarray"},{"name":"unwrap","returns":"ndarray"},{"name":"vander","returns":"ndarray"},{"name":"var","returns":"ndarray"},{"name":"vdot","returns":"ndarray"},{"name":"vectorize","returns":"ndarray"},{"name":"vsplit","returns":"ndarray"},{"name":"vstack","returns":"ndarray"},{"name":"where","returns":"ndarray"},{"name":"who","returns":"ndarray"},{"name":"zeros","returns":"ndarray"},{"name":"zeros_like","returns":"ndarray"}],"types":{"ndarray":{"methods":[{"name":"all","returns":"ndarray"},{"name":"any","returns":"ndarray"},{"name":"argmax","returns":"ndarray"},{"name":"argmin","returns":"ndarray"},{"name":"argpartition","returns":"ndarray"},{"name":"argsort","returns":"ndarray"},{"name":"astype","returns":"ndarray"},{"name":"base","returns":"ndarray"},{"name":"byteswap","returns":"ndarray","updates":[0]},{"name":"choose","returns":"ndarray"},{"name":"clip","returns":"ndarray"},{"name":"compress","returns":"ndarray"},{"name":"conj","returns":"ndarray"},{"name":"conjugate","returns":"ndarray"},{"name":"copy","returns":"ndarray"},{"name":"cumprod","returns":"ndarray"},{"name":"cumsum","returns":"ndarray"},{"name":"data","returns":"ndarray"},{"name":"diagonal","returns":"ndarray"},{"name":"dot","returns":"ndarray"},{"name":"dump","returns":"ndarray"},{"name":"dumps","returns":"ndarray"},{"name":"fill","returns":"ndarray","updates":[0]},{"name":"flags","returns":"ndarray"},{"name":"flat","returns":"ndarray"},{"name":"flatten","returns":"ndarray"},{"name":"getfield","returns":"ndarray"},{"name":"imag","returns":"ndarray"},{"name":"item","returns":"ndarray"},{"name":"itemset","returns":"ndarray"},{"name":"itemsize","returns":"ndarray"},{"name":"max","returns":"ndarray"},{"name":"mean","returns":"ndarray"},{"name":"min","returns":"ndarray"},{"name":"nbytes","returns":"ndarray"},{"name":"ndim","returns":"ndarray"},{"name":"newbyteorder","returns":"ndarray"},{"name":"nonzero","returns":"ndarray"},{"name":"partition","returns":"ndarray"},{"name":"prod","returns":"ndarray"},{"name":"ptp","returns":"ndarray"},{"name":"put","returns":"ndarray"},{"name":"ravel","returns":"ndarray"},{"name":"real","returns":"ndarray"},{"name":"repeat","returns":"ndarray"},{"name":"reshape","returns":"ndarray"},{"name":"resize","returns":"ndarray","updates":[0]},{"name":"round","returns":"ndarray"},{"name":"searchsorted","returns":"ndarray"},{"name":"setfield","returns":"ndarray"},{"name":"setflags","returns":"ndarray"},{"name":"shape","returns":"ndarray"},{"name":"size","returns":"ndarray"},{"name":"sort","updates":[0]},{"name":"squeeze","returns":"ndarray","updates":[0]},{"name":"std","returns":"ndarray"},{"name":"strides","returns":"ndarray"},{"name":"sum","returns":"ndarray"},{"name":"swapaxes","returns":"ndarray"},{"name":"take","returns":"ndarray"},{"name":"tobytes","returns":"ndarray"},{"name":"tofile","returns":"ndarray"},{"name":"tolist","returns":"ndarray"},{"name":"tostring","returns":"ndarray"},{"name":"trace","returns":"ndarray"},{"name":"transpose","returns":"ndarray"},{"name":"var","returns":"ndarray"},{"name":"view","returns":"ndarray"}]}}}}')},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(106));function s(e,t){var n={};return Object.keys(e).forEach(function(r){return n[r]=t(e[r])}),n}function o(e){return"string"==typeof e?{name:e,reads:[],updates:[]}:(e.reads||(e.reads=[]),e.updates||(e.updates=[]),e)}function a(e){return{methods:e.methods?e.methods.map(function(e){return o(e)}):[]}}function c(e){var t={functions:e.functions?e.functions.map(function(e){return o(e)}):[],types:e.types?s(e.types,a):{},modules:e.modules?s(e.modules,c):{}};return t.functions.forEach(function(e){e.returns&&(e.returnsType=t.types[e.returns])}),Object.keys(t.types).forEach(function(e){t.types[e].methods.forEach(function(e){e.returns&&(e.returnsType=t.types[e.returns])})}),t}var l=function(){function e(e){this.jsonSpecs=e,this.modules={},this.types={},this.functions={},this.importModuleDefinitions("__builtins__",[{path:"*",name:""}])}return e.prototype.lookupFunction=function(e){var t=this.functions[e];if(t)return t;var n=this.types[e];return n?n.methods.find(function(e){return"__init__"===e.name})||{name:"__init__",updates:["0"],returns:e,returnsType:n}:void 0},e.prototype.lookupNode=function(e){return e.type===i.NAME?this.lookupFunction(e.id):e.type===i.DOT&&e.value.type===i.NAME?this.lookupModuleFunction(e.value.id,e.name):void 0},e.prototype.lookupModuleFunction=function(e,t){var n=this.modules[e];return n?n.functions.find(function(e){return e.name===t}):void 0},e.prototype.importModule=function(e,t){var n=this.lookupSpec(this.jsonSpecs,e.split("."));n?e&&(this.modules[e]=n,t&&t.length&&(this.modules[t]=n)):console.log("*** WARNING no spec for module "+e)},e.prototype.importModuleDefinitions=function(e,t){var n=this,r=this.lookupSpec(this.jsonSpecs,e.split("."));r&&r?t.forEach(function(e){var t=r.functions?r.functions.map(function(e){return o(e)}):[];if("*"===e.path)t.forEach(function(e){return n.functions[e.name]=e}),r.types&&Object.keys(r.types).forEach(function(e){return n.types[e]=r.types[e]});else if(r.types&&r.types[e.name])n.types[e.name]=r.types[e.name];else{var i=t.find(function(t){return t.name===e.name});i&&(n.functions[i.name]=i)}}):console.log("*** WARNING no spec for module "+e)},e.prototype.lookupSpec=function(e,t){if(e&&0!=t.length){var n=e[t[0]];if(n)return t.length>1?this.lookupSpec(n.modules,t.slice(1)):c(n)}},e}();t.SymbolTable=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(1005),o=n(132),a=function(){function e(){}return Object.defineProperty(e.prototype,"dirty",{get:function(){return this.text!==this.lastExecutedText},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{id:this.id,executionCount:this.executionCount,persistentId:this.persistentId,lineCount:this.text.split("\n").length,isCode:this.isCode,hasError:this.hasError,gathered:this.gathered}},e.prototype.copyToNewCell=function(){var e=this.outputs.map(function(e){var t=JSON.parse(JSON.stringify(e));return s.nbformat.isExecuteResult(t)&&(t.execution_count=void 0),t});return new c({text:this.text,hasError:this.hasError,outputs:e})},e.prototype.serialize=function(){return{id:this.id,execution_count:this.executionCount,source:this.text,cell_type:"code",outputs:this.outputs,metadata:{gathered:this.gathered,execution_event_id:this.executionEventId,persistent_id:this.persistentId}}},e}();t.AbstractCell=a;var c=function(e){function t(t){var n=e.call(this)||this;return n.is_cell=!0,n.id=t.id||o.UUID.uuid4(),n.executionCount=t.executionCount||void 0,n.persistentId=t.persistentId||o.UUID.uuid4(),n.executionEventId=t.executionEventId||o.UUID.uuid4(),n.hasError=t.hasError||!1,n.text=t.text||"",n.lastExecutedText=n.text,n.outputs=t.outputs||[],n.gathered=!1,n}return i(t,e),t.prototype.deepCopy=function(){return new t(this)},t}(a);t.LogCell=c},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1006)),r(n(1022)),r(n(1023)),r(n(1024)),r(n(1030)),r(n(375)),r(n(1036)),r(n(1077)),r(n(1078)),r(n(1079)),r(n(376))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new r.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,r.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=window.setTimeout(()=>{this._activityStopped.emit({sender:this._sender,args:this._args})},this._timeout)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,s=e.length;if(0===s)return-1;n=n<0?Math.max(0,n+s):Math.min(n,s-1),i=(r=r<0?Math.max(0,r+s):Math.min(r,s-1))<n?r+1+(s-n):r-n+1;for(var o=0;o<i;++o){var a=(n+o)%s;if(e[a]===t)return a}return-1}function n(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,s=e.length;if(0===s)return-1;i=(n=n<0?Math.max(0,n+s):Math.min(n,s-1))<(r=r<0?Math.max(0,r+s):Math.min(r,s-1))?n+1+(s-r):n-r+1;for(var o=0;o<i;++o){var a=(n-o+s)%s;if(e[a]===t)return a}return-1}function r(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,s=e.length;if(0===s)return-1;n=n<0?Math.max(0,n+s):Math.min(n,s-1),i=(r=r<0?Math.max(0,r+s):Math.min(r,s-1))<n?r+1+(s-n):r-n+1;for(var o=0;o<i;++o){var a=(n+o)%s;if(t(e[a],a))return a}return-1}function i(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,s=e.length;if(0===s)return-1;i=(n=n<0?Math.max(0,n+s):Math.min(n,s-1))<(r=r<0?Math.max(0,r+s):Math.min(r,s-1))?n+1+(s-r):n-r+1;for(var o=0;o<i;++o){var a=(n-o+s)%s;if(t(e[a],a))return a}return-1}function s(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var r=e.length;if(!(r<=1))for(t=t<0?Math.max(0,t+r):Math.min(t,r-1),n=n<0?Math.max(0,n+r):Math.min(n,r-1);t<n;){var i=e[t],s=e[n];e[t++]=s,e[n--]=i}}function o(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var r=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,r}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=r,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var s=r(e,t,n,i);return-1!==s?e[s]:void 0},e.findLastValue=function(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var s=i(e,t,n,r);return-1!==s?e[s]:void 0},e.lowerBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var s=e.length;if(0===s)return 0;for(var o=r=r<0?Math.max(0,r+s):Math.min(r,s-1),a=(i=i<0?Math.max(0,i+s):Math.min(i,s-1))-r+1;a>0;){var c=a>>1,l=o+c;n(e[l],t)<0?(o=l+1,a-=c+1):a=c}return o},e.upperBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var s=e.length;if(0===s)return 0;for(var o=r=r<0?Math.max(0,r+s):Math.min(r,s-1),a=(i=i<0?Math.max(0,i+s):Math.min(i,s-1))-r+1;a>0;){var c=a>>1,l=o+c;n(e[l],t)>0?a=c:(o=l+1,a-=c+1)}return o},e.move=function(e,t,n){var r=e.length;if(!(r<=1)&&(t=t<0?Math.max(0,t+r):Math.min(t,r-1))!==(n=n<0?Math.max(0,n+r):Math.min(n,r-1))){for(var i=e[t],s=t<n?1:-1,o=t;o!==n;o+=s)e[o]=e[o+s];e[n]=i}},e.reverse=s,e.rotate=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(r=r<0?Math.max(0,r+i):Math.min(r,i-1)))){var o=r-n+1;if(t>0?t%=o:t<0&&(t=(t%o+o)%o),0!==t){var a=n+t;s(e,n,a-1),s(e,a,r),s(e,n,r)}}},e.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0!==i){var s;n=n<0?Math.max(0,n+i):Math.min(n,i-1),s=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<n?r+1+(i-n):r-n+1;for(var o=0;o<s;++o)e[(n+o)%i]=t}},e.insert=function(e,t,n){var r=e.length;t=t<0?Math.max(0,t+r):Math.min(t,r);for(var i=r;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=o,e.removeFirstOf=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var s=t(e,n,r,i);return-1!==s&&o(e,s),s},e.removeLastOf=function(e,t,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var s=n(e,t,r,i);return-1!==s&&o(e,s),s},e.removeAllOf=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var s=0,o=0;o<i;++o)n<=r&&o>=n&&o<=r&&e[o]===t?s++:r<n&&(o<=r||o>=n)&&e[o]===t?s++:s>0&&(e[o-s]=e[o]);return s>0&&(e.length=i-s),s},e.removeFirstWhere=function(e,t,n,i){var s;void 0===n&&(n=0),void 0===i&&(i=-1);var a=r(e,t,n,i);return-1!==a&&(s=o(e,a)),{index:a,value:s}},e.removeLastWhere=function(e,t,n,r){var s;void 0===n&&(n=-1),void 0===r&&(r=0);var a=i(e,t,n,r);return-1!==a&&(s=o(e,a)),{index:a,value:s}},e.removeAllWhere=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var s=0,o=0;o<i;++o)n<=r&&o>=n&&o<=r&&t(e[o],o)?s++:r<n&&(o<=r||o>=n)&&t(e[o],o)?s++:s>0&&(e[o-s]=e[o]);return s>0&&(e.length=i-s),s}}(t.ArrayExt||(t.ArrayExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i(r.iter(e.map(r.iter)))};var i=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();t.ChainIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=function(){return new r};var r=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();t.EmptyIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.filter=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e},e}();t.FilterIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.find=function(e,t){for(var n,i=0,s=r.iter(e);void 0!==(n=s.next());)if(t(n,i++))return n},t.min=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var s=i;void 0!==(i=n.next());)t(i,s)<0&&(s=i);return s}},t.max=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var s=i;void 0!==(i=n.next());)t(i,s)>0&&(s=i);return s}},t.minmax=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var s=i,o=i;void 0!==(i=n.next());)t(i,s)<0?s=i:t(i,o)>0&&(o=i);return[s,o]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.map=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();t.MapIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=function(e,t,n){return void 0===t?new i(0,e,1):new i(e,t,void 0===n?1:n)};var r,i=function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=r.rangeLength(e,t,n)}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},e}();t.RangeIterator=i,function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0?0:e<t&&n<0?0:Math.ceil((t-e)/n)}}(r||(r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.reduce=function(e,t,n){var i=0,s=r.iter(e),o=s.next();if(void 0===o&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===o)return n;var a,c,l=s.next();if(void 0===l&&void 0===n)return o;if(void 0===l)return t(n,o,i++);for(a=t(void 0===n?o:t(n,o,i++),l,i++);void 0!==(c=s.next());)a=t(a,c,i++);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=function(e,t){return new r(e,t)},t.once=function(e){return new r(e,1)};var r=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();t.RepeatIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retro=function(e){return"function"==typeof e.retro?e.retro():new r(e)};var r=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();t.RetroArrayIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.topologicSort=function(e){var t=[],n=new Set,i=new Map;return r.each(e,function(e){var t=e[0],n=e[1],r=i.get(n);r?r.push(t):i.set(n,[t])}),i.forEach(function(e,t){s(t)}),t;function s(e){if(!n.has(e)){n.add(e);var r=i.get(e);r&&r.forEach(s),t.push(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.stride=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._source=e,this._step=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e},e}();t.StrideIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n){void 0===n&&(n=0);for(var r=new Array(t.length),i=0,s=n,o=t.length;i<o;++i,++s){if(-1===(s=e.indexOf(t[i],s)))return null;r[i]=s}return r}e.findIndices=t,e.matchSumOfSquares=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var s=0,o=0,a=i.length;o<a;++o){var c=i[o]-r;s+=c*c}return{score:s,indices:i}},e.matchSumOfDeltas=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var s=0,o=r-1,a=0,c=i.length;a<c;++a){var l=i[a];s+=l-o-1,o=l}return{score:s,indices:i}},e.highlight=function(e,t,n){for(var r=[],i=0,s=0,o=t.length;i<o;){for(var a=t[i],c=t[i];++i<o&&t[i]===c+1;)c++;s<a&&r.push(e.slice(s,a)),a<c+1&&r.push(n(e.slice(a,c+1))),s=c+1}return s<e.length&&r.push(e.slice(s)),r}}(t.StringExt||(t.StringExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.take=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._source=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}},e}();t.TakeIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i(e.map(r.iter))};var i=function(){function e(e){this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map(function(e){return e.clone()}))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var r=this._source[t].next();if(void 0===r)return;e[t]=r}return e},e}();t.ZipIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DataConnector=class{remove(e){return Promise.reject(new Error("Removing has not been implemented."))}save(e,t){return Promise.reject(new Error("Saving has not been implemented."))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const r=t.split("\n"),i=[];let s=null;for(let t=0;t<r.length;t++){const o=r[t],a=0===o.indexOf(e.CODE_BLOCK_MARKER),c=null!=s;if(a||c)if(c)s&&(a?(s.endLine=t-1,i.push(s),s=null):s.code+=o+"\n");else{s=new n(t);const r=o.indexOf(e.CODE_BLOCK_MARKER),a=o.lastIndexOf(e.CODE_BLOCK_MARKER);r!==a&&(s.code=o.substring(r+e.CODE_BLOCK_MARKER.length,a),s.endLine=t,i.push(s),s=null)}}return i}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(132);!function(e){e.MAJOR_VERSION=4,e.MINOR_VERSION=2,e.validateMimeValue=function(e,t){const n="application/json"===e||/^application\/(.*?)+\+json$/.test(e);let i=e=>"[object String]"===Object.prototype.toString.call(e);if(Array.isArray(t)){if(n)return!1;let e=!0;return t.forEach(t=>{i(t)||(e=!1)}),e}return i(t)?!n:!!n&&r.JSONExt.isObject(t)},e.isRaw=function(e){return"raw"===e.cell_type},e.isMarkdown=function(e){return"markdown"===e.cell_type},e.isCode=function(e){return"code"===e.cell_type},e.isExecuteResult=function(e){return"execute_result"===e.output_type},e.isDisplayData=function(e){return"display_data"===e.output_type},e.isDisplayUpdate=function(e){return"update_display_data"===e.output_type},e.isStream=function(e){return"stream"===e.output_type},e.isError=function(e){return"error"===e.output_type}}(t.nbformat||(t.nbformat={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e}function n(e){return Array.isArray(e)}function r(e,i){if(e===i)return!0;if(t(e)||t(i))return!1;var s=n(e),o=n(i);return s===o&&(s&&o?function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;++n)if(!r(e[n],t[n]))return!1;return!0}(e,i):function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(!(n in e))return!1;for(var n in e)if(!r(e[n],t[n]))return!1;return!0}(e,i))}function i(e){return t(e)?e:n(e)?function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=i(e[n]);return t}(e):function(e){var t={};for(var n in e)t[n]=i(e[n]);return t}(e)}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=function(e){return!t(e)&&!n(e)},e.deepEqual=r,e.deepCopy=i}(t.JSONExt||(t.JSONExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._types=[],this._values=[]}return e.prototype.types=function(){return this._types.slice()},e.prototype.hasData=function(e){return-1!==this._types.indexOf(e)},e.prototype.getData=function(e){var t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0},e.prototype.setData=function(e,t){this.clearData(e),this._types.push(e),this._values.push(t)},e.prototype.clearData=function(e){var t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))},e.prototype.clear=function(){this._types.length=0,this._values.length=0},e}();t.MimeData=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e._resolve=t,e._reject=n})}return e.prototype.resolve=function(e){(0,this._resolve)(e)},e.prototype.reject=function(e){(0,this._reject)(e)},e}();t.PromiseDelegate=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.name=e,this._tokenStructuralPropertyT=null};t.Token=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(374);!function(e){e.uuid4=function(){for(var e=new Uint8Array(16),t=new Array(256),n=0;n<16;++n)t[n]="0"+n.toString(16);for(n=16;n<256;++n)t[n]=n.toString(16);return function(){return r.Random.getRandomValues(e),e[6]=64|15&e[6],e[8]=128|63&e[8],t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]}}()}(t.UUID||(t.UUID={}))},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const coreutils_1=__webpack_require__(132),minimist_1=__importDefault(__webpack_require__(1031)),path_1=__webpack_require__(375),url_1=__webpack_require__(376);var PageConfig,Private;!function(PageConfig){function getOption(name){if(configData)return configData[name]||Private.getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process)try{const cli=minimist_1.default(process.argv.slice(2)),path=__webpack_require__(3);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(let e in configData)configData[e]=String(configData[e]).split("&#39;").join('"');else configData=Object.create(null);return configData[name]||""}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(e={}){const t=getBaseUrl(),n=getOption("treeUrl"),r=getOption("defaultWorkspace"),i=getOption("workspacesUrl"),s=getOption("workspace");return e.workspace&&s&&s!==r?url_1.URLExt.join(t,i,path_1.PathExt.basename(s),"tree"):url_1.URLExt.join(t,n)}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getToken(){return getOption("token")||Private.getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getWsUrl=getWsUrl,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null}(PageConfig=exports.PageConfig||(exports.PageConfig={})),function(e){e.getBodyData=function(e){if("undefined"==typeof document||!document.body)return"";let t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}}(Private||(Private={}))},function(e,t){function n(e){return"number"==typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e))}e.exports=function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};"function"==typeof t.unknown&&(r.unknownFn=t.unknown),"boolean"==typeof t.boolean&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(e){r.bools[e]=!0});var i={};Object.keys(t.alias||{}).forEach(function(e){i[e]=[].concat(t.alias[e]),i[e].forEach(function(t){i[t]=[e].concat(i[e].filter(function(e){return t!==e}))})}),[].concat(t.string).filter(Boolean).forEach(function(e){r.strings[e]=!0,i[e]&&(r.strings[i[e]]=!0)});var s=t.default||{},o={_:[]};Object.keys(r.bools).forEach(function(e){c(e,void 0!==s[e]&&s[e])});var a=[];function c(e,t,s){if(!s||!r.unknownFn||function(e,t){return r.allBools&&/^--[^=]+$/.test(t)||r.strings[e]||r.bools[e]||i[e]}(e,s)||!1!==r.unknownFn(s)){var a=!r.strings[e]&&n(t)?Number(t):t;l(o,e.split("."),a),(i[e]||[]).forEach(function(e){l(o,e.split("."),a)})}}function l(e,t,n){var i=e;t.slice(0,-1).forEach(function(e){void 0===i[e]&&(i[e]={}),i=i[e]});var s=t[t.length-1];void 0===i[s]||r.bools[s]||"boolean"==typeof i[s]?i[s]=n:Array.isArray(i[s])?i[s].push(n):i[s]=[i[s],n]}function u(e){return i[e].some(function(e){return r.bools[e]})}-1!==e.indexOf("--")&&(a=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var d=0;d<e.length;d++){var h=e[d];if(/^--.+=/.test(h)){var p=h.match(/^--([^=]+)=([\s\S]*)$/),f=p[1],m=p[2];r.bools[f]&&(m="false"!==m),c(f,m,h)}else if(/^--no-.+/.test(h)){c(f=h.match(/^--no-(.+)/)[1],!1,h)}else if(/^--.+/.test(h)){f=h.match(/^--(.+)/)[1];void 0===(_=e[d+1])||/^-/.test(_)||r.bools[f]||r.allBools||i[f]&&u(f)?/^(true|false)$/.test(_)?(c(f,"true"===_,h),d++):c(f,!r.strings[f]||"",h):(c(f,_,h),d++)}else if(/^-[^-]+/.test(h)){for(var g=h.slice(1,-1).split(""),y=!1,v=0;v<g.length;v++){var _;if("-"!==(_=h.slice(v+2))){if(/[A-Za-z]/.test(g[v])&&/=/.test(_)){c(g[v],_.split("=")[1],h),y=!0;break}if(/[A-Za-z]/.test(g[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(_)){c(g[v],_,h),y=!0;break}if(g[v+1]&&g[v+1].match(/\W/)){c(g[v],h.slice(v+2),h),y=!0;break}c(g[v],!r.strings[g[v]]||"",h)}else c(g[v],_,h)}f=h.slice(-1)[0];y||"-"===f||(!e[d+1]||/^(-|--)[^-]/.test(e[d+1])||r.bools[f]||i[f]&&u(f)?e[d+1]&&/true|false/.test(e[d+1])?(c(f,"true"===e[d+1],h),d++):c(f,!r.strings[f]||"",h):(c(f,e[d+1],h),d++))}else if(r.unknownFn&&!1===r.unknownFn(h)||o._.push(r.strings._||!n(h)?h:Number(h)),t.stopEarly){o._.push.apply(o._,e.slice(d+1));break}}return Object.keys(s).forEach(function(e){var t,n,r;t=o,n=e.split("."),r=t,n.slice(0,-1).forEach(function(e){r=r[e]||{}}),n[n.length-1]in r||(l(o,e.split("."),s[e]),(i[e]||[]).forEach(function(t){l(o,t.split("."),s[e])}))}),t["--"]?(o["--"]=new Array,a.forEach(function(e){o["--"].push(e)})):a.forEach(function(e){o._.push(e)}),o}},function(e,t,n){"use strict";var r=n(27),i=function(e){return"string"==typeof e};function s(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(i))}return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function c(e){return o.exec(e).slice(1)}a.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:process.cwd();if(!i(r))throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=s(e.split("/"),!t).join("/"))||"."},a.normalize=function(e){var t=a.isAbsolute(e),n="/"===e.substr(-1);return(e=s(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},a.isAbsolute=function(e){return"/"===e.charAt(0)},a.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!i(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return a.normalize(e)},a.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n+1)}e=a.resolve(e).substr(1),t=a.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),o=s,c=0;c<s;c++)if(r[c]!==i[c]){o=c;break}var l=[];for(c=o;c<r.length;c++)l.push("..");return(l=l.concat(i.slice(o))).join("/")},a._makeLong=function(e){return e},a.dirname=function(e){var t=c(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},a.basename=function(e,t){var n=c(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},a.extname=function(e){return c(e)[3]},a.format=function(e){if(!r.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!i(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+a.sep:"")+(e.base||"")},a.parse=function(e){if(!i(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=c(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,t[1].length-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},a.sep="/",a.delimiter=":",e.exports=a},function(e,t,n){"use strict";var r=n(1034),i=n(1035),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(a,"")}var l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(e){var t,n=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||n);if("blob:"===e.protocol)r=new p(unescape(e.pathname),{});else if("string"===i)for(t in r=new p(e,{}),u)delete r[t];else if("object"===i){for(t in e)t in u||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=s.test(e.href))}return r}function h(e){e=c(e);var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,n){if(e=c(e),!(this instanceof p))return new p(e,t,n);var s,o,a,u,f,m,g=l.slice(),y=typeof t,v=this,_=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=d(t),s=!(o=h(e||"")).protocol&&!o.slashes,v.slashes=o.slashes||s&&t.slashes,v.protocol=o.protocol||t.protocol||"",e=o.rest,o.slashes||(g[3]=[/(.*)/,"pathname"]);_<g.length;_++)"function"!=typeof(u=g[_])?(a=u[0],m=u[1],a!=a?v[m]=e:"string"==typeof a?~(f=e.indexOf(a))&&("number"==typeof u[2]?(v[m]=e.slice(0,f),e=e.slice(f+u[2])):(v[m]=e.slice(f),e=e.slice(0,f))):(f=a.exec(e))&&(v[m]=f[1],e=e.slice(0,f.index)),v[m]=v[m]||s&&u[3]&&t[m]||"",u[4]&&(v[m]=v[m].toLowerCase())):e=u(e);n&&(v.query=n(v.query)),s&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],s=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(s=!0),n.splice(r,1),o--);return s&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(v.pathname,t.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(u=v.auth.split(":"),v.username=u[0]||"",v.password=u[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}p.prototype={set:function(e,t,n){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),s[e]=t;break;case"port":s[e]=t,r(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";s[e]=t.charAt(0)!==o?o+t:t}else s[e]=t;break;default:s[e]=t}for(var a=0;a<l.length;a++){var c=l[a];c[4]&&(s[c[1]]=s[c[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var s=r+(n.slashes?"//":"");return n.username&&(s+=n.username,n.password&&(s+=":"+n.password),s+="@"),s+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(s+=n.hash),s}},p.extractProtocol=h,p.location=d,p.trimLeft=c,p.qs=i,e.exports=p},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r,i=Object.prototype.hasOwnProperty;function s(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,s,o=[];for(s in"string"!=typeof t&&(t="?"),e)if(i.call(e,s)){if((n=e[s])||null!==n&&n!==r&&!isNaN(n)||(n=""),s=encodeURIComponent(s),n=encodeURIComponent(n),null===s||null===n)continue;o.push(s+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=s(t[1]),o=s(t[2]);null===i||null===o||i in r||(r[i]=o)}return r}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(1037)),o=i(n(1072)),a=n(373),c=n(132),l=n(163);t.ICON_CLASS_KEY="jupyter.lab.setting-icon-class",t.ICON_LABEL_KEY="jupyter.lab.setting-icon-label";const u=c.JSONExt.deepCopy;t.ISettingRegistry=new c.Token("@jupyterlab/coreutils:ISettingRegistry");class d{constructor(){this._composer=new s.default({useDefaults:!0}),this._validator=new s.default,this._composer.addSchema(p.SCHEMA,"main"),this._validator.addSchema(p.SCHEMA,"main")}validateData(e,t=!0){const n=this._validator.getSchema(e.id),r=this._composer.getSchema(e.id);if(!n||!r){const t=this._addSchema(e.id,e.schema);return t||this.validateData(e)}let i;try{const t=!0;i=o.parse(e.raw,null,t)}catch(e){if(e instanceof SyntaxError)return[{dataPath:"",keyword:"syntax",schemaPath:"",message:e.message}];const{column:t,description:n}=e;return[{dataPath:"",keyword:"parse",schemaPath:"",message:`${n} (line ${e.lineNumber} column ${t})`}]}if(!n(i))return n.errors;const s=u(i);return r(s)?(t&&(e.data={composite:s,user:i}),null):r.errors}_addSchema(e,t){const n=this._composer,r=this._validator,i=r.getSchema("main");return i(t)?r.validateSchema(t)?(n.removeSchema(e),r.removeSchema(e),n.addSchema(t,e),r.addSchema(t,e),null):r.errors:i.errors}}t.DefaultSchemaValidator=d;t.SettingRegistry=class{constructor(e){this.schema=p.SCHEMA,this._pluginChanged=new l.Signal(this),this._plugins=Object.create(null),this._connector=e.connector,this.validator=e.validator||new d}get pluginChanged(){return this._pluginChanged}get plugins(){const e=this._plugins;return Object.keys(e).map(t=>u(e[t]))}get(e,t){const n=this._plugins;if(e in n){const{composite:r,user:i}=n[e].data,s={composite:t in r?u(r[t]):void 0,user:t in i?u(i[t]):void 0};return Promise.resolve(s)}return this.load(e).then(()=>this.get(e,t))}load(e){const t=this._plugins,n=this;if(e in t){const r=new h({plugin:t[e],registry:n});return Promise.resolve(r)}return this.reload(e)}reload(e){const t=this._connector,n=this._plugins,r=this;return t.fetch(e).then(t=>{try{this._validate(t)}catch(t){const n=[`Validating ${e} failed:`];throw t.forEach((e,t)=>{const{dataPath:r,schemaPath:i,keyword:s,message:o}=e;n.push(`${t} - schema @ ${i}, data @ ${r}`),n.push(`\t${s} ${o}`)}),console.error(n.join("\n")),new Error(`Failed validating ${e}`)}return this._pluginChanged.emit(e),new h({plugin:n[e],registry:r})})}remove(e,t){const n=this._plugins;if(!(e in n))return Promise.resolve(void 0);const r=o.parse(n[e].raw,null,!0);return delete r[t],delete r[`// ${t}`],n[e].raw=p.annotatedPlugin(n[e],r),this._save(e)}set(e,t,n){const r=this._plugins;if(!(e in r))return this.load(e).then(()=>this.set(e,t,n));const i=o.parse(r[e].raw,null,!0);return r[e].raw=p.annotatedPlugin(r[e],Object.assign({},i,{[t]:n})),this._save(e)}upload(e,t){const n=this._plugins;return e in n?(n[e].raw=t,this._save(e)):this.load(e).then(()=>this.upload(e,t))}_save(e){const t=this._plugins;if(!(e in t)){const t=`${e} does not exist in setting registry.`;return Promise.reject(new Error(t))}try{this._validate(t[e])}catch(t){const n=`${e} failed to validate; check console for errors.`;return console.warn(`${e} validation errors:`,t),Promise.reject(new Error(n))}return this._connector.save(e,t[e].raw).then(()=>{this._pluginChanged.emit(e)})}_validate(e){const t=this.validator.validateData(e);if(t)throw t;this._plugins[e.id]=e}};class h{constructor(e){this._changed=new l.Signal(this),this._composite=Object.create(null),this._isDisposed=!1,this._raw="{ }",this._schema=Object.create(null),this._user=Object.create(null);const{plugin:t}=e;this.plugin=t.id,this.registry=e.registry,this._composite=t.data.composite||{},this._raw=t.raw||"{ }",this._schema=t.schema||{type:"object"},this._user=t.data.user||{},this.registry.pluginChanged.connect(this._onPluginChanged,this)}get changed(){return this._changed}get composite(){return this._composite}get isDisposed(){return this._isDisposed}get schema(){return this._schema}get raw(){return this._raw}get user(){return this._user}annotatedDefaults(){return p.annotatedDefaults(this._schema,this.plugin)}default(e){return p.reifyDefault(this.schema,e)}dispose(){this._isDisposed||(this._isDisposed=!0,l.Signal.clearData(this))}get(e){const{composite:t,user:n}=this;return{composite:e in t?u(t[e]):void 0,user:e in n?u(n[e]):void 0}}remove(e){return this.registry.remove(this.plugin,e)}save(e){return this.registry.upload(this.plugin,e)}set(e,t){return this.registry.set(this.plugin,e,t)}validate(e){const t=this.plugin,n=this._schema;return this.registry.validator.validateData({data:{composite:{},user:{}},id:t,raw:e,schema:n},!1)}_onPluginChanged(e,t){if(t===this.plugin){const e=a.find(this.registry.plugins,e=>e.id===t);if(!e)return;const{composite:n,user:r}=e.data,{raw:i,schema:s}=e;this._composite=n||{},this._raw=i,this._schema=s||{type:"object"},this._user=r||{},this._changed.emit(void 0)}}}var p;t.Settings=h,function(e){e.SCHEMA={$schema:"http://json-schema.org/draft-06/schema",title:"Jupyter Settings/Preferences Schema",description:"Jupyter settings/preferences schema v0.1.0",type:"object",additionalProperties:!0,properties:{[t.ICON_CLASS_KEY]:{type:"string",default:"jp-FileIcon"},[t.ICON_LABEL_KEY]:{type:"string",default:"Plugin"}}};const n="    ",r="[missing schema description]",i="[missing schema default]",s="[missing schema title]";function o(e,t="*"){return new Array(e+1).join(t)}function a(e,t=`${n}// `){return t+e.split("\n").join(`\n${t}`)}function l(e,t){if(!("default"in(e=(t?e.properties[t]:e)||{}))||"object"!==e.type)return e.default;const n=c.JSONExt.deepCopy(e.default);for(let t in e.properties||{})n[t]=l(e.properties[t]);return n}e.annotatedDefaults=function(e,t){const{description:c,properties:u,title:d}=e,h=Object.keys(u).sort((e,t)=>e.localeCompare(t)),p=Math.max((c||r).length,t.length);return["{",a(`${d||s}`),a(t),a(c||r),a(o(p)),"",h.map(t=>(function(e,t){const o=e.properties&&e.properties[t],c=o&&o.description||r,u=o&&o.title||s,d=l(e,t),h=void 0===d?a(`"${t}": ${i}`):a(`"${t}": ${JSON.stringify(d,null,2)}`,n);return[a(`${u||s}`),a(c||r),h].join("\n")})(e,t)).join(",\n\n"),"}"].join("\n")},e.annotatedPlugin=function(e,t){const{description:i,title:c}=e.schema,l=Object.keys(t).sort((e,t)=>e.localeCompare(t)),u=Math.max((i||r).length,e.id.length);return["{",a(`${c||s}`),a(e.id),a(i||r),a(o(u)),"",l.map(i=>(function(e,t,i){const o=e.properties&&e.properties[t],c=o&&o.description||r,l=o&&o.title||s,u=a(`"${t}": ${JSON.stringify(i,null,2)}`,n);return[a(l),a(c),u].join("\n")})(e.schema,i,t[i])).join(",\n\n"),"}"].join("\n")},e.reifyDefault=l}(p=t.Private||(t.Private={}))},function(e,t,n){"use strict";var r=n(1038),i=n(237),s=n(1044),o=n(377),a=n(378),c=n(1045),l=n(1046),u=n(1065),d=n(1066),h=n(107),p=n(380);e.exports=_,_.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0===n.$async?"*"==this._opts.async?p(i):i:(this.errors=n.errors,i)},_.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},_.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,n,r);return}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");T(this,t=i.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,n,r,!0)},_.prototype.addMetaSchema=function(e,t,n){this.addSchema(e,t,n,!0)},_.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(g)?g:void 0,e._opts.defaultMeta}(this)))return console.warn("meta-schema not available"),this.errors=null,!0;var r,i=this._formats.uri;this._formats.uri="function"==typeof i?this._schemaUriFormatFunc:this._schemaUriFormat;try{r=this.validate(n,e)}finally{this._formats.uri=i}if(!r&&t){var s="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(s);console.error(s)}return r},_.prototype.getSchema=function(e){var t=b(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var s=n.schema,a=n.root,c=n.baseId,l=r.call(e,s,a,void 0,c);return e._fragments[t]=new o({ref:t,fragment:!0,schema:s,root:a,baseId:c,validate:l}),l}}(this,e)}},_.prototype.removeSchema=function(e){if(e instanceof RegExp)return S(this,this._schemas,e),void S(this,this._refs,e);switch(typeof e){case"undefined":return S(this,this._schemas),S(this,this._refs),void this._cache.clear();case"string":var t=b(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],void delete this._refs[e];case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var s=this._getId(e);s&&(s=i.normalizeId(s),delete this._schemas[s],delete this._refs[s])}},_.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));this._formats[e]=t},_.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",s=0;s<e.length;s++){var o=e[s];o&&(i+=r+o.dataPath+" "+o.message+n)}return i.slice(0,-n.length)},_.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var s=this._opts.serialize,a=s?s(e):e,c=this._cache.get(a);if(c)return c;r=r||!1!==this._opts.addUsedSchema;var l=i.normalizeId(this._getId(e));l&&r&&T(this,l);var u,d=!1!==this._opts.validateSchema&&!t;d&&!(u=l&&l==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),p=new o({id:l,schema:e,localRefs:h,cacheKey:a,meta:n});"#"!=l[0]&&r&&(this._refs[l]=p);this._cache.put(a,p),d&&u&&this.validateSchema(e,!0);return p},_.prototype._compile=function(e,t){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=t||s,!0===e.schema.$async&&(s.$async=!0),s;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function s(){var t=e.validate,n=t.apply(null,arguments);return s.errors=t.errors,n}},_.prototype.compileAsync=n(1067);var f=n(1068);_.prototype.addKeyword=f.add,_.prototype.getKeyword=f.get,_.prototype.removeKeyword=f.remove;var m=n(239);_.ValidationError=m.Validation,_.MissingRefError=m.MissingRef,_.$dataMetaSchema=u;var g="http://json-schema.org/draft-06/schema",y=["removeAdditional","useDefaults","coerceTypes"],v=["/properties"];function _(e){if(!(this instanceof _))return new _(e);e=this._opts=h.copy(e)||{},this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new s,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case"$id":return C;case"id":return w;default:return E}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=h.copy(e._opts),n=0;n<y.length;n++)delete t[y[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),function(e){var t;e._opts.$data&&(t=n(1070),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=n(1071);e._opts.$data&&(r=u(r,v));e.addMetaSchema(r,g,!0),e._refs["http://json-schema.org/schema"]=g}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this),e.patternGroups&&d(this)}function b(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function S(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function w(e){return e.$id&&console.warn("schema $id ignored",e.$id),e.id}function C(e){return e.id&&console.warn("schema id ignored",e.id),e.$id}function E(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function T(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}},function(e,t,n){"use strict";var r=n(237),i=n(107),s=n(239),o=n(378),a=n(379),c=n(380),l=i.ucs2length,u=n(238),d=s.Validation;function h(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function f(e){return"var default"+e+" = defaults["+e+"];"}function m(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,v,_){var b=this,S=this._opts,w=[void 0],C={},E=[],T={},D=[],P={},k=[];n=n||{schema:t,refVal:w,refs:C};var I=function(e,t,n){var r=h.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}.call(this,t,n,_);var M=this._compilations[I.index];if(I.compiling)return M.callValidate=function e(){var t=M.validate;var n=t.apply(null,arguments);e.errors=t.errors;return n};var x=this._formats;var A=this.RULES;try{var O=R(t,n,v,_);M.validate=O;var L=M.callValidate;return L&&(L.schema=O.schema,L.errors=null,L.refs=O.refs,L.refVal=O.refVal,L.root=O.root,L.$async=O.$async,S.sourceCode&&(L.source=O.source)),O}finally{(function(e,t,n){var r=h.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}).call(this,t,n,_)}function R(t,o,h,v){var _=!o||o&&o.schema==t;if(o.schema!=n.schema)return e.call(b,t,o,h,v);var T,P=!0===t.$async,I=a({isTop:!0,schema:t,isRoot:_,baseId:v,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:s.MissingRef,RULES:A,validate:a,util:i,resolve:r,resolveRef:j,usePattern:Y,useDefault:B,useCustomRule:H,opts:S,formats:x,self:b});I=y(w,m)+y(E,p)+y(D,f)+y(k,g)+I,S.processCode&&(I=S.processCode(I));try{var M=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",I);T=M(b,A,x,n,w,D,k,c,u,l,d),w[0]=T}catch(e){throw console.error("Error compiling schema, function code:",I),e}return T.schema=t,T.errors=null,T.refs=C,T.refVal=w,T.root=_?T:o,P&&(T.$async=!0),!0===S.sourceCode&&(T.source={code:I,patterns:E,defaults:D}),T}function j(t,i,s){i=r.url(t,i);var o,a,c=C[i];if(void 0!==c)return N(o=w[c],a="refVal["+c+"]");if(!s&&n.refs){var l=n.refs[i];if(void 0!==l)return o=n.refVal[l],a=F(i,o),N(o,a)}a=F(i);var u=r.call(b,R,n,i);if(void 0===u){var d=v&&v[i];d&&(u=r.inlineRef(d,S.inlineRefs)?d:e.call(b,d,n,v,t))}return void 0!==u?(function(e,t){var n=C[e];w[n]=t}(i,u),N(u,a)):void 0}function F(e,t){var n=w.length;return w[n]=t,C[e]=n,"refVal"+n}function N(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&e.$async}}function Y(e){var t=T[e];return void 0===t&&(t=T[e]=E.length,E[t]=e),"pattern"+t}function B(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=o(e),n=P[t];return void 0===n&&(n=P[t]=D.length,D[n]=e),"default"+n}}function H(e,t,n,r){var i=e.definition.validateSchema;if(i&&!1!==b._opts.validateSchema){var s=i(t);if(!s){var o="keyword schema is invalid: "+b.errorsText(i.errors);if("log"!=b._opts.validateSchema)throw new Error(o);console.error(o)}}var a,c=e.definition.compile,l=e.definition.inline,u=e.definition.macro;if(c)a=c.call(b,t,n,r);else if(u)a=u.call(b,t,n,r),!1!==S.validateSchema&&b.validateSchema(a,!0);else if(l)a=l.call(b,r,e.keyword,t,n);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=k.length;return k[d]=a,{code:"customRule"+d,validate:a}}}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,i,s,o,a,c,l,u){if(i&&"object"==typeof i&&!Array.isArray(i))for(var d in n(i,s,o,a,c,l,u),i){var h=i[d];if(Array.isArray(h)){if(d in r.arrayKeywords)for(var p=0;p<h.length;p++)e(t,n,h[p],s+"/"+d+"/"+p,o,s,d,i,p)}else if(d in r.propsKeywords){if(h&&"object"==typeof h)for(var f in h)e(t,n,h[f],s+"/"+d+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),o,s,d,i,f)}else(d in r.keywords||t.allKeys&&!(d in r.skipKeywords))&&e(t,n,h,s+"/"+d,o,s,d,i)}}(t,n,e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){t.parse=n(1042),t.stringify=n(1043)},function(e,t){var n,r,i,s,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},c=function(e){return e&&e!==r&&a("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},l=function(){var e,t="";for("-"===r&&(t="-",c("-"));r>="0"&&r<="9";)t+=r,c();if("."===r)for(t+=".";c()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,c(),"-"!==r&&"+"!==r||(t+=r,c());r>="0"&&r<="9";)t+=r,c();if(e=+t,isFinite(e))return e;a("Bad number")},u=function(){var e,t,n,i="";if('"'===r)for(;c();){if('"'===r)return c(),i;if("\\"===r)if(c(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(c(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof o[r])break;i+=o[r]}else i+=r}a("Bad string")},d=function(){for(;r&&r<=" ";)c()};s=function(){switch(d(),r){case"{":return function(){var e,t={};if("{"===r){if(c("{"),d(),"}"===r)return c("}"),t;for(;r;){if(e=u(),d(),c(":"),Object.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=s(),d(),"}"===r)return c("}"),t;c(","),d()}}a("Bad object")}();case"[":return function(){var e=[];if("["===r){if(c("["),d(),"]"===r)return c("]"),e;for(;r;){if(e.push(s()),d(),"]"===r)return c("]"),e;c(","),d()}}a("Bad array")}();case'"':return u();case"-":return l();default:return r>="0"&&r<="9"?l():function(){switch(r){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}a("Unexpected '"+r+"'")}()}},e.exports=function(e,t){var o;return i=e,n=0,r=" ",o=s(),d(),r&&a("Syntax error"),"function"==typeof t?function e(n,r){var i,s,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(void 0!==(s=e(o,i))?o[i]=s:delete o[i]);return t.call(n,r,o)}({"":o},""):o}},function(e,t){var n,r,i,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=o[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,t,s){var o;if(n="",r="","number"==typeof s)for(o=0;o<s;o+=1)r+=" ";else"string"==typeof s&&(r=s);if(i=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,s){var o,c,l,u,d,h=n,p=s[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof i&&(p=i.call(s,t,p)),typeof p){case"string":return a(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(n+=r,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(u=p.length,o=0;o<u;o+=1)d[o]=e(o,p)||"null";return l=0===d.length?"[]":n?"[\n"+n+d.join(",\n"+n)+"\n"+h+"]":"["+d.join(",")+"]",n=h,l}if(i&&"object"==typeof i)for(u=i.length,o=0;o<u;o+=1)"string"==typeof(c=i[o])&&(l=e(c,p))&&d.push(a(c)+(n?": ":":")+l);else for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(l=e(c,p))&&d.push(a(c)+(n?": ":":")+l);return l=0===d.length?"{}":n?"{\n"+n+d.join(",\n"+n)+"\n"+h+"}":"{"+d.join(",")+"}",n=h,l}}("",{"":e})}},function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var r=n(107),i=/^\d\d\d\d-(\d\d)-(\d\d)$/,s=[0,31,29,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,a=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\:[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\:[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;function f(e){return e="full"==e?"full":"fast",r.copy(f[e])}function m(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2];return n>=1&&n<=12&&r>=1&&r<=s[n]}function g(e,t){var n=e.match(o);if(!n)return!1;var r=n[1],i=n[2],s=n[3],a=n[5];return r<=23&&i<=59&&s<=59&&(!t||a)}e.exports=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?:\:|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":l,url:u,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:b,uuid:d,"json-pointer":h,"relative-json-pointer":p},f.full={date:m,time:g,"date-time":function(e){var t=e.split(y);return 2==t.length&&m(t[0])&&g(t[1],!0)},uri:function(e){return v.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":l,url:u,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&a.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:b,uuid:d,"json-pointer":h,"relative-json-pointer":p};var y=/t|\s/i;var v=/\/|\:/;var _=/[^\\]\\Z/;function b(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(1047),i=n(107).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],t=["type"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach(function(n){n.rules=n.rules.map(function(n){var i;if("object"==typeof n){var s=Object.keys(n)[0];i=n[s],n=s,i.forEach(function(n){t.push(n),e.all[n]=!0})}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}}),n.type&&(e.types[n.type]=n)}),e.keywords=i(t.concat(["additionalItems","$schema","id","title","description","default","definitions"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(1048),allOf:n(1049),anyOf:n(1050),const:n(1051),contains:n(1052),dependencies:n(1053),enum:n(1054),format:n(1055),items:n(1056),maximum:n(381),minimum:n(381),maxItems:n(382),minItems:n(382),maxLength:n(383),minLength:n(383),maxProperties:n(384),minProperties:n(384),multipleOf:n(1057),not:n(1058),oneOf:n(1059),pattern:n(1060),properties:n(1061),propertyNames:n(1062),required:n(1063),uniqueItems:n(1064),validate:n(379)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,s=" ",o=e.level,a=e.dataLevel,c=e.schema[t],l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),h="valid"+o;if("#"==c||"#/"==c)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){console.error(f),(v=v||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var m=s;s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+m+"]); ":s+=" validate.errors = ["+m+"]; return false; ":s+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,f);console.warn(f),u&&(s+=" if (true) { ")}}else if(p.inline){var g=e.util.copy(e);g.level++;var y="valid"+g.level;g.schema=p.schema,g.schemaPath="",g.errSchemaPath=c,s+=" "+e.validate(g).replace(/validate\.schema/g,p.code)+" ",u&&(s+=" if ("+y+") { ")}else r=!0===p.$async,i=p.code}if(i){var v;(v=v||[]).push(s),s="",e.opts.passContext?s+=" "+i+".call(this, ":s+=" "+i+"( ",s+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var _=s+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(s=v.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(s+=" var "+h+"; "),s+=" try { "+e.yieldAwait+" "+_+"; ",u&&(s+=" "+h+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(s+=" "+h+" = false; "),s+=" } ",u&&(s+=" if ("+h+") { ")}else s+=" if (!"+_+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",u&&(s+=" else { ")}return s}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c=e.util.copy(e),l="";c.level++;var u="valid"+c.level,d=c.baseId,h=!0,p=i;if(p)for(var f,m=-1,g=p.length-1;m<g;)f=p[m+=1],e.util.schemaHasRules(f,e.RULES.all)&&(h=!1,c.schema=f,c.schemaPath=s+"["+m+"]",c.errSchemaPath=o+"/"+m,r+="  "+e.validate(c)+" ",c.baseId=d,a&&(r+=" if ("+u+") { ",l+="}"));return a&&(r+=h?" if (true) { ":" "+l.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;if(o.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){var g=p.baseId;r+=" var "+h+" = errors; var "+d+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=o;if(v)for(var _,b=-1,S=v.length-1;b<S;)_=v[b+=1],p.schema=_,p.schemaPath=a+"["+b+"]",p.errSchemaPath=c+"/"+b,r+="  "+e.validate(p)+" ",p.baseId=g,r+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=p.compositeRule=y,r+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; "),h||(r+=" var schema"+i+" = validate.schema"+a+";"),r+="var "+d+" = equal("+u+", schema"+i+"); if (!"+d+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var f=r;return r=p.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+i,g=p.dataLevel=e.dataLevel+1,y="data"+g,v=e.baseId,_=e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+h+" = errors;var "+d+";",_){var b=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=a,p.errSchemaPath=c,r+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var S=u+"["+m+"]";p.dataPathArr[g]=m;var w=e.validate(p);p.baseId=v,e.util.varOccurences(w,y)<2?r+=" "+e.util.varReplace(w,y,S)+" ":r+=" var "+y+" = "+S+"; "+w+" ",r+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=b,r+="  if (!"+f+") {"}else r+=" if ("+u+".length == 0) {";var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var E=r;return r=C.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},g={},y=e.opts.ownProperties;for(S in o){var v=o[S],_=Array.isArray(v)?g:m;_[S]=v}r+="var "+d+" = errors;";var b=e.errorPath;for(var S in r+="var missing"+i+";",g)if((_=g[S]).length){if(r+=" if ( "+u+e.util.getProperty(S)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(S)+"') "),l){r+=" && ( ";var w=_;if(w)for(var C=-1,E=w.length-1;C<E;){M=w[C+=1],C&&(r+=" || "),r+=" ( ( "+(L=u+(O=e.util.getProperty(M)))+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:O)+") ) "}r+=")) {  ";var T="missing"+i,D="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,T,!0):b+" + "+T);var P=P||[];P.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+D+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==_.length?r+="property "+e.util.escapeQuotes(_[0]):r+="properties "+e.util.escapeQuotes(_.join(", ")),r+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var k=r;r=P.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var I=_;if(I)for(var M,x=-1,A=I.length-1;x<A;){M=I[x+=1];var O=e.util.getProperty(M),L=(D=e.util.escapeQuotes(M),u+O);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,M,e.opts.jsonPointers)),r+=" if ( "+L+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+D+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(1==_.length?_[0]:_.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==_.length?r+="property "+e.util.escapeQuotes(_[0]):r+="properties "+e.util.escapeQuotes(_.join(", ")),r+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",l&&(p+="}",r+=" else { ")}e.errorPath=b;var R=h.baseId;for(var S in m){v=m[S];e.util.schemaHasRules(v,e.RULES.all)&&(r+=" "+f+" = true; if ( "+u+e.util.getProperty(S)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(S)+"') "),r+=") { ",h.schema=v,h.schemaPath=a+e.util.getProperty(S),h.errSchemaPath=c+"/"+e.util.escapeFragment(S),r+="  "+e.validate(h)+" ",h.baseId=R,r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}"))}return l&&(r+="   "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var p="i"+i,f="schema"+i;h||(r+=" var "+f+" = validate.schema"+a+";"),r+="var "+d+";",h&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+u+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(r+="  }  "),r+=" if (!"+d+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||"");if(!1===e.opts.format)return l&&(r+=" if (true) { "),r;var d,h=e.opts.$data&&o&&o.$data;h?(r+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+i):d=o;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h){r+=" var "+(m="format"+i)+" = formats["+d+"]; var "+(g="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(y="formatType"+i)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",h&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+d+" && !"+m+" ",f&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+m+" && "+y+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? "+e.yieldAwait+" "+m+"("+u+") : "+m+"("+u+")) ":r+=" "+m+"("+u+") ",r+=" : "+m+".test("+u+"))))) {"}else{var m;if(!(m=e.formats[o])){if("ignore"==p)return console.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(r+=" if (true) { "),r;if(f&&p.indexOf(o)>=0)return l&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,y=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var v=!0===m.async;m=m.validate}if(y!=n)return l&&(r+=" if (true) { "),r;if(v){if(!e.async)throw new Error("async format in sync schema");var _="formats"+e.util.getProperty(o)+".validate";r+=" if (!("+e.yieldAwait+" "+_+"("+u+"))) { "}else{r+=" if (! ";_="formats"+e.util.getProperty(o);g&&(_+=".validate"),r+="function"==typeof m?" "+_+"("+u+") ":" "+_+".test("+u+") ",r+=") { "}}var b=b||[];b.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",r+=h?""+d:""+e.util.toQuotedString(o),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=h?"' + "+d+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+a:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var S=r;return r=b.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,_=e.baseId;if(r+="var "+h+" = errors;var "+d+";",Array.isArray(o)){var b=e.schema.additionalItems;if(!1===b){r+=" "+d+" = "+u+".length <= "+o.length+"; ";var S=c;c=e.errSchemaPath+"/additionalItems",r+="  if (!"+d+") {   ";var w=w||[];w.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var C=r;r=w.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c=S,l&&(f+="}",r+=" else { ")}var E=o;if(E)for(var T,D=-1,P=E.length-1;D<P;)if(T=E[D+=1],e.util.schemaHasRules(T,e.RULES.all)){r+=" "+m+" = true; if ("+u+".length > "+D+") { ";var k=u+"["+D+"]";p.schema=T,p.schemaPath=a+"["+D+"]",p.errSchemaPath=c+"/"+D,p.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0),p.dataPathArr[y]=D;var I=e.validate(p);p.baseId=_,e.util.varOccurences(I,v)<2?r+=" "+e.util.varReplace(I,v,k)+" ":r+=" var "+v+" = "+k+"; "+I+" ",r+=" }  ",l&&(r+=" if ("+m+") { ",f+="}")}if("object"==typeof b&&e.util.schemaHasRules(b,e.RULES.all)){p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+u+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);k=u+"["+g+"]";p.dataPathArr[y]=g;I=e.validate(p);p.baseId=_,e.util.varOccurences(I,v)<2?r+=" "+e.util.varReplace(I,v,k)+" ":r+=" var "+v+" = "+k+"; "+I+" ",l&&(r+=" if (!"+m+") break; "),r+=" } }  ",l&&(r+=" if ("+m+") { ",f+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=a,p.errSchemaPath=c,r+="  for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);k=u+"["+g+"]";p.dataPathArr[y]=g;I=e.validate(p);p.baseId=_,e.util.varOccurences(I,v)<2?r+=" "+e.util.varReplace(I,v,k)+" ":r+=" var "+v+" = "+k+"; "+I+" ",l&&(r+=" if (!"+m+") break; "),r+=" }"}return l&&(r+=" "+f+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",r="schema"+s):r=a,i+="var division"+s+";if (",h&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+s+" = "+d+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+s+" !== parseInt(division"+s+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=a,h.errSchemaPath=c,r+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),r+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,r+=" if ("+p+") {   ";var g=g||[];g.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var y=r;r=g.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;r+="var "+h+" = errors;var prevValid"+i+" = false;var "+d+" = false;";var g=p.baseId,y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=o;if(v)for(var _,b=-1,S=v.length-1;b<S;)_=v[b+=1],e.util.schemaHasRules(_,e.RULES.all)?(p.schema=_,p.schemaPath=a+"["+b+"]",p.errSchemaPath=c+"/"+b,r+="  "+e.validate(p)+" ",p.baseId=g):r+=" var "+m+" = true; ",b&&(r+=" if ("+m+" && prevValid"+i+") "+d+" = false; else { ",f+="}"),r+=" if ("+m+") "+d+" = prevValid"+i+" = true;";return e.compositeRule=p.compositeRule=y,r+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",r="schema"+s):r=a,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(h?"(new RegExp("+r+"))":e.usePattern(a))+".test("+d+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",i+=h?""+r:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+r+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="key"+i,y="idx"+i,v=p.dataLevel=e.dataLevel+1,_="data"+v,b="dataProperties"+i,S=Object.keys(o||{}),w=e.schema.patternProperties||{},C=Object.keys(w),E=e.schema.additionalProperties,T=S.length||C.length,D=!1===E,P="object"==typeof E&&Object.keys(E).length,k=e.opts.removeAdditional,I=D||P||k,M=e.opts.ownProperties,x=e.baseId,A=e.schema.required;if(A&&(!e.opts.v5||!A.$data)&&A.length<e.opts.loopRequired)var O=e.util.toHash(A);if(e.opts.patternGroups)var L=e.schema.patternGroups||{},R=Object.keys(L);if(r+="var "+h+" = errors;var "+m+" = true;",M&&(r+=" var "+b+" = undefined;"),I){if(r+=M?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+g+" = "+b+"["+y+"]; ":" for (var "+g+" in "+u+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",S.length)if(S.length>5)r+=" || validate.schema"+a+"["+g+"] ";else{var j=S;if(j)for(var F=-1,N=j.length-1;F<N;)Z=j[F+=1],r+=" || "+g+" == "+e.util.toQuotedString(Z)+" "}if(C.length){var Y=C;if(Y)for(var B=-1,H=Y.length-1;B<H;)ce=Y[B+=1],r+=" || "+e.usePattern(ce)+".test("+g+") "}if(e.opts.patternGroups&&R.length){var W=R;if(W){B=-1;for(var U=W.length-1;B<U;)he=W[B+=1],r+=" || "+e.usePattern(he)+".test("+g+") "}}r+=" ); if (isAdditional"+i+") { "}if("all"==k)r+=" delete "+u+"["+g+"]; ";else{var V=e.errorPath,$="' + "+g+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers)),D)if(k)r+=" delete "+u+"["+g+"]; ";else{r+=" "+m+" = false; ";var q=c;c=e.errSchemaPath+"/additionalProperties",(Se=Se||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+$+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var G=r;r=Se.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=q,l&&(r+=" break; ")}else if(P)if("failing"==k){r+=" var "+h+" = errors;  ";var z=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=E,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var K=u+"["+g+"]";p.dataPathArr[v]=g;var J=e.validate(p);p.baseId=x,e.util.varOccurences(J,_)<2?r+=" "+e.util.varReplace(J,_,K)+" ":r+=" var "+_+" = "+K+"; "+J+" ",r+=" if (!"+m+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+g+"]; }  ",e.compositeRule=p.compositeRule=z}else{p.schema=E,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);K=u+"["+g+"]";p.dataPathArr[v]=g;J=e.validate(p);p.baseId=x,e.util.varOccurences(J,_)<2?r+=" "+e.util.varReplace(J,_,K)+" ":r+=" var "+_+" = "+K+"; "+J+" ",l&&(r+=" if (!"+m+") break; ")}e.errorPath=V}T&&(r+=" } "),r+=" }  ",l&&(r+=" if ("+m+") { ",f+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(S.length){var Q=S;if(Q)for(var Z,ee=-1,te=Q.length-1;ee<te;){var ne=o[Z=Q[ee+=1]];if(e.util.schemaHasRules(ne,e.RULES.all)){var re=e.util.getProperty(Z),ie=(K=u+re,X&&void 0!==ne.default);p.schema=ne,p.schemaPath=a+re,p.errSchemaPath=c+"/"+e.util.escapeFragment(Z),p.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),p.dataPathArr[v]=e.util.toQuotedString(Z);J=e.validate(p);if(p.baseId=x,e.util.varOccurences(J,_)<2){J=e.util.varReplace(J,_,K);var se=K}else{se=_;r+=" var "+_+" = "+K+"; "}if(ie)r+=" "+J+" ";else{if(O&&O[Z]){r+=" if ( "+se+" === undefined ",M&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(Z)+"') "),r+=") { "+m+" = false; ";V=e.errorPath,q=c;var oe=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(V,Z,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(Se=Se||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+oe+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+oe+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";G=r;r=Se.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=q,e.errorPath=V,r+=" } else { "}else l?(r+=" if ( "+se+" === undefined ",M&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(Z)+"') "),r+=") { "+m+" = true; } else { "):(r+=" if ("+se+" !== undefined ",M&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(Z)+"') "),r+=" ) { ");r+=" "+J+" } "}}l&&(r+=" if ("+m+") { ",f+="}")}}if(C.length){var ae=C;if(ae)for(var ce,le=-1,ue=ae.length-1;le<ue;){ne=w[ce=ae[le+=1]];if(e.util.schemaHasRules(ne,e.RULES.all)){p.schema=ne,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ce),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ce),r+=M?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+g+" = "+b+"["+y+"]; ":" for (var "+g+" in "+u+") { ",r+=" if ("+e.usePattern(ce)+".test("+g+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);K=u+"["+g+"]";p.dataPathArr[v]=g;J=e.validate(p);p.baseId=x,e.util.varOccurences(J,_)<2?r+=" "+e.util.varReplace(J,_,K)+" ":r+=" var "+_+" = "+K+"; "+J+" ",l&&(r+=" if (!"+m+") break; "),r+=" } ",l&&(r+=" else "+m+" = true; "),r+=" }  ",l&&(r+=" if ("+m+") { ",f+="}")}}}if(e.opts.patternGroups&&R.length){var de=R;if(de)for(var he,pe=-1,fe=de.length-1;pe<fe;){var me=L[he=de[pe+=1]];ne=me.schema;if(e.util.schemaHasRules(ne,e.RULES.all)){p.schema=ne,p.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(he)+".schema",p.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(he)+"/schema",r+=" var pgPropCount"+i+" = 0;  ",r+=M?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+g+" = "+b+"["+y+"]; ":" for (var "+g+" in "+u+") { ",r+=" if ("+e.usePattern(he)+".test("+g+")) { pgPropCount"+i+"++; ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);K=u+"["+g+"]";p.dataPathArr[v]=g;J=e.validate(p);p.baseId=x,e.util.varOccurences(J,_)<2?r+=" "+e.util.varReplace(J,_,K)+" ":r+=" var "+_+" = "+K+"; "+J+" ",l&&(r+=" if (!"+m+") break; "),r+=" } ",l&&(r+=" else "+m+" = true; "),r+=" }  ",l&&(r+=" if ("+m+") { ",f+="}");var ge=me.minimum,ye=me.maximum;if(void 0!==ge||void 0!==ye){r+=" var "+d+" = true; ";q=c;if(void 0!==ge){var ve=ge,_e="minimum",be="less";r+=" "+d+" = pgPropCount"+i+" >= "+ge+"; ",c=e.errSchemaPath+"/patternGroups/minimum",r+="  if (!"+d+") {   ",(Se=Se||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { reason: '"+_e+"', limit: "+ve+", pattern: '"+e.util.escapeQuotes(he)+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have "+be+" than "+ve+' properties matching pattern "'+e.util.escapeQuotes(he)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";G=r;r=Se.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",void 0!==ye&&(r+=" else ")}if(void 0!==ye){var Se;ve=ye,_e="maximum",be="more";r+=" "+d+" = pgPropCount"+i+" <= "+ye+"; ",c=e.errSchemaPath+"/patternGroups/maximum",r+="  if (!"+d+") {   ",(Se=Se||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { reason: '"+_e+"', limit: "+ve+", pattern: '"+e.util.escapeQuotes(he)+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have "+be+" than "+ve+' properties matching pattern "'+e.util.escapeQuotes(he)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";G=r;r=Se.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}c=q,l&&(r+=" if ("+d+") { ",f+="}")}}}}return l&&(r+=" "+f+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=a,h.errSchemaPath=c;var f="key"+i,m="idx"+i,g="i"+i,y="' + "+f+" + '",v="data"+(h.dataLevel=e.dataLevel+1),_="dataProperties"+i,b=e.opts.ownProperties,S=e.baseId;r+=" var "+d+" = errors; ",b&&(r+=" var "+_+" = undefined; "),r+=b?" "+_+" = "+_+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+_+".length; "+m+"++) { var "+f+" = "+_+"["+m+"]; ":" for (var "+f+" in "+u+") { ",r+=" var startErrs"+i+" = errors; ";var w=f,C=e.compositeRule;e.compositeRule=h.compositeRule=!0;var E=e.validate(h);h.baseId=S,e.util.varOccurences(E,v)<2?r+=" "+e.util.varReplace(E,v,w)+" ":r+=" var "+v+" = "+w+"; "+E+" ",e.compositeRule=h.compositeRule=C,r+=" if (!"+p+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),l&&(r+=" break; "),r+=" } }"}return l&&(r+="  if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(s||""),d="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=o;if(m)for(var g,y=-1,v=m.length-1;y<v;){g=m[y+=1];var _=e.schema.properties[g];_&&e.util.schemaHasRules(_,e.RULES.all)||(f[f.length]=g)}}else f=o;if(h||f.length){var b=e.errorPath,S=h||f.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(l)if(r+=" var missing"+i+"; ",S){h||(r+=" var "+p+" = validate.schema"+a+"; ");var C="' + "+(I="schema"+i+"["+(D="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,I,e.opts.jsonPointers)),r+=" var "+d+" = true; ",h&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=" for (var "+D+" = 0; "+D+" < "+p+".length; "+D+"++) { "+d+" = "+u+"["+p+"["+D+"]] !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+p+"["+D+"]) "),r+="; if (!"+d+") break; } ",h&&(r+="  }  "),r+="  if (!"+d+") {   ",(k=k||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var E=r;r=k.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var T=f;if(T)for(var D=-1,P=T.length-1;D<P;){x=T[D+=1],D&&(r+=" || "),r+=" ( ( "+(R=u+(L=e.util.getProperty(x)))+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(x)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?x:L)+") ) "}r+=") {  ";var k;C="' + "+(I="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,I,!0):b+" + "+I),(k=k||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";E=r;r=k.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(S){h||(r+=" var "+p+" = validate.schema"+a+"; ");var I;C="' + "+(I="schema"+i+"["+(D="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,I,e.opts.jsonPointers)),h&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+D+" = 0; "+D+" < "+p+".length; "+D+"++) { if ("+u+"["+p+"["+D+"]] === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+p+"["+D+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(r+="  }  ")}else{var M=f;if(M)for(var x,A=-1,O=M.length-1;A<O;){x=M[A+=1];var L=e.util.getProperty(x),R=(C=e.util.escapeQuotes(x),u+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,x,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(x)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else l&&(r+=" if (true) {");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",s=e.level,o=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(o||""),h="valid"+s,p=e.opts.$data&&a&&a.$data;if(p?(i+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",r="schema"+s):r=a,(a||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+r+" === false || "+r+" === undefined) "+h+" = true; else if (typeof "+r+" != 'boolean') "+h+" = false; else { "),i+=" var "+h+" = true; if ("+d+".length > 1) { var i = "+d+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,s=t[n].split("/"),o=e;for(i=1;i<s.length;i++)o=o[s[i]];for(i=0;i<r.length;i++){var a=r[i],c=o[a];c&&(o[a]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return e}},function(e,t,n){"use strict";e.exports=function(e){var t=e._opts.defaultMeta,n="string"==typeof t?{$ref:t}:e.getSchema("http://json-schema.org/draft-06/schema")?{$ref:"http://json-schema.org/draft-06/schema"}:{};e.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:n},additionalProperties:!1}}}),e.RULES.all.properties.implements.push("patternGroups")}},function(e,t,n){"use strict";var r=n(239).MissingRef;e.exports=function e(t,n,i){var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var o=a(t).then(function(){var e=s._addSchema(t,void 0,n);return e.validate||function e(t){try{return s._compile(t)}catch(e){if(e instanceof r)return function i(e){var i=e.missingSchema;if(l(i))throw new Error("Schema "+i+" is loaded but "+e.missingRef+" cannot be resolved");var o=s._loadingSchemas[i];o||(o=s._loadingSchemas[i]=s._opts.loadSchema(i)).then(c,c);return o.then(function(e){if(!l(i))return a(e).then(function(){l(i)||s.addSchema(e,i,void 0,n)})}).then(function(){return function e(t){try{return s._compile(t)}catch(e){if(e instanceof r)return i(e);throw e}function i(r){var i=r.missingSchema;if(l(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var o=s._loadingSchemas[i];return o||(o=s._loadingSchemas[i]=s._opts.loadSchema(i)).then(c,c),o.then(function(e){if(!l(i))return a(e).then(function(){l(i)||s.addSchema(e,i,void 0,n)})}).then(function(){return e(t)});function c(){delete s._loadingSchemas[i]}function l(e){return s._refs[e]||s._schemas[e]}}}(t)});function c(){delete s._loadingSchemas[i]}function l(e){return s._refs[e]||s._schemas[e]}}(e);throw e}function i(r){var i=r.missingSchema;if(l(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var o=s._loadingSchemas[i];return o||(o=s._loadingSchemas[i]=s._opts.loadSchema(i)).then(c,c),o.then(function(e){if(!l(i))return a(e).then(function(){l(i)||s.addSchema(e,i,void 0,n)})}).then(function(){return e(t)});function c(){delete s._loadingSchemas[i]}function l(e){return s._refs[e]||s._schemas[e]}}}(e)});i&&o.then(function(e){i(null,e)},i);return o;function a(t){var n=t.$schema;return n&&!s.getSchema(n)?e.call(s,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$\-]*$/i,i=n(1069);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var s=t.type;if(Array.isArray(s)){var o,a=s.length;for(o=0;o<a;o++)d(s[o]);for(o=0;o<a;o++)u(e,s[o],t)}else s&&d(s),u(e,s,t);var c=!0===t.$data&&this._opts.$data;if(c&&!t.validate)throw new Error('$data support: "validate" function is not defined');var l=t.metaSchema;l&&(c&&(l={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),t.validateSchema=this.compile(l,!0))}function u(e,t,r){for(var s,o=0;o<n.length;o++){var a=n[o];if(a.type==t){s=a;break}}s||(s={type:t,rules:[]},n.push(s));var c={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};s.rules.push(c),n.custom[e]=c}function d(e){if(!n.types[e])throw new Error("Unknown type "+e)}n.keywords[e]=n.all[e]=!0},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,s=" ",o=e.level,a=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(a||""),p="valid"+o,f="errs__"+o,m=e.opts.$data&&c&&c.$data;m?(s+=" var schema"+o+" = "+e.util.getData(c.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=c;var g,y,v,_,b,S="definition"+o,w=this.definition,C="";if(m&&w.$data){b="keywordValidate"+o;var E=w.validateSchema;s+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+b+" = "+S+".validate;"}else{if(!(_=e.useCustomRule(this,c,e.schema,e)))return;i="validate.schema"+l,b=_.code,g=w.compile,y=w.inline,v=w.macro}var T=b+".errors",D="i"+o,P="ruleErr"+o,k=w.async;if(k&&!e.async)throw new Error("async keyword in sync schema");if(y||v||(s+=T+" = null;"),s+="var "+f+" = errors;var "+p+";",m&&w.$data&&(C+="}",s+=" if ("+i+" === undefined) { "+p+" = true; } else { ",E&&(C+="}",s+=" "+p+" = "+S+".validateSchema("+i+"); if ("+p+") { ")),y)w.statements?s+=" "+_.validate+" ":s+=" "+p+" = "+_.validate+"; ";else if(v){var I=e.util.copy(e);C="";I.level++;var M="valid"+I.level;I.schema=_.validate,I.schemaPath="";var x=e.compositeRule;e.compositeRule=I.compositeRule=!0;var A=e.validate(I).replace(/validate\.schema/g,b);e.compositeRule=I.compositeRule=x,s+=" "+A}else{(j=j||[]).push(s),s="",s+="  "+b+".call( ",e.opts.passContext?s+="this":s+="self",g||!1===w.schema?s+=" , "+h+" ":s+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var O=a?"data"+(a-1||""):"parentData",L=a?e.dataPathArr[a]:"parentDataProperty",R=s+=" , "+O+" , "+L+" , rootData )  ";s=j.pop(),!1===w.errors?(s+=" "+p+" = ",k&&(s+=""+e.yieldAwait),s+=R+"; "):s+=k?" var "+(T="customErrors"+o)+" = null; try { "+p+" = "+e.yieldAwait+R+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+T+" = e.errors; else throw e; } ":" "+T+" = null; "+p+" = "+R+"; "}if(w.modifying&&(s+=" if ("+O+") "+h+" = "+O+"["+L+"];"),s+=""+C,w.valid)d&&(s+=" if (true) { ");else{var j;s+=" if ( ",void 0===w.valid?(s+=" !",s+=v?""+M:""+p):s+=" "+!w.valid+" ",s+=") { ",r=this.keyword,(j=j||[]).push(s),s="",(j=j||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var F=s;s=j.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+F+"]); ":s+=" validate.errors = ["+F+"]; return false; ":s+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var N=s;s=j.pop(),y?w.errors?"full"!=w.errors&&(s+="  for (var "+D+"="+f+"; "+D+"<errors; "+D+"++) { var "+P+" = vErrors["+D+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(s+=" "+P+".schema = "+i+"; "+P+".data = "+h+"; "),s+=" } "):!1===w.errors?s+=" "+N+" ":(s+=" if ("+f+" == errors) { "+N+" } else {  for (var "+D+"="+f+"; "+D+"<errors; "+D+"++) { var "+P+" = vErrors["+D+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(s+=" "+P+".schema = "+i+"; "+P+".data = "+h+"; "),s+=" } } "):v?(s+="   var err =   ",!1!==e.createErrors?(s+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):!1===w.errors?s+=" "+N+" ":(s+=" if (Array.isArray("+T+")) { if (vErrors === null) vErrors = "+T+"; else vErrors = vErrors.concat("+T+"); errors = vErrors.length;  for (var "+D+"="+f+"; "+D+"<errors; "+D+"++) { var "+P+" = vErrors["+D+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+";  "+P+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(s+=" "+P+".schema = "+i+"; "+P+".data = "+h+"; "),s+=" } } else { "+N+" } "),s+=" } ",d&&(s+=" else { ")}return s}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#","description":"Meta-schema for $data reference (JSON-schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},function(e,t,n){"use strict";t.stringify=n(1073),t.parse=n(1074)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i="";if("number"==typeof n)for(r=0;r<n;r+=1)i+=" ";else"string"==typeof n&&(i=n);if(t&&"function"!=typeof t&&!l(t))throw new Error("JSON.stringify");if(!u(e))return d("",{"":e},t,i,"");var s=p(e,"//^"),o=p(e,"//$"),a=d("",{"":e},t,i,"");return i?[s,a,o].filter(Boolean).join("\n"):a};var r=Object.prototype,i="// ",s=3;var o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function c(e){return'"'+function(e){return o.lastIndex=0,o.test(e)?e.replace(o,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}):e}(e)+'"'}function l(e){return"[object Array]"===r.toString.apply(e)}function u(e){return e&&"object"==typeof e}function d(e,t,n,s,o){var a=t[e];switch(u(a)&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),"function"==typeof n&&(a=n.call(t,e,a)),typeof a){case"string":return c(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";var m,g,y,v,_=o+s,b=[];if(l(a)){for(m=a.length,g=0;g<m;g+=1)b[g]=d(g,a,n,s,_)||"null";return 0===b.length?"[]":_?"[\n"+_+b.join(",\n"+_)+"\n"+o+"]":"["+b.join(",")+"]"}if(n&&l(n))for(m=n.length,g=0;g<m;g+=1)"string"==typeof n[g]&&(v=d(y=rep[g],a,n,s,_))&&b.push(_+c(y)+(_?": ":":")+v+",\n");else{var S,w,C=function(e){if(w){var t=w[0];if(_){var n=p(w,1,"\n"+_),r=w[2];n&&(t=_+n+"\n"+t),e||(t+=","),r&&(t+=" "+f(r)),b.push(t+(e?"":"\n"))}else b.push(t)}};for(y in a)r.hasOwnProperty.call(a,y)&&!h(y,a)&&(v=d(y,a,n,s,_))&&(C(),w=[_+c(y)+(_?": ":":")+v],_&&(S=a[i+y])&&(w=w.concat(S)))}return C(!0),0===b.length?"{}":_?"{\n"+b.join("").replace(/,\n$/,"")+"\n"+o+"}":"{"+b.join(",")+"}"}}function h(e,t){return"//^"===e||"//$"===e||!!~e.indexOf(i)&&e.slice(s)in t}function p(e,t,n){return e[t]?f(e[t],n):""}function f(e,t){return l(e)?e.join(t||"\n"):e}},function(e,t,n){"use strict";e.exports=function(e,t,n){return r.parse(e,t,n)};var r=n(1075)},function(e,t,n){"use strict";var r,i,s,o,a,c=n(1076);function l(e){var t=c.tokenize(e,{comment:!0,loc:!0});if(t.comment)return t;var n=[],r=[];return t.map(function(e){"LineComment"===e.type?(e.type="Line",r.push(e)):"BlockComment"===e.type?(e.type="Block",r.push(e)):n.push(e)}),n.comments=r,n}function u(e,t){return o?o(e,t):t}function d(){var e=g(),t="";switch("-"===e&&(h(),e=g(),t="-"),e){case"{":return h(),function(){var e,t,n={};for(;!y("}");)e&&(p(","),h()),e=!0,p("String"),t=JSON.parse(i.value),i.comments&&!a&&(n["// "+t]=i.comments),h(),p(":"),h(),n[t]=u(t,d());return h(),n}();case"[":return h(),function(){var e,t=[],n=0;for(;!y("]");)e&&(p(","),h()),e=!0,t[n]=u(n,d()),n++;return h(),t}();case"String":case"Boolean":case"Null":case"Numeric":var n=i.value;return h(),JSON.parse(t+n)}f()}function h(){return i=r[++s]}function p(e){y(e)||f()}function f(){throw new SyntaxError("Unexpected token "+i.value.slice(0,1))}function m(){throw new SyntaxError("Unexpected end of input")}function g(){return i||m(),"Punctuator"===i.type?i.value:i.type}function y(e){return g()===e}function v(e,t){return e&&(e.loc.start.line<t.loc.start.line||e.loc.start.line===t.loc.start.line&&e.loc.start.column<t.loc.start.column)}function _(e,t){return e&&e.loc.start.line===t.loc.start.line&&e.loc.start.column>t.loc.start.column}function b(e){return"Block"===e.type?"/*"+e.value+"*/":"//"+e.value}t.tokenize=l,t.parse=function(e,t,n){r=l(e),o=t,a=n,r.length||m();(function(){var e=r,t=e.comments;if(!t)return;function n(e,n,r){for(var i,s,o=!0;(i=t[l++])&&e(i,n);)o&&(s=r()),o=!1,s.push(b(i));return l--,!!i}for(var i,s,o=[],a=[],c=e[0],l=0,u=n(v,c,function(){return o}),d=0;d<e.length&&u;d++)if(i=e[d],s=e[d+1],"String"===i.type&&s&&":"===s.value){if(!(u=n(v,i,function(){return i.comments||(i.comments=[]),i.comments[0]||(i.comments[0]=[])})))break;u=n(_,i,function(){return i.comments||(i.comments=[]),i.comments[1]||(i.comments[1]=[])})}n(function(){return!0},null,function(){return a}),t.length=0,delete e.comments,r.head_comments=o,r.foot_comments=a})(),s=-1,h();var i=d();Object(i)!==i||a||(r.head_comments.length&&(i["//^"]=r.head_comments),r.foot_comments.length&&(i["//$"]=r.foot_comments));return i=u("",i),o=null,i}},function(e,t,n){var r,i,s;!function(n,o){"use strict";i=[t],void 0===(s="function"==typeof(r=function(e){var t,n,r,i,s,o,a,c,l,u,d,h,p,f,m,g,y,v,_,b,S,w,C,E,T,D,P;function k(e,t){if(!e)throw new Error("ASSERT: "+t)}function I(e){return e>=48&&e<=57}function M(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function x(e){return"01234567".indexOf(e)>=0}function A(e){var t="0"!==e,n="01234567".indexOf(e);return u<S&&x(c[u])&&(t=!0,n=8*n+"01234567".indexOf(c[u++]),"0123".indexOf(e)>=0&&u<S&&x(c[u])&&(n=8*n+"01234567".indexOf(c[u++]))),{code:n,octal:t}}function O(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function L(e){return 10===e||13===e||8232===e||8233===e}function R(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))}function j(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&a.NonAsciiIdentifierStart.test(R(e))}function F(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&a.NonAsciiIdentifierPart.test(R(e))}function N(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function Y(e){return"eval"===e||"arguments"===e}function B(e,t,n,r,i){var s;k("number"==typeof n,"Comment must have valid position"),C.lastCommentStart=n,s={type:e,value:t},E.range&&(s.range=[n,r]),E.loc&&(s.loc=i),E.comments.push(s),E.attachComment&&(E.leadingComments.push(s),E.trailingComments.push(s)),E.tokenize&&(s.type=s.type+"Comment",E.delegate&&(s=E.delegate(s)),E.tokens.push(s))}function H(e){var t,n,r,i;for(t=u-e,n={start:{line:d,column:u-h-e}};u<S;)if(r=c.charCodeAt(u),++u,L(r))return p=!0,E.comments&&(i=c.slice(t+e,u-1),n.end={line:d,column:u-h-1},B("Line",i,t,u-1,n)),13===r&&10===c.charCodeAt(u)&&++u,++d,void(h=u);E.comments&&(i=c.slice(t+e,u),n.end={line:d,column:u-h},B("Line",i,t,u,n))}function W(){var e,t,n,r;for(E.comments&&(e=u-2,t={start:{line:d,column:u-h-2}});u<S;)if(L(n=c.charCodeAt(u)))13===n&&10===c.charCodeAt(u+1)&&++u,p=!0,++d,h=++u;else if(42===n){if(47===c.charCodeAt(u+1))return++u,++u,void(E.comments&&(r=c.slice(e+2,u-2),t.end={line:d,column:u-h},B("Block",r,e,u,t)));++u}else++u;E.comments&&(t.end={line:d,column:u-h},B("Block",r=c.slice(e+2,u),e,u,t)),ge()}function U(){var e,t;for(p=!1,t=0===u;u<S;)if(O(e=c.charCodeAt(u)))++u;else if(L(e))p=!0,++u,13===e&&10===c.charCodeAt(u)&&++u,++d,h=u,t=!0;else if(47===e)if(47===(e=c.charCodeAt(u+1)))++u,++u,H(2),t=!0;else{if(42!==e)break;++u,++u,W()}else if(t&&45===e){if(45!==c.charCodeAt(u+1)||62!==c.charCodeAt(u+2))break;u+=3,H(3)}else{if(60!==e)break;if("!--"!==c.slice(u+1,u+4))break;++u,++u,++u,++u,H(4)}}function V(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t){if(!(u<S&&M(c[u])))return"";r=c[u++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function $(){var e,t;for(e=c[u],t=0,"}"===e&&me();u<S&&M(e=c[u++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&me(),R(t)}function q(e){var t,n;return(t=c.charCodeAt(e))>=55296&&t<=56319&&(n=c.charCodeAt(e+1))>=56320&&n<=57343&&(t=1024*(t-55296)+n-56320+65536),t}function G(){var e,t,n;for(e=q(u),n=R(e),u+=n.length,92===e&&(117!==c.charCodeAt(u)&&me(),"{"===c[++u]?(++u,t=$()):(t=V("u"),e=t.charCodeAt(0),t&&"\\"!==t&&j(e)||me()),n=t);u<S&&F(e=q(u));)t=R(e),n+=t,u+=t.length,92===e&&(n=n.substr(0,n.length-1),117!==c.charCodeAt(u)&&me(),"{"===c[++u]?(++u,t=$()):(t=V("u"),e=t.charCodeAt(0),t&&"\\"!==t&&F(e)||me()),n+=t);return n}function z(){var e,n;return e=u,n=92===c.charCodeAt(u)?G():function(){var e,t;e=u++;for(;u<S;){if(92===(t=c.charCodeAt(u)))return u=e,G();if(t>=55296&&t<57343)return u=e,G();if(!F(t))break;++u}return c.slice(e,u)}(),{type:1===n.length?t.Identifier:function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}(n)?t.Keyword:"null"===n?t.NullLiteral:"true"===n||"false"===n?t.BooleanLiteral:t.Identifier,value:n,lineNumber:d,lineStart:h,start:e,end:u}}function K(){var e,n;switch(e={type:t.Punctuator,value:"",lineNumber:d,lineStart:h,start:u,end:u},n=c[u]){case"(":E.tokenize&&(E.openParenToken=E.tokenValues.length),++u;break;case"{":E.tokenize&&(E.openCurlyToken=E.tokenValues.length),C.curlyStack.push("{"),++u;break;case".":"."===c[++u]&&"."===c[u+1]&&(u+=2,n="...");break;case"}":++u,C.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++u;break;default:">>>="===(n=c.substr(u,4))?u+=4:"==="===(n=n.substr(0,3))||"!=="===n||">>>"===n||"<<="===n||">>="===n?u+=3:"&&"===(n=n.substr(0,2))||"||"===n||"=="===n||"!="===n||"+="===n||"-="===n||"*="===n||"/="===n||"++"===n||"--"===n||"<<"===n||">>"===n||"&="===n||"|="===n||"^="===n||"%="===n||"<="===n||">="===n||"=>"===n?u+=2:(n=c[u],"<>=!+-*%&|^/".indexOf(n)>=0&&++u)}return u===e.start&&me(),e.end=u,e.value=n,e}function J(e,n){var r,i;for(x(e)?(i=!0,r="0"+c[u++]):(i=!1,++u,r="");u<S&&x(c[u]);)r+=c[u++];return i||0!==r.length||me(),(j(c.charCodeAt(u))||I(c.charCodeAt(u)))&&me(),{type:t.NumericLiteral,value:parseInt(r,8),octal:i,lineNumber:d,lineStart:h,start:n,end:u}}function X(){var e,n,r;if(k(I((r=c[u]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=u,e="","."!==r){if(e=c[u++],r=c[u],"0"===e){if("x"===r||"X"===r)return++u,function(e){var n="";for(;u<S&&M(c[u]);)n+=c[u++];0===n.length&&me();j(c.charCodeAt(u))&&me();return{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:d,lineStart:h,start:e,end:u}}(n);if("b"===r||"B"===r)return++u,function(e){var n,r;r="";for(;u<S&&("0"===(n=c[u])||"1"===n);)r+=c[u++];0===r.length&&me();u<S&&(j(n=c.charCodeAt(u))||I(n))&&me();return{type:t.NumericLiteral,value:parseInt(r,2),lineNumber:d,lineStart:h,start:e,end:u}}(n);if("o"===r||"O"===r)return J(r,n);if(x(r)&&function(){var e,t;for(e=u+1;e<S;++e){if("8"===(t=c[e])||"9"===t)return!1;if(!x(t))return!0}return!0}())return J(r,n)}for(;I(c.charCodeAt(u));)e+=c[u++];r=c[u]}if("."===r){for(e+=c[u++];I(c.charCodeAt(u));)e+=c[u++];r=c[u]}if("e"===r||"E"===r)if(e+=c[u++],"+"!==(r=c[u])&&"-"!==r||(e+=c[u++]),I(c.charCodeAt(u)))for(;I(c.charCodeAt(u));)e+=c[u++];else me();return j(c.charCodeAt(u))&&me(),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:d,lineStart:h,start:n,end:u}}function Q(){var e,n,r,i;return b=!0,w=null,U(),e=u,n=function(){var e,t,n,r;k("/"===(e=c[u]),"Regular expression literal must start with a slash"),t=c[u++],n=!1,r=!1;for(;u<S;)if(e=c[u++],t+=e,"\\"===e)L((e=c[u++]).charCodeAt(0))&&me(null,o.UnterminatedRegExp),t+=e;else if(L(e.charCodeAt(0)))me(null,o.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}r||me(null,o.UnterminatedRegExp);return{value:t.substr(1,t.length-2),literal:t}}(),r=function(){var e,t,n,r;t="",n="";for(;u<S&&F((e=c[u]).charCodeAt(0));)if(++u,"\\"===e&&u<S)if("u"===(e=c[u])){if(r=++u,e=V("u"))for(n+=e,t+="\\u";r<u;++r)t+=c[r];else u=r,n+="u",t+="\\u";ge()}else t+="\\",ge();else n+=e,t+=e;return{value:n,literal:t}}(),i=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,n){var r=parseInt(t||n,16);return r>1114111&&me(null,o.InvalidRegExp),r<=65535?String.fromCharCode(r):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(n)}catch(e){me(null,o.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}}(n.value,r.value),b=!1,E.tokenize?{type:t.RegularExpression,value:i,regex:{pattern:n.value,flags:r.value},lineNumber:d,lineStart:h,start:e,end:u}:{literal:n.literal+r.literal,value:i,regex:{pattern:n.value,flags:r.value},start:e,end:u}}function Z(){var e,t,n,r;return U(),e=u,t={start:{line:d,column:u-h}},n=Q(),t.end={line:d,column:u-h},E.tokenize||(E.tokens.length>0&&(r=E.tokens[E.tokens.length-1]).range[0]===e&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||E.tokens.pop()),E.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,u],loc:t})),n}function ee(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}function te(){var e,n;return u>=S?{type:t.EOF,lineNumber:d,lineStart:h,start:u,end:u}:j(e=c.charCodeAt(u))?(n=z(),l&&N(n.value)&&(n.type=t.Keyword),n):40===e||41===e||59===e?K():39===e||34===e?function(){var e,n,r,i,s,o="",a=!1;k("'"===(e=c[u])||'"'===e,"String literal must starts with a quote"),n=u,++u;for(;u<S;){if((r=c[u++])===e){e="";break}if("\\"===r)if((r=c[u++])&&L(r.charCodeAt(0)))++d,"\r"===r&&"\n"===c[u]&&++u,h=u;else switch(r){case"u":case"x":if("{"===c[u])++u,o+=$();else{if(!(i=V(r)))throw me();o+=i}break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;case"8":case"9":o+=r,ge();break;default:x(r)?(s=A(r),a=s.octal||a,o+=String.fromCharCode(s.code)):o+=r}else{if(L(r.charCodeAt(0)))break;o+=r}}""!==e&&(u=n,me());return{type:t.StringLiteral,value:o,octal:a,lineNumber:v,lineStart:_,start:n,end:u}}():46===e?I(c.charCodeAt(u+1))?X():K():I(e)?X():E.tokenize&&47===e?function(){var e,t,n;function i(e){return e&&e.length>1&&e[0]>="a"&&e[0]<="z"}switch(t=E.tokenValues[E.tokenValues.length-1],e=null!==t,t){case"this":case"]":e=!1;break;case")":n=E.tokenValues[E.openParenToken-1],e="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":e=!1,i(E.tokenValues[E.openCurlyToken-3])?(n=E.tokenValues[E.openCurlyToken-4],e=!!n&&r.indexOf(n)<0):i(E.tokenValues[E.openCurlyToken-4])&&(n=E.tokenValues[E.openCurlyToken-5],e=!n||r.indexOf(n)<0)}return e?Z():K()}():96===e||125===e&&"${"===C.curlyStack[C.curlyStack.length-1]?function(){var e,n,r,i,s,a,l,p,f="";i=!1,a=!1,n=u,s="`"===c[u],r=2,++u;for(;u<S;){if("`"===(e=c[u++])){r=1,a=!0,i=!0;break}if("$"===e){if("{"===c[u]){C.curlyStack.push("${"),++u,i=!0;break}f+=e}else if("\\"===e)if(L((e=c[u++]).charCodeAt(0)))++d,"\r"===e&&"\n"===c[u]&&++u,h=u;else switch(e){case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="\t";break;case"u":case"x":"{"===c[u]?(++u,f+=$()):(l=u,(p=V(e))?f+=p:(u=l,f+=e));break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;default:"0"===e?(I(c.charCodeAt(u))&&he(o.TemplateOctalLiteral),f+="\0"):x(e)?he(o.TemplateOctalLiteral):f+=e}else L(e.charCodeAt(0))?(++d,"\r"===e&&"\n"===c[u]&&++u,h=u,f+="\n"):f+=e}i||me();s||C.curlyStack.pop();return{type:t.Template,value:{cooked:f,raw:c.slice(n+1,u-r)},head:s,tail:a,lineNumber:d,lineStart:h,start:n,end:u}}():e>=55296&&e<57343&&j(e=q(u))?z():K()}function ne(){var e,r,i,s;return e={start:{line:d,column:u-h}},r=te(),e.end={line:d,column:u-h},r.type!==t.EOF&&(i=c.slice(r.start,r.end),s={type:n[r.type],value:i,range:[r.start,r.end],loc:e},r.regex&&(s.regex={pattern:r.regex.pattern,flags:r.regex.flags}),E.tokenValues&&E.tokenValues.push("Punctuator"===s.type||"Keyword"===s.type?s.value:null),E.tokenize&&(E.range||delete s.range,E.loc||delete s.loc,E.delegate&&(s=E.delegate(s))),E.tokens.push(s)),r}function re(){var e;return b=!0,f=u,m=d,g=h,U(),e=w,y=u,v=d,_=h,w=void 0!==E.tokens?ne():te(),b=!1,e}function ie(){b=!0,U(),f=u,m=d,g=h,y=u,v=d,_=h,w=void 0!==E.tokens?ne():te(),b=!1}function se(){this.line=v,this.column=y-_}function oe(){this.start=new se,this.end=null}function ae(e){this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function ce(){E.range&&(this.range=[y,0]),E.loc&&(this.loc=new oe)}function le(e){E.range&&(this.range=[e.start,0]),E.loc&&(this.loc=new ae(e))}function ue(e){var t,n;for(t=0;t<E.errors.length;t++)if((n=E.errors[t]).index===e.index&&n.message===e.message)return;E.errors.push(e)}function de(e,t,n){var r;return(r=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}finally{return n}}("Line "+e+": "+n,t-(b?h:g)+1)).lineNumber=e,r.description=n,r.index=t,r}function he(e){var t,n;throw t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,function(e,n){return k(n<t.length,"Message reference must be in range"),t[n]}),de(m,f,n)}function pe(e){var t,n,r;if(t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,function(e,n){return k(n<t.length,"Message reference must be in range"),t[n]}),r=de(d,f,n),!E.errors)throw r;ue(r)}function fe(e,n){var r,i=n||o.UnexpectedToken;return e?(n||(i=e.type===t.EOF?o.UnexpectedEOS:e.type===t.Identifier?o.UnexpectedIdentifier:e.type===t.NumericLiteral?o.UnexpectedNumber:e.type===t.StringLiteral?o.UnexpectedString:e.type===t.Template?o.UnexpectedTemplate:o.UnexpectedToken,e.type===t.Keyword&&(!function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}}(e.value)?l&&N(e.value)&&(i=o.StrictReservedWord):i=o.UnexpectedReserved)),r=e.type===t.Template?e.value.raw:e.value):r="ILLEGAL",i=i.replace("%0",r),e&&"number"==typeof e.lineNumber?de(e.lineNumber,e.start,i):de(b?d:m,b?u:f,i)}function me(e,t){throw fe(e,t)}function ge(e,t){var n=fe(e,t);if(!E.errors)throw n;ue(n)}function ye(e){var n=re();n.type===t.Punctuator&&n.value===e||me(n)}function ve(){var e;E.errors?(e=w).type===t.Punctuator&&","===e.value?re():e.type===t.Punctuator&&";"===e.value?(re(),ge(e)):ge(e,o.UnexpectedToken):ye(",")}function _e(e){var n=re();n.type===t.Keyword&&n.value===e||me(n)}function be(e){return w.type===t.Punctuator&&w.value===e}function Se(e){return w.type===t.Keyword&&w.value===e}function we(e){return w.type===t.Identifier&&w.value===e}function Ce(){59===c.charCodeAt(y)||be(";")?re():p||(f=y,m=v,g=_,w.type===t.EOF||be("}")||me(w))}function Ee(e){var t,n=T,r=D,i=P;return T=!0,D=!0,P=null,t=e(),null!==P&&me(P),T=n,D=r,P=i,t}function Te(e){var t,n=T,r=D,i=P;return T=!0,D=!0,P=null,t=e(),T=T&&n,D=D&&r,P=i||P,t}function De(e,n){var r,i,s,o=new ce,a=be("[");if(w.type===t.Identifier){if(i=w,r=it(),be("="))return e.push(i),re(),s=et(),o.finishProperty("init",r,!1,new le(i).finishAssignmentPattern(r,s),!1,!0);if(!be(":"))return e.push(i),o.finishProperty("init",r,!1,r,!1,!0)}else r=xe();return ye(":"),s=ke(e,n),o.finishProperty("init",r,a,s,!1,!1)}function Pe(e,t){return be("[")?function(e,t){var n,r,i=new ce,s=[];ye("[");for(;!be("]");)if(be(","))re(),s.push(null);else{if(be("...")){r=new ce,re(),e.push(w),n=it(t),s.push(r.finishRestElement(n));break}s.push(ke(e,t)),be("]")||ye(",")}return ye("]"),i.finishArrayPattern(s)}(e,t):be("{")?function(e,t){var n=new ce,r=[];ye("{");for(;!be("}");)r.push(De(e,t)),be("}")||ye(",");return re(),n.finishObjectPattern(r)}(e,t):(Se("let")&&("const"!==t&&"let"!==t||ge(w,o.UnexpectedToken)),e.push(w),it(t))}function ke(e,t){var n,r,i,s=w;return n=Pe(e,t),be("=")&&(re(),r=C.allowYield,C.allowYield=!0,i=Ee(et),C.allowYield=r,n=new le(s).finishAssignmentPattern(n,i)),n}function Ie(){var e,t=[],n=new ce;for(ye("[");!be("]");)be(",")?(re(),t.push(null)):be("...")?(e=new ce,re(),e.finishSpreadElement(Te(et)),be("]")||(D=T=!1,ye(",")),t.push(e)):(t.push(Te(et)),be("]")||ye(","));return re(),n.finishArrayExpression(t)}function Me(e,t,n){var r,i;return D=T=!1,r=l,i=Ee(ft),l&&t.firstRestricted&&ge(t.firstRestricted,t.message),l&&t.stricted&&ge(t.stricted,t.message),l=r,e.finishFunctionExpression(null,t.params,t.defaults,i,n)}function xe(){var e,n,r=new ce;switch((e=re()).type){case t.StringLiteral:case t.NumericLiteral:return l&&e.octal&&ge(e,o.StrictOctalLiteral),r.finishLiteral(e);case t.Identifier:case t.BooleanLiteral:case t.NullLiteral:case t.Keyword:return r.finishIdentifier(e.value);case t.Punctuator:if("["===e.value)return n=Ee(et),ye("]"),n}me(e)}function Ae(){switch(w.type){case t.Identifier:case t.StringLiteral:case t.BooleanLiteral:case t.NullLiteral:case t.NumericLiteral:case t.Keyword:return!0;case t.Punctuator:return"["===w.value}return!1}function Oe(e,n,r,i){var s,o,a,c,l=C.allowYield;if(e.type===t.Identifier){if("get"===e.value&&Ae())return r=be("["),n=xe(),a=new ce,ye("("),ye(")"),C.allowYield=!1,s=Me(a,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null},!1),C.allowYield=l,i.finishProperty("get",n,r,s,!1,!1);if("set"===e.value&&Ae())return r=be("["),n=xe(),a=new ce,ye("("),o={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}},be(")")?ge(w):(C.allowYield=!1,gt(o),C.allowYield=l,0===o.defaultCount&&(o.defaults=[])),ye(")"),C.allowYield=!1,s=Me(a,o,!1),C.allowYield=l,i.finishProperty("set",n,r,s,!1,!1)}else if(e.type===t.Punctuator&&"*"===e.value&&Ae())return r=be("["),n=xe(),a=new ce,C.allowYield=!0,c=yt(),C.allowYield=l,C.allowYield=!1,s=Me(a,c,!0),C.allowYield=l,i.finishProperty("init",n,r,s,!0,!1);return n&&be("(")?(s=function(){var e,t,n=new ce,r=C.allowYield;return C.allowYield=!1,e=yt(),C.allowYield=r,C.allowYield=!1,t=Me(n,e,!1),C.allowYield=r,t}(),i.finishProperty("init",n,r,s,!0,!1)):null}function Le(e){var n,r,s,a,c,l=w,u=new ce;return n=be("["),be("*")?re():r=xe(),(s=Oe(l,r,n,u))?s:(r||me(w),n||(a=r.type===i.Identifier&&"__proto__"===r.name||r.type===i.Literal&&"__proto__"===r.value,e.value&&a&&pe(o.DuplicateProtoProperty),e.value|=a),be(":")?(re(),c=Te(et),u.finishProperty("init",r,n,c,!1,!1)):l.type===t.Identifier?be("=")?(P=w,re(),c=Ee(et),u.finishProperty("init",r,n,new le(l).finishAssignmentPattern(r,c),!1,!0)):u.finishProperty("init",r,n,r,!1,!0):void me(w))}function Re(){var e=[],t={value:!1},n=new ce;for(ye("{");!be("}");)e.push(Le(t)),be("}")||ve();return ye("}"),n.finishObjectExpression(e)}function je(e){var t;switch(e.type){case i.Identifier:case i.MemberExpression:case i.RestElement:case i.AssignmentPattern:break;case i.SpreadElement:e.type=i.RestElement,je(e.argument);break;case i.ArrayExpression:for(e.type=i.ArrayPattern,t=0;t<e.elements.length;t++)null!==e.elements[t]&&je(e.elements[t]);break;case i.ObjectExpression:for(e.type=i.ObjectPattern,t=0;t<e.properties.length;t++)je(e.properties[t].value);break;case i.AssignmentExpression:e.type=i.AssignmentPattern,je(e.left)}}function Fe(e){var n,r;return(w.type!==t.Template||e.head&&!w.head)&&me(),n=new ce,r=re(),n.finishTemplateElement({raw:r.value.raw,cooked:r.value.cooked},r.tail)}function Ne(){var e,t,n,r=new ce;for(e=Fe({head:!0}),t=[e],n=[];!e.tail;)n.push(tt()),e=Fe({head:!1}),t.push(e);return r.finishTemplateLiteral(t,n)}function Ye(){var e,t,n,r,o=[];if(ye("("),be(")"))return re(),be("=>")||ye("=>"),{type:s.ArrowParameterPlaceHolder,params:[],rawParams:[]};if(n=w,be("..."))return e=ut(o),ye(")"),be("=>")||ye("=>"),{type:s.ArrowParameterPlaceHolder,params:[e]};if(T=!0,e=Te(et),be(",")){for(D=!1,t=[e];y<S&&be(",");){if(re(),be("...")){for(T||me(w),t.push(ut(o)),ye(")"),be("=>")||ye("=>"),T=!1,r=0;r<t.length;r++)je(t[r]);return{type:s.ArrowParameterPlaceHolder,params:t}}t.push(Te(et))}e=new le(n).finishSequenceExpression(t)}if(ye(")"),be("=>")){if(e.type===i.Identifier&&"yield"===e.name)return{type:s.ArrowParameterPlaceHolder,params:[e]};if(T||me(w),e.type===i.SequenceExpression)for(r=0;r<e.expressions.length;r++)je(e.expressions[r]);else je(e);e={type:s.ArrowParameterPlaceHolder,params:e.type===i.SequenceExpression?e.expressions:[e]}}return T=!1,e}function Be(){var e,n,r,i;if(be("("))return T=!1,Te(Ye);if(be("["))return Te(Ie);if(be("{"))return Te(Re);if(e=w.type,i=new ce,e===t.Identifier)"module"===C.sourceType&&"await"===w.value&&ge(w),r=i.finishIdentifier(re().value);else if(e===t.StringLiteral||e===t.NumericLiteral)D=T=!1,l&&w.octal&&ge(w,o.StrictOctalLiteral),r=i.finishLiteral(re());else if(e===t.Keyword){if(!l&&C.allowYield&&Se("yield"))return We();if(!l&&Se("let"))return i.finishIdentifier(re().value);if(D=T=!1,Se("function"))return function(){var e,t,n,r,i,s,a,c,u,d=null,h=[],p=[],f=new ce;u=C.allowYield,_e("function"),(c=be("*"))&&re();C.allowYield=!c,be("(")||(e=w,d=l||c||!Se("yield")?it():We(),l?Y(e.value)&&ge(e,o.StrictFunctionName):Y(e.value)?(n=e,r=o.StrictFunctionName):N(e.value)&&(n=e,r=o.StrictReservedWord));i=yt(n),h=i.params,p=i.defaults,t=i.stricted,n=i.firstRestricted,i.message&&(r=i.message);a=l,s=ft(),l&&n&&me(n,r);l&&t&&ge(t,r);return l=a,C.allowYield=u,f.finishFunctionExpression(d,h,p,s,c)}();if(Se("this"))return re(),i.finishThisExpression();if(Se("class"))return function(){var e,n=null,r=null,i=new ce,s=l;l=!0,_e("class"),w.type===t.Identifier&&(n=it());Se("extends")&&(re(),r=Ee(qe));return e=_t(),l=s,i.finishClassExpression(n,r,e)}();me(re())}else e===t.BooleanLiteral?(D=T=!1,(n=re()).value="true"===n.value,r=i.finishLiteral(n)):e===t.NullLiteral?(D=T=!1,(n=re()).value=null,r=i.finishLiteral(n)):be("/")||be("/=")?(D=T=!1,u=y,n=void 0!==E.tokens?Z():Q(),re(),r=i.finishLiteral(n)):e===t.Template?r=Ne():me(re());return r}function He(){var e,t=[];if(ye("("),!be(")"))for(;y<S&&(be("...")?(e=new ce,re(),e.finishSpreadElement(Ee(et))):e=Ee(et),t.push(e),!be(")"));)ve();return ye(")"),t}function We(){var e,t=new ce;return ee(e=re())||me(e),t.finishIdentifier(e.value)}function Ue(){return ye("."),We()}function Ve(){var e;return ye("["),e=Ee(tt),ye("]"),e}function $e(){var e,n,r=new ce;if(_e("new"),be(".")){if(re(),w.type===t.Identifier&&"target"===w.value&&C.inFunctionBody)return re(),r.finishMetaProperty("new","target");me(w)}return e=Ee(Ge),n=be("(")?He():[],D=T=!1,r.finishNewExpression(e,n)}function qe(){var e,n,r,i,s,o=C.allowIn;for(s=w,C.allowIn=!0,Se("super")&&C.inFunctionBody?(n=new ce,re(),n=n.finishSuper(),be("(")||be(".")||be("[")||me(w)):n=Te(Se("new")?$e:Be);;)if(be("."))T=!1,D=!0,i=Ue(),n=new le(s).finishMemberExpression(".",n,i);else if(be("("))T=!1,D=!1,r=He(),n=new le(s).finishCallExpression(n,r);else if(be("["))T=!1,D=!0,i=Ve(),n=new le(s).finishMemberExpression("[",n,i);else{if(w.type!==t.Template||!w.head)break;e=Ne(),n=new le(s).finishTaggedTemplateExpression(n,e)}return C.allowIn=o,n}function Ge(){var e,n,r,i;for(k(C.allowIn,"callee of new expression always allow in keyword."),i=w,Se("super")&&C.inFunctionBody?(n=new ce,re(),n=n.finishSuper(),be("[")||be(".")||me(w)):n=Te(Se("new")?$e:Be);;)if(be("["))T=!1,D=!0,r=Ve(),n=new le(i).finishMemberExpression("[",n,r);else if(be("."))T=!1,D=!0,r=Ue(),n=new le(i).finishMemberExpression(".",n,r);else{if(w.type!==t.Template||!w.head)break;e=Ne(),n=new le(i).finishTaggedTemplateExpression(n,e)}return n}function ze(){var e,n,r=w;return e=Te(qe),p||w.type!==t.Punctuator||(be("++")||be("--"))&&(l&&e.type===i.Identifier&&Y(e.name)&&pe(o.StrictLHSPostfix),D||pe(o.InvalidLHSInAssignment),D=T=!1,n=re(),e=new le(r).finishPostfixExpression(n.value,e)),e}function Ke(){var e,n,r;return w.type!==t.Punctuator&&w.type!==t.Keyword?n=ze():be("++")||be("--")?(r=w,e=re(),n=Te(Ke),l&&n.type===i.Identifier&&Y(n.name)&&pe(o.StrictLHSPrefix),D||pe(o.InvalidLHSInAssignment),n=new le(r).finishUnaryExpression(e.value,n),D=T=!1):be("+")||be("-")||be("~")||be("!")?(r=w,e=re(),n=Te(Ke),n=new le(r).finishUnaryExpression(e.value,n),D=T=!1):Se("delete")||Se("void")||Se("typeof")?(r=w,e=re(),n=Te(Ke),n=new le(r).finishUnaryExpression(e.value,n),l&&"delete"===n.operator&&n.argument.type===i.Identifier&&pe(o.StrictDelete),D=T=!1):n=ze(),n}function Je(e,n){var r=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function Xe(){var e,t,n,r,i,s,o,a,c,l;if(e=w,c=Te(Ke),0===(i=Je(r=w,C.allowIn)))return c;for(D=T=!1,r.prec=i,re(),t=[e,w],o=Ee(Ke),s=[c,r,o];(i=Je(w,C.allowIn))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,c=s.pop(),t.pop(),n=new le(t[t.length-1]).finishBinaryExpression(a,c,o),s.push(n);(r=re()).prec=i,s.push(r),t.push(w),n=Ee(Ke),s.push(n)}for(l=s.length-1,n=s[l],t.pop();l>1;)n=new le(t.pop()).finishBinaryExpression(s[l-1].value,s[l-2],n),l-=2;return n}function Qe(e,t){var n;switch(t.type){case i.Identifier:mt(e,t,t.name);break;case i.RestElement:Qe(e,t.argument);break;case i.AssignmentPattern:Qe(e,t.left);break;case i.ArrayPattern:for(n=0;n<t.elements.length;n++)null!==t.elements[n]&&Qe(e,t.elements[n]);break;case i.YieldExpression:break;default:for(k(t.type===i.ObjectPattern,"Invalid type"),n=0;n<t.properties.length;n++)Qe(e,t.properties[n].value)}}function Ze(e,t){var n,r,s;return p&&ge(w),ye("=>"),n=l,r=C.allowYield,C.allowYield=!0,s=function(){if(be("{"))return ft();return Ee(et)}(),l&&e.firstRestricted&&me(e.firstRestricted,e.message),l&&e.stricted&&ge(e.stricted,e.message),l=n,C.allowYield=r,t.finishArrowFunctionExpression(e.params,e.defaults,s,s.type!==i.BlockStatement)}function et(){var e,n,r,a,c;return c=w,e=w,!C.allowYield&&Se("yield")?function(){var e,n,r,i;e=null,n=new ce,r=!1,_e("yield"),p||(i=C.allowYield,C.allowYield=!1,(r=be("*"))?(re(),e=et()):be(";")||be("}")||be(")")||w.type===t.EOF||(e=et()),C.allowYield=i);return n.finishYieldExpression(e,r)}():(n=function(){var e,t,n,r,i;i=w,e=Te(Xe),be("?")&&(re(),t=C.allowIn,C.allowIn=!0,n=Ee(et),C.allowIn=t,ye(":"),r=Ee(et),e=new le(i).finishConditionalExpression(e,n,r),D=T=!1);return e}()).type===s.ArrowParameterPlaceHolder||be("=>")?(D=T=!1,(a=function(e){var t,n,r,a,c,u,d;switch(c=[],u=0,a=[e],e.type){case i.Identifier:break;case s.ArrowParameterPlaceHolder:a=e.params;break;default:return null}for(d={paramSet:{}},t=0,n=a.length;t<n;t+=1)switch((r=a[t]).type){case i.AssignmentPattern:a[t]=r.left,r.right.type===i.YieldExpression&&(r.right.argument&&me(w),r.right.type=i.Identifier,r.right.name="yield",delete r.right.argument,delete r.right.delegate),c.push(r.right),++u,Qe(d,r.left);break;default:Qe(d,r),a[t]=r,c.push(null)}if(l||!C.allowYield)for(t=0,n=a.length;t<n;t+=1)(r=a[t]).type===i.YieldExpression&&me(w);d.message===o.StrictParamDupe&&me(l?d.stricted:d.firstRestricted,d.message);0===u&&(c=[]);return{params:a,defaults:c,stricted:d.stricted,firstRestricted:d.firstRestricted,message:d.message}}(n))?(P=null,Ze(a,new le(c))):n):(function(){var e;if(w.type!==t.Punctuator)return!1;return"="===(e=w.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e}()&&(D||pe(o.InvalidLHSInAssignment),l&&n.type===i.Identifier&&(Y(n.name)&&ge(e,o.StrictLHSAssignment),N(n.name)&&ge(e,o.StrictReservedWord)),be("=")?je(n):D=T=!1,e=re(),r=Ee(et),n=new le(c).finishAssignmentExpression(e.value,n,r),P=null),n)}function tt(){var e,t,n=w;if(e=Ee(et),be(",")){for(t=[e];y<S&&be(",");)re(),t.push(Ee(et));e=new le(n).finishSequenceExpression(t)}return e}function nt(){if(w.type===t.Keyword)switch(w.value){case"export":return"module"!==C.sourceType&&ge(w,o.IllegalExportDeclaration),function(){var e=new ce;C.inFunctionBody&&he(o.IllegalExportDeclaration);if(_e("export"),Se("default"))return function(e){var t=null,n=null;if(_e("default"),Se("function"))return t=vt(new ce,!0),e.finishExportDefaultDeclaration(t);if(Se("class"))return t=bt(!0),e.finishExportDefaultDeclaration(t);we("from")&&he(o.UnexpectedToken,w.value);n=be("{")?Re():be("[")?Ie():et();return Ce(),e.finishExportDefaultDeclaration(n)}(e);if(be("*"))return function(e){var t;ye("*"),we("from")||he(w.value?o.UnexpectedToken:o.MissingFromClause,w.value);return re(),t=St(),Ce(),e.finishExportAllDeclaration(t)}(e);return function(e){var n,r=null,i=null,s=[];if(w.type===t.Keyword)switch(w.value){case"let":case"const":return r=lt({inFor:!1}),e.finishExportNamedDeclaration(r,s,null);case"var":case"class":case"function":return r=nt(),e.finishExportNamedDeclaration(r,s,null)}ye("{");for(;!be("}")&&(n=n||Se("default"),s.push(wt()),be("}")||(ye(","),!be("}"))););ye("}"),we("from")?(re(),i=St(),Ce()):n?he(w.value?o.UnexpectedToken:o.MissingFromClause,w.value):Ce();return e.finishExportNamedDeclaration(r,s,i)}(e)}();case"import":return"module"!==C.sourceType&&ge(w,o.IllegalImportDeclaration),function(){var e,n=[],r=new ce;C.inFunctionBody&&he(o.IllegalImportDeclaration);_e("import"),w.type===t.StringLiteral?e=St():(be("{")?n=n.concat(Et()):be("*")?n.push(Tt()):ee(w)&&!Se("default")?(n.push(function(){var e,t=new ce;return e=We(),t.finishImportDefaultSpecifier(e)}()),be(",")&&(re(),be("*")?n.push(Tt()):be("{")?n=n.concat(Et()):me(w))):me(re()),we("from")||he(w.value?o.UnexpectedToken:o.MissingFromClause,w.value),re(),e=St());return Ce(),r.finishImportDeclaration(n,e)}();case"const":return lt({inFor:!1});case"function":return vt(new ce);case"class":return bt()}return Se("let")&&(n={index:u,lineNumber:d,lineStart:h,hasLineTerminator:p,lastIndex:f,lastLineNumber:m,lastLineStart:g,startIndex:y,startLineNumber:v,startLineStart:_,lookahead:w,tokenCount:E.tokens?E.tokens.length:0},re(),e=w.type===t.Identifier||be("[")||be("{")||Se("let")||Se("yield"),function(e){u=e.index,d=e.lineNumber,h=e.lineStart,p=e.hasLineTerminator,f=e.lastIndex,m=e.lastLineNumber,g=e.lastLineStart,y=e.startIndex,v=e.startLineNumber,_=e.startLineStart,w=e.lookahead,E.tokens&&E.tokens.splice(e.tokenCount,E.tokens.length)}(n),e)?lt({inFor:!1}):pt();var e,n}function rt(){var e,t=new ce;return ye("{"),e=function(){var e=[];for(;y<S&&!be("}");)e.push(nt());return e}(),ye("}"),t.finishBlockStatement(e)}function it(e){var n,r=new ce;return(n=re()).type===t.Keyword&&"yield"===n.value?(l&&ge(n,o.StrictReservedWord),C.allowYield||me(n)):n.type!==t.Identifier?l&&n.type===t.Keyword&&N(n.value)?ge(n,o.StrictReservedWord):(l||"let"!==n.value||"var"!==e)&&me(n):"module"===C.sourceType&&n.type===t.Identifier&&"await"===n.value&&ge(n),r.finishIdentifier(n.value)}function st(e){var t,n=null,r=new ce;return t=Pe([],"var"),l&&Y(t.name)&&pe(o.StrictVarName),be("=")?(re(),n=Ee(et)):t.type===i.Identifier||e.inFor||ye("="),r.finishVariableDeclarator(t,n)}function ot(e){var t,n;for(t={inFor:e.inFor},n=[st(t)];be(",");)re(),n.push(st(t));return n}function at(e,t){var n,r=null,s=new ce;return n=Pe([],e),l&&n.type===i.Identifier&&Y(n.name)&&pe(o.StrictVarName),"const"===e?Se("in")||we("of")||(ye("="),r=Ee(et)):(!t.inFor&&n.type!==i.Identifier||be("="))&&(ye("="),r=Ee(et)),s.finishVariableDeclarator(n,r)}function ct(e,t){for(var n=[at(e,t)];be(",");)re(),n.push(at(e,t));return n}function lt(e){var t,n,r=new ce;return k("let"===(t=re().value)||"const"===t,"Lexical declaration must be either let or const"),n=ct(t,e),Ce(),r.finishLexicalDeclaration(n,t)}function ut(e){var t,n=new ce;return re(),be("{")&&he(o.ObjectPatternAsRestParameter),e.push(w),t=it(),be("=")&&he(o.DefaultRestParameter),be(")")||he(o.ParameterAfterRestParameter),n.finishRestElement(t)}function dt(){var e,t,n=[],r=new ce;for(Se("default")?(re(),e=null):(_e("case"),e=tt()),ye(":");y<S&&!(be("}")||Se("default")||Se("case"));)t=nt(),n.push(t);return r.finishSwitchCase(e,n)}function ht(e){var t,n=null,r=null;return _e("try"),t=rt(),Se("catch")&&(n=function(){var e,t,n,r,i=[],s={},a=new ce;_e("catch"),ye("("),be(")")&&me(w);for(e=Pe(i),n=0;n<i.length;n++)t="$"+i[n].value,Object.prototype.hasOwnProperty.call(s,t)&&pe(o.DuplicateBinding,i[n].value),s[t]=!0;l&&Y(e.name)&&pe(o.StrictCatchVariable);return ye(")"),r=rt(),a.finishCatchClause(e,r)}()),Se("finally")&&(re(),r=rt()),n||r||he(o.NoCatchOrFinally),e.finishTryStatement(t,n,r)}function pt(){var e,n,r,s,a=w.type;if(a===t.EOF&&me(w),a===t.Punctuator&&"{"===w.value)return rt();if(D=T=!0,s=new ce,a===t.Punctuator)switch(w.value){case";":return function(e){return ye(";"),e.finishEmptyStatement()}(s);case"(":return function(e){var t=tt();return Ce(),e.finishExpressionStatement(t)}(s)}else if(a===t.Keyword)switch(w.value){case"break":return function(e){var n,r=null;if(_e("break"),59===c.charCodeAt(f))return re(),C.inIteration||C.inSwitch||he(o.IllegalBreak),e.finishBreakStatement(null);p?C.inIteration||C.inSwitch||he(o.IllegalBreak):w.type===t.Identifier&&(r=it(),n="$"+r.name,Object.prototype.hasOwnProperty.call(C.labelSet,n)||he(o.UnknownLabel,r.name));Ce(),null!==r||C.inIteration||C.inSwitch||he(o.IllegalBreak);return e.finishBreakStatement(r)}(s);case"continue":return function(e){var n,r=null;if(_e("continue"),59===c.charCodeAt(y))return re(),C.inIteration||he(o.IllegalContinue),e.finishContinueStatement(null);if(p)return C.inIteration||he(o.IllegalContinue),e.finishContinueStatement(null);w.type===t.Identifier&&(r=it(),n="$"+r.name,Object.prototype.hasOwnProperty.call(C.labelSet,n)||he(o.UnknownLabel,r.name));Ce(),null!==r||C.inIteration||he(o.IllegalContinue);return e.finishContinueStatement(r)}(s);case"debugger":return function(e){return _e("debugger"),Ce(),e.finishDebuggerStatement()}(s);case"do":return function(e){var t,n,r;_e("do"),r=C.inIteration,C.inIteration=!0,t=pt(),C.inIteration=r,_e("while"),ye("("),n=tt(),ye(")"),be(";")&&re();return e.finishDoWhileStatement(t,n)}(s);case"for":return function(e){var t,n,r,i,s,a,c,u,d,h,p,f,m=C.allowIn;if(t=s=a=null,n=!0,_e("for"),ye("("),be(";"))re();else if(Se("var"))t=new ce,re(),C.allowIn=!1,h=ot({inFor:!0}),C.allowIn=m,1===h.length&&Se("in")?(t=t.finishVariableDeclaration(h),re(),c=t,u=tt(),t=null):1===h.length&&null===h[0].init&&we("of")?(t=t.finishVariableDeclaration(h),re(),c=t,u=et(),t=null,n=!1):(t=t.finishVariableDeclaration(h),ye(";"));else if(Se("const")||Se("let"))t=new ce,d=re().value,l||"in"!==w.value?(C.allowIn=!1,h=ct(d,{inFor:!0}),C.allowIn=m,1===h.length&&null===h[0].init&&Se("in")?(t=t.finishLexicalDeclaration(h,d),re(),c=t,u=tt(),t=null):1===h.length&&null===h[0].init&&we("of")?(t=t.finishLexicalDeclaration(h,d),re(),c=t,u=et(),t=null,n=!1):(Ce(),t=t.finishLexicalDeclaration(h,d))):(t=t.finishIdentifier(d),re(),c=t,u=tt(),t=null);else if(i=w,C.allowIn=!1,t=Te(et),C.allowIn=m,Se("in"))D||pe(o.InvalidLHSInForIn),re(),je(t),c=t,u=tt(),t=null;else if(we("of"))D||pe(o.InvalidLHSInForLoop),re(),je(t),c=t,u=et(),t=null,n=!1;else{if(be(",")){for(r=[t];be(",");)re(),r.push(Ee(et));t=new le(i).finishSequenceExpression(r)}ye(";")}void 0===c&&(be(";")||(s=tt()),ye(";"),be(")")||(a=tt()));return ye(")"),f=C.inIteration,C.inIteration=!0,p=Ee(pt),C.inIteration=f,void 0===c?e.finishForStatement(t,s,a,p):n?e.finishForInStatement(c,u,p):e.finishForOfStatement(c,u,p)}(s);case"function":return vt(s);case"if":return function(e){var t,n,r;_e("if"),ye("("),t=tt(),ye(")"),n=pt(),Se("else")?(re(),r=pt()):r=null;return e.finishIfStatement(t,n,r)}(s);case"return":return function(e){var n=null;_e("return"),C.inFunctionBody||pe(o.IllegalReturn);if(32===c.charCodeAt(f)&&j(c.charCodeAt(f+1)))return n=tt(),Ce(),e.finishReturnStatement(n);if(p)return e.finishReturnStatement(null);be(";")||be("}")||w.type===t.EOF||(n=tt());return Ce(),e.finishReturnStatement(n)}(s);case"switch":return function(e){var t,n,r,i,s;if(_e("switch"),ye("("),t=tt(),ye(")"),ye("{"),n=[],be("}"))return re(),e.finishSwitchStatement(t,n);i=C.inSwitch,C.inSwitch=!0,s=!1;for(;y<S&&!be("}");)null===(r=dt()).test&&(s&&he(o.MultipleDefaultsInSwitch),s=!0),n.push(r);return C.inSwitch=i,ye("}"),e.finishSwitchStatement(t,n)}(s);case"throw":return function(e){var t;_e("throw"),p&&he(o.NewlineAfterThrow);return t=tt(),Ce(),e.finishThrowStatement(t)}(s);case"try":return ht(s);case"var":return function(e){var t;return _e("var"),t=ot({inFor:!1}),Ce(),e.finishVariableDeclaration(t)}(s);case"while":return function(e){var t,n,r;return _e("while"),ye("("),t=tt(),ye(")"),r=C.inIteration,C.inIteration=!0,n=pt(),C.inIteration=r,e.finishWhileStatement(t,n)}(s);case"with":return function(e){var t,n;l&&pe(o.StrictModeWith);return _e("with"),ye("("),t=tt(),ye(")"),n=pt(),e.finishWithStatement(t,n)}(s)}return(e=tt()).type===i.Identifier&&be(":")?(re(),r="$"+e.name,Object.prototype.hasOwnProperty.call(C.labelSet,r)&&he(o.Redeclaration,"Label",e.name),C.labelSet[r]=!0,n=pt(),delete C.labelSet[r],s.finishLabeledStatement(e,n)):(Ce(),s.finishExpressionStatement(e))}function ft(){var e,n,r,s,a,u,d,h=[],p=new ce;for(ye("{");y<S&&w.type===t.StringLiteral&&(n=w,e=nt(),h.push(e),e.expression.type===i.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(l=!0,r&&ge(r,o.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(s=C.labelSet,a=C.inIteration,u=C.inSwitch,d=C.inFunctionBody,C.labelSet={},C.inIteration=!1,C.inSwitch=!1,C.inFunctionBody=!0;y<S&&!be("}");)h.push(nt());return ye("}"),C.labelSet=s,C.inIteration=a,C.inSwitch=u,C.inFunctionBody=d,p.finishBlockStatement(h)}function mt(e,t,n){var r="$"+n;l?(Y(n)&&(e.stricted=t,e.message=o.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.StrictParamDupe)):e.firstRestricted||(Y(n)?(e.firstRestricted=t,e.message=o.StrictParamName):N(n)?(e.firstRestricted=t,e.message=o.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.StrictParamDupe)),e.paramSet[r]=!0}function gt(e){var t,n,r,s=[];if("..."===w.value)return t=ut(s),mt(e,t.argument,t.argument.name),e.params.push(t),e.defaults.push(null),!1;for(t=ke(s),n=0;n<s.length;n++)mt(e,s[n],s[n].value);return t.type===i.AssignmentPattern&&(r=t.right,t=t.left,++e.defaultCount),e.params.push(t),e.defaults.push(r),!be(")")}function yt(e){var t;if(t={params:[],defaultCount:0,defaults:[],firstRestricted:e},ye("("),!be(")"))for(t.paramSet={};y<S&&gt(t);)ye(",");return ye(")"),0===t.defaultCount&&(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}}function vt(e,t){var n,r,i,s,a,c,u,d,h,p=null,f=[],m=[];return h=C.allowYield,_e("function"),(d=be("*"))&&re(),t&&be("(")||(r=w,p=it(),l?Y(r.value)&&ge(r,o.StrictFunctionName):Y(r.value)?(a=r,c=o.StrictFunctionName):N(r.value)&&(a=r,c=o.StrictReservedWord)),C.allowYield=!d,s=yt(a),f=s.params,m=s.defaults,i=s.stricted,a=s.firstRestricted,s.message&&(c=s.message),u=l,n=ft(),l&&a&&me(a,c),l&&i&&ge(i,c),l=u,C.allowYield=h,e.finishFunctionDeclaration(p,f,m,n,d)}function _t(){var e,t,n,r,s,a,c,l=!1;for(e=new ce,ye("{"),r=[];!be("}");)be(";")?re():(s=new ce,t=w,n=!1,a=be("["),be("*")?re():"static"===(c=xe()).name&&(Ae()||be("*"))&&(t=w,n=!0,a=be("["),be("*")?re():c=xe()),(s=Oe(t,c,a,s))?(s.static=n,"init"===s.kind&&(s.kind="method"),n?s.computed||"prototype"!==(s.key.name||s.key.value.toString())||me(t,o.StaticPrototype):s.computed||"constructor"!==(s.key.name||s.key.value.toString())||("method"===s.kind&&s.method&&!s.value.generator||me(t,o.ConstructorSpecialMethod),l?me(t,o.DuplicateConstructor):l=!0,s.kind="constructor"),s.type=i.MethodDefinition,delete s.method,delete s.shorthand,r.push(s)):me(w));return re(),e.finishClassBody(r)}function bt(e){var n,r=null,i=null,s=new ce,o=l;return l=!0,_e("class"),e&&w.type!==t.Identifier||(r=it()),Se("extends")&&(re(),i=Ee(qe)),n=_t(),l=o,s.finishClassDeclaration(r,i,n)}function St(){var e=new ce;return w.type!==t.StringLiteral&&he(o.InvalidModuleSpecifier),e.finishLiteral(re())}function wt(){var e,t,n,r=new ce;return Se("default")?(n=new ce,re(),t=n.finishIdentifier("default")):t=it(),we("as")&&(re(),e=We()),r.finishExportSpecifier(t,e)}function Ct(){var e,t,n=new ce;return t=We(),we("as")&&(re(),e=it()),n.finishImportSpecifier(e,t)}function Et(){var e=[];for(ye("{");!be("}")&&(e.push(Ct()),be("}")||(ye(","),!be("}"))););return ye("}"),e}function Tt(){var e,t=new ce;return ye("*"),we("as")||he(o.NoAsAfterImportNamespace),re(),e=We(),t.finishImportNamespaceSpecifier(e)}function Dt(){var e,n;return ie(),n=new ce,e=function(){var e,n,r,s=[];for(;y<S&&(n=w).type===t.StringLiteral&&(e=nt(),s.push(e),e.expression.type===i.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(l=!0,r&&ge(r,o.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;y<S&&void 0!==(e=nt());)s.push(e);return s}(),n.finishProgram(e,C.sourceType)}(n={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10}).BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",n[t.Template]="Template",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"},o={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0"},a={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},le.prototype=ce.prototype={processComment:function(){var e,t,n,r,s,o,a=E.bottomRightStack,c=a[a.length-1];if(!(this.type===i.Program&&this.body.length>0)){if(this.type===i.BlockStatement&&0===this.body.length){for(t=[],s=E.leadingComments.length-1;s>=0;--s)o=E.leadingComments[s],this.range[1]>=o.range[1]&&(t.unshift(o),E.leadingComments.splice(s,1),E.trailingComments.splice(s,1));if(t.length)return void(this.innerComments=t)}if(E.trailingComments.length>0){for(r=[],s=E.trailingComments.length-1;s>=0;--s)(o=E.trailingComments[s]).range[0]>=this.range[1]&&(r.unshift(o),E.trailingComments.splice(s,1));E.trailingComments=[]}else c&&c.trailingComments&&c.trailingComments[0].range[0]>=this.range[1]&&(r=c.trailingComments,delete c.trailingComments);for(;c&&c.range[0]>=this.range[0];)e=a.pop(),c=a[a.length-1];if(e){if(e.leadingComments){for(n=[],s=e.leadingComments.length-1;s>=0;--s)(o=e.leadingComments[s]).range[1]<=this.range[0]&&(n.unshift(o),e.leadingComments.splice(s,1));e.leadingComments.length||(e.leadingComments=void 0)}}else if(E.leadingComments.length>0)for(n=[],s=E.leadingComments.length-1;s>=0;--s)(o=E.leadingComments[s]).range[1]<=this.range[0]&&(n.unshift(o),E.leadingComments.splice(s,1));n&&n.length>0&&(this.leadingComments=n),r&&r.length>0&&(this.trailingComments=r),a.push(this)}},finish:function(){E.range&&(this.range[1]=f),E.loc&&(this.loc.end={line:m,column:f-g},E.source&&(this.loc.source=E.source)),E.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=i.ArrayExpression,this.elements=e,this.finish(),this},finishArrayPattern:function(e){return this.type=i.ArrayPattern,this.elements=e,this.finish(),this},finishArrowFunctionExpression:function(e,t,n,r){return this.type=i.ArrowFunctionExpression,this.id=null,this.params=e,this.defaults=t,this.body=n,this.generator=!1,this.expression=r,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=i.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishAssignmentPattern:function(e,t){return this.type=i.AssignmentPattern,this.left=e,this.right=t,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBlockStatement:function(e){return this.type=i.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=i.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,t){return this.type=i.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishCatchClause:function(e,t){return this.type=i.CatchClause,this.param=e,this.body=t,this.finish(),this},finishClassBody:function(e){return this.type=i.ClassBody,this.body=e,this.finish(),this},finishClassDeclaration:function(e,t,n){return this.type=i.ClassDeclaration,this.id=e,this.superClass=t,this.body=n,this.finish(),this},finishClassExpression:function(e,t,n){return this.type=i.ClassExpression,this.id=e,this.superClass=t,this.body=n,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=i.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishContinueStatement:function(e){return this.type=i.ContinueStatement,this.label=e,this.finish(),this},finishDebuggerStatement:function(){return this.type=i.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(e,t){return this.type=i.DoWhileStatement,this.body=e,this.test=t,this.finish(),this},finishEmptyStatement:function(){return this.type=i.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=i.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,t,n,r){return this.type=i.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r,this.finish(),this},finishForOfStatement:function(e,t,n){return this.type=i.ForOfStatement,this.left=e,this.right=t,this.body=n,this.finish(),this},finishForInStatement:function(e,t,n){return this.type=i.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,t,n,r,s){return this.type=i.FunctionDeclaration,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=s,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,t,n,r,s){return this.type=i.FunctionExpression,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=s,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=i.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,t,n){return this.type=i.IfStatement,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishLabeledStatement:function(e,t){return this.type=i.LabeledStatement,this.label=e,this.body=t,this.finish(),this},finishLiteral:function(e){return this.type=i.Literal,this.value=e.value,this.raw=c.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=i.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishMetaProperty:function(e,t){return this.type=i.MetaProperty,this.meta=e,this.property=t,this.finish(),this},finishNewExpression:function(e,t){return this.type=i.NewExpression,this.callee=e,this.arguments=t,this.finish(),this},finishObjectExpression:function(e){return this.type=i.ObjectExpression,this.properties=e,this.finish(),this},finishObjectPattern:function(e){return this.type=i.ObjectPattern,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=i.UpdateExpression,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram:function(e,t){return this.type=i.Program,this.body=e,this.sourceType=t,this.finish(),this},finishProperty:function(e,t,n,r,s,o){return this.type=i.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=s,this.shorthand=o,this.finish(),this},finishRestElement:function(e){return this.type=i.RestElement,this.argument=e,this.finish(),this},finishReturnStatement:function(e){return this.type=i.ReturnStatement,this.argument=e,this.finish(),this},finishSequenceExpression:function(e){return this.type=i.SequenceExpression,this.expressions=e,this.finish(),this},finishSpreadElement:function(e){return this.type=i.SpreadElement,this.argument=e,this.finish(),this},finishSwitchCase:function(e,t){return this.type=i.SwitchCase,this.test=e,this.consequent=t,this.finish(),this},finishSuper:function(){return this.type=i.Super,this.finish(),this},finishSwitchStatement:function(e,t){return this.type=i.SwitchStatement,this.discriminant=e,this.cases=t,this.finish(),this},finishTaggedTemplateExpression:function(e,t){return this.type=i.TaggedTemplateExpression,this.tag=e,this.quasi=t,this.finish(),this},finishTemplateElement:function(e,t){return this.type=i.TemplateElement,this.value=e,this.tail=t,this.finish(),this},finishTemplateLiteral:function(e,t){return this.type=i.TemplateLiteral,this.quasis=e,this.expressions=t,this.finish(),this},finishThisExpression:function(){return this.type=i.ThisExpression,this.finish(),this},finishThrowStatement:function(e){return this.type=i.ThrowStatement,this.argument=e,this.finish(),this},finishTryStatement:function(e,t,n){return this.type=i.TryStatement,this.block=e,this.guardedHandlers=[],this.handlers=t?[t]:[],this.handler=t,this.finalizer=n,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?i.UpdateExpression:i.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e){return this.type=i.VariableDeclaration,this.declarations=e,this.kind="var",this.finish(),this},finishLexicalDeclaration:function(e,t){return this.type=i.VariableDeclaration,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(e,t){return this.type=i.VariableDeclarator,this.id=e,this.init=t,this.finish(),this},finishWhileStatement:function(e,t){return this.type=i.WhileStatement,this.test=e,this.body=t,this.finish(),this},finishWithStatement:function(e,t){return this.type=i.WithStatement,this.object=e,this.body=t,this.finish(),this},finishExportSpecifier:function(e,t){return this.type=i.ExportSpecifier,this.exported=t||e,this.local=e,this.finish(),this},finishImportDefaultSpecifier:function(e){return this.type=i.ImportDefaultSpecifier,this.local=e,this.finish(),this},finishImportNamespaceSpecifier:function(e){return this.type=i.ImportNamespaceSpecifier,this.local=e,this.finish(),this},finishExportNamedDeclaration:function(e,t,n){return this.type=i.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n,this.finish(),this},finishExportDefaultDeclaration:function(e){return this.type=i.ExportDefaultDeclaration,this.declaration=e,this.finish(),this},finishExportAllDeclaration:function(e){return this.type=i.ExportAllDeclaration,this.source=e,this.finish(),this},finishImportSpecifier:function(e,t){return this.type=i.ImportSpecifier,this.local=e||t,this.imported=t,this.finish(),this},finishImportDeclaration:function(e,t){return this.type=i.ImportDeclaration,this.specifiers=e,this.source=t,this.finish(),this},finishYieldExpression:function(e,t){return this.type=i.YieldExpression,this.argument=e,this.delegate=t,this.finish(),this}},e.version="2.7.3",e.tokenize=function(e,n,r){var i,s;i=String,"string"==typeof e||e instanceof String||(e=i(e));u=0,d=(c=e).length>0?1:0,y=u,v=d,_=h=0,S=c.length,w=null,C={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},E={},(n=n||{}).tokens=!0,E.tokens=[],E.tokenValues=[],E.tokenize=!0,E.delegate=r,E.openParenToken=-1,E.openCurlyToken=-1,E.range="boolean"==typeof n.range&&n.range,E.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(E.comments=[]);"boolean"==typeof n.tolerant&&n.tolerant&&(E.errors=[]);try{if(ie(),w.type===t.EOF)return E.tokens;for(re();w.type!==t.EOF;)try{re()}catch(e){if(E.errors){ue(e);break}throw e}s=E.tokens,void 0!==E.errors&&(s.errors=E.errors)}catch(e){throw e}finally{E={}}return s},e.parse=function(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e));u=0,d=(c=e).length>0?1:0,y=u,v=d,_=h=0,S=c.length,w=null,C={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[],sourceType:"script"},l=!1,E={},void 0!==t&&(E.range="boolean"==typeof t.range&&t.range,E.loc="boolean"==typeof t.loc&&t.loc,E.attachComment="boolean"==typeof t.attachComment&&t.attachComment,E.loc&&null!==t.source&&void 0!==t.source&&(E.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(E.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(E.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(E.errors=[]),E.attachComment&&(E.range=!0,E.comments=[],E.bottomRightStack=[],E.trailingComments=[],E.leadingComments=[]),"module"===t.sourceType&&(C.sourceType=t.sourceType,l=!0));try{n=Dt(),void 0!==E.comments&&(n.comments=E.comments),void 0!==E.tokens&&(!function(){var e,t,n,r=[];for(e=0;e<E.tokens.length;++e)t=E.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),E.range&&(n.range=t.range),E.loc&&(n.loc=t.loc),r.push(n);E.tokens=r}(),n.tokens=E.tokens),void 0!==E.errors&&(n.errors=E.errors)}catch(e){throw e}finally{E={}}return n},e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})?r.apply(t,i):r)||(e.exports=s)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(132),i=n(163);t.IStateDB=new r.Token("@jupyterlab/coreutils:IStateDB");class s{constructor(e){this.maxLength=2e3,this._changed=new i.Signal(this);const{namespace:t,transform:n,windowName:r}=e;this.namespace=t,this._window=r||"",this._ready=(n||Promise.resolve(null)).then(e=>{if(!e)return;const{contents:t,type:n}=e;switch(n){case"cancel":return;case"clear":return void this._clear();case"merge":return void this._merge(t||{});case"overwrite":return void this._overwrite(t||{});default:return}})}get changed(){return this._changed}clear(e=!1){return this._ready.then(()=>{this._clear(),e||this._changed.emit({id:null,type:"clear"})})}fetch(e){return this._ready.then(()=>this._fetch(e))}fetchNamespace(e){return this._ready.then(()=>{const t=`${this._window}:${this.namespace}:`;return s.fetchNamespace(`${t}${e}:`,e=>e.replace(t,""))})}remove(e){return this._ready.then(()=>{this._remove(e),this._changed.emit({id:e,type:"remove"})})}save(e,t){return this._ready.then(()=>{this._save(e,t),this._changed.emit({id:e,type:"save"})})}toJSON(){return this._ready.then(()=>{const e=`${this._window}:${this.namespace}:`;return s.toJSON(e,t=>t.replace(e,""))})}_clear(){const{localStorage:e}=window,t=`${this._window}:${this.namespace}:`;let n=e.length;for(;n;){let r=e.key(--n);r&&0===r.indexOf(t)&&e.removeItem(r)}}_fetch(e){const t=`${this._window}:${this.namespace}:${e}`,n=window.localStorage.getItem(t);if(n){return JSON.parse(n).v}}_merge(e){Object.keys(e).forEach(t=>{this._save(t,e[t])})}_overwrite(e){this._clear(),this._merge(e)}_remove(e){const t=`${this._window}:${this.namespace}:${e}`;window.localStorage.removeItem(t)}_save(e,t){const n=`${this._window}:${this.namespace}:${e}`,r={v:t},i=JSON.stringify(r),s=i.length,o=this.maxLength;if(s>o)throw new Error(`Data length (${s}) exceeds maximum (${o})`);window.localStorage.setItem(n,i)}}t.StateDB=s,function(e){function t(e,t=(e=>e)){const{localStorage:n}=window;let r=[],i=n.length;for(;i;){let s=n.key(--i);if(s&&0===s.indexOf(e)){let e=n.getItem(s);try{let i=JSON.parse(e);r.push({id:t(s),value:i?i.v:void 0})}catch(e){console.warn(e),n.removeItem(s)}}}return r}e.fetchNamespace=t,e.toJSON=function(e,n=(e=>e)){return t(e,n).reduce((e,t)=>(e[t.id]=t.value,e),{})}}(s=t.StateDB||(t.StateDB={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){const t="".length>1;e.jsIndexToCharIndex=function(e,n){if(t)return e;let r=e;for(let t=0;t+1<n.length&&t<e;t++){let e=n.charCodeAt(t);if(e>=55296&&e<=56319){let e=n.charCodeAt(t+1);e>=56320&&e<=57343&&(r--,t++)}}return r},e.charIndexToJsIndex=function(e,n){if(t)return e;let r=e;for(let e=0;e+1<n.length&&e<r;e++){let t=n.charCodeAt(e);if(t>=55296&&t<=56319){let t=n.charCodeAt(e+1);t>=56320&&t<=57343&&(r++,e++)}}return r}}(t.Text||(t.Text={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(5));!function(e){e.formatHuman=function(e){let t=i.default(e).fromNow();return t="a few seconds ago"===t?"seconds ago":t},e.format=function(e,t="YYYY-MM-DD HH:mm"){return i.default(e).format(t)}}(t.Time||(t.Time={}))},function(e,t,n){var r={"./af":385,"./af.js":385,"./ar":386,"./ar-dz":387,"./ar-dz.js":387,"./ar-kw":388,"./ar-kw.js":388,"./ar-ly":389,"./ar-ly.js":389,"./ar-ma":390,"./ar-ma.js":390,"./ar-sa":391,"./ar-sa.js":391,"./ar-tn":392,"./ar-tn.js":392,"./ar.js":386,"./az":393,"./az.js":393,"./be":394,"./be.js":394,"./bg":395,"./bg.js":395,"./bm":396,"./bm.js":396,"./bn":397,"./bn.js":397,"./bo":398,"./bo.js":398,"./br":399,"./br.js":399,"./bs":400,"./bs.js":400,"./ca":401,"./ca.js":401,"./cs":402,"./cs.js":402,"./cv":403,"./cv.js":403,"./cy":404,"./cy.js":404,"./da":405,"./da.js":405,"./de":406,"./de-at":407,"./de-at.js":407,"./de-ch":408,"./de-ch.js":408,"./de.js":406,"./dv":409,"./dv.js":409,"./el":410,"./el.js":410,"./en-au":411,"./en-au.js":411,"./en-ca":412,"./en-ca.js":412,"./en-gb":413,"./en-gb.js":413,"./en-ie":414,"./en-ie.js":414,"./en-il":415,"./en-il.js":415,"./en-nz":416,"./en-nz.js":416,"./eo":417,"./eo.js":417,"./es":418,"./es-do":419,"./es-do.js":419,"./es-us":420,"./es-us.js":420,"./es.js":418,"./et":421,"./et.js":421,"./eu":422,"./eu.js":422,"./fa":423,"./fa.js":423,"./fi":424,"./fi.js":424,"./fo":425,"./fo.js":425,"./fr":426,"./fr-ca":427,"./fr-ca.js":427,"./fr-ch":428,"./fr-ch.js":428,"./fr.js":426,"./fy":429,"./fy.js":429,"./gd":430,"./gd.js":430,"./gl":431,"./gl.js":431,"./gom-latn":432,"./gom-latn.js":432,"./gu":433,"./gu.js":433,"./he":434,"./he.js":434,"./hi":435,"./hi.js":435,"./hr":436,"./hr.js":436,"./hu":437,"./hu.js":437,"./hy-am":438,"./hy-am.js":438,"./id":439,"./id.js":439,"./is":440,"./is.js":440,"./it":441,"./it.js":441,"./ja":442,"./ja.js":442,"./jv":443,"./jv.js":443,"./ka":444,"./ka.js":444,"./kk":445,"./kk.js":445,"./km":446,"./km.js":446,"./kn":447,"./kn.js":447,"./ko":448,"./ko.js":448,"./ky":449,"./ky.js":449,"./lb":450,"./lb.js":450,"./lo":451,"./lo.js":451,"./lt":452,"./lt.js":452,"./lv":453,"./lv.js":453,"./me":454,"./me.js":454,"./mi":455,"./mi.js":455,"./mk":456,"./mk.js":456,"./ml":457,"./ml.js":457,"./mr":458,"./mr.js":458,"./ms":459,"./ms-my":460,"./ms-my.js":460,"./ms.js":459,"./mt":461,"./mt.js":461,"./my":462,"./my.js":462,"./nb":463,"./nb.js":463,"./ne":464,"./ne.js":464,"./nl":465,"./nl-be":466,"./nl-be.js":466,"./nl.js":465,"./nn":467,"./nn.js":467,"./pa-in":468,"./pa-in.js":468,"./pl":469,"./pl.js":469,"./pt":470,"./pt-br":471,"./pt-br.js":471,"./pt.js":470,"./ro":472,"./ro.js":472,"./ru":473,"./ru.js":473,"./sd":474,"./sd.js":474,"./se":475,"./se.js":475,"./si":476,"./si.js":476,"./sk":477,"./sk.js":477,"./sl":478,"./sl.js":478,"./sq":479,"./sq.js":479,"./sr":480,"./sr-cyrl":481,"./sr-cyrl.js":481,"./sr.js":480,"./ss":482,"./ss.js":482,"./sv":483,"./sv.js":483,"./sw":484,"./sw.js":484,"./ta":485,"./ta.js":485,"./te":486,"./te.js":486,"./tet":487,"./tet.js":487,"./tg":488,"./tg.js":488,"./th":489,"./th.js":489,"./tl-ph":490,"./tl-ph.js":490,"./tlh":491,"./tlh.js":491,"./tr":492,"./tr.js":492,"./tzl":493,"./tzl.js":493,"./tzm":494,"./tzm-latn":495,"./tzm-latn.js":495,"./tzm.js":494,"./ug-cn":496,"./ug-cn.js":496,"./uk":497,"./uk.js":497,"./ur":498,"./ur.js":498,"./uz":499,"./uz-latn":500,"./uz-latn.js":500,"./uz.js":499,"./vi":501,"./vi.js":501,"./x-pseudo":502,"./x-pseudo.js":502,"./yo":503,"./yo.js":503,"./zh-cn":504,"./zh-cn.js":504,"./zh-hk":505,"./zh-hk.js":505,"./zh-tw":506,"./zh-tw.js":506};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=1080},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._defaultLineMagicRewriters=[new i,new s],this._lineMagicRewriters=e||this._defaultLineMagicRewriters}return e.prototype.rewrite=function(e,t){return e=this.rewriteCellMagic(e),e=this.rewriteLineMagic(e,this._lineMagicRewriters)},e.prototype.rewriteCellMagic=function(e){return e.match(/^[^#\s]*\s*%%/gm)?e.split("\n").map(function(e){return"##"+e}).join("\n"):e},e.prototype.rewriteLineMagic=function(e,t){var n=e.split("\n"),r=0,i=n.map(function(e,t){if(0==t)return 0;var i=r+n[t-1].length+1;return r=i,i});return e.replace(/^\s*(%(?:\\\s*\n|[^\n])+)/gm,function(e,n){for(var r=-1,s=-1,o=-1,a=-1,c=e.length-n.length,l=0;l<i.length;l++)c>=i[l]&&(r=l,s=c-i[l]),c+n.length>=i[l]&&(o=l,a=c+n.length-i[l]);var u,d=[{line:r,col:s},{line:o,col:a}],h=n.replace(/\\\s*\n/g,""),p=h.match(/^%(\w+).*/),f=[];if(p&&p.length>=2){var m=p[1];if(t)for(var g=0,y=t;g<y.length;g++){var v=y[g];if(v.commandName==m){var _=v.rewrite(e,h,d);_.text&&(u=_.text),_.annotations&&(f=f.concat(_.annotations));break}}}u||(u=e.split("\n").map(function(e){return"#"+e}).join("\n"));for(var b=0,S=f;b<S.length;b++){var w=S[b];u="'''"+w.key+": "+w.value+"''' "+u}return u})},e}();t.MagicsRewriter=r;var i=function(){function e(){this.commandName="time"}return e.prototype.rewrite=function(e,t,n){return{text:e.replace(/^\s*%time/,function(e){return'"'+" ".repeat(e.length-2)+'"'})}},e}();t.TimeLineMagicRewriter=i;var s=function(){function e(){this.commandName="pylab"}return e.prototype.rewrite=function(e,t,n){var r=["numpy","matplotlib","pylab","mlab","pyplot","np","plt","display","figsize","getfigs"].map(function(e){return{name:e,pos:[[n[0].line,n[0].col],[n[1].line,n[1].col]]}});return{annotations:[{key:"defs",value:JSON.stringify(r)}]}},e}();t.PylabLineMagicRewriter=s},function(e,t,n){var r=n(1083),i=n(1111),s=n(514),o=n(1113),a=n(1114),c=n(1117),l=n(1118),u=n(1119),d=n(1121),h=n(1122),p=n(1123),f=n(242),m=n(1128),g=n(1129),y=n(1135),v=n(142),_=n(291),b=n(1137),S=n(73),w=n(1139),C=n(141),E=1,T=2,D=4,P="[object Arguments]",k="[object Function]",I="[object GeneratorFunction]",M="[object Object]",x={};x[P]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[M]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[k]=x["[object WeakMap]"]=!1,e.exports=function e(t,n,A,O,L,R){var j,F=n&E,N=n&T,Y=n&D;if(A&&(j=L?A(t,O,L,R):A(t)),void 0!==j)return j;if(!S(t))return t;var B=v(t);if(B){if(j=m(t),!F)return l(t,j)}else{var H=f(t),W=H==k||H==I;if(_(t))return c(t,F);if(H==M||H==P||W&&!L){if(j=N||W?{}:y(t),!F)return N?d(t,a(j,t)):u(t,o(j,t))}else{if(!x[H])return L?t:{};j=g(t,H,F)}}R||(R=new r);var U=R.get(t);if(U)return U;R.set(t,j),w(t)?t.forEach(function(r){j.add(e(r,n,A,r,t,R))}):b(t)&&t.forEach(function(r,i){j.set(i,e(r,n,A,i,t,R))});var V=Y?N?p:h:N?keysIn:C,$=B?void 0:V(t);return i($||t,function(r,i){$&&(r=t[i=r]),s(j,i,e(r,n,A,i,t,R))}),j}},function(e,t,n){var r=n(164),i=n(1089),s=n(1090),o=n(1091),a=n(1092),c=n(1093);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=s,l.prototype.get=o,l.prototype.has=a,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(165),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(165);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(165);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(165);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(164);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(164),i=n(240),s=n(1098),o=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<o-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(284),i=n(1095),s=n(73),o=n(513),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?h:a).test(o(e))}},function(e,t,n){var r,i=n(1096),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!s&&s in e}},function(e,t,n){var r=n(57)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(1099),i=n(1106),s=n(1108),o=n(1109),a=n(1110);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(1100),i=n(164),s=n(240);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},function(e,t,n){var r=n(1101),i=n(1102),s=n(1103),o=n(1104),a=n(1105);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(166);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(166),i="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return s.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(166),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(166),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t,n){var r=n(167);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(167);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(167);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(167);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(95),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(168),i=n(141);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(168),i=n(516);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(73),i=n(198),s=n(1116),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&o.call(e,a))&&n.push(a);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(57),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(100)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(168),i=n(241);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}},function(e,t,n){var r=n(168),i=n(518);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(520),i=n(241),s=n(141);e.exports=function(e){return r(e,s,i)}},function(e,t,n){var r=n(520),i=n(518),s=n(516);e.exports=function(e){return r(e,s,i)}},function(e,t,n){var r=n(95)(n(57),"DataView");e.exports=r},function(e,t,n){var r=n(95)(n(57),"Promise");e.exports=r},function(e,t,n){var r=n(95)(n(57),"Set");e.exports=r},function(e,t,n){var r=n(95)(n(57),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(243),i=n(1131),s=n(1132),o=n(1133),a=n(1134),c="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",S="[object Int16Array]",w="[object Int32Array]",C="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",D="[object Uint32Array]";e.exports=function(e,t,n){var P=e.constructor;switch(t){case g:return r(e);case c:case l:return new P(+e);case y:return i(e,n);case v:case _:case b:case S:case w:case C:case E:case T:case D:return a(e,n);case u:return new P;case d:case f:return new P(e);case h:return s(e);case p:return new P;case m:return o(e)}}},function(e,t,n){var r=n(57).Uint8Array;e.exports=r},function(e,t,n){var r=n(243);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(139),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},function(e,t,n){var r=n(243);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(1136),i=n(519),s=n(198);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}},function(e,t,n){var r=n(73),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},function(e,t,n){var r=n(1138),i=n(196),s=n(197),o=s&&s.isMap,a=o?i(o):r;e.exports=a},function(e,t,n){var r=n(242),i=n(99),s="[object Map]";e.exports=function(e){return i(e)&&r(e)==s}},function(e,t,n){var r=n(1140),i=n(196),s=n(197),o=s&&s.isSet,a=o?i(o):r;e.exports=a},function(e,t,n){var r=n(242),i=n(99),s="[object Set]";e.exports=function(e){return i(e)&&r(e)==s}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13),l=n(8),u=n(16),d=n(44),h=n(19);let p=class{constructor(e,t,n,r){this.documentManager=e,this.applicationShell=t,this.gatherExecution=n,this.fileSystem=r,this.postEmitter=new o.EventEmitter,this.gatherCodeInternal=async e=>{const t=this.gatherExecution.gatherCode(e);let n;const r=this.documentManager.visibleTextEditors.filter(t=>this.fileSystem.arePathsSame(t.document.fileName,e.file)),i=this.documentManager.visibleTextEditors.filter(e=>void 0!==e.viewColumn);n=this.documentManager.visibleTextEditors.length>0&&r.length>0?r[0].viewColumn:this.documentManager.visibleTextEditors.length>0&&i.length>0?i[0].viewColumn:o.ViewColumn.Beside;const s=await this.documentManager.openTextDocument({content:t,language:c.PYTHON_LANGUAGE}),a=await this.documentManager.showTextDocument(s,n);a.edit(e=>{e.insert(new o.Position(a.document.lineCount,0),"\n")})}}dispose(){u.noop()}get postMessage(){return this.postEmitter.event}onMessage(e,t){switch(e){case d.InteractiveWindowMessages.GatherCode:if(t){const e=t;this.gatherCode(e)}}}gatherCode(e){this.gatherCodeInternal(e).catch(e=>{this.applicationShell.showErrorMessage(e)})}};p=r([s.injectable(),i(0,s.inject(a.IDocumentManager)),i(1,s.inject(a.IApplicationShell)),i(2,s.inject(h.IGatherExecution)),i(3,s.inject(l.IFileSystem))],p),t.GatherListener=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(2),a=n(4),c=n(16),l=n(44);let u=class{constructor(e){this.debugService=e,this.postEmitter=new o.EventEmitter,this.debugService.onDidChangeActiveDebugSession(this.onChangeDebugSession.bind(this))}get postMessage(){return this.postEmitter.event}onMessage(e,t){e}dispose(){c.noop()}onChangeDebugSession(e){e?this.postEmitter.fire({message:l.InteractiveWindowMessages.StartDebugging,payload:void 0}):this.postEmitter.fire({message:l.InteractiveWindowMessages.StopDebugging,payload:void 0})}};u=r([s.injectable(),i(0,s.inject(a.IDebugService))],u),t.DebugListener=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(2),a=n(152),c=n(29),l=n(4),u=n(8),d=n(1),h=n(17),p=n(15),f=n(19),m=n(521),g=n(244);let y=class extends m.BaseIntellisenseProvider{constructor(e,t,n,r,i,s,o){super(n,i,s,o),this.languageServer=e,this.analysisOptions=t,this.configService=r,this.sentOpenDocument=!1,this.active=!1;const a=()=>{return!this.configService.getSettings().jediEnabled};this.active=a(),this.configService.getSettings().onDidChange(()=>this.active=a())}get isActive(){return this.active}async provideCompletionItems(e,t,n,r){const i=await this.getLanguageClient(),s=await this.getDocument();if(i&&s){const o=s.convertToDocumentPosition(n,e.lineNumber,e.column),c=await i.sendRequest(a.CompletionRequest.type,i.code2ProtocolConverter.asCompletionParams(s,o,t),r);return g.convertToMonacoCompletionList(c,!0)}return{suggestions:[],incomplete:!1}}async provideHover(e,t,n){const r=await this.getLanguageClient(),i=await this.getDocument();if(r&&i){const s=i.convertToDocumentPosition(t,e.lineNumber,e.column),o=await r.sendRequest(a.HoverRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(i,s),n);return g.convertToMonacoHover(o)}return{contents:[]}}async provideSignatureHelp(e,t,n,r){const i=await this.getLanguageClient(),s=await this.getDocument();if(i&&s){const t=s.convertToDocumentPosition(n,e.lineNumber,e.column),o=await i.sendRequest(a.SignatureHelpRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(s,t),r);return g.convertToMonacoSignatureHelp(o)}return{signatures:[],activeParameter:0,activeSignature:0}}async handleChanges(e,t,n){if(this.active&&t){const r=t.textDocumentItem,i=t.textDocumentId,s=await this.getLanguageClient(e===p.Identifiers.EmptyFileName||void 0===e?void 0:o.Uri.file(e));return this.sentOpenDocument?s.sendNotification(a.DidChangeTextDocumentNotification.type,{textDocument:i,contentChanges:n}):(this.sentOpenDocument=!0,s.sendNotification(a.DidOpenTextDocumentNotification.type,{textDocument:r}))}}getLanguageClient(e){return this.languageClientPromise||(this.languageClientPromise=h.createDeferred(),this.startup(e).then(()=>{this.languageClientPromise.resolve(this.languageServer.languageClient)}).catch(e=>{this.languageClientPromise.reject(e)})),this.languageClientPromise.promise}async startup(e){const t=await this.analysisOptions.getAnalysisOptions();await this.languageServer.start(e,t)}};y=r([s.injectable(),i(0,s.inject(c.ILanguageServer)),i(1,s.inject(c.ILanguageServerAnalysisOptions)),i(2,s.inject(l.IWorkspaceService)),i(3,s.inject(d.IConfigurationService)),i(4,s.inject(u.IFileSystem)),i(5,s.inject(f.IJupyterExecution)),i(6,s.inject(f.IInteractiveWindowProvider))],y),t.DotNetIntellisenseProvider=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(2),i=n(13),s=n(15),o=n(1145);class a{constructor(e,t,n){this._contents=e,this._line=t,this._offset=n,this._range=new r.Range(new r.Position(t,0),new r.Position(t,e.length)),this._rangeWithLineBreak=new r.Range(this.range.start,new r.Position(t,e.length+1))}get offset(){return this._offset}get lineNumber(){return this._line}get text(){return this._contents}get range(){return this._range}get rangeIncludingLineBreak(){return this._rangeWithLineBreak}get firstNonWhitespaceCharacterIndex(){return void 0===this._firstNonWhitespaceIndex&&(this._firstNonWhitespaceIndex=this._contents.trimLeft().length-this._contents.length),this._firstNonWhitespaceIndex}get isEmptyOrWhitespace(){return void 0===this._isEmpty&&(this._isEmpty=0===this._contents.length||0===this._contents.trim().length),this._isEmpty}}t.IntellisenseDocument=class{constructor(e){this._version=0,this._lines=[],this._contents="",this._cellRanges=[],this.inEditMode=!1,this._uri=r.Uri.file(e),this._cellRanges.push({id:s.Identifiers.EditCellId,start:0,fullEnd:0,currentEnd:0})}get uri(){return this._uri}get fileName(){return this._uri.fsPath}get isUntitled(){return!0}get languageId(){return i.PYTHON_LANGUAGE}get version(){return this._version}get isDirty(){return!0}get isClosed(){return!1}save(){return Promise.resolve(!0)}get eol(){return r.EndOfLine.LF}get lineCount(){return this._lines.length}lineAt(e){return"number"==typeof e?this._lines[e]:this._lines[e.line]}offsetAt(e){return this.convertToOffset(e)}positionAt(e){let t=0,n=0;for(;t+1<this._lines.length&&this._lines[t+1].offset<=e;)t+=1;return t<this._lines.length&&(n=e-this._lines[t].offset),new r.Position(t,n)}getText(e){if(e){const t=this.convertToOffset(e.start),n=this.convertToOffset(e.end);return this._contents.substr(t,n-t)}return this._contents}getWordRangeAtPosition(e,t){t?o.regExpLeadsToEndlessLoop(t)&&(console.warn(`[getWordRangeAtPosition]: ignoring custom regexp '${t.source}' because it matches the empty string.`),t=o.DefaultWordPattern):t=o.DefaultWordPattern;const n=o.getWordAtText(e.character+1,o.ensureValidWordDefinition(t),this._lines[e.line].text,0);if(n)return new r.Range(e.line,n.startColumn-1,e.line,n.endColumn-1)}validateRange(e){return e}validatePosition(e){return e}get textDocumentItem(){return{uri:this._uri.toString(),languageId:this.languageId,version:this.version,text:this.getText()}}get textDocumentId(){return{uri:this._uri.toString(),version:this.version}}loadAllCells(e){let t=[];if(!this.inEditMode){this.inEditMode=!0,this._version+=1;const n=e.map(e=>({id:e.id,code:`${e.code.replace(/\r/g,"")}\n`}));this._contents=n.map(e=>e.code).reduce((e,t)=>`${e}${t}`);let i=0;this._cellRanges=n.map(e=>{const t={id:e.id,start:i,fullEnd:i+e.code.length,currentEnd:i+e.code.length};return i+=e.code.length,t}),this._lines=this.createLines(),t=[{range:this.createSerializableRange(new r.Position(0,0),new r.Position(0,0)),rangeOffset:0,rangeLength:0,text:this._contents}]}return t}addCell(e,t,n){this._version+=1;const r=`${e.replace(/\r/g,"")}\n`,i=`${t.replace(/\r/g,"")}\n`,s=this.getEditCellOffset(),o=this._contents.substr(0,s),a=this._contents.substr(s),c=this.positionAt(s);return this._cellRanges.splice(this._cellRanges.length-1,0,{id:n,start:s,fullEnd:s+r.length,currentEnd:s+i.length}),this._contents=`${o}${r}${a}`,this._lines=this.createLines(),this._cellRanges[this._cellRanges.length-1].start+=r.length,this._cellRanges[this._cellRanges.length-1].fullEnd+=r.length,this._cellRanges[this._cellRanges.length-1].currentEnd+=r.length,[{range:this.createSerializableRange(c,c),rangeOffset:s,rangeLength:0,text:r}]}insertCell(e,t,n){this._version+=1;const r=`${t.replace(/\r/g,"")}\n`,i=this._cellRanges.findIndex(e=>e.id===n)+1,s=i<this._cellRanges.length?this._cellRanges[i].start:this._contents.length,o=this._contents.substr(0,s),a=this._contents.substr(s),c=this.positionAt(s);this._contents=`${o}${r}${a}`,this._lines=this.createLines();for(let e=i;e<=this._cellRanges.length-1;e+=1)this._cellRanges[e].start+=r.length,this._cellRanges[e].fullEnd+=r.length,this._cellRanges[e].currentEnd+=r.length;return this._cellRanges.splice(i,0,{id:e,start:s,fullEnd:s+r.length,currentEnd:s+r.length}),[{range:this.createSerializableRange(c,c),rangeOffset:s,rangeLength:0,text:r}]}removeAllCells(){if(this.inEditMode){this._version+=1;const e=this._cellRanges.length>0?this._cellRanges[this._cellRanges.length-1].fullEnd:0,t=this.positionAt(0),n=this.positionAt(e),r=this.removeRange("",t,n,0);return this._cellRanges=[],r}return[]}edit(e,t){if(this._version+=1,e&&e.length){const n=e[0].text.replace(/\r/g,""),i=this._cellRanges.findIndex(e=>e.id===t);if(i>=0&&(t===s.Identifiers.EditCellId||this.inEditMode)){const t=this.positionAt(this._cellRanges[i].start),s=new r.Position(t.line+e[0].range.startLineNumber-1,e[0].range.startColumn-1),o=new r.Position(t.line+e[0].range.endLineNumber-1,e[0].range.endColumn-1);return this.removeRange(n,s,o,i)}if(i>=0){const e=`${n}\n`;this._cellRanges[i].currentEnd=this._cellRanges[i].start+e.length}}return[]}remove(e){let t=[];const n=this._cellRanges.findIndex(t=>t.id===e);if(n>=0&&this.inEditMode){this._version+=1;const e=this._cellRanges[n],i=e.currentEnd-e.start,s=new r.Position(this.getLineFromOffset(e.start),0),o=this.positionAt(e.currentEnd);for(let e=n+1;e<=this._cellRanges.length-1;e+=1)this._cellRanges[e].start-=i,this._cellRanges[e].fullEnd-=i,this._cellRanges[e].currentEnd-=i;this._cellRanges.splice(n,1);const a=this._contents.substr(0,e.start),c=this._contents.substr(e.currentEnd);this._contents=`${a}${c}`,this._lines=this.createLines(),t=[{range:this.createSerializableRange(s,o),rangeOffset:e.start,rangeLength:i,text:""}]}return t}swap(e,t){let n=[];const i=this._cellRanges.findIndex(t=>t.id===e),s=this._cellRanges.findIndex(e=>e.id===t);if(i>=0&&s>=0&&i!==s&&this.inEditMode){this._version+=1;const e=i<s?i:s,t=i>s?i:s,o={...this._cellRanges[e]},a={...this._cellRanges[t]},c=new r.Position(this.getLineFromOffset(o.start),0),l=this.positionAt(a.currentEnd);this._cellRanges[e].id=a.id,this._cellRanges[e].fullEnd=o.start+(a.fullEnd-a.start),this._cellRanges[e].currentEnd=o.start+(a.currentEnd-a.start),this._cellRanges[t].id=o.id,this._cellRanges[t].start=this._cellRanges[e].fullEnd,this._cellRanges[t].fullEnd=this._cellRanges[e].fullEnd+(o.fullEnd-o.start),this._cellRanges[t].currentEnd=this._cellRanges[e].fullEnd+(o.currentEnd-o.start);const u=this.convertToOffset(c),d=this.convertToOffset(l),h=this._contents.substr(0,u),p=this._contents.substr(o.start,o.fullEnd-o.start),f=this._contents.substr(a.start,a.fullEnd-a.start),m=this._contents.substr(d),g=`${f}${p}`;this._contents=`${h}${g}${m}`,this._lines=this.createLines(),n=[{range:this.createSerializableRange(c,l),rangeOffset:u,rangeLength:d-u,text:g}]}return n}removeAll(){let e=[];if(this._lines.length>0&&this.inEditMode){this._version+=1;const t=this._lines[0].range.start,n=this._lines[this._lines.length-1].rangeIncludingLineBreak.end,r=this._contents.length;this._cellRanges=[],this._contents="",this._lines=[],e=[{range:this.createSerializableRange(t,n),rangeOffset:0,rangeLength:r,text:""}]}return e}convertToDocumentPosition(e,t,n){const i=this._cellRanges.findIndex(t=>t.id===e);if(i>=0){const e=t-1+this.positionAt(this._cellRanges[i].start).line,s=n-1;return new r.Position(e,s)}return new r.Position(t-1,n-1)}getCellData(e){const t=this._cellRanges.find(t=>t.id===e);if(t)return{offset:t.start,text:this._contents.substring(t.start,t.currentEnd)}}getEditCellContent(){return this._contents.substr(this.getEditCellOffset())}getEditCellOffset(e){if(this.inEditMode&&e){const t=this._cellRanges.find(t=>t.id===e);if(t)return t.start}return this._cellRanges[this._cellRanges.length-1].start}getLineFromOffset(e){let t=0;for(let n=0;n<e;n+=1)"\n"===this._contents[n]&&(t+=1);return t}removeRange(e,t,n,r){const i=this.convertToOffset(t),s=this.convertToOffset(n),o=this._contents.substr(0,i),a=this._contents.substr(s);this._contents=`${o}${e}${a}`,this._lines=this.createLines();const c=e.length-(s-i);for(let e=r;e<this._cellRanges.length;e+=1)e!==r&&(this._cellRanges[e].start+=c),this._cellRanges[e].fullEnd+=c,this._cellRanges[e].currentEnd+=c;return[{range:this.createSerializableRange(t,n),rangeOffset:i,rangeLength:s-i,text:e}]}createLines(){let e;return this._contents.splitLines({trim:!1,removeEmptyEntries:!1}).map((t,n)=>{const r=this.createTextLine(t,n,e);return e=r,r})}createTextLine(e,t,n){return new a(e,t,n?n.offset+n.rangeIncludingLineBreak.end.character:0)}convertToOffset(e){return e.line<this._lines.length?this._lines[e.line].offset+e.character:this._contents.length}createSerializableRange(e,t){return{start:{line:e.line,character:e.character},end:{line:t.line,character:t.character}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",t.DEFAULT_WORD_REGEXP=function(e=""){let n="(-?\\d*\\.\\d\\w*)|([^";for(const r of t.USUAL_WORD_SEPARATORS)e.indexOf(r)>=0||(n+=`\\${r}`);return n+="\\s]+)",new RegExp(n,"g")}(),t.ensureValidWordDefinition=function(e){let n=t.DEFAULT_WORD_REGEXP;if(e&&e instanceof RegExp)if(e.global)n=e;else{let t="g";e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),n=new RegExp(e.source,t)}return n.lastIndex=0,n},t.getWordAtText=function(e,t,n,r){t.lastIndex=0;const i=t.exec(n);if(!i)return null;const s=i[0].indexOf(" ")>=0?function(e,t,n,r){const i=e-1-r;t.lastIndex=0;let s=t.exec(n);for(;s;){const e=s.index||0;if(e>i)return null;if(t.lastIndex>=i)return{word:s[0],startColumn:r+1+e,endColumn:r+1+t.lastIndex};s=t.exec(n)}return null}(e,t,n,r):function(e,t,n,r){const i=e-1-r,s=n.lastIndexOf(" ",i-1)+1;t.lastIndex=s;let o=t.exec(n);for(;o;){const e=o.index||0;if(e<=i&&t.lastIndex>=i)return{word:o[0],startColumn:r+1+e,endColumn:r+1+t.lastIndex};o=t.exec(n)}return null}(e,t,n,r);return t.lastIndex=0,s},t.regExpLeadsToEndlessLoop=function(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&"^\\s*$"!==e.source&&!(!e.exec("")||0!==e.lastIndex)},t.DefaultWordPattern=/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(4),a=n(8),c=n(1),l=n(10),u=n(321),d=n(327),h=n(332),p=n(336),f=n(19),m=n(521),g=n(244);let y=class extends m.BaseIntellisenseProvider{constructor(e,t,n,r,i,s,o){super(n,i,s,o),this.serviceManager=e,this.disposables=t,this.configService=r,this.active=!1,this.context=this.serviceManager.get(c.IExtensionContext),this.jediFactory=new u.JediFactory(this.context.asAbsolutePath("."),this.serviceManager),this.disposables.push(this.jediFactory);const a=()=>this.configService.getSettings().jediEnabled;this.active=a(),t.push(this.configService.getSettings().onDidChange(()=>this.active=a())),this.active&&(this.pythonHoverProvider=new h.PythonHoverProvider(this.jediFactory),this.pythonCompletionItemProvider=new d.PythonCompletionItemProvider(this.jediFactory,this.serviceManager),this.pythonSignatureHelpProvider=new p.PythonSignatureProvider(this.jediFactory))}dispose(){super.dispose(),this.jediFactory.dispose()}get isActive(){return this.active}async provideCompletionItems(e,t,n,r){const i=await this.getDocument();if(this.pythonCompletionItemProvider&&i){const t=i.convertToDocumentPosition(n,e.lineNumber,e.column),s=await this.pythonCompletionItemProvider.provideCompletionItems(i,t,r);return g.convertToMonacoCompletionList(s,!1)}return{suggestions:[],incomplete:!1}}async provideHover(e,t,n){const r=await this.getDocument();if(this.pythonHoverProvider&&r){const i=r.convertToDocumentPosition(t,e.lineNumber,e.column),s=await this.pythonHoverProvider.provideHover(r,i,n);return g.convertToMonacoHover(s)}return{contents:[]}}async provideSignatureHelp(e,t,n,r){const i=await this.getDocument();if(this.pythonSignatureHelpProvider&&i){const t=i.convertToDocumentPosition(n,e.lineNumber,e.column),s=await this.pythonSignatureHelpProvider.provideSignatureHelp(i,t,r);return g.convertToMonacoSignatureHelp(s)}return{signatures:[],activeParameter:0,activeSignature:0}}handleChanges(e,t,n){return Promise.resolve()}};y=r([s.injectable(),i(0,s.inject(l.IServiceManager)),i(1,s.inject(c.IDisposableRegistry)),i(2,s.inject(o.IWorkspaceService)),i(3,s.inject(c.IConfigurationService)),i(4,s.inject(a.IFileSystem)),i(5,s.inject(f.IJupyterExecution)),i(6,s.inject(f.IInteractiveWindowProvider))],y),t.JediIntellisenseProvider=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(2),a=n(4),c=n(16),l=n(44);let u=class{constructor(e){this.applicationShell=e,this.postEmitter=new o.EventEmitter,c.noop()}get postMessage(){return this.postEmitter.event}onMessage(e,t){switch(e){case l.InteractiveWindowMessages.OpenLink:t&&this.applicationShell.openUrl(t.toString())}}dispose(){c.noop()}};u=r([s.injectable(),i(0,s.inject(a.IApplicationShell))],u),t.LinkProvider=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(2),a=n(16),c=n(19),l=n(44);let u=class{constructor(e){this.provider=e,this.postEmitter=new o.EventEmitter,a.noop()}get postMessage(){return this.postEmitter.event}onMessage(e,t){switch(e){case l.InteractiveWindowMessages.ShowPlot:if(t){this.provider.showPlot(t).ignoreErrors();break}}}dispose(){a.noop()}};u=r([s.injectable(),i(0,s.inject(c.IPlotViewerProvider))],u),t.ShowPlotListener=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4);n(7);const c=n(6),l=n(8),u=n(44),d=n(19);let h=class{constructor(e,t,n,r,i){this.notebookProvider=n,this.fileSystem=r,this.workspace=i,this.postEmitter=new o.EventEmitter,this.disposables=[],this.workspace.onDidChangeConfiguration(this.onSettingsChanded.bind(this),this,this.disposables),this.disposables.push(e.onDidChangeWindowState(this.onDidChangeWindowState.bind(this))),this.disposables.push(t.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditor.bind(this)))}get postMessage(){return this.postEmitter.event}onMessage(e,t){if(e===u.InteractiveWindowMessages.NotebookIdentity&&(this.notebookUri=o.Uri.parse(t.resource)),e===u.InteractiveWindowMessages.LoadAllCellsComplete){const t=this.getNotebook();if(!t)return void c.traceError(`Received message ${e}, but there is no notebook for ${this.notebookUri?this.notebookUri.fsPath:void 0}`);this.disposables.push(t.modified(this.onNotebookModified,this,this.disposables)),this.disposables.push(t.saved(this.onNotebookSaved,this,this.disposables))}}dispose(){this.disposables.filter(e=>!!e).forEach(e=>e.dispose()),this.clearTimeout()}onNotebookModified(e){this.timeout||this.setTimer()}onNotebookSaved(e){this.timeout||this.setTimer()}getNotebook(){const e=this.notebookUri;if(e)return this.notebookProvider.editors.find(t=>this.fileSystem.arePathsSame(t.file.fsPath,e.fsPath))}getAutoSaveSettings(){const e=this.workspace.getConfiguration("files",this.notebookUri);return{autoSave:e.get("autoSave","off"),autoSaveDelay:e.get("autoSaveDelay",1e3)}}onSettingsChanded(e){(e.affectsConfiguration("files.autoSave")||e.affectsConfiguration("files.autoSaveDelay"))&&(this.clearTimeout(),this.setTimer())}setTimer(){const e=this.getAutoSaveSettings();e&&"off"!==e.autoSave&&e&&"afterDelay"===e.autoSave&&(this.timeout=setTimeout(()=>{this.save()},e.autoSaveDelay))}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}save(){this.clearTimeout();const e=this.getNotebook();e&&e.isDirty&&!e.isUntitled?this.postEmitter.fire({message:u.InteractiveWindowMessages.DoSave,payload:void 0}):this.setTimer()}onDidChangeWindowState(){const e=this.getAutoSaveSettings();e&&"onWindowChange"===e.autoSave&&this.save()}onDidChangeActiveTextEditor(e){const t=this.getAutoSaveSettings();t&&"onFocusChange"===t.autoSave&&this.save()}};h=r([s.injectable(),i(0,s.inject(a.IApplicationShell)),i(1,s.inject(a.IDocumentManager)),i(2,s.inject(d.INotebookEditorProvider)),i(3,s.inject(l.IFileSystem)),i(4,s.inject(a.IWorkspaceService))],h),t.AutoSaveService=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(1151),o=n(0),a=n(3),c=n(36),l=n(2),u=n(4),d=n(104),h=n(6),p=n(8),f=n(1),m=n(17),g=n(12),y=n(24),v=n(30),_=n(14),b=n(9),S=n(82),w=n(15),C=n(522),E=n(44),T=n(525),D=n(19);var P;!function(e){e[e.Yes=0]="Yes",e[e.No=1]="No",e[e.Cancel=2]="Cancel"}(P||(P={}));let k=class extends C.InteractiveBase{constructor(e,t,n,r,i,s,o,c,u,d,h,p,f,_,b,S,w,C,E,T,D,P,k,I){super(e,t,n,r,i,s,o,c,u,d,h,p,f,b,S,C,E,T,w,P,a.join(v.EXTENSION_ROOT_DIR,"out","datascience-ui","native-editor","index_bundle.js"),g.DataScience.nativeEditorTitle(),l.ViewColumn.Active),this.commandManager=_,this.importer=D,this.globalStorage=k,this.localStorage=I,this.closedEvent=new l.EventEmitter,this.executedEvent=new l.EventEmitter,this.modifiedEvent=new l.EventEmitter,this.savedEvent=new l.EventEmitter,this.loadedPromise=m.createDeferred(),this._file=l.Uri.file(""),this._dirty=!1,this.visibleCells=[],this.startupTimer=new y.StopWatch,this.loadedAllCells=!1,this.indentAmount=" ",this.notebookJson={}}get visible(){return this.viewState.visible}get active(){return this.viewState.active}get file(){return this._file}get isUntitled(){return a.basename(this.file.fsPath).includes(g.DataScience.untitledNotebookFileName())}dispose(){return super.dispose(),this.close()}get contents(){return this.generateNotebookContent(this.visibleCells)}get cells(){return this.visibleCells}async load(e,t){this._file=t,this.loadedPromise.resolve(),this.setTitle(a.basename(t.fsPath)),await this.show();const n=await this.getStoredContents();return n?this.loadContents(n,!0):this.loadContents(e,!1)}get closed(){return this.closedEvent.event}get executed(){return this.executedEvent.event}get modified(){return this.modifiedEvent.event}get saved(){return this.savedEvent.event}get isDirty(){return this._dirty}onMessage(e,t){switch(super.onMessage(e,t),e){case E.InteractiveWindowMessages.ReExecuteCell:this.executedEvent.fire(this);break;case E.InteractiveWindowMessages.SaveAll:this.handleMessage(e,t,this.saveAll);break;case E.InteractiveWindowMessages.Export:this.handleMessage(e,t,this.export);break;case E.InteractiveWindowMessages.EditCell:this.handleMessage(e,t,this.editCell);break;case E.InteractiveWindowMessages.InsertCell:this.handleMessage(e,t,this.insertCell);break;case E.InteractiveWindowMessages.RemoveCell:this.handleMessage(e,t,this.removeCell);break;case E.InteractiveWindowMessages.SwapCells:this.handleMessage(e,t,this.swapCells);break;case E.InteractiveWindowMessages.DeleteAllCells:this.handleMessage(e,t,this.removeAllCells);break;case E.InteractiveWindowMessages.NativeCommand:this.handleMessage(e,t,this.logNativeCommand);break;case E.InteractiveWindowMessages.LoadAllCellsComplete:this.handleMessage(e,t,this.loadCellsComplete)}}async getNotebookOptions(){return this.ipynbProvider.getNotebookOptions()}runAllCells(){this.postMessage(E.InteractiveWindowMessages.NotebookRunAllCells).ignoreErrors()}runSelectedCell(){this.postMessage(E.InteractiveWindowMessages.NotebookRunSelectedCell).ignoreErrors()}addCellBelow(){this.postMessage(E.InteractiveWindowMessages.NotebookAddCellBelow).ignoreErrors()}async removeAllCells(){return super.removeAllCells(),this.visibleCells=[],this.setDirty()}async reopen(e){try{return super.reload(),await this.show(),this.loadedPromise.resolve(),this._dirty?(this._dirty=!1,await this.setDirty()):this.setTitle(a.basename(this._file.fsPath)),this.postMessage(E.InteractiveWindowMessages.LoadAllCells,{cells:e})}catch(e){return this.errorHandler.handleError(e)}}submitCode(e,t,n,r,i,s){return this.updateVersionInfoInNotebook().ignoreErrors(),super.submitCode(e,t,n,r,i,s)}submitNewCell(e){e&&e.code&&e.id&&(this.submitCode(e.code,w.Identifiers.EmptyFileName,0,e.id).ignoreErrors(),this.ipynbProvider.show(this.file).then(t=>{this.shareMessage(E.InteractiveWindowMessages.RemoteAddCode,{code:e.code,file:w.Identifiers.EmptyFileName,line:0,id:e.id,originator:this.id,debug:!1})}).ignoreErrors())}async reexecuteCell(e){try{e&&e.code&&e.id&&(await this.clearResult(e.id),this.submitCode(e.code,w.Identifiers.EmptyFileName,0,e.id).ignoreErrors(),await this.ipynbProvider.show(this.file),this.shareMessage(E.InteractiveWindowMessages.RemoteReexecuteCode,{code:e.code,file:w.Identifiers.EmptyFileName,line:0,id:e.id,originator:this.id,debug:!1}))}catch(t){this.sendCellsToWebView([{data:{source:e.code,cell_type:"code",outputs:[{output_type:"error",evalue:t.toString()}],metadata:{},execution_count:null},id:e.id,file:w.Identifiers.EmptyFileName,line:0,state:D.CellState.error}]),this.postMessage(E.InteractiveWindowMessages.RestartKernel).ignoreErrors(),await this.errorHandler.handleError(t)}}async getNotebookIdentity(){return await this.loadedPromise.promise,this._file}async setLaunchingFile(e){const t=this.getNotebook();this.fileSystem.fileExists(this.file.fsPath)&&t&&await t.setLaunchingFile(this.file.fsPath)}sendCellsToWebView(e){const t=e.filter(e=>"messages"!==e.data.cell_type);e.forEach(e=>{const t=this.visibleCells.findIndex(t=>t.id===e.id);this.visibleCells[t]=e}),this.setDirty().ignoreErrors(),super.sendCellsToWebView(t)}updateContexts(e){if(this.commandManager&&this.commandManager.executeCommand){new d.ContextKey(w.EditorContexts.HaveNative,this.commandManager).set(!this.isDisposed).catch();const t=new d.ContextKey(w.EditorContexts.HaveNativeCells,this.commandManager),n=new d.ContextKey(w.EditorContexts.HaveNativeRedoableCells,this.commandManager),r=new d.ContextKey(w.EditorContexts.HaveCellSelected,this.commandManager);e?(t.set(e.cellCount>0).catch(),n.set(e.redoCount>0).catch(),r.set(!!e.selectedCell).catch()):(r.set(!1).catch(),t.set(!1).catch(),n.set(!1).catch())}}async onViewStateChanged(e,t){super.onViewStateChanged(e,t),new d.ContextKey(w.EditorContexts.HaveNative,this.commandManager).set(e&&t).catch()}async closeBecauseOfFailure(e){}async updateVersionInfoInNotebook(){const e=await this.jupyterExecution.getUsableJupyterPython();e&&e.version&&this.notebookJson.metadata&&this.notebookJson.metadata.language_info&&(this.notebookJson.metadata.language_info.version=`${e.version.major}.${e.version.minor}.${e.version.patch}`)}async loadContents(e,t){const n=e?JSON.parse(e):void 0;if(n&&!n.cells)throw new T.InvalidNotebookFileError(this.file.fsPath);if(e&&(this.indentAmount=s(e).indent),n)this.notebookJson=n;else{const e=await this.extractPythonMainVersion(this.notebookJson),t={language_info:{name:"python",codemirror_mode:{name:"ipython",version:e}},orig_nbformat:2,file_extension:".py",mimetype:"text/x-python",name:"python",npconvert_exporter:"python",pygments_lexer:`ipython${e}`,version:e};this.notebookJson={nbformat:4,nbformat_minor:2,metadata:t}}const r=e?n.cells:[];return this.loadCells(r.map((e,t)=>({id:`NotebookImport#${t}`,file:w.Identifiers.EmptyFileName,line:0,state:D.CellState.finished,data:e})),t)}async loadCells(e,t){if(0===e.length){const n={id:c(),line:0,file:w.Identifiers.EmptyFileName,state:D.CellState.finished,data:{cell_type:"code",outputs:[],source:[],metadata:{},execution_count:null}};e.splice(0,0,n),t=!0}return this.visibleCells=e,t&&await this.setDirty(),b.sendTelemetryEvent(w.Telemetry.CellCount,void 0,{count:e.length}),this.postMessage(E.InteractiveWindowMessages.LoadAllCells,{cells:e})}getStorageKey(){return`notebook-storage-${this._file.toString()}`}async getStoredContents(){const e=this.getStorageKey(),t=this.globalStorage.get(e);if(t&&t.lastModifiedTimeMs&&!this.isUntitled&&"file"===this.file.scheme){if((await this.fileSystem.stat(this.file.fsPath)).mtime>t.lastModifiedTimeMs)return}if(t&&!this.isUntitled&&t.contents)return t.contents;const n=this.localStorage.get(e);if(n&&!this.isUntitled){this.localStorage.update(e,void 0);const t=await this.fileSystem.stat(this.file.fsPath);return this.globalStorage.update(e,{contents:n,lastModifiedTimeMs:t?t.mtime:void 0}),n}}async storeContents(e){const t=this.getStorageKey();await this.globalStorage.update(t,e?{contents:e,lastModifiedTimeMs:Date.now()}:void 0)}async close(){const e=async()=>{this.closedEvent.fire(this);let e=!1;const t=this.configuration.getSettings();t&&t.datascience&&(e=t.datascience.askForKernelRestart,t.datascience.askForKernelRestart=!1),await this.restartKernel(),e&&t&&t.datascience&&(t.datascience.askForKernelRestart=!0)};if(!this._dirty)return e();switch(await this.askForSave()){case P.Yes:await this.saveToDisk(),await e();break;case P.No:await this.setClean(),await e();break;default:await this.reopen(this.visibleCells)}}editCell(e){if(e.changes&&e.changes.length){const t=e.changes[0],n=t.text.replace(/\r/g,""),r=this.visibleCells.find(t=>t.id===e.id);if(r){const e=S.concatMultilineStringInput(r.data.source),i=`${e.substr(0,t.rangeOffset)}${n}${e.substr(t.rangeOffset+t.rangeLength)}`;e!==i&&(r.data.source=i,this.setDirty().ignoreErrors())}}}async insertCell(e){return this.visibleCells.splice(e.index,0,e.cell),this.setDirty()}async removeCell(e){return this.visibleCells=this.visibleCells.filter(t=>t.id!==e.id),this.setDirty()}async swapCells(e){const t=this.visibleCells.findIndex(t=>t.id===e.firstCellId),n=this.visibleCells.findIndex(t=>t.id===e.secondCellId);if(t>=0&&n>=0){const e={...this.visibleCells[t]};return this.visibleCells[t]=this.visibleCells[n],this.visibleCells[n]=e,this.setDirty()}}async askForSave(){const e=g.DataScience.dirtyNotebookMessage1().format(`${a.basename(this.file.fsPath)}`),t=g.DataScience.dirtyNotebookMessage2(),n=g.DataScience.dirtyNotebookYes(),r=g.DataScience.dirtyNotebookNo();switch(await this.applicationShell.showInformationMessage(`${e}\n${t}`,{modal:!0},n,r)){case n:return P.Yes;case r:return P.No;default:return P.Cancel}}async setDirty(){this.storeContents(this.generateNotebookContent(this.visibleCells)).catch(e=>h.traceError("Failed to generate notebook content to store in state",e)),this._dirty||(this._dirty=!0,this.setTitle(`${a.basename(this.file.fsPath)}*`),await this.postMessage(E.InteractiveWindowMessages.NotebookDirty),this.modifiedEvent.fire(this))}async setClean(){this.storeContents(void 0).catch(e=>h.traceError("Failed to clear notebook store",e)),this._dirty&&(this._dirty=!1,this.setTitle(`${a.basename(this.file.fsPath)}`),await this.postMessage(E.InteractiveWindowMessages.NotebookClean))}async export(e){const t=this.setStatus(g.DataScience.convertingToPythonFile(),!1);let n;try{n=await this.fileSystem.createTemporaryFile(".ipynb"),await this.fileSystem.writeFile(n.filePath,this.generateNotebookContent(e),{encoding:"utf-8"});const r=await this.importer.importFromFile(n.filePath,this.file.fsPath);r&&await this.viewDocument(r)}catch(e){await this.errorHandler.handleError(e)}finally{n&&n.dispose(),t.dispose()}}async viewDocument(e){const t=await this.documentManager.openTextDocument({language:"python",content:e});await this.documentManager.showTextDocument(t,l.ViewColumn.One)}fixupCell(e){return{...e,source:S.splitMultilineString(e.source)}}async extractPythonMainVersion(e){if(e&&e.metadata&&e.metadata.language_info&&e.metadata.language_info.codemirror_mode&&"number"==typeof e.metadata.language_info.codemirror_mode.version)return e.metadata.language_info.codemirror_mode.version;const t=await this.jupyterExecution.getUsableJupyterPython();return t&&t.version?t.version.major:3}generateNotebookContent(e){const t={...this.notebookJson,cells:e.map(e=>this.fixupCell(e.data))};return JSON.stringify(t,null,this.indentAmount)}async saveToDisk(){try{let e=this.file,t=this._dirty;if(this.isUntitled){const n=g.DataScience.dirtyNotebookDialogFilter(),r={};r[n]=["ipynb"],t=!0,e=await this.applicationShell.showSaveDialog({saveLabel:g.DataScience.dirtyNotebookDialogTitle(),filters:r})}e&&t&&(await this.fileSystem.writeFile(e.fsPath,this.generateNotebookContent(this.visibleCells)),this._file=e,await this.setClean(),this.savedEvent.fire(this))}catch(e){h.traceError(e)}}saveAll(e){this.visibleCells=e.cells,this.saveToDisk().ignoreErrors()}logNativeCommand(e){const t="mouse"===e.source?w.NativeMouseCommandTelemetryLookup[e.command]:w.NativeKeyboardCommandTelemetryLookup[e.command];b.sendTelemetryEvent(t)}loadCellsComplete(){this.loadedAllCells||(this.loadedAllCells=!0,b.sendTelemetryEvent(w.Telemetry.NotebookOpenTime,this.startupTimer.elapsedTime))}};r([b.captureTelemetry(w.Telemetry.SubmitCellThroughInput,void 0,!1)],k.prototype,"submitNewCell",null),r([b.captureTelemetry(w.Telemetry.ExecuteNativeCell,void 0,!1)],k.prototype,"reexecuteCell",null),r([b.captureTelemetry(w.Telemetry.ConvertToPythonFile,void 0,!1)],k.prototype,"export",null),r([b.captureTelemetry(w.Telemetry.Save,void 0,!0)],k.prototype,"saveToDisk",null),k=r([o.injectable(),i(0,o.multiInject(D.IInteractiveWindowListener)),i(1,o.inject(u.ILiveShareApi)),i(2,o.inject(u.IApplicationShell)),i(3,o.inject(u.IDocumentManager)),i(4,o.inject(_.IInterpreterService)),i(5,o.inject(u.IWebPanelProvider)),i(6,o.inject(f.IDisposableRegistry)),i(7,o.inject(D.ICodeCssGenerator)),i(8,o.inject(D.IThemeFinder)),i(9,o.inject(D.IStatusProvider)),i(10,o.inject(D.IJupyterExecution)),i(11,o.inject(p.IFileSystem)),i(12,o.inject(f.IConfigurationService)),i(13,o.inject(u.ICommandManager)),i(14,o.inject(D.INotebookExporter)),i(15,o.inject(u.IWorkspaceService)),i(16,o.inject(D.INotebookEditorProvider)),i(17,o.inject(D.IDataViewerProvider)),i(18,o.inject(D.IJupyterVariables)),i(19,o.inject(D.IJupyterDebugger)),i(20,o.inject(D.INotebookImporter)),i(21,o.inject(D.IDataScienceErrorHandler)),i(22,o.inject(f.IMemento)),i(22,o.named(f.GLOBAL_MEMENTO)),i(23,o.inject(f.IMemento)),i(23,o.named(f.WORKSPACE_MEMENTO))],k),t.NativeEditor=k},function(e,t,n){"use strict";const r=/^(?:( )+|\t+)/;e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");let t,n,i=0;const s=new Map;for(const o of e.split(/\n/g)){if(!o)continue;let e,a,c,l;const u=o.match(r);if(null===u)i=0,t="";else{e=u[0].length,(a=u[1]?"s":"t")!==t&&(i=0),t=a,c=0;const r=e-i;i=e,0===r?c++:n=a+String(r>0?r:-r),l=void 0===(l=s.get(n))?[1,0]:[++l[0],l[1]+c],s.set(n,l)}}const o=function(e){let t=0,n=0,r=0;for(const[i,[s,o]]of e)(s>n||s===n&&o>r)&&(n=s,r=o,t=i);return t}(s);let a,c=0,l="";return 0!==o&&(c=Number(o.slice(1)),"s"===o[0]?(a="space",l=" ".repeat(c)):(a="tab",l="\t".repeat(c))),{amount:c,type:a,indent:l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(2),i=n(41),s=n(15),o=n(524),a=n(44);t.InteractiveWindowMessageListener=class{constructor(e,t,n,r){this.interactiveWindowMessages=[],this.postOffice=new o.PostOffice(s.LiveShare.WebPanelMessageService,e,(e,t,n,r)=>this.translateHostArgs(e,n,r)),this.disposedCallback=r,this.callback=t,this.viewChanged=n,this.interactiveWindowMessages=this.getInteractiveWindowMessages(),this.interactiveWindowMessages.forEach(e=>{this.postOffice.registerCallback(e,n=>t(e,n)).ignoreErrors()})}async dispose(){await this.postOffice.dispose(),this.disposedCallback()}onMessage(e,t){a.InteractiveWindowRemoteMessages.indexOf(e)>=0?this.postOffice.postCommand(e,t).ignoreErrors():this.callback(e,t)}onChangeViewState(e){this.viewChanged&&this.viewChanged(e)}getInteractiveWindowMessages(){return Object.keys(a.InteractiveWindowMessages).map(e=>a.InteractiveWindowMessages[e].toString())}translateHostArgs(e,t,n){if(e&&n&&n.length>0){const o=n[0];o&&Object.keys(o).forEach(n=>{if(n.includes("file")&&"string"==typeof o[n]){const a=o[n].toString();if(a!==s.Identifiers.EmptyFileName){const s=t===i.Role.Host?r.Uri.file(a):r.Uri.parse(`vsls:${a}`);o[n]=t===i.Role.Host?e.convertLocalUriToShared(s).fsPath:e.convertSharedUriToLocal(s).fsPath}}})}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(3),a=n(8),c=n(1),l=n(9),u=n(25),d=n(15),h=n(19);let p=class{constructor(e,t,n,r){this.disposableRegistry=e,this.provider=t,this.dataScienceErrorHandler=n,this.fileSystem=r}register(e){this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorUndoCells,()=>this.undoCells())),this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorRedoCells,()=>this.redoCells())),this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorRemoveAllCells,()=>this.removeAllCells())),this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorInterruptKernel,()=>this.interruptKernel())),this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorRestartKernel,()=>this.restartKernel())),this.disposableRegistry.push(e.registerCommand(d.Commands.OpenNotebook,(e,t=u.CommandSource.commandPalette)=>this.openNotebook(e))),this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorRunAllCells,()=>this.runAllCells())),this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorRunSelectedCell,()=>this.runSelectedCell())),this.disposableRegistry.push(e.registerCommand(d.Commands.NotebookEditorAddCellBelow,()=>this.addCellBelow()))}runAllCells(){const e=this.provider.activeEditor;e&&e.runAllCells()}runSelectedCell(){const e=this.provider.activeEditor;e&&e.runSelectedCell()}addCellBelow(){const e=this.provider.activeEditor;e&&e.addCellBelow()}undoCells(){const e=this.provider.activeEditor;e&&e.undoCells()}redoCells(){const e=this.provider.activeEditor;e&&e.redoCells()}removeAllCells(){const e=this.provider.activeEditor;e&&e.removeAllCells()}interruptKernel(){const e=this.provider.activeEditor;e&&e.interruptKernel().ignoreErrors()}restartKernel(){const e=this.provider.activeEditor;e&&e.restartKernel().ignoreErrors()}async openNotebook(e){if(e&&".ipynb"===o.extname(e.fsPath).toLocaleLowerCase())try{const t=await this.fileSystem.readFile(e.fsPath);await this.provider.open(e,t)}catch(e){return this.dataScienceErrorHandler.handleError(e)}}};r([l.captureTelemetry(d.Telemetry.OpenNotebook,{scope:"command"},!1)],p.prototype,"openNotebook",null),p=r([s.injectable(),i(0,s.inject(c.IDisposableRegistry)),i(1,s.inject(h.INotebookEditorProvider)),i(2,s.inject(h.IDataScienceErrorHandler)),i(3,s.inject(a.IFileSystem))],p),t.NativeEditorCommandListener=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4),l=n(13),u=n(8),d=n(1),h=n(12),p=n(10),f=n(9),m=n(15),g=n(19);let y=class{constructor(e,t,n,r,i,s,o,a,c){this.serviceContainer=e,this.disposables=n,this.workspace=r,this.configuration=i,this.fileSystem=s,this.documentManager=o,this.cmdManager=a,this.dataScienceErrorHandler=c,this.activeEditors=new Map,this.executedEditors=new Set,this.notebookCount=0,this.openedNotebookCount=0,this.nextNumber=1,this.openNotebookAndCloseEditor=async(e,t)=>{if(this.isNotebook(e)&&this.configuration.getSettings().datascience.useNotebookEditor&&!this.activeEditors.has(e.uri.fsPath))try{const n=e.getText(),r=e.uri,i="workbench.action.closeActiveEditor";t&&(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document===e||await this.documentManager.showTextDocument(e),await this.cmdManager.executeCommand(i)),await this.open(r,n),t||(await this.documentManager.showTextDocument(e),await this.cmdManager.executeCommand(i))}catch(e){return this.dataScienceErrorHandler.handleError(e)}},t.push(this);const l=this.workspace.findFiles("**/*.ipynb");l&&l.then&&l.then(e=>this.notebookCount+=e.length),this.disposables.push(this.documentManager.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditorHandler.bind(this))),setTimeout(()=>{this.documentManager.textDocuments&&this.documentManager.textDocuments.forEach&&this.documentManager.textDocuments.forEach(e=>this.openNotebookAndCloseEditor(e,!1))},0)}async dispose(){f.sendTelemetryEvent(m.Telemetry.NotebookOpenCount,this.openedNotebookCount),f.sendTelemetryEvent(m.Telemetry.NotebookRunCount,this.executedEditors.size),f.sendTelemetryEvent(m.Telemetry.NotebookWorkspaceCount,this.notebookCount)}get activeEditor(){const e=[...this.activeEditors.entries()].find(e=>e[1].active);if(e)return e[1]}get editors(){return[...this.activeEditors.values()]}async open(e,t){let n=this.activeEditors.get(e.fsPath);return n?await n.show():(n=await this.create(e,t),this.onOpenedEditor(n)),n}async show(e){const t=this.activeEditors.get(e.fsPath);return t&&await t.show(),t}async createNew(){const e=await this.getNextNewNotebookUri();return this.notebookCount+=1,this.open(e,"")}async getNotebookOptions(){const e=this.configuration.getSettings();let t=e.datascience.jupyterServerURI;const n=e.datascience.useDefaultConfigForJupyter;return t===m.Settings.JupyterServerLocalLaunch&&(t=void 0),{enableDebugging:!0,uri:t,useDefaultConfig:n,purpose:m.Identifiers.HistoryPurpose}}onDidChangeActiveTextEditorHandler(e){e&&!this.isEditorPartOfDiffView(e)&&this.openNotebookAndCloseEditor(e.document,!0).ignoreErrors()}async create(e,t){const n=this.serviceContainer.get(g.INotebookEditor);return await n.load(t,e),this.disposables.push(n.closed(this.onClosedEditor.bind(this))),this.disposables.push(n.executed(this.onExecutedEditor.bind(this))),await n.show(),n}onClosedEditor(e){this.activeEditors.delete(e.file.fsPath)}onExecutedEditor(e){this.executedEditors.add(e.file.fsPath)}onOpenedEditor(e){this.activeEditors.set(e.file.fsPath,e),this.disposables.push(e.saved(this.onSavedEditor.bind(this,e.file.fsPath))),this.openedNotebookCount+=1}onSavedEditor(e,t){this.activeEditors.has(e)&&this.activeEditors.delete(e),this.activeEditors.set(t.file.fsPath,t)}async getNextNewNotebookUri(){let e=1;const t=this.workspace.rootPath;if(t){const n=await this.fileSystem.search(o.join(t,`${h.DataScience.untitledNotebookFileName()}-*.ipynb`));if(n.sort(),n.length>0){const r=/(\w+)-(\d+)\.ipynb/.exec(o.basename(n[n.length-1]));return r&&r.length>1&&(e=parseInt(r[2],10)),a.Uri.file(o.join(t,`${h.DataScience.untitledNotebookFileName()}-${e+1}`))}}const n=a.Uri.file(`${h.DataScience.untitledNotebookFileName()}-${this.nextNumber}`);return this.nextNumber+=1,n}isEditorPartOfDiffView(e){if(!e)return!1;if(this.documentManager.visibleTextEditors.length<=1)return!1;const t=this.documentManager.visibleTextEditors.find(t=>"git"===t.document.uri.scheme&&this.fileSystem.arePathsSame(t.document.uri.fsPath,e.document.uri.fsPath));if(!t)return!1;const n=this.documentManager.visibleTextEditors.find(n=>"file"===n.document.uri.scheme&&this.fileSystem.arePathsSame(n.document.uri.fsPath,e.document.uri.fsPath)&&n.viewColumn===t.viewColumn);return!!n&&(t===e||n===e)}isNotebook(e){return("file"===e.uri.scheme||"vsls"===e.uri.scheme)&&(e.languageId===l.JUPYTER_LANGUAGE||".ipynb"===o.extname(e.fileName).toLocaleLowerCase())}};r([f.captureTelemetry(m.Telemetry.CreateNewNotebook,void 0,!1)],y.prototype,"createNew",null),y=r([s.injectable(),i(0,s.inject(p.IServiceContainer)),i(1,s.inject(d.IAsyncDisposableRegistry)),i(2,s.inject(d.IDisposableRegistry)),i(3,s.inject(c.IWorkspaceService)),i(4,s.inject(d.IConfigurationService)),i(5,s.inject(u.IFileSystem)),i(6,s.inject(c.IDocumentManager)),i(7,s.inject(c.ICommandManager)),i(8,s.inject(g.IDataScienceErrorHandler))],y),t.NativeEditorProvider=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(3),a=n(2),c=n(4),l=n(104),u=n(8),d=n(1),h=n(12),p=n(30),f=n(14),m=n(9),g=n(15),y=n(522),v=n(44),_=n(19);let b=class extends y.InteractiveBase{constructor(e,t,n,r,i,s,c,l,u,d,f,m,g,y,v,_,b,S,w,C,E,T){super(e,t,n,r,i,c,l,u,d,s,f,m,g,v,_,S,w,C,E,T,o.join(p.EXTENSION_ROOT_DIR,"out","datascience-ui","history-react","index_bundle.js"),h.DataScience.historyTitle(),a.ViewColumn.Two),this.commandManager=y,this.interactiveWindowProvider=b,this.closedEvent=new a.EventEmitter,this.waitingForExportCells=!1,this.startServer().ignoreErrors()}get ready(){return this.startServer()}dispose(){super.dispose(),this.closedEvent&&this.closedEvent.fire(this)}get closed(){return this.closedEvent.event}addMessage(e){return this.addMessageImpl(e),Promise.resolve()}addCode(e,t,n,r){return this.submitCode(e,t,n,void 0,r,!1)}exportCells(){this.waitingForExportCells=!0,this.postMessage(v.InteractiveWindowMessages.GetAllCells).ignoreErrors()}onMessage(e,t){switch(super.onMessage(e,t),e){case v.InteractiveWindowMessages.Export:this.handleMessage(e,t,this.export);break;case v.InteractiveWindowMessages.ReturnAllCells:this.handleMessage(e,t,this.handleReturnAllCells)}}async debugCode(e,t,n,r){let i=!0;const s=this.documentManager.textDocuments.find(e=>this.fileSystem.arePathsSame(e.fileName,t));if(s&&s.isUntitled){const e=[...this.documentManager.textDocuments];if(i=await s.save()){const n=this.documentManager.textDocuments.filter(t=>-1===e.indexOf(t));n&&n.length>0&&(t=n[0].fileName,await this.documentManager.openTextDocument(t),r=this.documentManager.visibleTextEditors.find(e=>e.document.fileName===t))}}return!!i&&this.submitCode(e,t,n,void 0,r,!0)}expandAllCells(){this.postMessage(v.InteractiveWindowMessages.ExpandAll).ignoreErrors()}collapseAllCells(){this.postMessage(v.InteractiveWindowMessages.CollapseAll).ignoreErrors()}scrollToCell(e){this.postMessage(v.InteractiveWindowMessages.ScrollToCell,{id:e}).ignoreErrors()}submitNewCell(e){e&&e.code&&e.id&&(this.submitCode(e.code,g.Identifiers.EmptyFileName,0,e.id,void 0).ignoreErrors(),this.interactiveWindowProvider.getOrCreateActive().then(t=>{this.shareMessage(v.InteractiveWindowMessages.RemoteAddCode,{code:e.code,file:g.Identifiers.EmptyFileName,line:0,id:e.id,originator:this.id,debug:!1})}).ignoreErrors())}getNotebookOptions(){return this.interactiveWindowProvider.getNotebookOptions()}async getNotebookIdentity(){return a.Uri.parse(g.Identifiers.InteractiveWindowIdentity)}updateContexts(e){if(this.commandManager&&this.commandManager.executeCommand){new l.ContextKey(g.EditorContexts.HaveInteractive,this.commandManager).set(!this.isDisposed).catch();const t=new l.ContextKey(g.EditorContexts.HaveInteractiveCells,this.commandManager),n=new l.ContextKey(g.EditorContexts.HaveRedoableCells,this.commandManager),r=new l.ContextKey(g.EditorContexts.HaveCellSelected,this.commandManager);e?(t.set(e.cellCount>0).catch(),n.set(e.redoCount>0).catch(),r.set(!!e.selectedCell).catch()):(t.set(!1).catch(),n.set(!1).catch(),r.set(!1).catch())}}async closeBecauseOfFailure(e){this.dispose()}export(e){if(e&&this.applicationShell){const t={};t[h.DataScience.exportDialogFilter()]=["ipynb"],this.applicationShell.showSaveDialog({saveLabel:h.DataScience.exportDialogTitle(),filters:t}).then(async t=>{t&&await this.exportToFile(e,t.fsPath)})}}handleReturnAllCells(e){this.waitingForExportCells&&this.export(e)}};r([m.captureTelemetry(g.Telemetry.ExpandAll)],b.prototype,"expandAllCells",null),r([m.captureTelemetry(g.Telemetry.CollapseAll)],b.prototype,"collapseAllCells",null),r([m.captureTelemetry(g.Telemetry.ScrolledToCell)],b.prototype,"scrollToCell",null),r([m.captureTelemetry(g.Telemetry.SubmitCellThroughInput,void 0,!1)],b.prototype,"submitNewCell",null),r([m.captureTelemetry(g.Telemetry.ExportNotebook,void 0,!1)],b.prototype,"export",null),b=r([s.injectable(),i(0,s.multiInject(_.IInteractiveWindowListener)),i(1,s.inject(c.ILiveShareApi)),i(2,s.inject(c.IApplicationShell)),i(3,s.inject(c.IDocumentManager)),i(4,s.inject(f.IInterpreterService)),i(5,s.inject(_.IStatusProvider)),i(6,s.inject(c.IWebPanelProvider)),i(7,s.inject(d.IDisposableRegistry)),i(8,s.inject(_.ICodeCssGenerator)),i(9,s.inject(_.IThemeFinder)),i(10,s.inject(_.IJupyterExecution)),i(11,s.inject(u.IFileSystem)),i(12,s.inject(d.IConfigurationService)),i(13,s.inject(c.ICommandManager)),i(14,s.inject(_.INotebookExporter)),i(15,s.inject(c.IWorkspaceService)),i(16,s.inject(_.IInteractiveWindowProvider)),i(17,s.inject(_.IDataViewerProvider)),i(18,s.inject(_.IJupyterVariables)),i(19,s.inject(_.IJupyterDebugger)),i(20,s.inject(_.INotebookEditorProvider)),i(21,s.inject(_.IDataScienceErrorHandler))],b),t.InteractiveWindow=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(36),a=n(2),c=n(63),l=n(4),u=n(71),d=n(13),h=n(8),p=n(1),f=n(12),m=n(9),g=n(25),y=n(105),v=n(15),_=n(162),b=n(19);let S=class{constructor(e,t,n,r,i,s,o,c,l,u,d,h){this.disposableRegistry=e,this.interactiveWindowProvider=t,this.jupyterExporter=n,this.jupyterExecution=r,this.documentManager=i,this.applicationShell=s,this.fileSystem=o,this.logger=c,this.configuration=l,this.statusProvider=u,this.jupyterImporter=d,this.dataScienceErrorHandler=h,this.viewDocument=async e=>{const t=await this.documentManager.openTextDocument({language:"python",content:e}),n=await this.documentManager.showTextDocument(t,a.ViewColumn.One);n.edit(e=>{e.insert(new a.Position(n.document.lineCount,0),"\n")})}}register(e){let t=e.registerCommand(v.Commands.ShowHistoryPane,()=>this.showInteractiveWindow());this.disposableRegistry.push(t),t=e.registerCommand(v.Commands.ImportNotebook,(e,t=g.CommandSource.commandPalette)=>this.listenForErrors(()=>e&&e.fsPath?this.importNotebookOnFile(e.fsPath):this.importNotebook())),this.disposableRegistry.push(t),t=e.registerCommand(v.Commands.ImportNotebookFile,(e,t=g.CommandSource.commandPalette)=>this.listenForErrors(()=>e&&e.fsPath?this.importNotebookOnFile(e.fsPath):this.importNotebook())),this.disposableRegistry.push(t),t=e.registerCommand(v.Commands.ExportFileAsNotebook,(e,t=g.CommandSource.commandPalette)=>this.listenForErrors(()=>{if(e&&e.fsPath)return this.exportFile(e.fsPath);{const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===d.PYTHON_LANGUAGE)return this.exportFile(e.document.fileName)}return Promise.resolve()})),this.disposableRegistry.push(t),t=e.registerCommand(v.Commands.ExportFileAndOutputAsNotebook,(e,t=g.CommandSource.commandPalette)=>this.listenForErrors(()=>{if(e&&e.fsPath)return this.exportFileAndOutput(e.fsPath);{const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===d.PYTHON_LANGUAGE)return this.exportFileAndOutput(e.document.fileName)}return Promise.resolve()})),this.disposableRegistry.push(t),this.disposableRegistry.push(e.registerCommand(v.Commands.UndoCells,()=>this.undoCells())),this.disposableRegistry.push(e.registerCommand(v.Commands.RedoCells,()=>this.redoCells())),this.disposableRegistry.push(e.registerCommand(v.Commands.RemoveAllCells,()=>this.removeAllCells())),this.disposableRegistry.push(e.registerCommand(v.Commands.InterruptKernel,()=>this.interruptKernel())),this.disposableRegistry.push(e.registerCommand(v.Commands.RestartKernel,()=>this.restartKernel())),this.disposableRegistry.push(e.registerCommand(v.Commands.ExpandAllCells,()=>this.expandAllCells())),this.disposableRegistry.push(e.registerCommand(v.Commands.CollapseAllCells,()=>this.collapseAllCells())),this.disposableRegistry.push(e.registerCommand(v.Commands.ExportOutputAsNotebook,()=>this.exportCells())),this.disposableRegistry.push(e.registerCommand(v.Commands.ScrollToCell,(e,t)=>this.scrollToCell(t)))}async listenForErrors(e){let t;try{return t=await e()}catch(e){e instanceof u.CancellationError?this.logger.logInformation("Canceled"):e.message?(this.logger.logError(e.message),this.applicationShell.showErrorMessage(e.message)):(this.logger.logError(e.toString()),this.applicationShell.showErrorMessage(e.toString()))}return t}showInformationMessage(e,t){return t?this.applicationShell.showInformationMessage(e,t):this.applicationShell.showInformationMessage(e)}async exportFile(e){if(e&&e.length>0){const t=this.documentManager.activeTextEditor;if(t&&this.fileSystem.arePathsSame(t.document.fileName,e)){const n=y.generateCellsFromDocument(t.document,this.configuration.getSettings().datascience);if(n){const t={};t[f.DataScience.exportDialogFilter()]=["ipynb"];const r=await this.applicationShell.showSaveDialog({saveLabel:f.DataScience.exportDialogTitle(),filters:t});await this.waitForStatus(async()=>{if(r){let e;this.configuration.getSettings().datascience.changeDirOnImportExport&&(e=r.fsPath);const t=await this.jupyterExporter.translateToNotebook(n,e);await this.fileSystem.writeFile(r.fsPath,JSON.stringify(t))}},f.DataScience.exportingFormat(),e);const i=await this.jupyterExecution.isSpawnSupported()?f.DataScience.exportOpenQuestion():void 0;r&&r.fsPath&&this.showInformationMessage(f.DataScience.exportDialogComplete().format(r.fsPath),i).then(e=>{e===i&&this.jupyterExecution.spawnNotebook(r.fsPath).ignoreErrors()})}}}}async exportFileAndOutput(e){if(e&&e.length>0&&this.jupyterExecution.isNotebookSupported()){const t=this.documentManager.activeTextEditor;if(t&&t.document&&this.fileSystem.arePathsSame(t.document.fileName,e)){const n=y.generateCellRanges(t.document);if(n.length>0){const r=await this.showExportDialog();if(r){const i=new c.CancellationTokenSource;await this.waitForStatus(()=>{try{return this.exportCellsWithOutput(n,t.document,r,i.token)}catch(e){e instanceof u.CancellationError||this.showInformationMessage(f.DataScience.exportDialogFailed().format(e))}return Promise.resolve()},f.DataScience.exportingFormat(),e,()=>{i.cancel()});const s=await this.jupyterExecution.isSpawnSupported()?f.DataScience.exportOpenQuestion():void 0;return this.showInformationMessage(f.DataScience.exportDialogComplete().format(r),s).then(e=>{e===s&&r&&this.jupyterExecution.spawnNotebook(r).ignoreErrors()}),a.Uri.file(r)}}}}else await this.dataScienceErrorHandler.handleError(new _.JupyterInstallError(f.DataScience.jupyterNotSupported().format(await this.jupyterExecution.getNotebookError()),f.DataScience.pythonInteractiveHelpLink()))}async exportCellsWithOutput(e,t,n,r){let i;try{const s=this.configuration.getSettings(),c=s.datascience.useDefaultConfigForJupyter,l=(i=await this.jupyterExecution.connectToNotebookServer({useDefaultConfig:c,purpose:o()},r))?await i.createNotebook(a.Uri.parse(v.Identifiers.InteractiveWindowIdentity)):void 0,u=Array.prototype.concat(...await Promise.all(e.map(e=>{const n=t.getText(e.range);return l?l.execute(n,t.fileName,e.range.start.line,o(),r):[]})));let d;s.datascience.changeDirOnImportExport&&(d=n);const h=await this.jupyterExporter.translateToNotebook(u,d);await this.fileSystem.writeFile(n,JSON.stringify(h))}finally{i&&await i.dispose()}}async showExportDialog(){const e={};e[f.DataScience.exportDialogFilter()]=["ipynb"];const t=await this.applicationShell.showSaveDialog({saveLabel:f.DataScience.exportDialogTitle(),filters:e});return t?t.fsPath:void 0}undoCells(){const e=this.interactiveWindowProvider.getActive();e&&e.undoCells()}redoCells(){const e=this.interactiveWindowProvider.getActive();e&&e.redoCells()}removeAllCells(){const e=this.interactiveWindowProvider.getActive();e&&e.removeAllCells()}interruptKernel(){const e=this.interactiveWindowProvider.getActive();e&&e.interruptKernel().ignoreErrors()}restartKernel(){const e=this.interactiveWindowProvider.getActive();e&&e.restartKernel().ignoreErrors()}expandAllCells(){const e=this.interactiveWindowProvider.getActive();e&&e.expandAllCells()}collapseAllCells(){const e=this.interactiveWindowProvider.getActive();e&&e.collapseAllCells()}exportCells(){const e=this.interactiveWindowProvider.getActive();e&&e.exportCells()}async showInteractiveWindow(){return(await this.interactiveWindowProvider.getOrCreateActive()).show()}waitForStatus(e,t,n,r,i){const s=n?t.format(n):t;return this.statusProvider.waitWithStatus(e,s,!0,void 0,r,i)}async importNotebook(){const e={};e[f.DataScience.importDialogFilter()]=["ipynb"];const t=await this.applicationShell.showOpenDialog({openLabel:f.DataScience.importDialogTitle(),filters:e});t&&t.length>0&&await this.waitForStatus(async()=>{const e=await this.jupyterImporter.importFromFile(t[0].fsPath);await this.viewDocument(e)},f.DataScience.importingFormat(),t[0].fsPath)}async importNotebookOnFile(e){e&&e.length>0&&await this.waitForStatus(async()=>{const t=await this.jupyterImporter.importFromFile(e);await this.viewDocument(t)},f.DataScience.importingFormat(),e)}async scrollToCell(e){if(e){(await this.interactiveWindowProvider.getOrCreateActive()).scrollToCell(e)}}};r([m.captureTelemetry(v.Telemetry.ExportPythonFile,void 0,!1)],S.prototype,"exportFile",null),r([m.captureTelemetry(v.Telemetry.ExportPythonFileAndOutput,void 0,!1)],S.prototype,"exportFileAndOutput",null),r([m.captureTelemetry(v.Telemetry.ShowHistoryPane,void 0,!1)],S.prototype,"showInteractiveWindow",null),r([m.captureTelemetry(v.Telemetry.ImportNotebook,{scope:"command"},!1)],S.prototype,"importNotebook",null),r([m.captureTelemetry(v.Telemetry.ImportNotebook,{scope:"file"},!1)],S.prototype,"importNotebookOnFile",null),S=r([s.injectable(),i(0,s.inject(p.IDisposableRegistry)),i(1,s.inject(b.IInteractiveWindowProvider)),i(2,s.inject(b.INotebookExporter)),i(3,s.inject(b.IJupyterExecution)),i(4,s.inject(l.IDocumentManager)),i(5,s.inject(l.IApplicationShell)),i(6,s.inject(h.IFileSystem)),i(7,s.inject(p.ILogger)),i(8,s.inject(p.IConfigurationService)),i(9,s.inject(b.IStatusProvider)),i(10,s.inject(b.INotebookImporter)),i(11,s.inject(b.IDataScienceErrorHandler))],S),t.InteractiveWindowCommandListener=S},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(36),a=n(2),c=n(41),l=n(4),u=n(1),d=n(17),h=n(12),p=n(10),f=n(15),m=n(524),g=n(19);let y=class{constructor(e,t,n,r,i){this.serviceContainer=t,this.disposables=r,this.configService=i,this.pendingSyncs=new Map,this.executedCode=new a.EventEmitter,this.onInteractiveWindowClosed=e=>{this.activeInteractiveWindow===e&&(this.activeInteractiveWindow=void 0,this.activeInteractiveWindowExecuteHandler&&(this.activeInteractiveWindowExecuteHandler.dispose(),this.activeInteractiveWindowExecuteHandler=void 0))},this.onInteractiveWindowExecute=e=>{this.executedCode.fire(e)},n.push(this),this.postOffice=new m.PostOffice(f.LiveShare.InteractiveWindowProviderService,e),this.postOffice.peerCountChanged(e=>this.onPeerCountChanged(e)),this.postOffice.registerCallback(f.LiveShareCommands.interactiveWindowCreate,this.onRemoteCreate,this).ignoreErrors(),this.postOffice.registerCallback(f.LiveShareCommands.interactiveWindowCreateSync,this.onRemoteSync,this).ignoreErrors(),this.id=o()}getActive(){return this.activeInteractiveWindow}get onExecutedCode(){return this.executedCode.event}async getOrCreateActive(){if(this.activeInteractiveWindow||await this.create(),await this.synchronizeCreate(),this.activeInteractiveWindow)return this.activeInteractiveWindow;throw new Error(h.DataScience.pythonInteractiveCreateFailed())}async getNotebookOptions(){const e=this.configService.getSettings();let t=e.datascience.jupyterServerURI;const n=e.datascience.useDefaultConfigForJupyter;return t===f.Settings.JupyterServerLocalLaunch&&(t=void 0),{enableDebugging:!0,uri:t,useDefaultConfig:n,purpose:f.Identifiers.HistoryPurpose}}dispose(){return this.postOffice.dispose()}async create(){this.activeInteractiveWindow=this.serviceContainer.get(g.IInteractiveWindow);const e=this.activeInteractiveWindow.closed(this.onInteractiveWindowClosed);return this.disposables.push(this.activeInteractiveWindow),this.disposables.push(e),this.activeInteractiveWindowExecuteHandler=this.activeInteractiveWindow.onExecutedCode(this.onInteractiveWindowExecute),this.disposables.push(this.activeInteractiveWindowExecuteHandler),await this.activeInteractiveWindow.ready,this.activeInteractiveWindow}onPeerCountChanged(e){e<this.postOffice.peerCount&&(this.pendingSyncs.forEach(e=>e.waitable.resolve()),this.pendingSyncs.clear())}async onRemoteCreate(...e){e.length>0&&e[0].toString()!==this.id&&(this.activeInteractiveWindow||await this.create(),this.postOffice.postCommand(f.LiveShareCommands.interactiveWindowCreateSync,...e).ignoreErrors())}onRemoteSync(...e){if(e.length>1&&e[0].toString()===this.id){const t=e[1].toString(),n=this.pendingSyncs.get(t);n&&(n.count-=1,n.count<=0&&(n.waitable.resolve(),this.pendingSyncs.delete(t)))}}async synchronizeCreate(){if(this.postOffice.peerCount>0||this.postOffice.role===c.Role.Guest){const e=o(),t=d.createDeferred();this.pendingSyncs.set(e,{count:this.postOffice.peerCount,waitable:t}),await this.postOffice.postCommand(f.LiveShareCommands.interactiveWindowCreate,this.id,e),await t.promise}}};y=r([s.injectable(),i(0,s.inject(l.ILiveShareApi)),i(1,s.inject(p.IServiceContainer)),i(2,s.inject(u.IAsyncDisposableRegistry)),i(3,s.inject(u.IDisposableRegistry)),i(4,s.inject(u.IConfigurationService))],y),t.InteractiveWindowProvider=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(20),a=n(155),c=n(14);class l{constructor(e,t,n,r,i){this.exe=e,this.requiredArgs=t,this.launcherPromise=n.create(),this.activationHelper=r,this.interpreterPromise=i.getInterpreterDetails(this.exe).catch(e=>void 0)}interpreter(){return this.interpreterPromise}async execObservable(e,t){const n={...t};n.env=await this.fixupEnv(n.env);const r=await this.launcherPromise,i=[...this.requiredArgs,...e];return r.execObservable(this.exe,i,n)}async exec(e,t){const n={...t};n.env=await this.fixupEnv(n.env);const r=await this.launcherPromise,i=[...this.requiredArgs,...e];return r.exec(this.exe,i,n)}fixupEnv(e){return this.activationHelper?this.activationHelper.getActivatedEnvironmentVariables(void 0):Promise.resolve(process.env)}}class u{constructor(e,t,n){this.requiredArgs=e,this.interpreterPromise=Promise.resolve(n),this.pythonLauncher=t.createActivatedEnvironment({resource:void 0,interpreter:n,allowEnvironmentFetchExceptions:!0})}interpreter(){return this.interpreterPromise}async execObservable(e,t){const n={...t},r=await this.pythonLauncher,i=[...this.requiredArgs,...e];return r.execObservable(i,n)}async exec(e,t){const n={...t},r=await this.pythonLauncher,i=[...this.requiredArgs,...e];return r.exec(i,n)}}let d=class{constructor(e,t,n,r){this.executionFactory=e,this.activationHelper=t,this.processServiceFactory=n,this.interpreterService=r}createInterpreterCommand(e,t){return new u(e,this.executionFactory,t)}createProcessCommand(e,t){return new l(e,t,this.processServiceFactory,this.activationHelper,this.interpreterService)}};d=r([s.injectable(),i(0,s.inject(o.IPythonExecutionFactory)),i(1,s.inject(a.IEnvironmentActivationService)),i(2,s.inject(o.IProcessServiceFactory)),i(3,s.inject(c.IInterpreterService))],d),t.JupyterCommandFactory=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(36),c=n(41),l=n(4),u=n(78),d=n(6),h=n(8),p=n(1),f=n(12),m=n(30),g=n(9),y=n(82),v=n(15),_=n(19),b=n(1160),S=n(1161),w="_sysexec = sys.executable\r\n_quoted_sysexec = '\"' + _sysexec + '\"'\r\n!{_quoted_sysexec}";let C=class{constructor(e,t,n,r,i,s,o){this.appShell=e,this.configService=t,this.commandManager=n,this.debugService=r,this.platform=i,this.workspace=s,this.experimentsManager=o,this.requiredPtvsdVersion={major:4,minor:3,patch:0,build:[],prerelease:[],raw:""},this.configs=new Map}async startDebugging(e){d.traceInfo("start debugging");const t=await this.connect(e);if(t){d.traceInfo("connected to notebook during debugging");const n=e;n&&n.role&&n.role===c.Role.Guest?d.traceInfo("guest mode attach skipped"):(await this.debugService.startDebugging(void 0,t),this.debugService.removeBreakpoints([]));const r=await this.executeSilently(e,"import ptvsd\nptvsd.wait_for_attach()");0===r.length||r[0].state===_.CellState.error?d.traceWarning("PTVSD not found in path."):this.traceCellResults("import startup",r),await this.executeSilently(e,"from ptvsd import tracing\ntracing(True)")}}async stopDebugging(e){this.configs.get(e.resource.toString())&&(d.traceInfo("stop debugging"),this.commandManager.executeCommand("workbench.action.debug.stop"),await this.executeSilently(e,"from ptvsd import tracing\ntracing(False)"))}onRestart(e){this.configs.delete(e.resource.toString())}async hashesUpdated(e){this.debugService.activeDebugSession&&await Promise.all(e.map(e=>this.debugService.activeDebugSession.customRequest("setPydevdSourceMap",this.buildSourceMap(e))))}traceCellResults(e,t){if(t.length>0&&"code"===t[0].data.cell_type){const n=t[0].data,r=n.outputs&&n.outputs[0]?n.outputs[0].evalue:void 0;if(r)d.traceError(`${e} Error : ${r}`);else if(n.outputs&&n.outputs[0]){const t=n.outputs[0].data,r=n.outputs[0].text;d.traceInfo(`${e} Output: ${r||JSON.stringify(t)}`)}}else d.traceInfo(`${e} no output.`)}async connect(e){let t=this.configs.get(e.resource.toString());if(t){const e=this.configService.getSettings();return t.justMyCode=e.datascience.debugJustMyCode,t}d.traceInfo("enable debugger attach"),await this.appendPtvsdPaths(e);const n=await this.ptvsdCheck(e);n&&this.ptvsdMeetsRequirement(n)||await this.promptToInstallPtvsd(e,n);const r=e.server.getConnectionInfo();return(t=r&&!r.localLaunch?await this.connectToRemote(e,r):await this.connectToLocal(e))&&this.configs.set(e.resource.toString(),t),t}async getPtvsdPath(e){const t=o.join(m.EXTENSION_ROOT_DIR,"pythonFiles","lib","python","old_ptvsd");if(!this.experimentsManager.inExperiment(u.DebugAdapterDescriptorFactory.experiment))return t;const n=await this.getKernelPythonVersion(e);return!n||n.major<3||n.minor<7?t:o.join(m.EXTENSION_ROOT_DIR,"pythonFiles","lib","python")}async calculatePtvsdPathList(e){const t=[];let n=this.configService.getSettings().datascience.ptvsdDistPath;n&&(this.platform.isWindows&&(n=n.replace(/\\/g,"\\\\")),t.push(n));const r=e.server.getConnectionInfo();if(r&&r.localLaunch){let n=await this.getPtvsdPath(e);this.platform.isWindows&&(n=n.replace(/\\/g,"\\\\")),t.push(n)}if(t&&t.length>0)return t.reduce((e,t)=>e=0===e.length?`'${t}'`:`${e}, '${t}'`,"")}async appendPtvsdPaths(e){const t=await this.calculatePtvsdPathList(e);if(t&&t.length>0){const n=await this.executeSilently(e,`import sys\r\nsys.path.extend([${t}])\r\nsys.path`);this.traceCellResults("Appending paths",n)}}buildSourceMap(e){const t={source:{path:e.file},pydevdSourceMaps:[]};return t.pydevdSourceMaps=e.hashes.map(e=>({line:e.line,endLine:e.endLine,runtimeSource:{path:`<ipython-input-${e.executionCount}-${e.hash}>`},runtimeLine:e.runtimeLine})),t}executeSilently(e,t){return e.execute(t,v.Identifiers.EmptyFileName,0,a(),void 0,!0)}async getKernelPythonVersion(e){const t=await this.executeSilently(e,"import sys;print(sys.version)");return this.parseVersionInfo(t,"pythonVersionInfo")}async ptvsdCheck(e){const t=await this.calculatePtvsdPathList(e);let n;n=t?`import sys\r\n${w} -c "import sys;sys.path.extend([${t}]);sys.path;import ptvsd;print(ptvsd.__version__)"`:`import sys\r\n${w} -c "import ptvsd;print(ptvsd.__version__)"`;const r=await this.executeSilently(e,n);return this.parseVersionInfo(r,"parsePtvsdVersionInfo")}parseVersionInfo(e,t){if(e.length<1||e[0].state!==_.CellState.finished)return void this.traceCellResults(t,e);const n=e[0],r=this.extractOutput(n);if(r){const e=/([0-9]+).([0-9]+).([0-9a-zA-Z]+)/.exec(r);if(e){const t=parseInt(e[1],10),n=parseInt(e[2],10),r=parseInt(e[3],10);return{major:t,minor:n,patch:r,build:[],prerelease:[],raw:`${t}.${n}.${r}`}}}this.traceCellResults(t,e)}ptvsdMeetsRequirement(e){return e.major>this.requiredPtvsdVersion.major||e.major===this.requiredPtvsdVersion.major&&e.minor>=this.requiredPtvsdVersion.minor}async promptToInstallPtvsd(e,t){const n=t?f.DataScience.jupyterDebuggerInstallPtvsdUpdate():f.DataScience.jupyterDebuggerInstallPtvsdNew();if(await this.appShell.showInformationMessage(n,f.DataScience.jupyterDebuggerInstallPtvsdYes(),f.DataScience.jupyterDebuggerInstallPtvsdNo())!==f.DataScience.jupyterDebuggerInstallPtvsdYes())throw new b.JupyterDebuggerNotInstalledError;await this.installPtvsd(e)}async installPtvsd(e){const t=await this.executeSilently(e,`import sys\r\n${w} -m pip install -U ptvsd`);if(d.traceInfo("Installing ptvsd"),t.length>0){const e=this.extractOutput(t[0]);if(e&&e.includes("Successfully installed"))return g.sendTelemetryEvent(v.Telemetry.PtvsdSuccessfullyInstalled),void d.traceInfo("Ptvsd successfully installed")}throw this.traceCellResults("Installing PTVSD",t),g.sendTelemetryEvent(v.Telemetry.PtvsdInstallFailed),d.traceError("Failed to install ptvsd"),new b.JupyterDebuggerNotInstalledError}parseConnectInfo(e,t){if(e.length>0){let n=this.extractOutput(e[0]);if(!n){if(e[0].data){const t=e[0].data.outputs;if(t[0]){const e=t[0];throw new b.JupyterDebuggerNotInstalledError(e.ename)}}throw new b.JupyterDebuggerNotInstalledError(f.DataScience.jupyterDebuggerPtvsdParseError())}{n=n.trimQuotes();const e=/\('(.*?)', ([0-9]*)\)/.exec(n),r=this.configService.getSettings();if(e){const n={name:"IPython",request:"attach",type:"python",port:parseInt(e[2],10),host:e[1],justMyCode:r.datascience.debugJustMyCode};return t?n:{...n,pathMappings:[{localRoot:this.workspace.rootPath,remoteRoot:"."}]}}}}}extractOutput(e){if(e.state===_.CellState.error||e.state===_.CellState.finished){const t=e.data.outputs;if(t.length>0){const e=t[0].data;if(e&&e.hasOwnProperty("text/plain"))return e["text/plain"];if("stream"===t[0].output_type){const e=t[0];return y.concatMultilineStringOutput(e.text)}}}}async connectToLocal(e){const t=await this.executeSilently(e,"import ptvsd\r\nptvsd.enable_attach(('localhost', 0))");return this.parseConnectInfo(t,!0)}async connectToRemote(e,t){throw new S.JupyterDebuggerRemoteNotSupported}};r([g.captureTelemetry(v.Telemetry.PtvsdPromptToInstall)],C.prototype,"promptToInstallPtvsd",null),C=r([s.injectable(),i(0,s.inject(l.IApplicationShell)),i(1,s.inject(p.IConfigurationService)),i(2,s.inject(l.ICommandManager)),i(3,s.inject(l.IDebugService)),i(4,s.inject(h.IPlatformService)),i(5,s.inject(l.IWorkspaceService)),i(6,s.inject(p.IExperimentsManager))],C),t.JupyterDebugger=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(12);t.JupyterDebuggerNotInstalledError=class extends Error{constructor(e){super(e||r.DataScience.jupyterDebuggerNotInstalledError())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(12);t.JupyterDebuggerRemoteNotSupported=class extends Error{constructor(){super(r.DataScience.remoteDebuggerNotSupported())}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(8),l=n(20),u=n(1),d=n(14),h=n(10),p=n(19),f=n(1163),m=n(1169),g=n(531);let y=class{constructor(e,t,n,r,i,s,a,c,l,u,d,h,p,y){this.sessionChangedEventEmitter=new o.EventEmitter,c.push(this),this.executionFactory=new g.RoleBasedFactory(e,m.HostJupyterExecution,f.GuestJupyterExecution,e,t,n,r,i,s,a,c,l,u,d,h,p,y),this.executionFactory.sessionChanged(()=>this.onSessionChanged())}get sessionChanged(){return this.sessionChangedEventEmitter.event}async dispose(){return(await this.executionFactory.get()).dispose()}async refreshCommands(){return(await this.executionFactory.get()).refreshCommands()}async isNotebookSupported(e){return(await this.executionFactory.get()).isNotebookSupported(e)}async getNotebookError(){return(await this.executionFactory.get()).getNotebookError()}async isImportSupported(e){return(await this.executionFactory.get()).isImportSupported(e)}async isKernelCreateSupported(e){return(await this.executionFactory.get()).isKernelCreateSupported(e)}async isKernelSpecSupported(e){return(await this.executionFactory.get()).isKernelSpecSupported(e)}async isSpawnSupported(e){return(await this.executionFactory.get()).isSpawnSupported(e)}async connectToNotebookServer(e,t){return(await this.executionFactory.get()).connectToNotebookServer(e,t)}async spawnNotebook(e){return(await this.executionFactory.get()).spawnNotebook(e)}async importNotebook(e,t){return(await this.executionFactory.get()).importNotebook(e,t)}async getUsableJupyterPython(e){return(await this.executionFactory.get()).getUsableJupyterPython(e)}async getServer(e){return(await this.executionFactory.get()).getServer(e)}onSessionChanged(){this.sessionChangedEventEmitter.fire()}};y=r([s.injectable(),i(0,s.inject(a.ILiveShareApi)),i(1,s.inject(l.IPythonExecutionFactory)),i(2,s.inject(d.IInterpreterService)),i(3,s.inject(l.IProcessServiceFactory)),i(4,s.inject(d.IKnownSearchPathsForInterpreters)),i(5,s.inject(u.ILogger)),i(6,s.inject(u.IDisposableRegistry)),i(7,s.inject(u.IAsyncDisposableRegistry)),i(8,s.inject(c.IFileSystem)),i(9,s.inject(p.IJupyterSessionManagerFactory)),i(10,s.inject(a.IWorkspaceService)),i(11,s.inject(u.IConfigurationService)),i(12,s.inject(p.IJupyterCommandFactory)),i(13,s.inject(h.IServiceContainer))],y),t.JupyterExecutionFactory=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(36),o=n(12),a=n(16),c=n(15),l=n(526),u=n(527),d=n(1166),h=n(108),p=n(530);let f=class extends(h.LiveShareParticipantGuest(u.JupyterExecutionBase,c.LiveShare.JupyterExecutionService)){constructor(e,t,n,r,i,s,o,a,c,l,u,h,f,m){super(e,t,n,r,i,s,o,a,c,new d.GuestJupyterSessionManagerFactory(l),u,h,f,m),a.push(this),this.serverCache=new p.ServerCache(h,u,c)}async dispose(){await super.dispose(),await this.serverCache.dispose()}async isNotebookSupported(e){return this.checkSupported(c.LiveShareCommands.isNotebookSupported,e)}isImportSupported(e){return this.checkSupported(c.LiveShareCommands.isImportSupported,e)}isKernelCreateSupported(e){return this.checkSupported(c.LiveShareCommands.isKernelCreateSupported,e)}isKernelSpecSupported(e){return this.checkSupported(c.LiveShareCommands.isKernelSpecSupported,e)}isSpawnSupported(e){return Promise.resolve(!1)}async connectToNotebookServer(e,t){let n=await this.serverCache.get(e);if(n)return n;const r=await this.waitForService();if(r){const i=e?e.purpose:s(),o=await r.request(c.LiveShareCommands.connectToNotebookServer,[e],t);if(o&&o.baseUrl){const r=`${o.baseUrl}?token=${o.token}`;(n=await super.connectToNotebookServer({uri:r,useDefaultConfig:e&&e.useDefaultConfig,workingDir:e?e.workingDir:void 0,purpose:i},t))&&await this.serverCache.set(n,a.noop,e)}}if(!n)throw new l.JupyterConnectError(o.DataScience.liveShareConnectFailure());return n}spawnNotebook(e){throw new Error(o.DataScience.liveShareCannotSpawnNotebooks())}async getUsableJupyterPython(e){const t=await this.waitForService();if(t)return t.request(c.LiveShareCommands.getUsableJupyterPython,[],e)}async getServer(e){return this.serverCache.get(e)}async checkSupported(e,t){const n=await this.waitForService();if(n){return await n.request(e,[],t)}return!1}};f=r([i.injectable()],f),t.GuestJupyterExecution=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2),s=n(71),o=n(6),a=n(12),c=n(24),l=n(9),u=n(15);var d;!function(e){e[e.NotFound=0]="NotFound",e[e.FoundJupyter=1]="FoundJupyter",e[e.Found=2]="Found"}(d=t.ModuleExistsStatus||(t.ModuleExistsStatus={}));const h={status:d.NotFound,error:a.DataScience.noInterpreter()};function p(e,t){return!!s.Cancellation.isCanceled(t)&&(o.traceInfo(`Command finder cancelled for ${e}.`),!0)}t.JupyterCommandFinder=class{constructor(e,t,n,r,i,s,o,a,c,l,u){if(this.interpreterService=e,this.executionFactory=t,this.configuration=n,this.knownSearchPaths=r,this.fileSystem=s,this.logger=o,this.processServiceFactory=a,this.commandFactory=c,this.appShell=u,this.commands=new Map,this.processServicePromise=this.processServiceFactory.create(),i.push(this.interpreterService.onDidChangeInterpreter(()=>this.commands.clear())),l){const e=l.onDidChangeConfiguration(e=>{e.affectsConfiguration("python.dataScience",void 0)&&this.commands.clear()});i.push(e)}}async findBestCommand(e,t){if(this.commands.has(e))return this.commands.get(e);const n=new c.StopWatch,r=this.findBestCommandImpl(e,t).finally(()=>l.sendTelemetryEvent(u.Telemetry.FindJupyterCommand,n.elapsedTime,{command:e}));if(t){let n=!1;r.finally(()=>n=!0).ignoreErrors(),t.isCancellationRequested&&!n&&this.commands.delete(e),t.onCancellationRequested(()=>{n||this.commands.delete(e)})}return this.commands.set(e,r),r}clearCache(){this.commands.clear()}async findInterpreterCommand(e,t,n){let r={status:d.NotFound,error:a.DataScience.noInterpreter()};return t&&!s.Cancellation.isCanceled(n)&&((r=await this.doesModuleExist(e,t,n)).status===d.FoundJupyter?r.command=this.commandFactory.createInterpreterCommand(["-m","jupyter",e],t):r.status===d.Found&&(r.command=this.commandFactory.createInterpreterCommand(["-m",e],t))),r}async lookForJupyterInDirectory(e){try{const t=await this.fileSystem.getFiles(e);return t?t.filter(e=>u.RegExpValues.CheckJupyterRegEx.test(r.basename(e))):[]}catch(e){this.logger.logWarning("Starlark Extension (fileSystem.getFiles):",e)}return[]}async searchPathsForJupyter(){if(!this.jupyterPath){const e=this.knownSearchPaths.getSearchPaths();for(let t=0;t<e.length&&!this.jupyterPath;t+=1){const n=await this.lookForJupyterInDirectory(e[t]);n.length>0&&(this.jupyterPath=n[0])}}return this.jupyterPath}async findPathCommand(e,t){if(await this.doesJupyterCommandExist(e,t)&&!s.Cancellation.isCanceled(t)){const t=await this.searchPathsForJupyter();if(t)return{status:d.Found,command:this.commandFactory.createProcessCommand(t,[e])}}return{status:d.NotFound}}supportsSearchingForCommands(){if(this.configuration){const e=this.configuration.getSettings();if(e)return e.datascience.searchForJupyter}return!0}async findBestCommandImpl(e,t){let n,r={status:d.NotFound};const c=await this.interpreterService.getActiveInterpreter();if(p(e,t))return h;if((r=c?await this.findInterpreterCommand(e,c,t):r).status===d.NotFound&&(o.traceInfo(`Active interpreter does not support ${e} because of error ${r.error}. Interpreter is ${c?c.displayName:"undefined"}.`),n=r.error),r.status===d.NotFound&&this.supportsSearchingForCommands()){const n={cancellable:!0,location:i.ProgressLocation.Notification,title:a.DataScience.findJupyterCommandProgress().format(e)};r=await this.appShell.withProgress(n,async(n,i)=>(t=s.wrapCancellationTokens(t,i),r=await this.searchOtherInterpretersForCommand(e,n,c,t),p(e,t)?h:(r.status===d.NotFound&&(n.report({message:a.DataScience.findJupyterCommandProgressSearchCurrentPath()}),r=await this.findPathCommand(e,t)),r)))}return n&&(r.error=n),r}async searchOtherInterpretersForCommand(e,t,n,r){let i={status:d.NotFound};const c=s.createPromiseFromCancellation({defaultValue:[],cancelAction:"resolve",token:r}),l=await Promise.race([this.interpreterService.getInterpreters(),c]);if(p(e,r))return h;l&&0!==l.length||o.traceWarning("No interpreters found. Jupyter cannot run.");const u=s.createPromiseFromCancellation({defaultValue:[],cancelAction:"resolve",token:r}),f=l.filter(e=>e!==n).map(t=>this.findInterpreterCommand(e,t,r)),m=await Promise.race([Promise.all(f),u]);if(p(e,r))return h;if(n&&n.version){let s=-1;for(const o of m){let c=0;if(!o||!o.command)continue;const l=await o.command.interpreter();if(p(e,r))return h;l&&l.displayName&&t.report({message:a.DataScience.findJupyterCommandProgressCheckInterpreter().format(l.displayName)});const u=l?l.version:void 0;u&&u.major===n.version.major&&(c+=4,u.minor===n.version.minor&&(c+=2,u.patch===n.version.patch&&(c+=1))),c>s&&(i=o,s=c)}}else i=m.find(e=>e.status!==d.NotFound)||i;return i}async doesModuleExist(e,t,n){const r={status:d.NotFound};if(t&&null!==t){const i={throwOnStdErr:!1,encoding:"utf8",token:n},s=await this.executionFactory.createActivatedEnvironment({resource:void 0,interpreter:t,allowEnvironmentFetchExceptions:!0});if(e!==u.JupyterCommands.KernelCreateCommand)try{const n=await s.execModule("jupyter",[e,"--version"],i);n.stderr?(this.logger.logWarning(`${n.stderr} for ${t.path}`),r.error=n.stderr):r.status=d.FoundJupyter}catch(e){this.logger.logWarning(`${e} for ${t.path}`)}if(r.status===d.NotFound)try{const n=await s.execModule(e,["--version"],i);n.stderr?(this.logger.logWarning(`${n.stderr} for ${t.path}`),r.error=n.stderr):r.status=d.Found}catch(e){this.logger.logWarning(`${e} for ${t.path}`),r.status=d.NotFound,r.error=e.toString()}}else this.logger.logWarning(`Interpreter not found. ${e} cannot be loaded.`),r.status=d.NotFound;return r}async doesJupyterCommandExist(e,t){const n={throwOnStdErr:!0,encoding:"utf8",token:t},r=e?[e,"--version"]:["--version"],i=await this.processServicePromise;try{return!(await i.exec("jupyter",r,n)).stderr}catch(e){return this.logger.logWarning(e),!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(3),i=n(2),s=n(71),o=n(8),a=n(1),c=n(17),l=n(12),u=n(15),d=n(526),h=n(216)(u.RegExpValues.UrlPatternRegEx);class p{constructor(e,t,n,i,h,p){this.stderr=[],this.connectionDisposed=!1,this.output=e=>{this.logger&&!this.connectionDisposed&&this.logger.logInformation(e.toString("utf8"))},this.extractConnectionInformation=e=>{this.output(e),u.RegExpValues.HttpPattern.exec(e)&&this.notebook_dir&&this.startPromise&&!this.startPromise.completed&&this.getServerInfo&&this.getServerInfo(this.cancelToken).then(t=>{this.getJupyterURL(t,e)}).ignoreErrors()},this.launchTimedOut=()=>{this.startPromise.completed||this.rejectStartPromise(l.DataScience.jupyterLaunchTimedOut())},this.resolveStartPromise=(e,t,n)=>{if(clearTimeout(this.launchTimeout),!this.startPromise.rejected){const r=this.createConnection(e,t,n,this.launchResult),i=r.dispose.bind(r);r.dispose=()=>(this.connectionDisposed=!0,i()),this.startPromise.resolve(r)}},this.rejectStartPromise=e=>{clearTimeout(this.launchTimeout),this.startPromise.resolved||this.startPromise.reject(new d.JupyterConnectError(e,this.stderr.join("\n")))},this.configService=h.get(a.IConfigurationService),this.logger=h.get(a.ILogger),this.fileSystem=h.get(o.IFileSystem),this.getServerInfo=n,this.createConnection=i,this.launchResult=e,this.cancelToken=p,p&&p.onCancellationRequested(()=>this.startPromise.reject(new s.CancellationError)),this.notebook_dir=r.dirname(t),this.startPromise=c.createDeferred();const f=this.configService.getSettings().datascience.jupyterLaunchTimeout;this.launchTimeout=setTimeout(()=>{this.launchTimedOut()},f);let m="0";e.proc&&e.proc.on("exit",e=>m=e?e.toString():"0"),e.out.subscribe(e=>{"stderr"===e.source?(this.stderr.push(e.out),this.extractConnectionInformation(e.out)):this.output(e.out)},e=>this.rejectStartPromise(e.message),()=>this.rejectStartPromise(l.DataScience.jupyterServerCrashed().format(m)))}waitForConnection(){return this.startPromise.promise}getJupyterURL(e,t){if(e&&!this.startPromise.completed){const t=e.find(e=>this.fileSystem.arePathsSame(this.notebook_dir,e.notebook_dir));if(t){const e=t.url,n=t.token,r=t.hostname;this.resolveStartPromise(e,n,r)}}this.startPromise.completed||this.getJupyterURLFromString(t)}getJupyterURLFromString(e){const t=h.exec(e),r=t.groups();if(t&&!this.startPromise.completed&&r&&(r.LOCAL||r.IP)){const e=r.LOCAL?r.LOCAL:r.IP,t=`${r.PREFIX}${e}${r.REST}`,i=n(45).URL;let s;try{s=new i(t)}catch(e){return void this.rejectStartPromise(l.DataScience.jupyterLaunchNoURL())}this.resolveStartPromise(`${s.protocol}//${s.host}${s.pathname}`,`${s.searchParams.get("token")}`,s.hostname)}}}class f{constructor(e,t,n,r,s){this.eventEmitter=new i.EventEmitter,this.baseUrl=e,this.hostName=n,this.token=t,this.localLaunch=!0,this.disposable=r,s&&s.on("exit",e=>{const t="number"==typeof e?e:void 0;this.localProcExitCode=t,this.eventEmitter.fire(t)})}get disconnected(){return this.eventEmitter.event}static waitForConnection(e,t,n,r,i){return new p(n,e,t,(e,t,r,i)=>new f(e,t,r,i,n.proc),r,i).waitForConnection()}dispose(){this.disposable&&(this.disposable.dispose(),this.disposable=void 0)}}t.JupyterConnection=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(161),i=n(1167);t.GuestJupyterSessionManagerFactory=class{constructor(e){this.realSessionManager=e,r.noop()}async create(e){return new i.GuestJupyterSessionManager(await this.realSessionManager.create(e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(161);t.GuestJupyterSessionManager=class{constructor(e){this.realSessionManager=e,r.noop()}startNew(e,t){return this.realSessionManager.startNew(e,t)}async getActiveKernelSpecs(){return Promise.resolve([])}async dispose(){r.noop()}async initialize(e){this.connInfo=e}getConnInfo(){return this.connInfo}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);async function i(e){const t=r.createDeferred();let n;try{n=e.onDidChangeIsServiceAvailable(n=>{n&&t.resolve(e)}),await t.promise}finally{n&&n.dispose()}return e}t.waitForHostService=async function(e,t){const n=await e.shareService(t);return n&&!n.isServiceAvailable?i(n):n},t.waitForGuestService=async function(e,t){const n=await e.getSharedService(t);return n&&!n.isServiceAvailable?i(n):n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(41),i=n(16),s=n(15),o=n(527),a=n(108),c=n(530);t.HostJupyterExecution=class extends(a.LiveShareParticipantHost(o.JupyterExecutionBase,s.LiveShare.JupyterExecutionService)){constructor(e,t,n,r,s,o,a,l,u,d,h,p,f,m){super(e,t,n,r,s,o,a,l,u,d,h,p,f,m),this.onRemoteIsNotebookSupported=(e,t)=>this.isNotebookSupported(t),this.onRemoteIsImportSupported=(e,t)=>this.isImportSupported(t),this.onRemoteIsKernelCreateSupported=(e,t)=>this.isKernelCreateSupported(t),this.onRemoteIsKernelSpecSupported=(e,t)=>this.isKernelSpecSupported(t),this.onRemoteConnectToNotebookServer=async(e,t)=>{const n=await this.connectToNotebookServer(e[0],t);if(n){const e=n.getConnectionInfo();if(e)return{baseUrl:e.baseUrl,token:e.token,hostName:e.hostName,localLaunch:!1,localProcExitCode:void 0,disconnected:e=>({dispose:i.noop}),dispose:i.noop}}},this.onRemoteGetUsableJupyterPython=(e,t)=>this.getUsableJupyterPython(t),this.serverCache=new c.ServerCache(p,h,u)}async dispose(){await super.dispose();const e=await this.api;await this.onDetach(e),this.serverCache&&await this.serverCache.dispose()}async connectToNotebookServer(e,t){let n=await this.serverCache.get(e);return n||((n=await super.connectToNotebookServer(await this.serverCache.generateDefaultOptions(e),t))&&await this.serverCache.set(n,i.noop,e),n)}async onAttach(e){if(await super.onAttach(e),e){const e=await this.waitForService();e&&(e.onRequest(s.LiveShareCommands.isNotebookSupported,this.onRemoteIsNotebookSupported),e.onRequest(s.LiveShareCommands.isImportSupported,this.onRemoteIsImportSupported),e.onRequest(s.LiveShareCommands.isKernelCreateSupported,this.onRemoteIsKernelCreateSupported),e.onRequest(s.LiveShareCommands.isKernelSpecSupported,this.onRemoteIsKernelSpecSupported),e.onRequest(s.LiveShareCommands.connectToNotebookServer,this.onRemoteConnectToNotebookServer),e.onRequest(s.LiveShareCommands.getUsableJupyterPython,this.onRemoteGetUsableJupyterPython))}}async onDetach(e){await super.onDetach(e),(null===e||e.session&&e.session.role!==r.Role.Guest?r.Role.Host:r.Role.Guest)!==r.Role.Host&&await this.serverCache.dispose()}getServer(e){return this.serverCache.get(e)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(22),a=n(3),c=n(36),l=n(4),u=n(8),d=n(1),h=n(12),p=n(16),f=n(94),m=n(82),g=n(15),y=n(19);let v=class{constructor(e,t,n,r,i){this.jupyterExecution=e,this.workspaceService=t,this.configService=n,this.fileSystem=r,this.platform=i,this.addDirectoryChangeCell=async(e,t)=>{const n=await this.calculateDirectoryChange(t,e);if(n){return[{data:{source:g.CodeSnippits.ChangeDirectory.join(o.EOL).format(h.DataScience.exportChangeDirectoryComment(),g.CodeSnippits.ChangeDirectoryCommentIdentifier,n),cell_type:"code",outputs:[],metadata:{},execution_count:0},id:c(),file:g.Identifiers.EmptyFileName,line:0,state:y.CellState.finished},...e]}return e},this.firstWorkspaceFolder=async e=>{for(const t of e){const e=t.file;if(a.isAbsolute(e)&&await this.fileSystem.fileExists(e))for(const t of this.workspaceService.workspaceFolders)if(e.toLowerCase().startsWith(t.uri.fsPath.toLowerCase()))return t.uri.fsPath}},this.calculateDirectoryChange=async(e,t)=>{let n;if(!t.find(e=>m.concatMultilineStringInput(e.data.source).includes(g.CodeSnippits.ChangeDirectoryCommentIdentifier))){const r=a.dirname(e);if(this.workspaceService.hasWorkspaceFolders){const e=await this.firstWorkspaceFolder(t);e&&a.isAbsolute(e)&&r&&a.isAbsolute(r)&&(n=a.relative(r,e))}}return n&&!a.isAbsolute(n)?(this.platform.isWindows&&(n=n.replace("\\","\\\\")),n):void 0},this.pruneCells=(e,t)=>e.filter(e=>"messages"!==e.data.cell_type).map(e=>this.pruneCell(e,t)),this.pruneCell=(e,t)=>{const n={...e.data};return n.source=this.pruneSource(e.data.source,t),n},this.pruneSource=(e,t)=>{if(Array.isArray(e)&&e.length>0){if(t.isCell(e[0]))return e.slice(1)}else{const n=e.toString().split("\n").map(e=>`${e}\n`);if(n.length>0&&t.isCell(n[0]))return n.slice(1)}return e},this.extractPythonMainVersion=async()=>{const e=await this.jupyterExecution.getUsableJupyterPython();return e&&e.version?e.version.major:3}}dispose(){p.noop()}async translateToNotebook(e,t){t&&(e=await this.addDirectoryChangeCell(e,t));const n=await this.extractPythonMainVersion(),r={language_info:{name:"python",codemirror_mode:{name:"ipython",version:n}},orig_nbformat:2,file_extension:".py",mimetype:"text/x-python",name:"python",npconvert_exporter:"python",pygments_lexer:`ipython${n}`,version:n},i=new f.CellMatcher(this.configService.getSettings().datascience);return{cells:this.pruneCells(e,i),nbformat:4,nbformat_minor:2,metadata:r}}};v=r([s.injectable(),i(0,s.inject(y.IJupyterExecution)),i(1,s.inject(l.IWorkspaceService)),i(2,s.inject(d.IConfigurationService)),i(3,s.inject(u.IFileSystem)),i(4,s.inject(u.IPlatformService))],v),t.JupyterExporter=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(46),o=n(0),a=n(22),c=n(3);n(7);const l=n(4),u=n(8),d=n(1),h=n(12),p=n(16),f=n(15),m=n(19),g=n(525);let y=class{constructor(e,t,n,r,i,s){this.fileSystem=e,this.disposableRegistry=t,this.configuration=n,this.jupyterExecution=r,this.workspaceService=i,this.platform=s,this.isDisposed=!1,this.nbconvertTemplateFormat="{%- extends 'null.tpl' -%}\n{% block codecell %}\n{0}\n{{ super() }}\n{% endblock codecell %}\n{% block in_prompt %}{% endblock in_prompt %}\n{% block input %}{{ cell.source | ipython2python }}{% endblock input %}\n{% block markdowncell scoped %}{0} [markdown]\n{{ cell.source | comment_lines }}\n{% endblock markdowncell %}",this.dispose=()=>{this.isDisposed=!0},this.addInstructionComments=e=>{return h.DataScience.instructionComments().format(this.defaultCellMarker).concat(e)},this.addIPythonImport=e=>f.CodeSnippits.ImportIPython.format(this.defaultCellMarker,e),this.addDirectoryChange=(e,t)=>{return f.CodeSnippits.ChangeDirectory.join(a.EOL).format(h.DataScience.importChangeDirectoryComment().format(this.defaultCellMarker),f.CodeSnippits.ChangeDirectoryCommentIdentifier,t).concat(e)},this.templatePromise=this.createTemplateFile()}async importFromFile(e,t){const n=await this.templatePromise;let r;if(this.configuration.getSettings().datascience.changeDirOnImportExport&&(r=await this.calculateDirectoryChange(t||e)),await this.jupyterExecution.isImportSupported()){let t=await this.jupyterExecution.importNotebook(e,n);return t.includes("get_ipython()")&&(t=this.addIPythonImport(t)),r&&(t=this.addDirectoryChange(t,r)),this.addInstructionComments(t)}throw new Error(h.DataScience.jupyterNbConvertNotSupported())}async importCellsFromFile(e){if(await this.jupyterExecution.isImportSupported()?await this.importFromFile(e):"")return this.importCells(await this.fileSystem.readFile(e));throw new g.InvalidNotebookFileError(e)}async importCells(e){const t=e?JSON.parse(e):void 0;if(t&&t.cells){return t.cells.map((e,t)=>({id:`NotebookImport#${t}`,file:f.Identifiers.EmptyFileName,line:0,state:m.CellState.finished,data:e,type:"preview"}))}throw new g.InvalidNotebookFileError}get defaultCellMarker(){return this.configuration.getSettings().datascience.defaultCellMarker||f.Identifiers.DefaultCodeCellMarker}async calculateDirectoryChange(e){let t;if(!(await this.fileSystem.readFile(e)).includes(f.CodeSnippits.ChangeDirectoryCommentIdentifier)){const n=c.dirname(e);if(this.workspaceService.hasWorkspaceFolders){const e=this.workspaceService.workspaceFolders[0].uri.fsPath;e&&c.isAbsolute(e)&&n&&c.isAbsolute(n)&&(t=c.relative(e,n))}}return t&&!c.isAbsolute(t)?(this.platform.isWindows&&(t=t.replace("\\","\\\\")),t):void 0}async createTemplateFile(){const e=await this.fileSystem.createTemporaryFile(".tpl");if(e)try{return this.disposableRegistry.push(e),await s.appendFile(e.filePath,this.nbconvertTemplateFormat.format(this.defaultCellMarker)),e.filePath}catch(e){p.noop()}}};y=r([o.injectable(),i(0,o.inject(u.IFileSystem)),i(1,o.inject(d.IDisposableRegistry)),i(2,o.inject(d.IConfigurationService)),i(3,o.inject(m.IJupyterExecution)),i(4,o.inject(l.IWorkspaceService)),i(5,o.inject(u.IPlatformService))],y),t.JupyterImporter=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(75),o=n(0),a=n(1173),c=n(45),l=n(4),u=n(12),d=n(9),h=n(15);let p=class{constructor(e){this.appShell=e}async getPasswordConnectionInfo(e,t,n){let r,i,s;if(n||(n=a.default),!e||e.length<1)return;let o=e;"/"!==o[o.length-1]&&(o=`${o}/`);let c=await this.getUserPassword();if(!c)return{emptyPassword:!0,xsrfCookie:"",sessionCookieName:"",sessionCookieValue:""};if(r=await this.getXSRFToken(e,t,n)){const o=await this.getSessionCookie(e,t,r,c,n);i=o.sessionCookieName,s=o.sessionCookieValue}return c=void 0,r&&i&&s?(d.sendTelemetryEvent(h.Telemetry.GetPasswordSuccess),{xsrfCookie:r,sessionCookieName:i,sessionCookieValue:s,emptyPassword:!1}):void d.sendTelemetryEvent(h.Telemetry.GetPasswordFailure)}addAllowUnauthorized(e,t,n){if(e.startsWith("https")&&t){const e=new s.Agent({rejectUnauthorized:!1});return{...n,agent:e}}return n}async getUserPassword(){return this.appShell.showInputBox({prompt:u.DataScience.jupyterSelectPasswordPrompt(),ignoreFocusOut:!0,password:!0})}async getXSRFToken(e,t,n){let r;const i=await n(`${e}login?`,this.addAllowUnauthorized(e,t,{method:"get",redirect:"manual",headers:{Connection:"keep-alive"}}));if(i.ok){const e=this.getCookies(i);e.has("_xsrf")&&(r=e.get("_xsrf"))}return r}async getSessionCookie(e,t,n,r,i){let s,o;const a=new c.URLSearchParams;a.append("_xsrf",n),a.append("password",r);const l=await i(`${e}login?`,this.addAllowUnauthorized(e,t,{method:"post",headers:{Cookie:`_xsrf=${n}`,Connection:"keep-alive","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},body:a.toString(),redirect:"manual"}));if(302===l.status){const e=this.getCookies(l);e.size>0&&(s=e.entries().next().value[0],o=e.entries().next().value[1])}return{sessionCookieName:s,sessionCookieValue:o}}getCookies(e){const t=new Map,n=e.headers.get("set-cookie");return n&&n.split(";").forEach(e=>{const n=e.substring(0,e.indexOf("=")),r=e.substring(e.indexOf("=")+1);t.set(n,r)}),t}};r([d.captureTelemetry(h.Telemetry.GetPasswordAttempt)],p.prototype,"getPasswordConnectionInfo",null),p=r([o.injectable(),i(0,o.inject(l.IApplicationShell))],p),t.JupyterPasswordConnect=p},function(e,t,n){n(45).parse;var r=n(45).resolve,i=n(74),s=n(75),o=n(143),a=n(43),c=n(245),l=n(1177),u=n(246),d=n(1178),h=n(532);function p(e,t){if(!(this instanceof p))return new p(e,t);if(!p.Promise)throw new Error("native promise missing, set Fetch.Promise to your favorite alternative");c.Promise=p.Promise;var n=this;return new p.Promise(function(c,f){var m,g=new d(e,t);if(!g.protocol||!g.hostname)throw new Error("only absolute urls are supported");if("http:"!==g.protocol&&"https:"!==g.protocol)throw new Error("only http(s) protocols are supported");m="https:"===g.protocol?s.request:i.request;var y=new u(g.headers);g.compress&&y.set("accept-encoding","gzip,deflate"),y.has("user-agent")||y.set("user-agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),y.has("connection")||g.agent||y.set("connection","close"),y.has("accept")||y.set("accept","*/*"),!y.has("content-type")&&g.body&&"function"==typeof g.body.getBoundary&&y.set("content-type","multipart/form-data; boundary="+g.body.getBoundary()),!y.has("content-length")&&/post|put|patch|delete/i.test(g.method)&&("string"==typeof g.body?y.set("content-length",Buffer.byteLength(g.body)):g.body&&"function"==typeof g.body.getLengthSync?g.body._lengthRetrievers&&0==g.body._lengthRetrievers.length?y.set("content-length",g.body.getLengthSync().toString()):g.body.hasKnownLength&&g.body.hasKnownLength()&&y.set("content-length",g.body.getLengthSync().toString()):void 0!==g.body&&null!==g.body||y.set("content-length","0")),g.headers=y.raw(),g.headers.host&&(g.headers.host=g.headers.host[0]);var v,_=m(g);g.timeout&&_.once("socket",function(e){v=setTimeout(function(){_.abort(),f(new h("network timeout at: "+g.url,"request-timeout"))},g.timeout)}),_.on("error",function(e){clearTimeout(v),f(new h("request to "+g.url+" failed, reason: "+e.message,"system",e))}),_.on("response",function(e){if(clearTimeout(v),n.isRedirect(e.statusCode)&&"manual"!==g.redirect)return"error"===g.redirect?void f(new h("redirect mode is set to error: "+g.url,"no-redirect")):g.counter>=g.follow?void f(new h("maximum redirect reached at: "+g.url,"max-redirect")):e.headers.location?(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==g.method)||(g.method="GET",delete g.body,delete g.headers["content-length"]),g.counter++,void c(p(r(g.url,e.headers.location),g))):void f(new h("redirect location header missing at: "+g.url,"invalid-redirect"));var t=new u(e.headers);"manual"===g.redirect&&t.has("location")&&t.set("location",r(g.url,t.get("location")));var i,s=e.pipe(new a.PassThrough),d={url:g.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:g.size,timeout:g.timeout};if(!g.compress||"HEAD"===g.method||!t.has("content-encoding")||204===e.statusCode||304===e.statusCode)return i=new l(s,d),void c(i);var m=t.get("content-encoding");if("gzip"==m||"x-gzip"==m)return s=s.pipe(o.createGunzip()),i=new l(s,d),void c(i);"deflate"!=m&&"x-deflate"!=m?(i=new l(s,d),c(i)):e.pipe(new a.PassThrough).once("data",function(e){s=8==(15&e[0])?s.pipe(o.createInflate()):s.pipe(o.createInflateRaw()),i=new l(s,d),c(i)})}),"string"==typeof g.body?(_.write(g.body),_.end()):g.body instanceof Buffer?(_.write(g.body),_.end()):"object"==typeof g.body&&g.body.pipe?g.body.pipe(_):"object"==typeof g.body?(_.write(g.body.toString()),_.end()):_.end()})}e.exports=p,e.exports.default=e.exports,p.prototype.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},p.Promise=global.Promise,p.Response=l,p.Headers=u,p.Request=d},function(e,t,n){"use strict";var r=n(350),i=n(1175);function s(e,t,n){return"UTF-8"===t?r.decode(e,n):"UTF-8"===n?r.encode(e,t):r.encode(r.decode(e,n),t)}function o(e){return(e||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}e.exports.convert=function(e,t,n,r){var a;n=o(n||"UTF-8"),t=o(t||"UTF-8"),e=e||"","UTF-8"!==n&&"string"==typeof e&&(e=new Buffer(e,"binary"));if(n===t)a="string"==typeof e?new Buffer(e):e;else if(i&&!r)try{a=function(e,t,n){var r,s;return s=new i(n,t+"//TRANSLIT//IGNORE"),(r=s.convert(e)).slice(0,r.length)}(e,t,n)}catch(r){console.error(r);try{a=s(e,t,n)}catch(t){console.error(t),a=e}}else try{a=s(e,t,n)}catch(t){console.error(t),a=e}"string"==typeof a&&(a=new Buffer(a,"utf-8"));return a}},function(e,t,n){"use strict";var r;try{"iconv",r=n(1176)("iconv").Iconv}catch(e){}e.exports=r},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1176},function(e,t,n){var r=n(74),i=n(246),s=n(245);function o(e,t){t=t||{},this.url=t.url,this.status=t.status||200,this.statusText=t.statusText||r.STATUS_CODES[this.status],this.headers=new i(t.headers),this.ok=this.status>=200&&this.status<300,s.call(this,e,t)}e.exports=o,o.prototype=Object.create(s.prototype),o.prototype.clone=function(){return new o(this._clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}},function(e,t,n){var r=n(45).parse,i=n(246),s=n(245);function o(e,t){var n,a;e instanceof o?(n=e.url,a=r(n)):(a=r(n=e),e={}),t=t||{},this.method=t.method||e.method||"GET",this.redirect=t.redirect||e.redirect||"follow",this.headers=new i(t.headers||e.headers||{}),this.url=n,this.follow=void 0!==t.follow?t.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==t.compress?t.compress:void 0===e.compress||e.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,s.call(this,t.body||this._clone(e),{timeout:t.timeout||e.timeout||0,size:t.size||e.size||0}),this.protocol=a.protocol,this.hostname=a.hostname,this.port=a.port,this.path=a.path,this.auth=a.auth}e.exports=o,o.prototype=Object.create(s.prototype),o.prototype.clone=function(){return new o(this)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(36),a=n(4),c=n(1),l=n(19),u=n(1180),d=n(1182),h=n(531);let p=class{constructor(e,t,n,r,i,s,a,c){this._id=o(),this.serverFactory=new h.RoleBasedFactory(e,d.HostJupyterServer,u.GuestJupyterServer,e,t,r,n,i,s,a,c||[])}get role(){return this.serverFactory.role}get id(){return this._id}async connect(e,t){return this.launchInfo=e,(await this.serverFactory.get()).connect(e,t)}async createNotebook(e){return(await this.serverFactory.get()).createNotebook(e)}async shutdown(){return(await this.serverFactory.get()).shutdown()}async dispose(){return(await this.serverFactory.get()).dispose()}getConnectionInfo(){if(this.launchInfo)return this.launchInfo.connectionInfo}async getNotebook(e){return(await this.serverFactory.get()).getNotebook(e)}async waitForConnect(){return(await this.serverFactory.get()).waitForConnect()}};p=r([s.injectable(),i(0,s.inject(a.ILiveShareApi)),i(1,s.inject(l.IDataScience)),i(2,s.inject(c.IDisposableRegistry)),i(3,s.inject(c.IAsyncDisposableRegistry)),i(4,s.inject(c.IConfigurationService)),i(5,s.inject(l.IJupyterSessionManagerFactory)),i(6,s.inject(a.IWorkspaceService)),i(7,s.multiInject(l.INotebookExecutionLogger)),i(7,s.optional())],p),t.JupyterServerFactory=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(41),s=n(17),o=n(12),a=n(15),c=n(1181),l=n(108);t.GuestJupyterServer=class extends(l.LiveShareParticipantGuest(l.LiveShareParticipantDefault,a.LiveShare.JupyterServerSharedService)){constructor(e,t,n,i,o,a,c,l){super(e),this.liveShare=e,this.dataScience=t,this.disposableRegistry=i,this.configService=o,this.connectPromise=s.createDeferred(),this._id=r(),this.notebooks=new Map}get id(){return this._id}async connect(e,t){return this.launchInfo=e,this.connectPromise.resolve(e),Promise.resolve()}async createNotebook(e){const t=await this.waitForService();if(t){const n=e.toString();await t.request(a.LiveShareCommands.createNotebook,[n])}const n=new c.GuestJupyterNotebook(this.liveShare,this.disposableRegistry,this.configService,e,this,this.dataScience.activationStartTime);this.notebooks.set(e.toString(),n);const r=n.dispose;return n.dispose=()=>(this.notebooks.delete(e.toString()),r()),n}async onSessionChange(e){await super.onSessionChange(e),this.notebooks.forEach(async t=>{const n=t;n&&await n.onSessionChange(e)})}async getNotebook(e){return this.notebooks.get(e.toString())}async shutdown(){const e=await this.waitForService();e&&await e.request(a.LiveShareCommands.disposeServer,[])}dispose(){return this.shutdown()}getConnectionInfo(){if(this.launchInfo)return this.launchInfo.connectionInfo}waitForConnect(){return this.connectPromise.promise}async waitForServiceName(){const e=await this.waitForConnect();return e?`${a.LiveShare.JupyterServerSharedService}${e.purpose}`:a.LiveShare.JupyterServerSharedService}async onAttach(e){if(await super.onAttach(e),e){const t=await this.waitForService();if(!(t?await t.request(a.LiveShareCommands.syncRequest,[]):void 0)&&e.session&&e.session.role!==i.Role.None)throw new Error(o.DataScience.liveShareSyncFailure())}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(41),i=n(71),s=n(6),o=n(17),a=n(12),c=n(16),l=n(15),u=n(108),d=n(533);t.GuestJupyterNotebook=class extends(u.LiveShareParticipantGuest(u.LiveShareParticipantDefault,l.LiveShare.JupyterNotebookSharedService)){constructor(e,t,n,r,i,o){super(e),this.disposableRegistry=t,this.configService=n,this._resource=r,this._owner=i,this.startTime=o,this.responseQueue=new d.ResponseQueue,this.onServerResponse=e=>{const t=e;s.traceInfo(`Guest serverResponse ${t.pos} ${t.id}`),e.hasOwnProperty("type")&&this.responseQueue.push(e)}}get resource(){return this._resource}get server(){return this._owner}shutdown(){return Promise.resolve()}dispose(){return this.shutdown()}waitForIdle(){return Promise.resolve()}clear(e){c.noop()}async execute(e,t,n,r,s){const a=o.createDeferred();let c;return this.executeObservable(e,t,n,r).subscribe(e=>{c=e},e=>{a.reject(e)},()=>{a.resolve(c)}),s&&this.disposableRegistry.push(s.onCancellationRequested(()=>a.reject(new i.CancellationError))),a.promise}setLaunchingFile(e){return Promise.resolve()}async setMatplotLibStyle(e){}executeObservable(e,t,n,r){return this.waitForService().then(i=>{i&&i.notify(l.LiveShareCommands.executeObservable,{code:e,file:t,line:n,id:r})}).ignoreErrors(),this.responseQueue.waitForObservable(e,r)}async restartKernel(){return this.sendRequest(l.LiveShareCommands.restart,[])}async interruptKernel(e){const t=this.configService.getSettings().datascience.jupyterInterruptTimeout;return await this.sendRequest(l.LiveShareCommands.interrupt,[t])}async waitForServiceName(){const e=this.resource.toString();return Promise.resolve(`${l.LiveShare.JupyterNotebookSharedService}${e}`)}async getSysInfo(){const e=await this.waitForService();if(e)return await e.request(l.LiveShareCommands.getSysInfo,[])}async getCompletion(e,t,n){return Promise.resolve({matches:[],cursor:{start:0,end:0},metadata:{}})}async onAttach(e){if(await super.onAttach(e),e){const t=await this.waitForService();if(!(t?await t.request(l.LiveShareCommands.syncRequest,[]):void 0)&&e.session&&e.session.role!==r.Role.None)throw new Error(a.DataScience.liveShareSyncFailure());t&&(t.onNotify(l.LiveShareCommands.serverResponse,this.onServerResponse),t.notify(l.LiveShareCommands.catchupRequest,{since:this.startTime}))}}async sendRequest(e,t){const n=await this.waitForService();if(n)return n.request(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(22),i=n(2),s=n(41),o=n(6),a=n(12),c=n(24),l=n(9),u=n(15),d=n(1183),h=n(1184),p=n(108);t.HostJupyterServer=class extends(p.LiveShareParticipantHost(d.JupyterServerBase,u.LiveShare.JupyterServerSharedService)){constructor(e,t,n,r,i,s,o,a){super(e,n,r,i,s,a),this.liveShare=e,this.workspaceService=o,this.disposed=!1,this.portToForward=0}async dispose(){if(!this.disposed){this.disposed=!0,await super.dispose();const e=await this.api;return this.onDetach(e)}}async connect(e,t){if(e.connectionInfo&&e.connectionInfo.localLaunch){const t=u.RegExpValues.ExtractPortRegex.exec(e.connectionInfo.baseUrl);if(t&&t.length>1){const e=parseInt(t[1],10);await this.attemptToForwardPort(this.finishedApi,e)}}return super.connect(e,t)}async onAttach(e){if(await super.onAttach(e),e&&!this.disposed){const t=await this.waitForService();t&&(t.onRequest(u.LiveShareCommands.syncRequest,(e,t)=>this.onSync()),t.onRequest(u.LiveShareCommands.disposeServer,(e,t)=>this.dispose()),t.onRequest(u.LiveShareCommands.createNotebook,async(t,n)=>{const r=i.Uri.parse(t[0]),s=r.scheme&&r.scheme!==u.Identifiers.InteractiveWindowIdentityScheme?this.finishedApi.convertSharedUriToLocal(r):r,o=await this.createNotebook(s,n);await o.onAttach(e)}),await this.attemptToForwardPort(e,this.portToForward))}}async onSessionChange(e){await super.onSessionChange(e),this.getNotebooks().forEach(async t=>{const n=t;n&&await n.onSessionChange(e)})}async onDetach(e){await super.onDetach(e),e&&this.sharedPort&&(this.sharedPort.dispose(),this.sharedPort=void 0)}async waitForServiceName(){const e=await this.waitForConnect();return e?`${u.LiveShare.JupyterServerSharedService}${e.purpose}`:u.LiveShare.JupyterServerSharedService}async createNotebookInstance(e,t,n,r,i,s,a){const d=await this.getNotebook(e);if(d)return n&&await n.dispose(),d;const p=await this.waitForConnect();if(!p)throw this.getDisposedError();const f=n||await t.startNew(p.kernelSpec,a);if(o.traceInfo(`Started session ${this.id}`),f){const t=new h.HostJupyterNotebook(this.liveShare,f,i,r,this,p,s,e,this.getDisposedError.bind(this),this.workspaceService);o.traceInfo(`Waiting for idle ${this.id}`);const n=new c.StopWatch,d=i.getSettings().datascience.jupyterLaunchTimeout;return await t.waitForIdle(d),l.sendTelemetryEvent(u.Telemetry.WaitForIdleJupyter,n.elapsedTime),await t.initialize(a),o.traceInfo(`Finished connecting ${this.id}`),this.setNotebook(e,t),t}throw this.getDisposedError()}async attemptToForwardPort(e,t){0!==t&&e&&e.session&&e.session.role===s.Role.Host?(this.portToForward=0,this.sharedPort=await e.shareServer({port:t,displayName:a.DataScience.liveShareHostFormat().format(r.hostname())})):this.portToForward=t}onSync(){return Promise.resolve(!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(36),i=n(6),s=n(17),o=n(12),a=n(16);t.JupyterServerBase=class{constructor(e,t,n,i,o,a){this.asyncRegistry=t,this.disposableRegistry=n,this.configService=i,this.sessionManagerFactory=o,this.loggers=a,this._id=r(),this.connectPromise=s.createDeferred(),this.notebooks=new Map,this.asyncRegistry.push(this)}async connect(e,t){let n;i.traceInfo(`Connecting server ${this.id} kernelSpec ${e.kernelSpec?e.kernelSpec.name:"unknown"}`),this.launchInfo=e,this.connectPromise.resolve(e),this.launchInfo&&this.launchInfo.connectionInfo&&(this.connectionInfoDisconnectHandler=this.launchInfo.connectionInfo.disconnected(e=>{i.traceError(o.DataScience.jupyterServerCrashed().format(e.toString())),this.serverExitCode=e,this.shutdown().ignoreErrors()})),this.sessionManager=await this.sessionManagerFactory.create(e.connectionInfo),n=await this.sessionManager.startNew(e.kernelSpec,t);const r=this.configService.getSettings().datascience.jupyterLaunchTimeout;await n.waitForIdle(r),this.savedSession=n}createNotebook(e,t){if(!this.sessionManager)throw new Error(o.DataScience.sessionDisposed());const n=this.savedSession;return this.savedSession=void 0,this.createNotebookInstance(e,this.sessionManager,n,this.disposableRegistry,this.configService,this.loggers,t)}async shutdown(){this.connectionInfoDisconnectHandler&&(this.connectionInfoDisconnectHandler.dispose(),this.connectionInfoDisconnectHandler=void 0),await this.destroyKernelSpec(),this.savedSession&&(await this.savedSession.dispose(),this.savedSession=void 0),i.traceInfo(`Shutting down notebooks for ${this.id}`),await Promise.all([...this.notebooks.values()].map(e=>e.dispose())),i.traceInfo("Shut down session manager"),this.sessionManager&&(await this.sessionManager.dispose(),this.sessionManager=void 0),this.launchInfo&&this.launchInfo.connectionInfo&&(i.traceInfo("Shutdown server - dispose conn info"),this.launchInfo.connectionInfo.dispose(),this.launchInfo=void 0)}dispose(){return this.shutdown()}get id(){return this._id}waitForConnect(){return this.connectPromise.promise}getConnectionInfo(){if(this.launchInfo)return{...this.launchInfo.connectionInfo,dispose:a.noop}}getDisposedError(){return this.serverExitCode?new Error(o.DataScience.jupyterServerCrashed().format(this.serverExitCode.toString())):new Error(o.DataScience.sessionDisposed())}async getNotebook(e){return this.notebooks.get(e.toString())}getNotebooks(){return[...this.notebooks.values()]}setNotebook(e,t){const n=t.dispose;t.dispose=()=>(this.notebooks.delete(e.toString()),n()),this.notebooks.set(e.toString(),t)}createNotebookInstance(e,t,n,r,i,s,o){throw new Error("You forgot to override createNotebookInstance")}async destroyKernelSpec(){try{this.launchInfo&&this.launchInfo.kernelSpec&&await this.launchInfo.kernelSpec.dispose()}catch(e){a.noop()}this.launchInfo&&(this.launchInfo.kernelSpec=void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(511),i=n(159),s=n(2),o=n(41),a=n(6),c=n(17),l=n(15),u=n(1185),d=n(108),h=n(533),p=n(1187);t.HostJupyterNotebook=class extends(d.LiveShareParticipantHost(u.JupyterNotebookBase,l.LiveShare.JupyterNotebookSharedService)){constructor(e,t,n,r,i,s,o,a,c,l){super(e,t,n,r,i,s,o,a,c,l),this.catchupResponses=new h.ResponseQueue,this.localResponses=new h.ResponseQueue,this.requestLog=new Map,this.catchupPendingCount=0,this.disposed=!1,this.dispose=async()=>{if(!this.disposed){this.disposed=!0,await super.dispose();const e=await this.api;return this.onDetach(e)}},this.translateForGuest=e=>{const t=e;return t&&t.cells?{cells:t.cells.map(this.translateCellForGuest,this),...t}:e}}async onAttach(e){if(await super.onAttach(e),e&&!this.disposed){const e=await this.waitForService();e&&(e.onRequest(l.LiveShareCommands.syncRequest,(e,t)=>this.onSync()),e.onRequest(l.LiveShareCommands.getSysInfo,(e,t)=>this.onGetSysInfoRequest(t)),e.onRequest(l.LiveShareCommands.restart,(e,t)=>this.onRestartRequest(e.length>0?e[0]:l.LiveShare.InterruptDefaultTimeout,t)),e.onRequest(l.LiveShareCommands.interrupt,(e,t)=>this.onInterruptRequest(e.length>0?e[0]:l.LiveShare.InterruptDefaultTimeout,t)),e.onRequest(l.LiveShareCommands.disposeServer,(e,t)=>this.dispose()),e.onNotify(l.LiveShareCommands.catchupRequest,e=>this.onCatchupRequest(e)),e.onNotify(l.LiveShareCommands.executeObservable,e=>this.onExecuteObservableRequest(e)))}}async waitForServiceName(){const e="file"===this.resource.scheme?this.finishedApi.convertLocalUriToShared(this.resource):this.resource;return Promise.resolve(`${l.LiveShare.JupyterNotebookSharedService}${e.toString()}`)}async onPeerChange(e){await super.onPeerChange(e),this.catchupPendingCount+=e.added.filter(e=>e.role===o.Role.Guest).length-e.removed.filter(e=>e.role===o.Role.Guest).length}clear(e){this.requestLog.delete(e)}executeObservable(e,t,n,r,i){return this.requestLog.has(r)?this.localResponses.waitForObservable(e,r):this.makeObservableRequest(e,t,n,r,i,[this.catchupResponses])}async restartKernel(e){try{await super.restartKernel(e)}catch(e){throw this.postException(e,[]),e}}async interruptKernel(e){try{return super.interruptKernel(e)}catch(e){throw this.postException(e,[]),e}}makeRequest(e,t,n,r,i,s){const o=c.createDeferred();let a;return this.makeObservableRequest(e,t,n,r,i,s).subscribe(e=>{a=e},e=>{o.reject(e)},()=>{o.resolve(a)}),o.promise}makeObservableRequest(e,t,n,r,i,s){try{this.requestLog.set(r,Date.now());const o=super.executeObservable(e,t,n,r,i),a=Date.now();for(const[e,t]of this.requestLog)a-t>l.LiveShare.ResponseLifetime&&this.requestLog.delete(e);return this.postObservableResult(e,o,r,s)}catch(e){throw this.postException(e,s),e}}translateCellForGuest(e){const t={...e};return this.role===o.Role.Host&&this.finishedApi&&t.file!==l.Identifiers.EmptyFileName&&(t.file=this.finishedApi.convertLocalUriToShared(s.Uri.file(t.file)).fsPath),t}onSync(){return Promise.resolve(!0)}onGetSysInfoRequest(e){return super.getSysInfo()}onRestartRequest(e,t){return super.restartKernel(e)}onInterruptRequest(e,t){return super.interruptKernel(e)}async onCatchupRequest(e){if(e.hasOwnProperty("since")){const e=await this.waitForService();e&&(this.catchupResponses.send(e,this.translateForGuest.bind(this)),this.catchupPendingCount-=1,this.catchupPendingCount<=0&&this.catchupResponses.clear())}}onExecuteObservableRequest(e){if(e.hasOwnProperty("code")){const t=e;if(!this.requestLog.has(t.id))try{const e=s.Uri.parse(`vsls:${t.file}`),n=this.finishedApi&&t.file!==l.Identifiers.EmptyFileName?this.finishedApi.convertSharedUriToLocal(e).fsPath:t.file;this.makeRequest(t.code,n,t.line,t.id,!1,[this.localResponses,this.catchupResponses]).ignoreErrors()}catch(e){a.traceError(e)}}}postObservableResult(e,t,n,r){return new i.Observable(i=>{let s=0;t.subscribe(t=>{i.next(t);try{this.postObservableNext(e,s,t,n,r),s+=1}catch(e){i.error(e),this.postException(e,r)}},e=>{i.error(e),this.postException(e,r)},()=>{i.complete(),this.postObservableComplete(e,s,n,r)})})}postObservableNext(e,t,n,r,i){this.postResult(p.ServerResponseType.ExecuteObservable,{code:e,pos:t,type:p.ServerResponseType.ExecuteObservable,cells:n,id:r,time:Date.now()},this.translateForGuest,i)}postObservableComplete(e,t,n,r){this.postResult(p.ServerResponseType.ExecuteObservable,{code:e,pos:t,type:p.ServerResponseType.ExecuteObservable,cells:void 0,id:n,time:Date.now()},this.translateForGuest,r)}postException(e,t){this.postResult(p.ServerResponseType.Exception,{type:p.ServerResponseType.Exception,time:Date.now(),message:e.toString()},e=>e,t)}postResult(e,t,n,i){const s=t;if(s)try{const e=r(s);this.waitForService().then(t=>{t&&t.notify(l.LiveShareCommands.serverResponse,n(e))}).ignoreErrors(),i.forEach(t=>t.push(e))}catch(e){a.traceError(e)}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const i=n(46),s=n(159),o=n(36),a=n(2),c=n(71),l=n(6),u=n(17),d=n(12),h=n(16),p=n(24),f=n(9),m=n(105),g=n(94),y=n(82),v=n(15),_=n(19),b=n(1186);class S{constructor(e,t,n){this.deferred=u.createDeferred(),this.canceledEvent=new a.EventEmitter,this.cellRef=e,this.subscriber=t,this.promiseComplete=n,this._startTime=Date.now()}get startTime(){return this._startTime}get onCanceled(){return this.canceledEvent.event}isValid(e){return e&&this.startTime>=e}next(e){this.isValid(e)&&this.subscriber.next(this.cellRef),this.attemptToFinish()}error(e,t){this.isValid(e)&&this.subscriber.error(t)}complete(e){this.isValid(e)&&this.subscriber.next(this.cellRef),this.subscriber.complete(),this.attemptToFinish()}reject(e){this.deferred.completed||(this.cellRef.state=_.CellState.error,this.subscriber.next(this.cellRef),this.subscriber.complete(),this.deferred.reject(e),this.promiseComplete(this))}cancel(){this.canceledEvent.fire(),this.deferred.completed||(this.cellRef.state=_.CellState.error,this.subscriber.next(this.cellRef),this.subscriber.complete(),this.deferred.resolve(),this.promiseComplete(this))}get promise(){return this.deferred.promise}get cell(){return this.cellRef}attemptToFinish(){this.deferred.completed||this.cell.state!==_.CellState.finished&&this.cell.state!==_.CellState.error||(this.deferred.resolve(this.cell.state),this.promiseComplete(this))}}class w{constructor(e,t,r,o,a,c,u,p,f,m){this.session=t,this.configService=r,this.disposableRegistry=o,this.owner=a,this.launchInfo=c,this.loggers=u,this.getDisposedError=f,this.workspace=m,this.pendingCellSubscriptions=[],this.ranInitialSetup=!1,this._disposed=!1,this.generateRequest=(e,t)=>{try{const n=new g.CellMatcher(this.configService.getSettings().datascience);return this.session?this.session.requestExecute({code:n.stripFirstMarker(e),stop_on_error:!1,allow_stdin:!1,store_history:!t},!0):void 0}catch(e){l.traceError(e)}},this.combineObservables=(...e)=>new s.Observable(t=>{const n={};e.forEach(r=>{r.subscribe(r=>{n[r.id]=r;const i=Object.keys(n).map(e=>n[e]);i.length===e.length&&(t.next(i),i.every(e=>e.state===_.CellState.finished||e.state===_.CellState.error)&&t.complete())},e=>{t.error(e)})})}),this.executeMarkdownObservable=e=>new s.Observable(t=>{t.next(e),t.complete()}),this.changeDirectoryIfPossible=async e=>{this.launchInfo&&this.launchInfo.connectionInfo.localLaunch&&await i.pathExists(e)&&await this.executeSilently(`%cd "${e}"`)},this.handleCodeRequest=(e,t)=>{if(e.isValid(this.sessionStartTime))if(this.launchInfo&&this.launchInfo.connectionInfo&&this.launchInfo.connectionInfo.localProcExitCode){const t=this.launchInfo.connectionInfo.localProcExitCode;l.traceError(`Jupyter crashed with code ${t}`),e.error(this.sessionStartTime,new Error(d.DataScience.jupyterServerCrashed().format(t.toString()))),e.complete(this.sessionStartTime)}else{const r=this.generateRequest(y.concatMultilineStringInput(e.cell.data.source),t),i=n(534);let s;e.cell.state=_.CellState.executing,this.launchInfo&&this.launchInfo.connectionInfo&&(s=this.launchInfo.connectionInfo.disconnected(t=>{const n=t?t.toString():"";this._disposed||e.error(this.sessionStartTime,new Error(d.DataScience.jupyterServerCrashed().format(n))),e.complete(this.sessionStartTime)}));const o=t?e=>e:this.trimOutput.bind(this),a=new Map;r?(e.onCanceled(()=>{r.onIOPub=h.noop}),r.onIOPub=t=>{try{i.KernelMessage.isExecuteResultMsg(t)?this.handleExecuteResult(t,a,e.cell,o):i.KernelMessage.isExecuteInputMsg(t)?this.handleExecuteInput(t,a,e.cell):i.KernelMessage.isStatusMsg(t)?this.handleStatusMessage(t,a,e.cell):i.KernelMessage.isStreamMsg(t)?this.handleStreamMesssage(t,a,e.cell,o):i.KernelMessage.isDisplayDataMsg(t)?this.handleDisplayData(t,a,e.cell):i.KernelMessage.isUpdateDisplayDataMsg(t)?this.handleUpdateDisplayData(t,a,e.cell):i.KernelMessage.isClearOutputMsg(t)?this.handleClearOutput(t,a,e.cell):i.KernelMessage.isErrorMsg(t)?this.handleError(t,a,e.cell):l.traceWarning(`Unknown message ${t.header.msg_type} : hasData=${"data"in t.content}`),t.content.execution_count&&(e.cell.data.execution_count=t.content.execution_count),e.next(this.sessionStartTime)}catch(t){e.error(this.sessionStartTime,t)}},r.done.then(()=>{e.complete(this.sessionStartTime),s&&s.dispose()}).catch(t=>e.error(this.sessionStartTime,t))):e.error(this.sessionStartTime,this.getDisposedError())}else{const t=new Date(this.sessionStartTime),n=new Date(e.startTime);l.traceInfo(`Session start time is newer than cell : \r\n${t.toTimeString()}\r\n${n.toTimeString()}`),this.handleInterrupted(e.cell),e.cell.state=_.CellState.error,e.complete(this.sessionStartTime)}},this.addToCellData=(e,t,n)=>{if(n.get(t.output_type)){n.delete(t.output_type);const r=e.data,i=r.outputs.findIndex(e=>e.output_type===t.output_type);i>=0?r.outputs.splice(i,1,t):r.outputs=[...r.outputs,t],e.data=r}else{const n=e.data;n.outputs=[...n.outputs,t],e.data=n}},this.sessionStartTime=Date.now(),this._resource=p}get server(){return this.owner}dispose(){if(l.traceInfo(`Shutting down session ${this.resource.toString()}`),!this._disposed){this._disposed=!0;const e=this.session?this.session.dispose():void 0;return e||Promise.resolve()}return Promise.resolve()}get resource(){return this._resource}waitForIdle(e){return this.session?this.session.waitForIdle(e):Promise.resolve()}async initialize(e){if(!this.ranInitialSetup){this.ranInitialSetup=!0,this._workingDirectory=void 0;try{await this.updateWorkingDirectory();const t=this.configService.getSettings().datascience,n=!t||t.enablePlotViewer?v.CodeSnippits.MatplotLibInitSvg:v.CodeSnippits.MatplotLibInitPng;l.traceInfo(`Initialize matplotlib for ${this.resource.toString()}`),await this.executeSilently(n,e);const r=t.runStartupCommands||t.runMagicCommands;if(r){const t=r.replace(/\\n/g,"\n"),n=await this.executeSilently(t,e);l.traceInfo(`Run startup code for notebook: ${t} - results: ${n.length}`)}l.traceInfo(`Initial setup complete for ${this.resource.toString()}`)}catch(e){l.traceWarning(e)}}}clear(e){h.noop()}execute(e,t,n,r,i,s){const o=u.createDeferred();let a;return this.executeObservable(e,t,n,r,s).subscribe(e=>{a=e},e=>{o.reject(e)},()=>{o.resolve(a)}),i&&this.disposableRegistry.push(i.onCancellationRequested(()=>o.reject(new c.CancellationError))),o.promise}setLaunchingFile(e){return this.updateWorkingDirectory(e)}executeObservable(e,t,n,r,i=!1){const o=new p.StopWatch,a=this.executeObservableImpl(e,t,n,r,i);return new s.Observable(e=>{a.subscribe(t=>{e.next(t)},t=>{e.error(t)},()=>{e.complete(),f.sendTelemetryEvent(v.Telemetry.ExecuteCell,o.elapsedTime)})})}async getSysInfo(){const e=await this.executeSilently("import sys\r\nsys.version"),t=await this.executeSilently("import sys\r\nsys.executable"),n=await this.executeSilently("import notebook\r\nnotebook.version_info");return{data:{cell_type:"messages",messages:[e.length>0?this.extractStreamOutput(e[0]).trimQuotes():"",n.length>0?this.extractStreamOutput(n[0]).trimQuotes():"",e.length>0?this.extractStreamOutput(t[0]).trimQuotes():""],metadata:{},source:[]},id:o(),file:"",line:0,state:_.CellState.finished}}async restartKernel(e){if(this.session)return this.sessionStartTime=Date.now(),l.traceInfo("restartKernel - finishing cells that are outstanding"),this.finishUncompletedCells(),l.traceInfo("restartKernel - restarting kernel"),await this.session.restart(e),this.ranInitialSetup=!1,l.traceInfo("restartKernel - initialSetup"),await this.initialize(),void l.traceInfo("restartKernel - initialSetup completed");throw this.getDisposedError()}async interruptKernel(e){if(this.session){const t=Date.now(),n=this.pendingCellSubscriptions.length>0?this.pendingCellSubscriptions[0]:void 0,r=n?n.promise:Promise.resolve(_.CellState.finished),i=u.createDeferred(),s=()=>{this.sessionStartTime=Date.now(),l.traceWarning("Kernel restarting during interrupt"),this.ranInitialSetup=!1,i.resolve([]),this.finishUncompletedCells()},o=this.session.onRestarted(s);this.session.interrupt(e).catch(e=>{l.traceWarning(`Error during interrupt: ${e}`),i.resolve([])});try{const n=await u.waitForPromise(Promise.race([r,i.promise]),e);return i.completed?_.InterruptResult.Restarted:null===n?_.InterruptResult.TimedOut:(this.finishUncompletedCells(),_.InterruptResult.Success)}catch(e){if(this.sessionStartTime&&t<this.sessionStartTime)return _.InterruptResult.Restarted;throw e}finally{o.dispose()}}throw this.getDisposedError()}async setMatplotLibStyle(e){const t=this.configService.getSettings().datascience;t.themeMatplotlibPlots&&!t.ignoreVscodeTheme&&await this.executeSilently(e?"matplotlib.style.use('dark_background')":`matplotlib.rcParams.update(${v.Identifiers.MatplotLibDefaultParams})`)}async getCompletion(e,t,n){if(this.session){const r=await c.Cancellation.race(()=>this.session.requestComplete({code:e,cursor_pos:t}),n);if(r&&r.content)return{matches:r.content.matches,cursor:{start:r.content.cursor_start,end:r.content.cursor_end},metadata:r.content.metadata}}throw new Error(d.DataScience.sessionDisposed())}finishUncompletedCells(){[...this.pendingCellSubscriptions].forEach(e=>e.cancel()),this.pendingCellSubscriptions=[]}executeSilently(e,t){const n=u.createDeferred();let r;return this.executeObservableImpl(e,v.Identifiers.EmptyFileName,0,o(),!0).subscribe(e=>{r=e},e=>{n.reject(e)},()=>{n.resolve(r)}),t&&this.disposableRegistry.push(t.onCancellationRequested(()=>n.reject(new c.CancellationError))),n.promise}extractStreamOutput(e){let t="";if(e.state===_.CellState.error||e.state===_.CellState.finished){const n=e.data.outputs;n&&n.forEach(e=>{if("stream"===e.output_type){const n=e;t=t.concat(y.formatStreamText(y.concatMultilineStringOutput(n.text)))}else{const n=e.data;n&&n.hasOwnProperty("text/plain")&&(t=t.concat(n["text/plain"]))}})}return t}executeObservableImpl(e,t,n,r,i){if(this.session){const s=m.generateCells(this.configService.getSettings().datascience,e,t,n,!0,r);if(s.length>1)return this.combineObservables(this.executeMarkdownObservable(s[0]),this.executeCodeObservable(s[1],i));if(s.length>0)return this.combineObservables("code"===s[0].data.cell_type?this.executeCodeObservable(s[0],i):this.executeMarkdownObservable(s[0]))}return l.traceError("No session during execute observable"),new s.Observable(e=>{e.error(this.getDisposedError()),e.complete()})}async updateWorkingDirectory(e){if(this.launchInfo&&this.launchInfo.connectionInfo.localLaunch&&!this._workingDirectory){const t=this.launchInfo.workingDir;if(t&&await i.pathExists(t))return this._workingDirectory=t,this.changeDirectoryIfPossible(this._workingDirectory);if(e&&await i.pathExists(e)&&(this._workingDirectory=b.expandWorkingDir(this.launchInfo.workingDir,e,this.workspace),this._workingDirectory))return this.changeDirectoryIfPossible(this._workingDirectory)}}executeCodeObservable(e,t){return new s.Observable(n=>{n.next(e);const r=void 0!==t&&t,i=new S(e,n,t=>{this.pendingCellSubscriptions=this.pendingCellSubscriptions.filter(e=>e!==t),this.logPostCode(e,r).ignoreErrors()});this.pendingCellSubscriptions.push(i),this.logPreCode(e,r).then(()=>{this.handleCodeRequest(i,t)}).ignoreErrors()})}async logPreCode(e,t){await Promise.all(this.loggers.map(n=>n.preExecute(e,t)))}async logPostCode(e,t){await Promise.all(this.loggers.map(n=>n.postExecute(e,t)))}handleExecuteResult(e,t,n,r){e.content.data&&e.content.data.hasOwnProperty("text/plain")&&(e.content.data["text/plain"]=r(e.content.data["text/plain"])),this.addToCellData(n,{output_type:"execute_result",data:e.content.data,metadata:e.content.metadata,execution_count:e.content.execution_count},t)}handleExecuteInput(e,t,n){n.data.execution_count=e.content.execution_count}handleStatusMessage(e,t,n){"idle"===e.content.execution_state&&n.state!==_.CellState.error&&(n.state=_.CellState.finished)}handleStreamMesssage(e,t,n,r){const i=n.data.outputs.find(e=>"stream"===e.output_type);if(i)t.get("stream")?(t.delete("stream"),i.text=e.content.text):(i.text=i.text+e.content.text,i.text=r(y.formatStreamText(y.concatMultilineStringOutput(i.text))));else{const i={output_type:"stream",name:e.content.name,text:r(y.formatStreamText(y.concatMultilineStringOutput(e.content.text)))};this.addToCellData(n,i,t)}}handleDisplayData(e,t,n){const r={output_type:"display_data",data:e.content.data,metadata:e.content.metadata};this.addToCellData(n,r,t)}handleUpdateDisplayData(e,t,n){const r=n.data.outputs.find(e=>"display_data"===e.output_type);r&&(r.data=e.content.data,r.metadata=e.content.metadata)}handleClearOutput(e,t,n){if(e&&e.content.wait)t.set("display_data",!0),t.set("error",!0),t.set("execute_result",!0),t.set("stream",!0);else{n.data.outputs=[]}}handleInterrupted(e){this.handleError({channel:"iopub",parent_header:{},metadata:{},header:{username:"",version:"",session:"",msg_id:"",msg_type:"error"},content:{ename:"KeyboardInterrupt",evalue:"",traceback:["[1;31m---------------------------------------------------------------------------[0m","[1;31mKeyboardInterrupt[0m: "]}},new Map,e)}handleError(e,t,n){const r={output_type:"error",ename:e.content.ename,evalue:e.content.evalue,traceback:e.content.traceback};this.addToCellData(n,r,t),n.state=_.CellState.error,this.configService.getSettings().datascience.stopOnError&&this.pendingCellSubscriptions.forEach(e=>{e.cell.id!==n.id&&e.cancel()})}trimOutput(e){const t=this.configService.getSettings().datascience.textOutputLimit;return!t||0===t||e.length<=t?e:e.substr(e.length-t)}}r([f.captureTelemetry(v.Telemetry.RestartJupyterTime)],w.prototype,"restartKernel",null),r([f.captureTelemetry(v.Telemetry.InterruptJupyterTime)],w.prototype,"interruptKernel",null),r([f.captureTelemetry(v.Telemetry.HiddenCellTime)],w.prototype,"executeSilently",null),t.JupyterNotebookBase=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(3),i=n(2),s=n(93);t.expandWorkingDir=function(e,t,n){if(e)return new s.SystemVariables(i.Uri.file(t),void 0,n).resolve(e);return r.dirname(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ExecuteObservable=0]="ExecuteObservable",e[e.Exception=1]="Exception"}(t.ServerResponseType||(t.ServerResponseType={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(19),c=n(1189);let l=class{constructor(e,t){this.jupyterPasswordConnect=e,this.config=t}async create(e){const t=new c.JupyterSessionManager(this.jupyterPasswordConnect,this.config);return await t.initialize(e),t}};l=r([s.injectable(),i(0,s.inject(a.IJupyterPasswordConnect)),i(1,s.inject(o.IConfigurationService))],l),t.JupyterSessionManagerFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(534),i=n(75),s=n(6),o=n(12),a=n(528),c=n(1190),l=n(1191);t.JupyterSessionManager=class{constructor(e,t){this.jupyterPasswordConnect=e,this.config=t}async dispose(){this.contentsManager&&(s.traceInfo("SessionManager - dispose contents manager"),this.contentsManager.dispose(),this.contentsManager=void 0),this.sessionManager&&!this.sessionManager.isDisposed&&(s.traceInfo("ShutdownSessionAndConnection - dispose session manager"),this.sessionManager.dispose(),this.sessionManager=void 0)}getConnInfo(){return this.connInfo}async initialize(e){this.connInfo=e,this.serverSettings=await this.getServerConnectSettings(e),this.sessionManager=new r.SessionManager({serverSettings:this.serverSettings}),this.contentsManager=new r.ContentsManager({serverSettings:this.serverSettings})}async startNew(e,t){if(!(this.connInfo&&this.sessionManager&&this.contentsManager&&this.serverSettings))throw new Error(o.DataScience.sessionDisposed());const n=new c.JupyterSession(this.connInfo,this.serverSettings,e,this.sessionManager,this.contentsManager);try{await n.connect(t)}finally{n.isConnected||await n.dispose()}return n}async getActiveKernelSpecs(){if(!this.connInfo||!this.sessionManager||!this.contentsManager)throw new Error(o.DataScience.sessionDisposed());try{await this.sessionManager.refreshSpecs();const e=this.sessionManager.specs&&this.sessionManager.specs.kernelspecs?this.sessionManager.specs.kernelspecs:{};return Object.keys(e).map(t=>{const n=e[t];return new a.JupyterKernelSpec(n)})}catch(e){return[]}}getSessionCookieString(e){return`_xsrf=${e.xsrfCookie}; ${e.sessionCookieName}=${e.sessionCookieValue}`}async getServerConnectSettings(e){let t,n,s={baseUrl:e.baseUrl,pageUrl:"",wsUrl:e.baseUrl.replace("http","ws")},a={cache:"no-store",credentials:"same-origin"};if(""===e.token||"null"===e.token){s={...s,token:""};const n=await this.jupyterPasswordConnect.getPasswordConnectionInfo(e.baseUrl,!!e.allowUnauthorized);if(n&&!n.emptyPassword){const e={Cookie:t=this.getSessionCookieString(n),"X-XSRFToken":n.xsrfCookie};a={...a,headers:e}}else{if(!n||!n.emptyPassword)throw new Error(o.DataScience.passwordFailure());s={...s,token:e.token}}}else s={...s,token:e.token};if(e.baseUrl.startsWith("https")&&e.allowUnauthorized){const e=new i.Agent({rejectUnauthorized:!1});a={...a,agent:e},n=!0}return s={...s,init:a,WebSocket:l.createJupyterWebSocket(this.config.getSettings().datascience.verboseLogging,t,n)},r.ServerConnection.makeSettings(s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(2),s=n(71),o=n(13),a=n(6),c=n(17),l=n(12),u=n(16),d=n(523),h=n(529);t.JupyterSession=class{constructor(e,t,n,r,i){this.connInfo=e,this.serverSettings=t,this.kernelSpec=n,this.sessionManager=r,this.contentsManager=i,this.notebookFiles=[],this.connected=!1}dispose(){return this.shutdown()}async shutdown(){if(this.notebookFiles.length&&this.contentsManager&&this.connInfo&&!this.connInfo.localLaunch)try{await this.sessionManager.refreshRunning(),await Promise.all(this.notebookFiles.map(e=>this.contentsManager.delete(e.path))),this.notebookFiles=[]}catch(e){u.noop()}if(this.session){try{if(a.traceInfo("Shutdown session - current session"),await this.shutdownSession(this.session,this.statusHandler),a.traceInfo("Shutdown session - get restart session"),this.restartSessionPromise){const e=await this.restartSessionPromise;a.traceInfo("Shutdown session - shutdown restart session"),await this.shutdownSession(e,void 0)}}catch(e){u.noop()}this.session=void 0,this.restartSessionPromise=void 0}this.onRestartedEvent&&this.onRestartedEvent.dispose(),a.traceInfo("Shutdown session -- complete")}get onRestarted(){return this.onRestartedEvent||(this.onRestartedEvent=new i.EventEmitter),this.onRestartedEvent.event}async waitForIdle(e){await this.waitForIdleOnSession(this.session,e)}async restart(e){if(!(this.restartSessionPromise&&this.session&&this.sessionManager&&this.contentsManager))throw new Error(l.DataScience.sessionDisposed());{a.traceInfo(`Restarting ${this.session.kernel.id}`);const e=this.session,t=this.statusHandler;if(this.session=await this.restartSessionPromise,!this.session)throw new Error(l.DataScience.sessionDisposed());a.traceInfo(`Got new session ${this.session.kernel.id}`),this.statusHandler=this.onStatusChanged.bind(this.onStatusChanged),this.session.statusChanged.connect(this.statusHandler),this.restartSessionPromise=this.createRestartSession(e.serverSettings,this.contentsManager),a.traceInfo("Started new restart session"),t&&e.statusChanged.disconnect(t),this.shutdownSession(e,void 0).ignoreErrors()}}async interrupt(e){this.session&&this.session.kernel&&await this.waitForKernelPromise(this.session.kernel.interrupt(),e,l.DataScience.interruptingKernelFailed())}requestExecute(e,t,n){return this.startRestartSession(),this.session&&this.session.kernel?this.session.kernel.requestExecute(e,t,n):void 0}requestComplete(e){return this.startRestartSession(),this.session&&this.session.kernel?this.session.kernel.requestComplete(e):Promise.resolve(void 0)}async connect(e){if(!this.connInfo)throw new Error(l.DataScience.sessionDisposed());this.session=await this.createSession(this.serverSettings,this.contentsManager,e),this.statusHandler=this.onStatusChanged.bind(this.onStatusChanged),this.session.statusChanged.connect(this.statusHandler),this.connected=!0}get isConnected(){return this.connected}startRestartSession(){!this.restartSessionPromise&&this.session&&this.contentsManager&&(this.restartSessionPromise=this.createRestartSession(this.session.serverSettings,this.contentsManager))}async waitForIdleOnSession(e,t){if(e&&e.kernel){a.traceInfo(`Waiting for idle on: ${e.kernel.id} -> ${e.kernel.status}`);const n=Date.now();for(;e&&e.kernel&&"idle"!==e.kernel.status&&Date.now()-n<t;)await c.sleep(100);if(a.traceInfo(`Finished waiting for idle on: ${e.kernel.id} -> ${e.kernel.status}`),e.kernel&&"idle"===e.kernel.status)return;throw new h.JupyterWaitForIdleError(l.DataScience.jupyterLaunchTimedOut())}}async createRestartSession(e,t,n){let r,i,s=0;for(;s<3;)try{return r=await this.createSession(e,t,n),await this.waitForIdleOnSession(r,3e4),r}catch(e){a.traceInfo(`Error waiting for restart session: ${e}`),s+=1,r&&this.shutdownSession(r,void 0).ignoreErrors(),r=void 0,i=e}throw i}async createSession(e,t,n){this.notebookFiles.push(await t.newUntitled({type:"notebook"}));const i={path:this.notebookFiles[this.notebookFiles.length-1].path,kernelName:this.kernelSpec?this.kernelSpec.name:"",name:r(),serverSettings:e};return s.Cancellation.race(()=>this.sessionManager.startNew(i),n)}async waitForKernelPromise(e,t,n){try{return await c.waitForPromise(e,t)}catch(e){if(!e)throw new d.JupyterKernelPromiseFailedError(n);throw e}}onStatusChanged(e,t){"starting"===t&&this.onRestartedEvent&&this.onRestartedEvent.fire()}async shutdownSession(e,t){if(e&&e.kernel){const n=e.kernel.id;a.traceInfo(`shutdownSession ${n} - start`);try{t&&e.statusChanged.disconnect(t);try{if(o.isTestExecution()){const t=e.kernel;if(t&&t._futures){const e=t._futures;e&&e.forEach(e=>{void 0!==e._status&&(e._status|=4)})}t&&t._reconnectLimit&&(t._reconnectLimit=0),await c.waitForPromise(e.shutdown(),1e3)}else await c.waitForPromise(e.shutdown(),1e3)}catch(e){u.noop()}e&&!e.isDisposed&&e.dispose()}catch(e){a.traceWarning(e)}a.traceInfo(`shutdownSession ${n} - shutdown complete`)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1192),i=n(6);t.createJupyterWebSocket=function(e,t,n){return class extends r{constructor(e,r){let i={};n&&(i={...i,rejectUnauthorized:!1}),t&&(i={...i,headers:{Cookie:t}}),super(e,r,i);const s=/.*\/kernels\/(.*)\/.*/.exec(this.url);s&&s.length>1&&(this.kernelId=s[1])}emit(t,...n){const r=super.emit(t,...n);if(e){const e="message"===t&&n[0]?n[0]:"";i.traceInfo(`Jupyter WebSocket event: ${String(t)}:${String(e)} for kernel ${this.kernelId}`)}return r}}}},function(e,t,n){"use strict";const r=n(535);r.Server=n(1196),r.Receiver=n(537),r.Sender=n(539),e.exports=r},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=e||{},this.concurrency=e.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=function(){this.pending--,this._run()}.bind(this)}["push","unshift","splice"].forEach(function(e){r.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this._run(),t}}),Object.defineProperty(r.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),r.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var e=this.jobs.shift();this.pending++,e(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var t=this.cbs.pop();process.nextTick(t)}}},r.prototype.onDone=function(e){"function"==typeof e&&(this.cbs.push(e),this._run())},e.exports=r},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class s extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class o extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function n(e){t.call(this,new i(e,this))}function r(e,n){t.call(this,new s(e,n,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new o(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(r._listener=t,this.on(e,r)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=c},function(e,t,n){"use strict";const r=n(56),i=n(58),s=n(74),o=n(169),a=n(536),c=n(535),{GUID:l}=n(109),u=/^[+/0-9A-Za-z]{22}==$/;function d(e){e.emit("close")}function h(){this.destroy()}function p(e,t,n,r){e.writable&&(n=n||s.STATUS_CODES[t],r=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(n)},r),e.write(`HTTP/1.1 ${t} ${s.STATUS_CODES[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",h),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e)).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=s.createServer((e,t)=>{const n=s.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(d,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",h);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),s=+e.headers["sec-websocket-version"],c={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!u.test(i)||8!==s&&13!==s||!this.shouldHandle(e))return p(t,400);if(this.options.perMessageDeflate){const n=new o(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const r=a.parse(e.headers["sec-websocket-extensions"]);r[o.extensionName]&&(n.accept(r[o.extensionName]),c[o.extensionName]=n)}catch(e){return p(t,400)}}if(this.options.verifyClient){const o={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(o,(s,o,a,l)=>{if(!s)return p(t,o||401,a,l);this.completeUpgrade(i,c,e,t,n,r)});if(!this.options.verifyClient(o))return p(t,401)}this.completeUpgrade(i,c,e,t,n,r)}completeUpgrade(e,t,n,r,s,u){if(!r.readable||!r.writable)return r.destroy();const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i.createHash("sha1").update(e+l).digest("base64")}`],p=new c(null);var f=n.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),(f=this.options.handleProtocols?this.options.handleProtocols(f,n):f[0])&&(d.push(`Sec-WebSocket-Protocol: ${f}`),p.protocol=f)),t[o.extensionName]){const e=t[o.extensionName].params,n=a.format({[o.extensionName]:[e]});d.push(`Sec-WebSocket-Extensions: ${n}`),p._extensions=t}this.emit("headers",d,n),r.write(d.concat("\r\n").join("\r\n")),r.removeListener("error",h),p.setSocket(r,s,this.options.maxPayload),this.clients&&(this.clients.add(p),p.on("close",()=>this.clients.delete(p))),u(p)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(1198),c=n(36),l=n(6),u=n(8),d=n(12),h=n(30),p=n(15),f=n(371);let m=class{constructor(e){this.fileSystem=e,this.filesLoaded=!1}async getVariables(e){return this.runScript(e,void 0,[],()=>this.fetchVariablesScript)}async getValue(e,t){return this.runScript(t,e,e,()=>this.fetchVariableValueScript)}async getDataFrameInfo(e,t){return this.runScript(t,e,e,()=>this.fetchDataFrameInfoScript,[{key:"_VSCode_JupyterValuesColumn",value:d.DataScience.valuesColumn()}])}async getDataFrameRows(e,t,n,r){return this.runScript(t,e,{},()=>this.fetchDataFrameRowsScript,[{key:"_VSCode_JupyterValuesColumn",value:d.DataScience.valuesColumn()},{key:"_VSCode_JupyterStartRow",value:n.toString()},{key:"_VSCode_JupyterEndRow",value:r.toString()}])}async loadVariableFiles(){let e=o.join(h.EXTENSION_ROOT_DIR,"pythonFiles","datascience","getJupyterVariableList.py");this.fetchVariablesScript=await this.fileSystem.readFile(e),e=o.join(h.EXTENSION_ROOT_DIR,"pythonFiles","datascience","getJupyterVariableValue.py"),this.fetchVariableValueScript=await this.fileSystem.readFile(e),e=o.join(h.EXTENSION_ROOT_DIR,"pythonFiles","datascience","getJupyterVariableDataFrameInfo.py"),this.fetchDataFrameInfoScript=await this.fileSystem.readFile(e),e=o.join(h.EXTENSION_ROOT_DIR,"pythonFiles","datascience","getJupyterVariableDataFrameRows.py"),this.fetchDataFrameRowsScript=await this.fileSystem.readFile(e),this.filesLoaded=!0}async runScript(e,t,n,r,i=[]){this.filesLoaded||await this.loadVariableFiles();const s=r();if(!e||!s)return n;const o=JSON.stringify(t),a=0===i.length?"_VSCode_JupyterTestValue":["_VSCode_JupyterTestValue",...i.map(e=>e.key)].join("|"),l=new RegExp(a,"g"),u=s.replace(l,e=>{if("_VSCode_JupyterTestValue"===e)return o;{const t=i.findIndex(t=>t.key===e);if(t>=0)return i[t].value}return e}),d=await e.execute(u,p.Identifiers.EmptyFileName,0,c(),void 0,!0);return this.deserializeJupyterResult(d)}deserializeJupyterResult(e){if(e.length>0&&e[0].data){const t=e[0].data;if(t.outputs.length>0){const e=t.outputs[0];if(e&&"stream"===e.output_type&&"stderr"===e.name&&e.hasOwnProperty("text")){const t=e.text;if(t.includes("iopub_data_rate_limit"))throw new f.JupyterDataRateLimitError;{const e=d.DataScience.jupyterGetVariablesExecutionError().format(t);throw l.traceError(e),new Error(e)}}if(e&&"stream"===e.output_type&&e.hasOwnProperty("text")){const t=e.text;return JSON.parse(t)}if(e&&"error"===e.output_type&&e.hasOwnProperty("traceback")){const t=e.traceback.map(a.default).join("\r\n"),n=d.DataScience.jupyterGetVariablesExecutionError().format(t);throw l.traceError(n),new Error(n)}}}throw new Error(d.DataScience.jupyterGetVariablesBadResults())}};m=r([s.injectable(),i(0,s.inject(u.IFileSystem))],m),t.JupyterVariables=m},function(e,t,n){"use strict";const r=n(1199),i=e=>"string"==typeof e?e.replace(r(),""):e;e.exports=i,e.exports.default=i},function(e,t,n){"use strict";e.exports=e=>{e=Object.assign({onlyFirst:!1},e);const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e.onlyFirst?void 0:"g")}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(3),a=n(2),c=n(6),l=n(17),u=n(4),d=n(13),h=n(6),p=n(8),f=n(1),m=n(12),g=n(19),y=n(231),v=n(1201),_=n(1202);let b=class extends y.WebViewHost{constructor(e,t,n,r,i,s,c){super(t,e,n,r,i,(e,t,n)=>new v.PlotViewerMessageListener(e,t,n),o.join(d.EXTENSION_ROOT_DIR,"out","datascience-ui","plot","index_bundle.js"),m.DataScience.plotViewerTitle(),a.ViewColumn.One),this.applicationShell=s,this.fileSystem=c,this.closedEvent=new a.EventEmitter,this.removedEvent=new a.EventEmitter,this.addPlot=async e=>{this.isDisposed||(await super.show(!1),this.postMessage(_.PlotViewerMessages.SendPlot,e).ignoreErrors())}}get closed(){return this.closedEvent.event}get removed(){return this.removedEvent.event}async show(){if(!this.isDisposed)return super.show(!0)}dispose(){super.dispose(),this.closedEvent&&this.closedEvent.fire(this)}onMessage(e,t){switch(e){case _.PlotViewerMessages.CopyPlot:this.copyPlot(t.toString()).ignoreErrors();break;case _.PlotViewerMessages.ExportPlot:this.exportPlot(t).ignoreErrors();break;case _.PlotViewerMessages.RemovePlot:this.removePlot(t)}super.onMessage(e,t)}removePlot(e){this.removedEvent.fire(e)}copyPlot(e){return Promise.resolve()}async exportPlot(e){c.traceInfo("exporting plot...");const t={};t[m.DataScience.pdfFilter()]=["pdf"],t[m.DataScience.pngFilter()]=["png"],t[m.DataScience.svgFilter()]=["svg"];const r=await this.applicationShell.showSaveDialog({saveLabel:m.DataScience.exportPlotTitle(),filters:t});try{if(r){switch(o.extname(r.fsPath).toLowerCase()){case".pdf":c.traceInfo("Attempting pdf write...");const t=n(1203),i=l.createDeferred(),s=new(n(1204)),a=this.fileSystem.createWriteStream(r.fsPath);c.traceInfo(`Writing pdf to ${r.fsPath}`),a.on("finish",()=>i.resolve),t(s,e.svg,0,0),s.pipe(a),s.end(),c.traceInfo(`Finishing pdf to ${r.fsPath}`),await i.promise,c.traceInfo(`Completed pdf to ${r.fsPath}`);break;case".png":const u=new Buffer(e.png.replace("data:image/png;base64",""),"base64");await this.fileSystem.writeFile(r.fsPath,u);break;default:case".svg":await this.fileSystem.writeFile(r.fsPath,e.svg)}}}catch(e){h.traceError(e),this.applicationShell.showErrorMessage(m.DataScience.exportImageFailed().format(e))}}};b=r([s.injectable(),i(0,s.inject(u.IWebPanelProvider)),i(1,s.inject(f.IConfigurationService)),i(2,s.inject(g.ICodeCssGenerator)),i(3,s.inject(g.IThemeFinder)),i(4,s.inject(u.IWorkspaceService)),i(5,s.inject(u.IApplicationShell)),i(6,s.inject(p.IFileSystem))],b),t.PlotViewer=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);t.PlotViewerMessageListener=class{constructor(e,t,n){this.disposedCallback=n,this.callback=e,this.viewChanged=t}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}onChangeViewState(e){this.viewChanged&&this.viewChanged(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(119);var i;!function(e){e.Started=r.SharedMessages.Started,e.UpdateSettings=r.SharedMessages.UpdateSettings,e.SendPlot="send_plot",e.CopyPlot="copy_plot",e.ExportPlot="export_plot",e.RemovePlot="remove_plot"}(i=t.PlotViewerMessages||(t.PlotViewerMessages={}));t.IPlotViewerMapping=class{},i.Started,i.UpdateSettings,i.SendPlot,i.CopyPlot,i.ExportPlot,i.RemovePlot,r.CssMessages.GetCssRequest,r.CssMessages.GetCssResponse},function(e,t,n){(function(e){e&&void 0!==e.exports&&(e.exports=function(e,t,n,r,i){"use strict";const s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgrey:[211,211,211],lightgreen:[144,238,144],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0]},o={black:[s.black,1],white:[s.white,1],transparent:[s.black,0]},a={quot:34,amp:38,lt:60,gt:62,apos:39,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},c={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},l={A3:!0,A4:!0,a3:!0,a4:!0},u={color:{inherit:!0,initial:void 0},visibility:{inherit:!0,initial:"visible",values:{hidden:"hidden",collapse:"hidden",visible:"visible"}},fill:{inherit:!0,initial:o.black},stroke:{inherit:!0,initial:"none"},"stop-color":{inherit:!1,initial:o.black},"fill-opacity":{inherit:!0,initial:1},"stroke-opacity":{inherit:!0,initial:1},"stop-opacity":{inherit:!1,initial:1},"fill-rule":{inherit:!0,initial:"nonzero",values:{nonzero:"nonzero",evenodd:"evenodd"}},"clip-rule":{inherit:!0,initial:"nonzero",values:{nonzero:"nonzero",evenodd:"evenodd"}},"stroke-width":{inherit:!0,initial:1},"stroke-dasharray":{inherit:!0,initial:[]},"stroke-dashoffset":{inherit:!0,initial:0},"stroke-miterlimit":{inherit:!0,initial:4},"stroke-linejoin":{inherit:!0,initial:"miter",values:{miter:"miter",round:"round",bevel:"bevel"}},"stroke-linecap":{inherit:!0,initial:"butt",values:{butt:"butt",round:"round",square:"square"}},"font-size":{inherit:!0,initial:16,values:{"xx-small":9,"x-small":10,small:13,medium:16,large:18,"x-large":24,"xx-large":32}},"font-family":{inherit:!0,initial:"sans-serif"},"font-weight":{inherit:!0,initial:"normal",values:{600:"bold",700:"bold",800:"bold",900:"bold",bold:"bold",bolder:"bold",500:"normal",400:"normal",300:"normal",200:"normal",100:"normal",normal:"normal",lighter:"normal"}},"font-style":{inherit:!0,initial:"normal",values:{italic:"italic",oblique:"italic",normal:"normal"}},"text-anchor":{inherit:!0,initial:"start",values:{start:"start",middle:"middle",end:"end"}},direction:{inherit:!0,initial:"ltr",values:{ltr:"ltr",rtl:"rtl"}},"dominant-baseline":{inherit:!0,initial:"baseline",values:{auto:"baseline",baseline:"baseline","before-edge":"before-edge","text-before-edge":"before-edge",middle:"middle",central:"central","after-edge":"after-edge","text-after-edge":"after-edge",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"mathematical"}},"alignment-baseline":{inherit:!1,initial:void 0,values:{auto:"baseline",baseline:"baseline","before-edge":"before-edge","text-before-edge":"before-edge",middle:"middle",central:"central","after-edge":"after-edge","text-after-edge":"after-edge",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"mathematical"}},"baseline-shift":{inherit:!0,initial:"baseline",values:{baseline:"baseline",sub:"sub",super:"super"}},"word-spacing":{inherit:!0,initial:0,values:{normal:0}},"letter-spacing":{inherit:!0,initial:0,values:{normal:0}},"text-decoration":{inherit:!1,initial:"none",values:{none:"none",underline:"underline",overline:"overline","line-through":"line-through"}},"xml:space":{inherit:!0,initial:"default",css:"white-space",values:{preserve:"preserve",default:"default",pre:"preserve","pre-line":"preserve","pre-wrap":"preserve",nowrap:"default"}},"marker-start":{inherit:!0,initial:"none"},"marker-mid":{inherit:!0,initial:"none"},"marker-end":{inherit:!0,initial:"none"},opacity:{inherit:!1,initial:1},transform:{inherit:!1,initial:[1,0,0,1,0,0]},display:{inherit:!1,initial:"inline",values:{none:"none",inline:"inline",block:"inline"}},"clip-path":{inherit:!1,initial:"none"},mask:{inherit:!1,initial:"none"},overflow:{inherit:!1,initial:"hidden",values:{hidden:"hidden",scroll:"hidden",visible:"visible"}}};function d(t){let n=new function(){};return n.name="G"+(e._groupCount=(e._groupCount||0)+1),n.resources=e.ref(),n.xobj=e.ref({Type:"XObject",Subtype:"Form",FormType:1,BBox:t,Group:{S:"Transparency",CS:"DeviceRGB",I:!0,K:!1},Resources:n.resources}),n.xobj.write(""),n.savedMatrix=e._ctm,n.savedPage=e.page,Re.push(n),e._ctm=[1,0,0,1,0,0],e.page={width:e.page.width,height:e.page.height,write:function(e){n.xobj.write(e)},fonts:{},xobjects:{},ext_gstates:{},patterns:{}},n}function h(t){if(t!==Re.pop())throw"Group not matching";Object.keys(e.page.fonts).length&&(t.resources.data.Font=e.page.fonts),Object.keys(e.page.xobjects).length&&(t.resources.data.XObject=e.page.xobjects),Object.keys(e.page.ext_gstates).length&&(t.resources.data.ExtGState=e.page.ext_gstates),Object.keys(e.page.patterns).length&&(t.resources.data.Pattern=e.page.patterns),t.resources.end(),t.xobj.end(),e._ctm=t.savedMatrix,e.page=t.savedPage}function p(t){e.page.xobjects[t.name]=t.xobj,e.addContent("/"+t.name+" Do")}function f(t,n){let r="M"+(e._maskCount=(e._maskCount||0)+1),i=e.ref({Type:"ExtGState",CA:1,ca:1,BM:"Normal",SMask:{S:"Luminosity",G:t.xobj,BC:n?[0,0,0]:[1,1,1]}});i.end(),e.page.ext_gstates[r]=i,e.addContent("/"+r+" gs")}function m(e,t,n,r){let i=new function(){};return i.group=e,i.dx=t,i.dy=n,i.matrix=r||[1,0,0,1,0,0],i}function g(t,n){let r="P"+(e._patternCount=(e._patternCount||0)+1),i=e.ref({Type:"Pattern",PatternType:1,PaintType:1,TilingType:2,BBox:[0,0,t.dx,t.dy],XStep:t.dx,YStep:t.dy,Matrix:E(e._ctm,t.matrix),Resources:{ProcSet:["PDF","Text","ImageB","ImageC","ImageI"],XObject:function(){let e={};return e[t.group.name]=t.group.xobj,e}()}});i.write("/"+t.group.name+" Do"),i.end(),e.page.patterns[r]=i,n?(e.addContent("/Pattern CS"),e.addContent("/"+r+" SCN")):(e.addContent("/Pattern cs"),e.addContent("/"+r+" scn"))}function y(t,n){let r=t&&n?2:n?1:t?0:3;e.addContent(r+" Tr")}function v(t){"PDFPattern"===t[0].constructor.name?(e.fillOpacity(t[1]),g(t[0],!1)):e.fillColor(t[0],t[1])}function _(t){"PDFPattern"===t[0].constructor.name?(e.strokeOpacity(t[1]),g(t[0],!0)):e.strokeColor(t[0],t[1])}function b(e){let t=function(e,t,n,r){this.error=r,this.nodeName=e,this.nodeValue=n,this.nodeType=t,this.attributes=Object.create(null),this.childNodes=[],this.parentNode=null,this.id="",this.textContent="",this.classList=[]};t.prototype.getAttribute=function(e){return null!=this.attributes[e]?this.attributes[e]:null},t.prototype.getElementById=function(e){let t=null;return function n(r){if(!t&&1===r.nodeType){r.id===e&&(t=r);for(let e=0;e<r.childNodes.length;e++)n(r.childNodes[e])}}(this),t},t.prototype.getElementsByTagName=function(e){let t=[];return function n(r){if(1===r.nodeType){r.nodeName===e&&t.push(r);for(let e=0;e<r.childNodes.length;e++)n(r.childNodes[e])}}(this),t};let n,r,i=new q(e.trim()),s=!1,o=function(){let e,n;if(e=i.match(/^<([\w:.-]+)\s*/,!0)){let r=new t(e[1],1,null,s);for(;e=i.match(/^([\w:.-]+)(?:\s*=\s*"([^"]*)"|\s*=\s*'([^']*)')?\s*/,!0);){let t=e[1],n=S(e[2]||e[3]||"");r.attributes[t]?(Ie('parseXml: duplicate attribute "'+t+'"'),s=!0):(r.attributes[t]=n,"id"===t&&(r.id=n),"class"===t&&(r.classList=n.split(" ")))}if(i.match(/^>/)){for(;n=o();)r.childNodes.push(n),n.parentNode=r,r.textContent+=3===n.nodeType||4===n.nodeType?n.nodeValue:n.textContent;return(e=i.match(/^<\/([\w:.-]+)\s*>/,!0))?e[1]===r.nodeName?r:(Ie('parseXml: tag not matching, opening "'+r.nodeName+'" & closing "'+e[1]+'"'),s=!0,r):(Ie('parseXml: tag not matching, opening "'+r.nodeName+'" & not closing'),s=!0,r)}if(i.match(/^\/>/))return r;Ie('parseXml: tag could not be parsed "'+r.nodeName+'"'),s=!0}else{if(e=i.match(/^<!--[\s\S]*?-->/))return new t(null,8,e,s);if(e=i.match(/^<\?[\s\S]*?\?>/))return new t(null,7,e,s);if(e=i.match(/^<!DOCTYPE\s*([\s\S]*?)>/))return new t(null,10,e,s);if(e=i.match(/^<!\[CDATA\[([\s\S]*?)\]\]>/,!0))return new t("#cdata-section",4,e[1],s);if(e=i.match(/^([^<]+)/,!0))return new t("#text",3,S(e[1]),s)}};for(;r=o();)1!==r.nodeType||n?(1===r.nodeType||3===r.nodeType&&""!==r.nodeValue.trim())&&Ie("parseXml: data after document end has been discarded"):n=r;return i.matchAll()&&Ie("parseXml: parsing error"),n}function S(e){return e.replace(/&(?:#([0-9]+)|#[xX]([0-9A-Fa-f]+)|([0-9A-Za-z]+));/g,function(e,t,n,r){return t?String.fromCharCode(parseInt(t,10)):n?String.fromCharCode(parseInt(n,16)):r&&a[r]?String.fromCharCode(a[r]):e})}function w(e){let t,n;return e=(e||"").trim(),(t=s[e])?n=[t.slice(),1]:(t=e.match(/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)$/i))?(t[1]=parseInt(t[1]),t[2]=parseInt(t[2]),t[3]=parseInt(t[3]),t[4]=parseFloat(t[4]),t[1]<256&&t[2]<256&&t[3]<256&&t[4]<=1&&(n=[t.slice(1,4),t[4]])):(t=e.match(/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)$/i))?(t[1]=parseInt(t[1]),t[2]=parseInt(t[2]),t[3]=parseInt(t[3]),t[1]<256&&t[2]<256&&t[3]<256&&(n=[t.slice(1,4),1])):(t=e.match(/^rgb\(\s*([0-9.]+)%\s*,\s*([0-9.]+)%\s*,\s*([0-9.]+)%\s*\)$/i))?(t[1]=2.55*parseFloat(t[1]),t[2]=2.55*parseFloat(t[2]),t[3]=2.55*parseFloat(t[3]),t[1]<256&&t[2]<256&&t[3]<256&&(n=[t.slice(1,4),1])):(t=e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i))?n=[[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)],1]:(t=e.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i))&&(n=[[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16)],1]),Ae?Ae(n,e):n}function C(e,t,n){let r=e[0].slice(),i=e[1]*t;if(n){for(let t=0;t<e.length;t++)r[t]*=i;return[r,1]}return[r,i]}function E(){let e=arguments[0];for(let r=1;r<arguments.length;r++)t=e,n=arguments[r],e=[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]];var t,n;return e}function T(e,t){return[t[0]*e[0]+t[2]*e[1]+t[4],t[1]*e[0]+t[3]*e[1]+t[5]]}function D(){let t=e._ctm;for(let e=Re.length-1;e>=0;e--)t=E(Re[e].savedMatrix,t);return t}function P(){return(new K).M(0,0).L(e.page.width,0).L(e.page.width,e.page.height).L(0,e.page.height).transform(k(D())).getBoundingBox()}function k(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[3]*e[4])/t,(e[1]*e[4]-e[0]*e[5])/t]}function I(e){let t=L(e[0]),n=L(e[1]),r=L(e[2]),i=L(e[3]),s=L(e[4]),o=L(e[5]);if(O(t*i-n*r,0))return[t,n,r,i,s,o]}function M(e){let t=e[2]||0,n=e[1]||0,r=e[0]||0;if(A(t,0)&&A(n,0))return[];if(A(t,0))return[-r/n];{let e=n*n-4*t*r;return O(e,0)&&e>0?[(-n+Math.sqrt(e))/(2*t),(-n-Math.sqrt(e))/(2*t)]:A(e,0)?[-n/(2*t)]:[]}}function x(e,t){return(t[0]||0)+(t[1]||0)*e+(t[2]||0)*e*e+(t[3]||0)*e*e*e}function A(e,t){return Math.abs(e-t)<1e-10}function O(e,t){return Math.abs(e-t)>=1e-10}function L(e){return e>-1e21&&e<1e21?Math.round(1e6*e)/1e6:0}function R(e){let t,n=new q((e||"").trim()),r=[1,0,0,1,0,0];for(;t=n.match(/^([A-Za-z]+)[(]([^(]+)[)]/,!0);){let e,i=t[1],s=[],o=new q(t[2].trim());for(;e=o.matchNumber();)s.push(Number(e)),o.matchSeparator();if("matrix"===i&&6===s.length)r=E(r,[s[0],s[1],s[2],s[3],s[4],s[5]]);else if("translate"===i&&2===s.length)r=E(r,[1,0,0,1,s[0],s[1]]);else if("translate"===i&&1===s.length)r=E(r,[1,0,0,1,s[0],0]);else if("scale"===i&&2===s.length)r=E(r,[s[0],0,0,s[1],0,0]);else if("scale"===i&&1===s.length)r=E(r,[s[0],0,0,s[0],0,0]);else if("rotate"===i&&3===s.length){let e=s[0]*Math.PI/180;r=E(r,[1,0,0,1,s[1],s[2]],[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0],[1,0,0,1,-s[1],-s[2]])}else if("rotate"===i&&1===s.length){let e=s[0]*Math.PI/180;r=E(r,[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0])}else if("skewX"===i&&1===s.length){let e=s[0]*Math.PI/180;r=E(r,[1,0,Math.tan(e),1,0,0])}else{if("skewY"!==i||1!==s.length)return;{let e=s[0]*Math.PI/180;r=E(r,[1,Math.tan(e),0,1,0,0])}}n.matchSeparator()}if(!n.matchAll())return r}function j(e,t,n,r,i,s){let o=(e||"").trim().match(/^(none)$|^x(Min|Mid|Max)Y(Min|Mid|Max)(?:\s+(meet|slice))?$/)||[],a=o[1]||o[4]||"meet",c=o[2]||"Mid",l=o[3]||"Mid",u=t/r,d=n/i,h={Min:0,Mid:.5,Max:1}[c]-(s||0),p={Min:0,Mid:.5,Max:1}[l]-(s||0);return"slice"===a?d=u=Math.max(u,d):"meet"===a&&(d=u=Math.min(u,d)),[u,0,0,d,h*(t-r*u),p*(n-i*d)]}function F(e){let t=Object.create(null);e=(e||"").trim().split(/;/);for(let n=0;n<e.length;n++){let r=(e[n].split(":")[0]||"").trim(),i=(e[n].split(":")[1]||"").trim();r&&(t[r]=i)}if(t.marker&&(t["marker-start"]||(t["marker-start"]=t.marker),t["marker-mid"]||(t["marker-mid"]=t.marker),t["marker-end"]||(t["marker-end"]=t.marker)),t.font){let e=null,n=null,r="normal",i="normal",s="normal",o=t.font.split(/\s+/);for(let t=0;t<o.length;t++)switch(o[t]){case"normal":break;case"italic":case"oblique":r=o[t];break;case"small-caps":s=o[t];break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":i=o[t];break;default:n?e?e+=" "+o[t]:e=o[t]:n=o[t].split("/")[0]}t["font-style"]||(t["font-style"]=r),t["font-variant"]||(t["font-variant"]=s),t["font-weight"]||(t["font-weight"]=i),t["font-size"]||(t["font-size"]=n),t["font-family"]||(t["font-family"]=e)}return t}function N(e){let t,n=e.split(/(?=[.#])/g),r=[],i=[],s=[];for(let e=0;e<n.length;e++)if(t=n[e].match(/^[#]([_A-Za-z0-9-]+)$/))r.push(t[1]);else if(t=n[e].match(/^[.]([_A-Za-z0-9-]+)$/))i.push(t[1]);else if(t=n[e].match(/^([_A-Za-z0-9-]+)$/))s.push(t[1]);else if("*"!==n[e])return;return{tags:s,ids:r,classes:i,specificity:1e4*r.length+100*i.length+s.length}}function Y(e){let t,n=new q(e.trim()),r=[];for(;t=n.match(/^\s*([^\{\}]*?)\s*\{([^\{\}]*?)\}/,!0);){let e=t[1].split(/\s*,\s*/g),n=F(t[2]);for(let t=0;t<e.length;t++){let i=N(e[t]);i&&r.push({selector:i,css:n})}}return r}function B(e,t){if(1!==e.nodeType)return!1;for(let n=0;n<t.tags.length;n++)if(t.tags[n]!==e.nodeName)return!1;for(let n=0;n<t.ids.length;n++)if(t.ids[n]!==e.id)return!1;for(let n=0;n<t.classes.length;n++)if(-1===e.classList.indexOf(t.classes[n]))return!1;return!0}function H(e,t){return e.concat(t.slice(e.length))}function W(e,t){return Math.max(e.ascender,(e.bbox[3]||e.bbox.maxY)*(e.scale||1))*t/1e3}function U(e,t){return Math.min(e.descender,(e.bbox[1]||e.bbox.minY)*(e.scale||1))*t/1e3}function V(e,t,n){let r=e.encode(""+n),i=r[0],s=r[1],o=[];for(let r=0;r<i.length;r++){let a=e.unicode?e.unicode[parseInt(i[r],16)]:[n.charCodeAt(r)];o.push({glyph:i[r],unicode:a,width:s[r].advanceWidth*t/1e3,xOffset:s[r].xOffset*t/1e3,yOffset:s[r].yOffset*t/1e3,xAdvance:s[r].xAdvance*t/1e3,yAdvance:s[r].yAdvance*t/1e3})}return o}function $(e,t){switch(e.nodeName){case"use":return new ee(e,t);case"symbol":return new te(e,t);case"g":return new ne(e,t);case"a":return new re(e,t);case"svg":return new ie(e,t);case"image":return new se(e,t);case"rect":return new le(e,t);case"circle":return new ue(e,t);case"ellipse":return new de(e,t);case"line":return new he(e,t);case"polyline":return new pe(e,t);case"polygon":return new fe(e,t);case"path":return new me(e,t);case"text":return new Ce(e,t);case"tspan":return new Se(e,t);case"textPath":return new we(e,t);case"#text":case"#cdata-section":return new be(e,t);default:return new J(e,t)}}var q=function(e){this.match=function(t,n){let r=e.match(t);if(r&&0===r.index)return e=e.substring(r[0].length),n?r:r[0]},this.matchSeparator=function(){return this.match(/^(?:\s*,\s*|\s*|)/)},this.matchSpace=function(){return this.match(/^(?:\s*)/)},this.matchLengthUnit=function(){return this.match(/^(?:px|pt|cm|mm|in|pc|em|ex|%|)/)},this.matchNumber=function(){return this.match(/^(?:[-+]?(?:[0-9]+[.][0-9]+|[0-9]+[.]|[.][0-9]+|[0-9]+)(?:[eE][-+]?[0-9]+)?)/)},this.matchAll=function(){return this.match(/^[\s\S]+/)}},G=function(e,t,n,r,i,s,o,a){let c=6*Le,l=[e,-3*e+3*n,3*e-6*n+3*i,3*n-e-3*i+o],u=[t,-3*t+3*r,3*t-6*r+3*s,3*r-t-3*s+a],d=[-3*e+3*n,6*e-12*n+6*i,-3*e+9*n-9*i+3*o],h=[-3*t+3*r,6*t-12*r+6*s,-3*t+9*r-9*s+3*a],p=[0];for(let e=1;e<=c;e++){let t=(e-.5)/c,n=x(t,d)/c,r=x(t,h)/c,i=Math.sqrt(n*n+r*r);p[e]=p[e-1]+i}this.totalLength=p[c],this.startPoint=[e,t,A(e,n)&&A(t,r)?Math.atan2(s-r,i-n):Math.atan2(r-t,n-e)],this.endPoint=[o,a,A(i,o)&&A(s,a)?Math.atan2(s-r,i-n):Math.atan2(a-s,o-i)],this.getBoundingBox=function(){let e,t=x(0,l),n=x(0,u),r=x(1,l),i=x(1,u);t>r&&(e=r,r=t,t=e),n>i&&(e=i,i=n,n=e);let s=M(d);for(let e=0;e<s.length;e++)if(s[e]>=0&&s[e]<=1){let n=x(s[e],l);n<t&&(t=n),n>r&&(r=n)}let o=M(h);for(let e=0;e<o.length;e++)if(o[e]>=0&&o[e]<=1){let t=x(o[e],u);t<n&&(n=t),t>i&&(i=t)}return[t,n,r,i]},this.getPointAtLength=function(e){if(A(e,0))return this.startPoint;if(A(e,this.totalLength))return this.endPoint;if(!(e<0||e>this.totalLength))for(let t=1;t<=c;t++){let n=p[t-1],r=p[t];if(n<=e&&e<=r){let i=(t-(r-e)/(r-n))/c,s=x(i,l),o=x(i,u),a=x(i,d),p=x(i,h);return[s,o,Math.atan2(p,a)]}}}},z=function(e,t,n,r){this.totalLength=Math.sqrt((n-e)*(n-e)+(r-t)*(r-t)),this.startPoint=[e,t,Math.atan2(r-t,n-e)],this.endPoint=[n,r,Math.atan2(r-t,n-e)],this.getBoundingBox=function(){return[Math.min(this.startPoint[0],this.endPoint[0]),Math.min(this.startPoint[1],this.endPoint[1]),Math.max(this.startPoint[0],this.endPoint[0]),Math.max(this.startPoint[1],this.endPoint[1])]},this.getPointAtLength=function(e){if(e>=0&&e<=this.totalLength){let t=e/this.totalLength||0;return[this.startPoint[0]+t*(this.endPoint[0]-this.startPoint[0]),this.startPoint[1]+t*(this.endPoint[1]-this.startPoint[1]),this.startPoint[2]]}}},K=function(){this.pathCommands=[],this.pathSegments=[],this.startPoint=null,this.endPoint=null,this.totalLength=0;let t,n,r,i=0,s=0,o=0,a=0;this.move=function(e,t){return i=o=e,s=a=t,null},this.line=function(e,t){let n=new z(o,a,e,t);return o=e,a=t,n},this.curve=function(e,t,n,r,i,s){let c=new G(o,a,e,t,n,r,i,s);return o=i,a=s,c},this.close=function(){let e=new z(o,a,i,s);return o=i,a=s,e},this.addCommand=function(e){this.pathCommands.push(e);let t=this[e[0]].apply(this,e.slice(3));t&&(t.hasStart=e[1],t.hasEnd=e[2],this.startPoint=this.startPoint||t.startPoint,this.endPoint=t.endPoint,this.pathSegments.push(t),this.totalLength+=t.totalLength)},this.M=function(e,n){return this.addCommand(["move",!0,!0,e,n]),t="M",this},this.m=function(e,t){return this.M(o+e,a+t)},this.Z=this.z=function(){return this.addCommand(["close",!0,!0]),t="Z",this},this.L=function(e,n){return this.addCommand(["line",!0,!0,e,n]),t="L",this},this.l=function(e,t){return this.L(o+e,a+t)},this.H=function(e){return this.L(e,a)},this.h=function(e){return this.L(o+e,a)},this.V=function(e){return this.L(o,e)},this.v=function(e){return this.L(o,a+e)},this.C=function(e,i,s,o,a,c){return this.addCommand(["curve",!0,!0,e,i,s,o,a,c]),t="C",n=s,r=o,this},this.c=function(e,t,n,r,i,s){return this.C(o+e,a+t,o+n,a+r,o+i,a+s)},this.S=function(e,i,s,c){return this.C(o+("C"===t?o-n:0),a+("C"===t?a-r:0),e,i,s,c)},this.s=function(e,i,s,c){return this.C(o+("C"===t?o-n:0),a+("C"===t?a-r:0),o+e,a+i,o+s,a+c)},this.Q=function(e,i,s,c){let l=o+2/3*(e-o),u=a+2/3*(i-a),d=s+2/3*(e-s),h=c+2/3*(i-c);return this.addCommand(["curve",!0,!0,l,u,d,h,s,c]),t="Q",n=e,r=i,this},this.q=function(e,t,n,r){return this.Q(o+e,a+t,o+n,a+r)},this.T=function(e,i){return this.Q(o+("Q"===t?o-n:0),a+("Q"===t?a-r:0),e,i)},this.t=function(e,i){return this.Q(o+("Q"===t?o-n:0),a+("Q"===t?a-r:0),o+e,a+i)},this.A=function(e,n,r,i,s,c,l){if(A(e,0)||A(n,0))this.addCommand(["line",!0,!0,c,l]);else{r*=Math.PI/180,e=Math.abs(e),n=Math.abs(n),i=1*!!i,s=1*!!s;let t=Math.cos(r)*(o-c)/2+Math.sin(r)*(a-l)/2,u=Math.cos(r)*(a-l)/2-Math.sin(r)*(o-c)/2,d=t*t/(e*e)+u*u/(n*n);d>1&&(e*=Math.sqrt(d),n*=Math.sqrt(d));let h=Math.sqrt(Math.max(0,e*e*n*n-e*e*u*u-n*n*t*t)/(e*e*u*u+n*n*t*t)),p=(i===s?-1:1)*h*e*u/n,f=(i===s?1:-1)*h*n*t/e,m=Math.cos(r)*p-Math.sin(r)*f+(o+c)/2,g=Math.sin(r)*p+Math.cos(r)*f+(a+l)/2,y=Math.atan2((u-f)/n,(t-p)/e),v=Math.atan2((-u-f)/n,(-t-p)/e);0===s&&v-y>0?v-=2*Math.PI:1===s&&v-y<0&&(v+=2*Math.PI);let _=Math.ceil(Math.abs(v-y)/(Math.PI/Le));for(let t=0;t<_;t++){let i=y+t*(v-y)/_,s=y+(t+1)*(v-y)/_,o=4/3*Math.tan((s-i)/4),a=m+Math.cos(r)*e*(Math.cos(i)-o*Math.sin(i))-Math.sin(r)*n*(Math.sin(i)+o*Math.cos(i)),c=g+Math.sin(r)*e*(Math.cos(i)-o*Math.sin(i))+Math.cos(r)*n*(Math.sin(i)+o*Math.cos(i)),l=m+Math.cos(r)*e*(Math.cos(s)+o*Math.sin(s))-Math.sin(r)*n*(Math.sin(s)-o*Math.cos(s)),u=g+Math.sin(r)*e*(Math.cos(s)+o*Math.sin(s))+Math.cos(r)*n*(Math.sin(s)-o*Math.cos(s)),d=m+Math.cos(r)*e*Math.cos(s)-Math.sin(r)*n*Math.sin(s),h=g+Math.sin(r)*e*Math.cos(s)+Math.cos(r)*n*Math.sin(s);this.addCommand(["curve",0===t,t===_-1,a,c,l,u,d,h])}}return t="A",this},this.a=function(e,t,n,r,i,s,c){return this.A(e,t,n,r,i,o+s,a+c)},this.path=function(e){let t,n,r,i=new q((e||"").trim());for(;t=i.match(/^[astvzqmhlcASTVZQMHLC]/);){i.matchSeparator();let e=[];for(;n=l[t+e.length]?i.match(/^[01]/):i.matchNumber();)i.matchSeparator(),e.length===c[t]&&(this[t].apply(this,e),e=[],"M"===t?t="L":"m"===t&&(t="l")),e.push(Number(n));if(e.length!==c[t])return void Ie("SvgPath: command "+t+" with "+e.length+" numbers");this[t].apply(this,e)}return(r=i.matchAll())&&Ie("SvgPath: unexpected string "+r),this},this.getBoundingBox=function(){let e=[1/0,1/0,-1/0,-1/0];for(let n=0;n<this.pathSegments.length;n++)(t=this.pathSegments[n].getBoundingBox())[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]);var t;return e[0]===1/0&&(e[0]=0),e[1]===1/0&&(e[1]=0),e[2]===-1/0&&(e[2]=0),e[3]===-1/0&&(e[3]=0),e},this.getPointAtLength=function(e){if(e>=0&&e<=this.totalLength){let t;for(let n=0;n<this.pathSegments.length;n++){if(t=this.pathSegments[n].getPointAtLength(e))return t;e-=this.pathSegments[n].totalLength}return this.endPoint}},this.transform=function(e){this.pathSegments=[],this.startPoint=null,this.endPoint=null,this.totalLength=0;for(let t=0;t<this.pathCommands.length;t++){let t=this.pathCommands.shift();for(let n=3;n<t.length;n+=2){let r=T([t[n],t[n+1]],e);t[n]=r[0],t[n+1]=r[1]}this.addCommand(t)}return this},this.mergeShape=function(e){for(let t=0;t<e.pathCommands.length;t++)this.addCommand(e.pathCommands[t].slice());return this},this.clone=function(){return(new K).mergeShape(this)},this.insertInDocument=function(){for(let t=0;t<this.pathCommands.length;t++){let n=this.pathCommands[t][0],r=this.pathCommands[t].slice(3);switch(n){case"move":e.moveTo(r[0],r[1]);break;case"line":e.lineTo(r[0],r[1]);break;case"curve":e.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"close":e.closePath()}}},this.getSubPaths=function(){let e=[],t=new K;for(let n=0;n<this.pathCommands.length;n++){let r=this.pathCommands[n];"move"===this.pathCommands[n][0]&&0!==n&&(e.push(t),t=new K),t.addCommand(r)}return e.push(t),e},this.getMarkers=function(){let e=[],t=this.getSubPaths();for(let n=0;n<t.length;n++){let r=t[n],i=[];for(let e=0;e<r.pathSegments.length;e++){let t=r.pathSegments[e];if(O(t.totalLength,0)||0===e||e===r.pathSegments.length-1){if(t.hasStart){let e=t.getPointAtLength(0),n=i.pop();n&&(e[2]=.5*(n[2]+e[2])),i.push(e)}if(t.hasEnd){let e=t.getPointAtLength(t.totalLength);i.push(e)}}}e=e.concat(i)}return e}},J=function(e,n){let r=Object.create(null),i=null;this.name=e.nodeName,this.isOuterElement=e===t||!e.parentNode,this.inherits=n||(this.isOuterElement?null:$(e.parentNode,null)),this.stack=this.inherits?this.inherits.stack.concat(e):[e],this.style=F("function"==typeof e.getAttribute&&e.getAttribute("style")),this.css=ke?getComputedStyle(e):function(e){let t=Object.create(null),n=Object.create(null);for(let r=0;r<Ne.length;r++){let i=Ne[r];if(B(e,i.selector))for(let e in i.css)n[e]>i.selector.specificity||(t[e]=i.css[e],n[e]=i.selector.specificity)}return t}(e),this.allowedChildren=[],this.attr=function(t){if("function"==typeof e.getAttribute)return e.getAttribute(t)},this.resolveUrl=function(e){let n=(e||"").match(/^\s*(?:url\("(.*)#(.*)"\)|url\('(.*)#(.*)'\)|url\((.*)#(.*)\)|(.*)#(.*))\s*$/)||[],r=n[1]||n[3]||n[5]||n[7],i=n[2]||n[4]||n[6]||n[8];if(i){if(!r){let e=t.getElementById(i);if(e)return-1===this.stack.indexOf(e)?e:void Ie('SVGtoPDF: loop of circular references for id "'+i+'"')}if(Oe){let e=je[r];if(!e){e=Oe(r),("object"!=typeof(s=e)||null===s||"number"!=typeof s.length)&&(e=[e]);for(let t=0;t<e.length;t++)"string"==typeof e[t]&&(e[t]=b(e[t]));je[r]=e}for(let t=0;t<e.length;t++){let n=e[t].getElementById(i);if(n)return-1===this.stack.indexOf(n)?n:void Ie('SVGtoPDF: loop of circular references for id "'+r+"#"+i+'"')}}}var s},this.computeUnits=function(e,t,n,r){return"%"===t?parseFloat(e)/100*(r||null!=n?n:this.getViewport()):"ex"===t||"em"===t?e*{em:1,ex:.5}[t]*(r?n:this.get("font-size")):e*{"":1,px:1,pt:96/72,cm:96/2.54,mm:96/25.4,in:96,pc:16}[t]},this.computeLength=function(e,t,n,r){let i,s,o=new q((e||"").trim());return"string"!=typeof(i=o.matchNumber())||"string"!=typeof(s=o.matchLengthUnit())||o.matchAll()?n:this.computeUnits(i,s,t,r)},this.computeLengthList=function(e,t,n){let r,i,s=new q((e||"").trim()),o=[];for(;"string"==typeof(r=s.matchNumber())&&"string"==typeof(i=s.matchLengthUnit());)o.push(this.computeUnits(r,i,t)),s.matchSeparator();if(!n||!s.matchAll())return o},this.getLength=function(e,t,n){return this.computeLength(this.attr(e),t,n)},this.getLengthList=function(e,t){return this.computeLengthList(this.attr(e),t)},this.getUrl=function(e){return this.resolveUrl(this.attr(e))},this.getNumberList=function(e){let t,n=new q((this.attr(e)||"").trim()),r=[];for(;t=n.matchNumber();)r.push(Number(t)),n.matchSeparator();return r.error=n.matchAll(),r},this.getViewbox=function(e,t){let n=this.getNumberList(e);return 4===n.length&&n[2]>=0&&n[3]>=0?n:t},this.getPercent=function(e,t){let n=this.attr(e),r=new q((n||"").trim()),i=r.matchNumber();return i?(r.match("%")&&(i*=.01),r.matchAll()?t:Math.max(0,Math.min(1,i))):t},this.chooseValue=function(e){for(let e=0;e<arguments.length;e++)if(null!=arguments[e]&&arguments[e]==arguments[e])return arguments[e];return arguments[arguments.length-1]},this.get=function(e){if(void 0!==r[e])return r[e];let t,n,i=u[e]||{};for(let s=0;s<3;s++){switch(s){case 0:"transform"!==e&&(t=this.css[i.css||e]);break;case 1:t=this.style[e];break;case 2:t=this.attr(e)}if("inherit"===t&&null!=(n=this.inherits?this.inherits.get(e):i.initial))return r[e]=n;if(null!=i.values&&null!=(n=i.values[t]))return r[e]=n;if(null!=t){let s;switch(e){case"font-size":n=this.computeLength(t,this.inherits?this.inherits.get(e):i.initial,void 0,!0);break;case"baseline-shift":n=this.computeLength(t,this.get("font-size"));break;case"font-family":n=t||void 0;break;case"opacity":case"stroke-opacity":case"fill-opacity":case"stop-opacity":s=parseFloat(t),isNaN(s)||(n=Math.max(0,Math.min(1,s)));break;case"transform":n=R(t);break;case"stroke-dasharray":if("none"===t)n=[];else if(s=this.computeLengthList(t,this.getViewport(),!0)){let e=0,t=!1;for(let n=0;n<s.length;n++)s[n]<0&&(t=!0),e+=s[n];t||(s.length%2==1&&(s=s.concat(s)),n=0===e?[]:s)}break;case"color":n="none"===t||"transparent"===t?"none":w(t);break;case"fill":case"stroke":if("none"===t||"transparent"===t)n="none";else if("currentColor"===t)n=this.get("color");else{if(s=w(t))return s;if(s=(t||"").split(" ")){let e=this.resolveUrl(s[0]),t=w(s[1]);n=null==e?t:"linearGradient"===e.nodeName||"radialGradient"===e.nodeName?new ae(e,null,t):"pattern"===e.nodeName?new oe(e,null,t):t}}break;case"stop-color":n="none"===t||"transparent"===t?"none":"currentColor"===t?this.get("color"):w(t);break;case"marker-start":case"marker-mid":case"marker-end":case"clip-path":case"mask":n="none"===t?"none":this.resolveUrl(t);break;case"stroke-width":null!=(s=this.computeLength(t,this.getViewport()))&&s>=0&&(n=s);break;case"stroke-miterlimit":null!=(s=parseFloat(t))&&s>=1&&(n=s);break;case"word-spacing":case"letter-spacing":n=this.computeLength(t,this.getViewport());break;case"stroke-dashoffset":if(null!=(n=this.computeLength(t,this.getViewport()))&&n<0){let e=this.get("stroke-dasharray");for(let t=0;t<e.length;t++)n+=e[t]}}if(null!=n)return r[e]=n}}return r[e]=i.inherit&&this.inherits?this.inherits.get(e):i.initial},this.getChildren=function(){if(null!=i)return i;let t=[];for(let n=0;n<e.childNodes.length;n++){let r=e.childNodes[n];r.error||-1===this.allowedChildren.indexOf(r.nodeName)||t.push($(r,this))}return i=t},this.getParentVWidth=function(){return this.inherits?this.inherits.getVWidth():Te},this.getParentVHeight=function(){return this.inherits?this.inherits.getVHeight():De},this.getParentViewport=function(){return Math.sqrt(.5*this.getParentVWidth()*this.getParentVWidth()+.5*this.getParentVHeight()*this.getParentVHeight())},this.getVWidth=function(){return this.getParentVWidth()},this.getVHeight=function(){return this.getParentVHeight()},this.getViewport=function(){return Math.sqrt(.5*this.getVWidth()*this.getVWidth()+.5*this.getVHeight()*this.getVHeight())},this.getBoundingBox=function(){return this.getBoundingShape().getBoundingBox()}},X=function(t,n){J.call(this,t,n),this.transform=function(){e.transform.apply(e,this.getTransformation())},this.clip=function(){if("none"!==this.get("clip-path"))return new ye(this.get("clip-path"),null).useMask(this.getBoundingBox()),!0},this.mask=function(){if("none"!==this.get("mask"))return new ve(this.get("mask"),null).useMask(this.getBoundingBox()),!0},this.getFill=function(e,t){let n=this.get("opacity"),r=this.get("fill"),i=this.get("fill-opacity");return e?o.white:"none"!==r&&n&&i?r instanceof ae||r instanceof oe?r.getPaint(this.getBoundingBox(),i*n,e,t):C(r,i*n,t):void 0},this.getStroke=function(e,t){let n=this.get("opacity"),r=this.get("stroke"),i=this.get("stroke-opacity");if(!e&&!A(this.get("stroke-width"),0))return"none"!==r&&n&&i?r instanceof ae||r instanceof oe?r.getPaint(this.getBoundingBox(),i*n,e,t):C(r,i*n,t):void 0}},Q=function(e,t){X.call(this,e,t),this.allowedChildren=["use","g","a","svg","image","rect","circle","ellipse","line","polyline","polygon","path","text"],this.getBoundingShape=function(){let e=new K,t=this.getChildren();for(let n=0;n<t.length;n++)if("none"!==t[n].get("display")&&"function"==typeof t[n].getBoundingShape){let r=t[n].getBoundingShape().clone();"function"==typeof t[n].getTransformation&&r.transform(t[n].getTransformation()),e.mergeShape(r)}return e},this.drawChildren=function(e,t){let n=this.getChildren();for(let r=0;r<n.length;r++)"none"!==n[r].get("display")&&"function"==typeof n[r].drawInDocument&&n[r].drawInDocument(e,t)}},Z=function(t,n){Q.call(this,t,n),this.drawContent=function(t,n){this.transform();let r,i=this.clip(),s=this.mask();(this.get("opacity")<1||i||s)&&!t&&(r=d(P())),this.drawChildren(t,n),r&&(h(r),e.fillOpacity(this.get("opacity")),p(r))}},ee=function(t,n){Z.call(this,t,n);let r=this.getLength("x",this.getVWidth(),0),i=this.getLength("y",this.getVHeight(),0),s=this.getUrl("href")||this.getUrl("xlink:href");s&&(s=$(s,this)),this.getChildren=function(){return s?[s]:[]},this.drawInDocument=function(t,n){e.save(),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return E(this.get("transform"),[1,0,0,1,r,i])}},te=function(t,n){Z.call(this,t,n);let r=this.getLength("width",this.getParentVWidth(),this.getParentVWidth()),i=this.getLength("height",this.getParentVHeight(),this.getParentVHeight());n instanceof ee&&(r=n.getLength("width",n.getParentVWidth(),r),i=n.getLength("height",n.getParentVHeight(),i));let s=(this.attr("preserveAspectRatio")||"").trim(),o=this.getViewbox("viewBox",[0,0,r,i]);this.getVWidth=function(){return o[2]},this.getVHeight=function(){return o[3]},this.drawInDocument=function(t,n){e.save(),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return E(j(s,r,i,o[2],o[3]),[1,0,0,1,-o[0],-o[1]])}},ne=function(t,n){Z.call(this,t,n),this.drawInDocument=function(t,n){e.save(),!this.link||t||n||this.addLink(),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return this.get("transform")}},re=function(t,n){n&&n.isText?(Se.call(this,t,n),this.allowedChildren=["textPath","tspan","#text","#cdata-section","a"]):ne.call(this,t,n),this.link=this.attr("href")||this.attr("xlink:href"),this.addLink=function(){if(this.link.match(/^(?:[a-z][a-z0-9+.-]*:|\/\/)?/i)&&this.getChildren().length){let t=this.getBoundingShape().transform(D()).getBoundingBox();!function(t,n,r,i,s){let o=e.ref({Type:"Annot",Subtype:"Link",Rect:[t,n,r,i],Border:[0,0,0],A:{S:"URI",URI:new String(s)}});o.end(),Fe.push(o)}(t[0],t[1],t[2],t[3],this.link)}}},ie=function(t,n){Z.call(this,t,n);let r=this.getLength("width",this.getParentVWidth(),this.getParentVWidth()),i=this.getLength("height",this.getParentVHeight(),this.getParentVHeight()),s=this.getLength("x",this.getParentVWidth(),0),o=this.getLength("y",this.getParentVHeight(),0);n instanceof ee&&(r=n.getLength("width",n.getParentVWidth(),r),i=n.getLength("height",n.getParentVHeight(),i));let a=this.attr("preserveAspectRatio"),c=this.getViewbox("viewBox",[0,0,r,i]);this.isOuterElement&&Pe&&(s=o=0,r=Te,i=De,a=Pe),this.getVWidth=function(){return c[2]},this.getVHeight=function(){return c[3]},this.drawInDocument=function(t,n){e.save(),"hidden"===this.get("overflow")&&((new K).M(s,o).L(s+r,o).L(s+r,o+i).L(s,o+i).Z().transform(this.get("transform")).insertInDocument(),e.clip()),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return E(this.get("transform"),[1,0,0,1,s,o],j(a,r,i,c[2],c[3]),[1,0,0,1,-c[0],-c[1]])}},se=function(t,n){X.call(this,t,n);let r,i=xe(this.attr("href")||this.attr("xlink:href")||""),s=this.getLength("width",this.getVWidth(),0),a=this.getLength("height",this.getVHeight(),0),c=this.getLength("x",this.getVWidth(),0),l=this.getLength("y",this.getVHeight(),0);try{r=e.openImage(i)}catch(e){Ie('SVGElemImage: failed to open image "'+i+'" in PDFKit')}this.getTransformation=function(){return this.get("transform")},this.getBoundingShape=function(){return(new K).M(c,l).L(c+s,l).M(c+s,l+a).L(c,l+a)},this.drawInDocument=function(t,n){"hidden"!==this.get("visibility")&&r&&(e.save(),this.transform(),"hidden"===this.get("overflow")&&e.rect(c,l,s,a).clip(),this.clip(),this.mask(),e.translate(c,l),e.transform.apply(e,j(this.attr("preserveAspectRatio"),s,a,r?r.width:s,r?r.height:a)),t?(e.rect(0,0,r.width,r.height),v(o.white).fill()):(e.fillOpacity(this.get("opacity")),e.image(r,0,0)),e.restore())}},oe=function(t,n,r){Q.call(this,t,n),this.ref=function(){let e=this.getUrl("href")||this.getUrl("xlink:href");if(e&&e.nodeName===t.nodeName)return new oe(e,n,r)}.call(this);let i=this.attr;this.attr=function(e){let t=i.call(this,e);return null!=t||"href"===e||"xlink:href"===e?t:this.ref?this.ref.attr(e):null};let s=this.getChildren;this.getChildren=function(){let e=s.call(this);return e.length>0?e:this.ref?this.ref.getChildren():[]},this.getPaint=function(t,n,i,s){let o="userSpaceOnUse"!==this.attr("patternUnits"),a="objectBoundingBox"===this.attr("patternContentUnits"),c=this.getLength("x",o?1:this.getParentVWidth(),0),l=this.getLength("y",o?1:this.getParentVHeight(),0),u=this.getLength("width",o?1:this.getParentVWidth(),0),p=this.getLength("height",o?1:this.getParentVHeight(),0);a&&!o?(c=(c-t[0])/(t[2]-t[0])||0,l=(l-t[1])/(t[3]-t[1])||0,u=u/(t[2]-t[0])||0,p=p/(t[3]-t[1])||0):!a&&o&&(c=t[0]+c*(t[2]-t[0]),l=t[1]+l*(t[3]-t[1]),u*=t[2]-t[0],p*=t[3]-t[1]);let f=this.getViewbox("viewBox",[0,0,u,p]),g=E(j((this.attr("preserveAspectRatio")||"").trim(),u,p,f[2],f[3],0),[1,0,0,1,-f[0],-f[1]]),y=R(this.attr("patternTransform"));if(a&&(y=E([t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]],y)),(y=I(y=E(y,[1,0,0,1,c,l])))&&(g=I(g))&&(u=L(u))&&(p=L(p))){let t=d([0,0,u,p]);return e.transform.apply(e,g),this.drawChildren(i,s),h(t),[m(t,u,p,y),n]}return r?[r[0],r[1]*n]:void 0},this.getVWidth=function(){let e="userSpaceOnUse"!==this.attr("patternUnits"),t=this.getLength("width",e?1:this.getParentVWidth(),0);return this.getViewbox("viewBox",[0,0,t,0])[2]},this.getVHeight=function(){let e="userSpaceOnUse"!==this.attr("patternUnits"),t=this.getLength("height",e?1:this.getParentVHeight(),0);return this.getViewbox("viewBox",[0,0,0,t])[3]}},ae=function(t,n,r){J.call(this,t,n),this.allowedChildren=["stop"],this.ref=function(){let e=this.getUrl("href")||this.getUrl("xlink:href");if(e&&e.nodeName===t.nodeName)return new ae(e,n,r)}.call(this);let i=this.attr;this.attr=function(e){let t=i.call(this,e);return null!=t||"href"===e||"xlink:href"===e?t:this.ref?this.ref.attr(e):null};let s=this.getChildren;this.getChildren=function(){let e=s.call(this);return e.length>0?e:this.ref?this.ref.getChildren():[]},this.getPaint=function(t,n,i,s){let a=this.getChildren();if(0===a.length)return;if(1===a.length){let e=a[0],t=e.get("stop-color");if("none"===t)return;return C(t,e.get("stop-opacity")*n,s)}let c,l,u,d,h,p,f="userSpaceOnUse"!==this.attr("gradientUnits"),m=R(this.attr("gradientTransform")),g=this.attr("spreadMethod"),y=0,v=0,_=1;if(f&&(m=E([t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]],m)),m=I(m)){if("linearGradient"===this.name?(l=this.getLength("x1",f?1:this.getVWidth(),0),u=this.getLength("x2",f?1:this.getVWidth(),f?1:this.getVWidth()),d=this.getLength("y1",f?1:this.getVHeight(),0),h=this.getLength("y2",f?1:this.getVHeight(),0)):(u=this.getLength("cx",f?1:this.getVWidth(),f?.5:.5*this.getVWidth()),h=this.getLength("cy",f?1:this.getVHeight(),f?.5:.5*this.getVHeight()),p=this.getLength("r",f?1:this.getViewport(),f?.5:.5*this.getViewport()),l=this.getLength("fx",f?1:this.getVWidth(),u),d=this.getLength("fy",f?1:this.getVHeight(),h),l=Math.min(Math.max(l,u-p+1e-6),u+p-1e-6),d=Math.min(Math.max(d,h-p+1e-6),h+p-1e-6)),"reflect"===g||"repeat"===g){let e=k(m),n=T([t[0],t[1]],e),r=T([t[2],t[1]],e),i=T([t[2],t[3]],e),s=T([t[0],t[3]],e);"linearGradient"===this.name?(y=Math.max((n[0]-u)*(u-l)+(n[1]-h)*(h-d),(r[0]-u)*(u-l)+(r[1]-h)*(h-d),(i[0]-u)*(u-l)+(i[1]-h)*(h-d),(s[0]-u)*(u-l)+(s[1]-h)*(h-d))/(Math.pow(u-l,2)+Math.pow(h-d,2)),v=Math.max((n[0]-l)*(l-u)+(n[1]-d)*(d-h),(r[0]-l)*(l-u)+(r[1]-d)*(d-h),(i[0]-l)*(l-u)+(i[1]-d)*(d-h),(s[0]-l)*(l-u)+(s[1]-d)*(d-h))/(Math.pow(u-l,2)+Math.pow(h-d,2))):y=Math.sqrt(Math.max(Math.pow(n[0]-u,2)+Math.pow(n[1]-h,2),Math.pow(r[0]-u,2)+Math.pow(r[1]-h,2),Math.pow(i[0]-u,2)+Math.pow(i[1]-h,2),Math.pow(s[0]-u,2)+Math.pow(s[1]-h,2)))/p-1,y=Math.ceil(y+.5),_=(v=Math.ceil(v+.5))+1+y}c="linearGradient"===this.name?e.linearGradient(l-v*(u-l),d-v*(h-d),u+y*(u-l),h+y*(h-d)):e.radialGradient(l,d,0,u,h,p+y*p);for(let e=0;e<_;e++){let t=0,r="reflect"!==g||(e-v)%2==0;for(let i=0;i<a.length;i++){let l=a[r?i:a.length-1-i],u=l.get("stop-color");"none"===u&&(u=o.transparent),u=C(u,l.get("stop-opacity")*n,s),t=Math.max(t,r?l.getPercent("offset",0):1-l.getPercent("offset",0)),0===i&&4===u[0].length&&(c._colorSpace="DeviceCMYK"),0===i&&t>0&&c.stop((e+0)/_,u[0],u[1]),c.stop((e+t)/(y+v+1),u[0],u[1]),i===a.length-1&&t<1&&c.stop((e+1)/_,u[0],u[1])}}return c.setTransform.apply(c,m),[c,1]}return r?[r[0],r[1]*n]:void 0}},ce=function(t,n){X.call(this,t,n),this.dashScale=1,this.getBoundingShape=function(){return this.shape},this.getTransformation=function(){return this.get("transform")},this.drawInDocument=function(t,n){if("hidden"!==this.get("visibility")&&this.shape){if(e.save(),this.transform(),this.clip(),t)this.shape.insertInDocument(),v(o.white),e.fill(this.get("clip-rule"));else{let r;this.mask()&&(r=d(P()));let i=this.shape.getSubPaths(),s=this.getFill(t,n),o=this.getStroke(t,n),a=this.get("stroke-width"),c=this.get("stroke-linecap");if(s||o){if(s&&v(s),o){for(let t=0;t<i.length;t++)if(A(i[t].totalLength,0)&&("square"===c||"round"===c)&&a>0){let n=i[t].startPoint[0],r=i[t].startPoint[1];v(o),"square"===c?e.rect(n-.5*a,r-.5*a,a,a):"round"===c&&e.circle(n,r,.5*a),e.fill()}let t=this.get("stroke-dasharray"),n=this.get("stroke-dashoffset");if(O(this.dashScale,1)){for(let e=0;e<t.length;e++)t[e]*=this.dashScale;n*=this.dashScale}_(o),e.lineWidth(a).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(c).dash(t,{phase:n})}for(let e=0;e<i.length;e++)i[e].totalLength>0&&i[e].insertInDocument();s&&o?e.fillAndStroke(this.get("fill-rule")):s?e.fill(this.get("fill-rule")):o&&e.stroke()}let l=this.get("marker-start"),u=this.get("marker-mid"),f=this.get("marker-end");if("none"!==l||"none"!==u||"none"!==f){let e=this.shape.getMarkers();if("none"!==l&&new ge(l,null).drawMarker(!1,n,e[0],a),"none"!==u)for(let t=1;t<e.length-1;t++)new ge(u,null).drawMarker(!1,n,e[t],a);"none"!==f&&new ge(f,null).drawMarker(!1,n,e[e.length-1],a)}r&&(h(r),p(r))}e.restore()}}},le=function(e,t){ce.call(this,e,t);let n=this.getLength("x",this.getVWidth(),0),r=this.getLength("y",this.getVHeight(),0),i=this.getLength("width",this.getVWidth(),0),s=this.getLength("height",this.getVHeight(),0),o=this.getLength("rx",this.getVWidth()),a=this.getLength("ry",this.getVHeight());void 0===o&&void 0===a?o=a=0:void 0===o&&void 0!==a?o=a:void 0!==o&&void 0===a&&(a=o),i>0&&s>0?o&&a?(o=Math.min(o,.5*i),a=Math.min(a,.5*s),this.shape=(new K).M(n+o,r).L(n+i-o,r).A(o,a,0,0,1,n+i,r+a).L(n+i,r+s-a).A(o,a,0,0,1,n+i-o,r+s).L(n+o,r+s).A(o,a,0,0,1,n,r+s-a).L(n,r+a).A(o,a,0,0,1,n+o,r).Z()):this.shape=(new K).M(n,r).L(n+i,r).L(n+i,r+s).L(n,r+s).Z():this.shape=new K},ue=function(e,t){ce.call(this,e,t);let n=this.getLength("cx",this.getVWidth(),0),r=this.getLength("cy",this.getVHeight(),0),i=this.getLength("r",this.getViewport(),0);this.shape=i>0?(new K).M(n+i,r).A(i,i,0,0,1,n-i,r).A(i,i,0,0,1,n+i,r).Z():new K},de=function(e,t){ce.call(this,e,t);let n=this.getLength("cx",this.getVWidth(),0),r=this.getLength("cy",this.getVHeight(),0),i=this.getLength("rx",this.getVWidth(),0),s=this.getLength("ry",this.getVHeight(),0);this.shape=i>0&&s>0?(new K).M(n+i,r).A(i,s,0,0,1,n-i,r).A(i,s,0,0,1,n+i,r).Z():new K},he=function(e,t){ce.call(this,e,t);let n=this.getLength("x1",this.getVWidth(),0),r=this.getLength("y1",this.getVHeight(),0),i=this.getLength("x2",this.getVWidth(),0),s=this.getLength("y2",this.getVHeight(),0);this.shape=(new K).M(n,r).L(i,s)},pe=function(e,t){ce.call(this,e,t);let n=this.getNumberList("points");this.shape=new K;for(let e=0;e<n.length-1;e+=2)0===e?this.shape.M(n[e],n[e+1]):this.shape.L(n[e],n[e+1]);n.error&&Ie("SvgElemPolygon: unexpected string "+n.error),n.length%2==1&&Ie("SvgElemPolyline: uneven number of coordinates")},fe=function(e,t){ce.call(this,e,t);let n=this.getNumberList("points");this.shape=new K;for(let e=0;e<n.length-1;e+=2)0===e?this.shape.M(n[e],n[e+1]):this.shape.L(n[e],n[e+1]);this.shape.Z(),n.error&&Ie("SvgElemPolygon: unexpected string "+n.error),n.length%2==1&&Ie("SvgElemPolygon: uneven number of coordinates")},me=function(e,t){ce.call(this,e,t),this.shape=(new K).path(this.attr("d"));let n=this.getLength("pathLength",this.getViewport());this.pathLength=n>0?n:void 0,this.dashScale=void 0!==this.pathLength?this.shape.totalLength/this.pathLength:1},ge=function(t,n){Q.call(this,t,n);let r=this.getLength("markerWidth",this.getParentVWidth(),3),i=this.getLength("markerHeight",this.getParentVHeight(),3),s=this.getViewbox("viewBox",[0,0,r,i]);this.getVWidth=function(){return s[2]},this.getVHeight=function(){return s[3]},this.drawMarker=function(t,n,o,a){e.save();let c=this.attr("orient"),l=this.attr("markerUnits"),u="auto"===c?o[2]:(parseFloat(c)||0)*Math.PI/180,f="userSpaceOnUse"===l?1:a;e.transform(Math.cos(u)*f,Math.sin(u)*f,-Math.sin(u)*f,Math.cos(u)*f,o[0],o[1]);let m,g=this.getLength("refX",this.getVWidth(),0),y=this.getLength("refY",this.getVHeight(),0),v=j(this.attr("preserveAspectRatio"),r,i,s[2],s[3],.5);"hidden"===this.get("overflow")&&e.rect(v[0]*(s[0]+s[2]/2-g)-r/2,v[3]*(s[1]+s[3]/2-y)-i/2,r,i).clip(),e.transform.apply(e,v),e.translate(-g,-y),this.get("opacity")<1&&!t&&(m=d(P())),this.drawChildren(t,n),m&&(h(m),e.fillOpacity(this.get("opacity")),p(m)),e.restore()}},ye=function(t,n){Q.call(this,t,n),this.useMask=function(t){let n=d(P());e.save(),"objectBoundingBox"===this.attr("clipPathUnits")&&e.transform(t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]),this.clip(),this.drawChildren(!0,!1),e.restore(),h(n),f(n,!0)}},ve=function(t,n){Q.call(this,t,n),this.useMask=function(t){let n,r,i,s,o=d(P());e.save(),"userSpaceOnUse"===this.attr("maskUnits")?(n=this.getLength("x",this.getVWidth(),-.1*(t[2]-t[0])+t[0]),r=this.getLength("y",this.getVHeight(),-.1*(t[3]-t[1])+t[1]),i=this.getLength("width",this.getVWidth(),1.2*(t[2]-t[0])),s=this.getLength("height",this.getVHeight(),1.2*(t[3]-t[1]))):(n=this.getLength("x",this.getVWidth(),-.1)*(t[2]-t[0])+t[0],r=this.getLength("y",this.getVHeight(),-.1)*(t[3]-t[1])+t[1],i=this.getLength("width",this.getVWidth(),1.2)*(t[2]-t[0]),s=this.getLength("height",this.getVHeight(),1.2)*(t[3]-t[1])),e.rect(n,r,i,s).clip(),"objectBoundingBox"===this.attr("maskContentUnits")&&e.transform(t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]),this.clip(),this.drawChildren(!1,!0),e.restore(),h(o),f(o,!0)}},_e=function(t,n){X.call(this,t,n),this.allowedChildren=["tspan","#text","#cdata-section","a"],this.isText=!0,this.getBoundingShape=function(){let e=new K;for(let t=0;t<this._pos.length;t++){let n=this._pos[t];if(!n.hidden){let t=n.ascent*Math.sin(n.rotate),r=-n.ascent*Math.cos(n.rotate),i=n.descent*Math.sin(n.rotate),s=-n.descent*Math.cos(n.rotate),o=n.width*Math.cos(n.rotate),a=n.width*Math.sin(n.rotate);e.M(n.x+t,n.y+r).L(n.x+t+o,n.y+r+a).M(n.x+i+o,n.y+s+a).L(n.x+i,n.y+s)}}return e},this.drawTextInDocument=function(t,n){!this.link||t||n||this.addLink(),"underline"===this.get("text-decoration")&&this.decorate(.05*this._font.size,-.075*this._font.size,t,n),"overline"===this.get("text-decoration")&&this.decorate(.05*this._font.size,W(this._font.font,this._font.size)+.075*this._font.size,t,n);let r=this.getFill(t,n),i=this.getStroke(t,n),s=this.get("stroke-width");this._font.fauxBold&&(i?s+=.03*this._font.size:(i=r,s=.03*this._font.size));let o=this.getChildren();for(let g=0;g<o.length;g++){let b=o[g];switch(b.name){case"tspan":case"textPath":case"a":"none"!==b.get("display")&&b.drawTextInDocument(t,n);break;case"#text":case"#cdata-section":if("hidden"===this.get("visibility"))continue;if(r||i||t){r&&v(r),i&&s&&(_(i),e.lineWidth(s).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(this.get("stroke-linecap")).dash(this.get("stroke-dasharray"),{phase:this.get("stroke-dashoffset")})),f=this._font.font,m=this._font.size,e.page.fonts[f.id]||(e.page.fonts[f.id]=f.ref()),e.addContent("BT").addContent("/"+f.id+" "+m+" Tf"),y(!!r,!!i);for(let t=0,n=b._pos;t<n.length;t++)if(!n[t].hidden&&O(n[t].width,0)){let r=Math.cos(n[t].rotate),i=Math.sin(n[t].rotate),s=this._font.fauxItalic?-.25:0;c=r*n[t].scale,l=i*n[t].scale,u=r*s-i,d=i*s+r,h=n[t].x,p=n[t].y,e.addContent(L(c)+" "+L(l)+" "+L(-u)+" "+L(-d)+" "+L(h)+" "+L(p)+" Tm"),a=n[t].glyph,e.addContent("<"+a+"> Tj")}e.addContent("ET")}}}var a,c,l,u,d,h,p,f,m;"line-through"===this.get("text-decoration")&&this.decorate(.05*this._font.size,.5*(W(this._font.font,this._font.size)+U(this._font.font,this._font.size)),t,n)},this.decorate=function(t,n,r,i){let s=this.getFill(r,i),o=this.getStroke(r,i);s&&v(s),o&&(_(o),e.lineWidth(this.get("stroke-width")).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(this.get("stroke-linecap")).dash(this.get("stroke-dasharray"),{phase:this.get("stroke-dashoffset")}));for(let r=0,i=this._pos;r<i.length;r++)if(!i[r].hidden&&O(i[r].width,0)){let a=(n+t/2)*Math.sin(i[r].rotate),c=-(n+t/2)*Math.cos(i[r].rotate),l=(n-t/2)*Math.sin(i[r].rotate),u=-(n-t/2)*Math.cos(i[r].rotate),d=i[r].width*Math.cos(i[r].rotate),h=i[r].width*Math.sin(i[r].rotate);(new K).M(i[r].x+a,i[r].y+c).L(i[r].x+a+d,i[r].y+c+h).L(i[r].x+l+d,i[r].y+u+h).L(i[r].x+l,i[r].y+u).Z().insertInDocument(),s&&o?e.fillAndStroke():s?e.fill():o&&e.stroke()}}},be=function(e,t){this.name=e.nodeName,this.textContent=e.nodeValue},Se=function(e,t){_e.call(this,e,t)},we=function(e,t){let n;if(_e.call(this,e,t),(n=this.attr("path"))&&""!==n.trim()){let e=this.getLength("pathLength",this.getViewport());this.pathObject=(new K).path(n),this.pathLength=e>0?e:this.pathObject.totalLength,this.pathScale=this.pathObject.totalLength/this.pathLength}else if((n=this.getUrl("href")||this.getUrl("xlink:href"))&&"path"===n.nodeName){let e=new me(n,this);this.pathObject=e.shape.clone().transform(e.get("transform")),this.pathLength=this.chooseValue(e.pathLength,this.pathObject.totalLength),this.pathScale=this.pathObject.totalLength/this.pathLength}},Ce=function(t,n){_e.call(this,t,n),this.allowedChildren=["textPath","tspan","#text","#cdata-section","a"],function(n){let r,i,s="",o=t.textContent,a=[],c=[],l=0,u=0;function d(){if(c.length){let e=c[c.length-1],t=c[0],n=e.x+e.width-t.x,s={startltr:0,middleltr:.5,endltr:1,startrtl:1,middlertl:.5,endrtl:0}[r+i]*n||0;for(let e=0;e<c.length;e++)c[e].x-=s}c=[]}function h(e){let t=e.pathObject,n=e.pathLength,r=e.pathScale;if(t){let i=e.getLength("startOffset",n,0);for(let s=0;s<e._pos.length;s++){let o=i+e._pos[s].x+.5*e._pos[s].width;if(o>n||o<0)e._pos[s].hidden=!0;else{let n=t.getPointAtLength(o*r);O(r,1)&&(e._pos[s].scale*=r,e._pos[s].width*=r),e._pos[s].x=n[0]-.5*e._pos[s].width*Math.cos(n[2])-e._pos[s].y*Math.sin(n[2]),e._pos[s].y=n[1]-.5*e._pos[s].width*Math.sin(n[2])+e._pos[s].y*Math.cos(n[2]),e._pos[s].rotate=n[2]+e._pos[s].rotate,e._pos[s].continuous=!1}}}else for(let t=0;t<e._pos.length;t++)e._pos[t].hidden=!0}!function t(n,h){n._x=H(n.getLengthList("x",n.getVWidth()),h?h._x.slice(h._pos.length):[]),n._y=H(n.getLengthList("y",n.getVHeight()),h?h._y.slice(h._pos.length):[]),n._dx=H(n.getLengthList("dx",n.getVWidth()),h?h._dx.slice(h._pos.length):[]),n._dy=H(n.getLengthList("dy",n.getVHeight()),h?h._dy.slice(h._pos.length):[]),n._rot=H(n.getNumberList("rotate"),h?h._rot.slice(h._pos.length):[]),n._defRot=n.chooseValue(n._rot[n._rot.length-1],h&&h._defRot,0),"textPath"===n.name&&(n._y=[]);let p={fauxItalic:!1,fauxBold:!1},f=Me(n.get("font-family"),"bold"===n.get("font-weight"),"italic"===n.get("font-style"),p);try{e.font(f)}catch(e){Ie('SVGElemText: failed to open font "'+f+'" in PDFKit')}n._pos=[],n._index=0,n._font={font:e._font,size:n.get("font-size"),fauxItalic:p.fauxItalic,fauxBold:p.fauxBold};let m=n.getLength("textLength",n.getVWidth(),void 0),g="spacingAndGlyphs"===n.attr("lengthAdjust"),y=n.get("word-spacing"),v=n.get("letter-spacing"),_=n.get("text-anchor"),b=n.get("direction"),S=function(e,t,n,r){let i,s;switch(n){case"middle":i=.5*function(e,t){return(e.xHeight||.5*(e.ascender-e.descender))*t/1e3}(e,t);break;case"central":i=.5*(U(e,t)+W(e,t));break;case"after-edge":case"text-after-edge":i=U(e,t);break;case"alphabetic":case"auto":case"baseline":i=0;break;case"mathematical":i=.5*W(e,t);break;case"hanging":i=.8*W(e,t);break;case"before-edge":case"text-before-edge":i=W(e,t);break;default:i=0}switch(r){case"baseline":s=0;break;case"super":s=.6*t;break;case"sub":s=-.6*t;break;default:s=r}return i-s}(n._font.font,n._font.size,n.get("alignment-baseline")||n.get("dominant-baseline"),n.get("baseline-shift"));"textPath"===n.name&&(d(),l=u=0);let w=n.getChildren();for(let e=0;e<w.length;e++){let a=w[e];switch(a.name){case"tspan":case"textPath":case"a":t(a,n);break;case"#text":case"#cdata-section":let e,h=a.textContent,p=h;a._font=n._font,a._pos=[],o=o.substring(h.length),"preserve"===n.get("xml:space")?p=p.replace(/[\s]/g," "):(p=p.replace(/[\s]+/g," "),s.match(/[\s]$|^$/)&&(p=p.replace(/^[\s]/,"")),o.match(/^[\s]*$/)&&(p=p.replace(/[\s]$/,""))),s+=h,e=0===y?[p]:p.split(/(\s)/);for(let t=0;t<e.length;t++){let s=V(n._font.font,n._font.size,e[t]);for(let e=0;e<s.length;e++){let o=n._index,h=n._x[o],p=n._y[o],f=n._dx[o],m=n._dy[o],g=n._rot[o],y=!(0===t&&0===e);void 0!==h&&(y=!1,d(),l=h),void 0!==p&&(y=!1,d(),u=p),void 0!==f&&(y=!1,l+=f),void 0!==m&&(y=!1,u+=m),void 0===g&&0===n._defRot||(y=!1);let w={glyph:s[e].glyph,rotate:Math.PI/180*n.chooseValue(g,n._defRot),x:l+s[e].xOffset,y:u+S+s[e].yOffset,width:s[e].width,ascent:W(n._font.font,n._font.size),descent:U(n._font.font,n._font.size),scale:1,hidden:!1,continuous:y};c.push(w),a._pos.push(w),n._pos.push(w),n._index+=s[e].unicode.length,1===c.length&&(r=_,i=b),l+=s[e].xAdvance+v,u+=s[e].yAdvance}" "===e[t]&&(l+=y)}break;default:o=o.substring(a.textContent.length)}}if(m&&n._pos.length&&function(e,t,n){let r=e[0],i=e[e.length-1],s=r.x,o=i.x+i.width;if(n){let n=t/(o-s);if(n>0&&n<1/0)for(let t=0;t<e.length;t++)e[t].x=s+n*(e[t].x-s),e[t].scale*=n,e[t].width*=n}else if(e.length>=2){let n=(t-(o-s))/(e.length-1);for(let t=0;t<e.length;t++)e[t].x+=t*n}l+=t-(o-s)}(n._pos,m,g),"textPath"!==n.name&&"text"!==n.name||d(),"textPath"===n.name){a.push(n);let e=n.pathObject;e&&(l=e.endPoint[0],u=e.endPoint[1])}h&&(h._pos=h._pos.concat(n._pos),h._index+=n._index)}(n,null);for(let e=0;e<a.length;e++)h(a[e])}(this),this.getTransformation=function(){return this.get("transform")},this.drawInDocument=function(t,n){let r;e.save(),this.transform(),this.clip(),this.mask()&&(r=d(P())),this.drawTextInDocument(t,n),r&&(h(r),p(r)),e.restore()}},Ee=(i=i||{}).assumePt?1:.75,Te=(i.width||e.page.width)/Ee,De=(i.height||e.page.height)/Ee,Pe=i.preserveAspectRatio||null,ke=i.useCSS&&"undefined"!=typeof SVGElement&&t instanceof SVGElement&&"function"==typeof getComputedStyle,Ie=i.warningCallback,Me=i.fontCallback,xe=i.imageCallback,Ae=i.colorCallback,Oe=i.documentCallback,Le=Math.ceil(Math.max(1,i.precision))||3,Re=[],je={},Fe=[],Ne=[];if("function"!=typeof Ie&&(Ie=function(e){void 0!==typeof console&&"function"==typeof console.warn&&console.warn(e)}),"function"!=typeof Me&&(Me=function(e,t,n,r){if(e.match(/(?:^|,)\s*serif\s*$/)){if(t&&n)return"Times-BoldItalic";if(t&&!n)return"Times-Bold";if(!t&&n)return"Times-Italic";if(!t&&!n)return"Times-Roman"}else if(e.match(/(?:^|,)\s*monospace\s*$/)){if(t&&n)return"Courier-BoldOblique";if(t&&!n)return"Courier-Bold";if(!t&&n)return"Courier-Oblique";if(!t&&!n)return"Courier"}else{if(e.match(/(?:^|,)\s*sans-serif\s*$/),t&&n)return"Helvetica-BoldOblique";if(t&&!n)return"Helvetica-Bold";if(!t&&n)return"Helvetica-Oblique";if(!t&&!n)return"Helvetica"}}),"function"!=typeof xe&&(xe=function(e){return e.replace(/\s+/g,"")}),"function"!=typeof Ae)Ae=null;else for(let e in o){let t=Ae(o[e]);o[e][0]=t[0],o[e][1]=t[1]}if("function"!=typeof Oe&&(Oe=null),"string"==typeof t&&(t=b(t)),t){let s=t.getElementsByTagName("style");for(let e=0;e<s.length;e++)Ne=Ne.concat(Y(s[e].textContent));let o=$(t,null);if("function"==typeof o.drawInDocument){i.useCSS&&!ke&&Ie("SVGtoPDF: useCSS option can only be used for SVG *elements* in compatible browsers"),e.save().translate(n||0,r||0).scale(Ee),o.drawInDocument();for(let t=0;t<Fe.length;t++)e.page.annotations.push(Fe[t]);e.restore()}else Ie("SVGtoPDF: this element can't be rendered directly: "+t.nodeName)}else Ie("SVGtoPDF: the input does not look like a valid SVG")})}).call(this,n(100)(e))},function(e,t){e.exports=require("./node_modules/pdfkit")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(1),a=n(10),c=n(9),l=n(15),u=n(19);let d=class{constructor(e,t){this.serviceContainer=e,this.imageList=[],this.closedViewer=()=>{this.currentViewer&&(this.currentViewer=void 0),this.currentViewerClosed&&(this.currentViewerClosed.dispose(),this.currentViewerClosed=void 0)},this.removedPlot=e=>{this.imageList.splice(e,1)},t.push(this)}async dispose(){this.currentViewer&&this.currentViewer.dispose()}async showPlot(e){this.imageList.push(e);const t=this.currentViewer?[e]:this.imageList,n=await this.getOrCreate();await Promise.all(t.map(n.addPlot))}async getOrCreate(){return this.currentViewer||(this.currentViewer=this.serviceContainer.get(u.IPlotViewer),this.currentViewerClosed=this.currentViewer.closed(this.closedViewer),this.currentViewer.removed(this.removedPlot),c.sendTelemetryEvent(l.Telemetry.OpenPlotViewer),await this.currentViewer.show()),this.currentViewer}};d=r([s.injectable(),i(0,s.inject(a.IServiceContainer)),i(1,s.inject(o.IAsyncDisposableRegistry))],d),t.PlotViewerProvider=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(17);class l{constructor(e,t,n){this.disposed=!1,this.dispose=()=>{this.disposed||(this.disposed=!0,this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),this.disposeCallback(),this.deferred.completed||this.deferred.resolve())},this.promise=()=>this.deferred.promise,this.reject=()=>{this.deferred.reject(),this.dispose()},this.deferred=c.createDeferred(),this.disposeCallback=t,n&&(this.timeout=setTimeout(this.dispose,n))}}let u=class{constructor(e){this.applicationShell=e,this.statusCount=0,this.incrementCount=(e,t)=>{0===this.statusCount&&t&&e&&t.startProgress(),this.statusCount+=1},this.decrementCount=e=>{const t=this.statusCount-1;0===t&&e&&e.stopProgress(),this.statusCount=Math.max(t,0)}}set(e,t,n,r,i){this.incrementCount(t,i);const s=new l(e,()=>this.decrementCount(i),n),a={location:r?o.ProgressLocation.Notification:o.ProgressLocation.Window,title:e,cancellable:void 0!==r};return this.applicationShell.withProgress(a,(e,t)=>(t&&r&&t.onCancellationRequested(()=>{r(),s.reject()}),s.promise())),s}async waitWithStatus(e,t,n,r,i,s){const o=this.set(t,n,r,i,s);let a;try{a=await e()}finally{o.dispose()}return a}};u=r([s.injectable(),i(0,s.inject(a.IApplicationShell))],u),t.StatusProvider=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(46),o=n(222),a=n(0),c=n(3),l=n(13),u=n(1);let d=class{constructor(e,t,n){this.extensions=e,this.currentProcess=t,this.logger=n,this.themeCache={},this.languageCache={}}async findThemeRootJson(e){const t=await this.findThemeData(e);if(t)return t.rootFile}async findTmLanguage(e){if(!this.themeCache.hasOwnProperty(e))try{this.languageCache[e]=await this.findMatchingLanguage(e)}catch(e){this.logger.logError(e)}return this.languageCache[e]}async isThemeDark(e){const t=await this.findThemeData(e);if(t)return t.isDark}async findThemeData(e){if(!this.themeCache.hasOwnProperty(e))try{this.themeCache[e]=await this.findMatchingTheme(e)}catch(e){this.logger.logError(e)}return this.themeCache[e]}async findMatchingLanguage(e){const t=this.currentProcess.execPath;let n=c.dirname(t),r=c.join(n,"resources","app","extensions");await s.pathExists(r)||(n=c.resolve(n,"../../../.."),r=c.join(n,"resources","app","extensions"));let i=await this.findMatchingLanguages(e,r);return i||e!==l.PYTHON_LANGUAGE||(i=await s.readFile(c.join(l.EXTENSION_ROOT_DIR,"resources","MagicPython.tmLanguage.json"),"utf-8")),i}async findMatchingLanguages(e,t){if(process.env.VSC_PYTHON_MIMIC_REMOTE)return;const n=await new Promise((e,n)=>{o("**/package.json",{cwd:t},(t,r)=>{t&&n(t),e(r)})});if(n.length>0)for(const r of n){const n=c.join(t,r),i=await this.findMatchingLanguageFromJson(n,e);if(i)return i}}async findMatchingTheme(e){if(process.env.VSC_PYTHON_MIMIC_REMOTE)return;const t=this.extensions.all;for(const n of t){const t=await this.findMatchingThemeFromJson(c.join(n.extensionPath,"package.json"),e);if(t)return t}const n=this.currentProcess.execPath;let r=c.dirname(n),i=c.join(r,"resources","app","extensions");await s.pathExists(i)||(r=c.resolve(r,"../../../.."),i=c.join(r,"resources","app","extensions"));const o=await this.findMatchingThemes(i,e);return o||void 0}async findMatchingThemes(e,t){const n=await new Promise((t,n)=>{o("**/package.json",{cwd:e},(e,r)=>{e&&n(e),t(r)})});if(n.length>0)for(const r of n){const n=c.join(e,r),i=await this.findMatchingThemeFromJson(n,t);if(i)return i}}async findMatchingLanguageFromJson(e,t){const n=await s.readJSON(e,{encoding:"utf-8"});if(n.hasOwnProperty("name")&&n.hasOwnProperty("contributes")){const r=n.contributes;if(r.hasOwnProperty("grammars")){const n=r.grammars;for(const r of n)if(r.hasOwnProperty("language")&&r.language===t){const t=r.hasOwnProperty("path")?c.join(c.dirname(e),r.path.toString()):"";return s.readFile(t,"utf-8")}}}}async findMatchingThemeFromJson(e,t){const n=await s.readJSON(e,{encoding:"utf-8"});if(n.hasOwnProperty("name")&&n.hasOwnProperty("contributes")){const r=n.contributes;if(r.hasOwnProperty("themes")){const n=r.themes;for(const r of n)if(r.hasOwnProperty("label")&&r.label===t||r.hasOwnProperty("id")&&r.id===t){return{isDark:r.hasOwnProperty("uiTheme")&&"vs-dark"===r.uiTheme,rootFile:r.hasOwnProperty("path")?c.join(c.dirname(e),r.path.toString()):""}}}}}};d=r([a.injectable(),i(0,a.inject(u.IExtensions)),i(1,a.inject(u.ICurrentProcess)),i(2,a.inject(u.ILogger))],d),t.ThemeFinder=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(1),c=n(170);let l=class{constructor(e,t,n){this.eventHandlers=e,this.debugService=t,this.disposables=n}registerEventHandlers(){this.disposables.push(this.debugService.onDidReceiveDebugSessionCustomEvent(e=>{this.eventHandlers.forEach(t=>t.handleCustomEvent?t.handleCustomEvent(e).ignoreErrors():void 0)})),this.disposables.push(this.debugService.onDidTerminateDebugSession(e=>{this.eventHandlers.forEach(t=>t.handleTerminateEvent?t.handleTerminateEvent(e).ignoreErrors():void 0)}))}};l=r([i(0,s.multiInject(c.IDebugSessionEventHandlers)),i(1,s.inject(o.IDebugService)),i(2,s.inject(a.IDisposableRegistry))],l),t.DebugSessionEventDispatcher=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(1210),s=n(1211),o=n(1212),a=n(1213),c=n(1214),l=n(1215),u=n(1216),d=n(1217),h=n(1218),p=n(1219),f=n(1220),m=n(1221),g=n(1222),y=n(1223),v=n(1224),_=n(542),b=n(1225),S=n(248),w=n(1226),C=n(1228),E=n(170),T=n(40);t.registerTypes=function(e){e.addSingleton(r.IExtensionSingleActivationService,l.LaunchJsonCompletionProvider),e.addSingleton(r.IExtensionSingleActivationService,u.LaunchJsonUpdaterService),e.addSingleton(T.IDebugConfigurationService,c.PythonDebugConfigurationService),e.addSingleton(T.IDebuggerBanner,a.DebuggerBanner),e.addSingleton(E.IChildProcessAttachService,C.ChildProcessAttachService),e.addSingleton(E.IDebugSessionEventHandlers,w.ChildProcessAttachEventHandler),e.addSingleton(S.IDebugConfigurationResolver,b.LaunchConfigurationResolver,"launch"),e.addSingleton(S.IDebugConfigurationResolver,v.AttachConfigurationResolver,"attach"),e.addSingleton(S.IDebugConfigurationProviderFactory,m.DebugConfigurationProviderFactory),e.addSingleton(T.IDebugConfigurationProvider,h.FileLaunchDebugConfigurationProvider,T.DebugConfigurationType.launchFile),e.addSingleton(T.IDebugConfigurationProvider,d.DjangoLaunchDebugConfigurationProvider,T.DebugConfigurationType.launchDjango),e.addSingleton(T.IDebugConfigurationProvider,p.FlaskLaunchDebugConfigurationProvider,T.DebugConfigurationType.launchFlask),e.addSingleton(T.IDebugConfigurationProvider,y.RemoteAttachDebugConfigurationProvider,T.DebugConfigurationType.remoteAttach),e.addSingleton(T.IDebugConfigurationProvider,f.ModuleLaunchDebugConfigurationProvider,T.DebugConfigurationType.launchModule),e.addSingleton(T.IDebugConfigurationProvider,g.PyramidLaunchDebugConfigurationProvider,T.DebugConfigurationType.launchPyramid),e.addSingleton(_.IDebugEnvironmentVariablesService,_.DebugEnvironmentVariablesHelper),e.addSingleton(r.IExtensionSingleActivationService,i.DebugAdapterActivator),e.addSingleton(T.IDebugAdapterDescriptorFactory,s.DebugAdapterDescriptorFactory),e.addSingleton(T.IDebugSessionLoggingFactory,o.DebugSessionLoggingFactory)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(78),c=n(1),l=n(60),u=n(40);let d=class{constructor(e,t,n,r,i){this.debugService=e,this.descriptorFactory=t,this.debugSessionLoggingFactory=n,this.disposables=r,this.experimentsManager=i}async activate(){this.experimentsManager.inExperiment(a.DebugAdapterDescriptorFactory.experiment)?(this.disposables.push(this.debugService.registerDebugAdapterTrackerFactory(l.DebuggerTypeName,this.debugSessionLoggingFactory)),this.disposables.push(this.debugService.registerDebugAdapterDescriptorFactory(l.DebuggerTypeName,this.descriptorFactory))):this.experimentsManager.sendTelemetryIfInExperiment(a.DebugAdapterDescriptorFactory.control)}};d=r([s.injectable(),i(0,s.inject(o.IDebugService)),i(1,s.inject(u.IDebugAdapterDescriptorFactory)),i(2,s.inject(u.IDebugSessionLoggingFactory)),i(3,s.inject(c.IDisposableRegistry)),i(4,s.inject(c.IExperimentsManager))],d),t.DebugAdapterActivator=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4),l=n(78),u=n(6),d=n(1),h=n(30),p=n(14);t.ptvsdPathStorageKey="PTVSD_PATH_STORAGE_KEY";let f=class{constructor(e,t,n){this.interpreterService=e,this.appShell=t,this.experimentsManager=n}async createDebugAdapterDescriptor(e,t){const n=e.configuration;if(this.experimentsManager.inExperiment(l.DebugAdapterNewPtvsd.experiment)){if("attach"===n.request){const e=n.port?n.port:0;if(0===e)throw new Error("Port must be specified for request type attach");return new a.DebugAdapterServer(e,n.host)}{const t=await this.getPythonPath(n,e.workspaceFolder);if(await this.useNewPtvsd(t)){const e=n.logToFile?["--log-dir",h.EXTENSION_ROOT_DIR]:[],r=this.getPtvsdPath();return new a.DebugAdapterExecutable(t,[o.join(r,"adapter"),...e])}}}else this.experimentsManager.sendTelemetryIfInExperiment(l.DebugAdapterNewPtvsd.control);if(t)return t;throw new Error("Debug Adapter Executable not provided")}async useNewPtvsd(e){const t=await this.interpreterService.getInterpreterDetails(e);return!!(t&&t.version&&t.version.raw.startsWith("3.7"))}getPtvsdPath(){return o.join(h.EXTENSION_ROOT_DIR,"pythonFiles","lib","python","ptvsd")}getRemotePtvsdArgs(e){const t=e.waitUntilDebuggerAttaches?["--wait"]:[];return["--default","--host",e.host,"--port",e.port.toString(),...t]}async getPythonPath(e,t){if(e.pythonPath)return e.pythonPath;const n=t?t.uri:void 0,r=await this.interpreterService.getActiveInterpreter(n);if(r)return u.traceVerbose(`Selecting active interpreter as Python Executable for DA '${r.path}'`),r.path;const i=await this.interpreterService.getInterpreters(n);return 0===i.length?(this.notifySelectInterpreter().ignoreErrors(),""):(u.traceVerbose(`Picking first available interpreter to launch the DA '${i[0].path}'`),i[0].path)}async notifySelectInterpreter(){await this.appShell.showErrorMessage("Please install Python or select a Python Interpreter to use the debugger.")}};f=r([s.injectable(),i(0,s.inject(p.IInterpreterService)),i(1,s.inject(c.IApplicationShell)),i(2,s.inject(d.IExperimentsManager))],f),t.DebugAdapterDescriptorFactory=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(8),c=n(24),l=n(30);class u{constructor(e,t){if(this.session=e,this.enabled=!1,this.timer=new c.StopWatch,this.enabled=this.session.configuration.logToFile,this.enabled){const e=`debugger.vscode_${this.session.id}.log`;this.stream=t.createWriteStream(o.join(l.EXTENSION_ROOT_DIR,e))}}onWillStartSession(){this.timer.reset(),this.log(`Starting Session:\n${this.stringify(this.session.configuration)}\n`)}onWillReceiveMessage(e){this.log(`Client --\x3e Adapter:\n${this.stringify(e)}\n`)}onDidSendMessage(e){this.log(`Client <-- Adapter:\n${this.stringify(e)}\n`)}onWillStopSession(){this.log("Stopping Session\n")}onError(e){this.log(`Error:\n${this.stringify(e)}\n`)}onExit(e,t){this.log(`Exit:\nExit-Code: ${e||0}\nSignal: ${t||"none"}\n`)}log(e){this.enabled&&this.stream.write(`${this.timer.elapsedTime} ${e}`)}stringify(e){return JSON.stringify(e,null,4)}}let d=class{constructor(e){this.fileSystem=e}createDebugAdapterTracker(e){return new u(e,this.fileSystem)}};d=r([s.injectable(),i(0,s.inject(a.IFileSystem))],d),t.DebugSessionLoggingFactory=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4);n(7);const a=n(1),c=n(10),l=n(60);var u;!function(e){e.ShowBanner="ShowBanner",e.DebuggerLaunchCounter="DebuggerLaunchCounter",e.DebuggerLaunchThresholdCounter="DebuggerLaunchThresholdCounter",e.UserSelected="DebuggerUserSelected"}(u=t.PersistentStateKeys||(t.PersistentStateKeys={}));let d=class{constructor(e){this.serviceContainer=e}initialize(){this.initialized||(this.initialized=!0,this.isEnabled()&&this.addCallback())}isEnabled(){const e=this.serviceContainer.get(a.IPersistentStateFactory),t=u.ShowBanner;return e.createGlobalPersistentState(t,!0).value}async disable(){const e=this.serviceContainer.get(a.IPersistentStateFactory),t=u.ShowBanner,n=e.createGlobalPersistentState(t,!1);await n.updateValue(!1)}async shouldShow(){return!(!this.isEnabled()||this.disabledInCurrentSession)&&(!!await this.passedThreshold()&&this.isUserSelected())}async show(){const e=this.serviceContainer.get(o.IApplicationShell),t="Yes, take survey now",n="No thanks";switch(await e.showInformationMessage("Can you please take 2 minutes to tell us how the debugger is working for you?",t,n,"Remind me later")){case t:await this.action(),await this.disable();break;case n:await this.disable();break;default:this.disabledInCurrentSession=!0}}async action(){const e=await this.getGetDebuggerLaunchCounter();this.serviceContainer.get(a.IBrowserService).launch(`https://www.research.net/r/N7B25RV?n=${e}`)}async isUserSelected(){if(void 0!==this.userSelected)return this.userSelected;const e=this.serviceContainer.get(a.IPersistentStateFactory),t=u.UserSelected,n=e.createGlobalPersistentState(t,void 0);let r=n.value;if(void 0===r){r=this.serviceContainer.get(a.IRandom).getRandomInt(0,100)<10,n.updateValue(r).ignoreErrors()}return this.userSelected=r,r}async passedThreshold(){const[e,t]=await Promise.all([this.getDebuggerLaunchThresholdCounter(),this.getGetDebuggerLaunchCounter()]);return t>=e}async incrementDebuggerLaunchCounter(){const e=this.serviceContainer.get(a.IPersistentStateFactory),t=u.DebuggerLaunchCounter,n=e.createGlobalPersistentState(t,0);await n.updateValue(n.value+1)}async getGetDebuggerLaunchCounter(){const e=this.serviceContainer.get(a.IPersistentStateFactory),t=u.DebuggerLaunchCounter;return e.createGlobalPersistentState(t,0).value}async getDebuggerLaunchThresholdCounter(){const e=this.serviceContainer.get(a.IPersistentStateFactory),t=u.DebuggerLaunchThresholdCounter,n=e.createGlobalPersistentState(t,void 0);if(void 0===n.value){const e=this.serviceContainer.get(a.IRandom).getRandomInt(1,11);await n.updateValue(e)}return n.value}addCallback(){const e=this.serviceContainer.get(o.IDebugService).onDidTerminateDebugSession(async e=>{if(e.type===l.DebuggerTypeName){const e=this.serviceContainer.get(a.ILogger);await this.onDidTerminateDebugSession().catch(t=>e.logError("Error in debugger Banner",t))}});this.serviceContainer.get(a.IDisposableRegistry).push(e)}async onDidTerminateDebugSession(){if(!this.isEnabled())return;await this.incrementDebuggerLaunchCounter(),await this.shouldShow()&&await this.show()}};d=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],d),t.DebuggerBanner=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(8),c=n(12),l=n(370),u=n(30),d=n(9),h=n(11),p=n(40),f=n(248);let m=class{constructor(e,t,n,r,i){this.attachResolver=e,this.launchResolver=t,this.providerFactory=n,this.multiStepFactory=r,this.fs=i}async provideDebugConfigurations(e,t){const n={config:{},folder:e,token:t},r=this.multiStepFactory.create();return await r.run((e,t)=>this.pickDebugConfiguration(e,t),n),0===Object.keys(n.config).length?this.getDefaultDebugConfig():[n.config]}async resolveDebugConfiguration(e,t,n){if("attach"===t.request)return this.attachResolver.resolveDebugConfiguration(e,t,n);if("test"===t.request)throw Error("Please use the command 'Python: Debug Unit Tests'");if(0===Object.keys(t).length){const r=await this.provideDebugConfigurations(e,n);Array.isArray(r)&&1===r.length&&(t=r[0])}return this.launchResolver.resolveDebugConfiguration(e,t,n)}async getDefaultDebugConfig(){d.sendTelemetryEvent(h.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:p.DebugConfigurationType.default});const e=o.join(u.EXTENSION_ROOT_DIR,"resources","default.launch.json"),t=await this.fs.readFile(e);return JSON.parse(t)}async pickDebugConfiguration(e,t){const n=[{label:c.DebugConfigStrings.file.selectConfiguration.label(),type:p.DebugConfigurationType.launchFile,description:c.DebugConfigStrings.file.selectConfiguration.description()},{label:c.DebugConfigStrings.module.selectConfiguration.label(),type:p.DebugConfigurationType.launchModule,description:c.DebugConfigStrings.module.selectConfiguration.description()},{label:c.DebugConfigStrings.attach.selectConfiguration.label(),type:p.DebugConfigurationType.remoteAttach,description:c.DebugConfigStrings.attach.selectConfiguration.description()},{label:c.DebugConfigStrings.django.selectConfiguration.label(),type:p.DebugConfigurationType.launchDjango,description:c.DebugConfigStrings.django.selectConfiguration.description()},{label:c.DebugConfigStrings.flask.selectConfiguration.label(),type:p.DebugConfigurationType.launchFlask,description:c.DebugConfigStrings.flask.selectConfiguration.description()},{label:c.DebugConfigStrings.pyramid.selectConfiguration.label(),type:p.DebugConfigurationType.launchPyramid,description:c.DebugConfigStrings.pyramid.selectConfiguration.description()}];t.config={};const r=await e.showQuickPick({title:c.DebugConfigStrings.selectConfiguration.title(),placeholder:c.DebugConfigStrings.selectConfiguration.placeholder(),activeItem:n[0],items:n});if(r){const e=this.providerFactory.create(r.type);return e.buildConfiguration.bind(e)}}};m=r([s.injectable(),i(0,s.inject(f.IDebugConfigurationResolver)),i(0,s.named("attach")),i(1,s.inject(f.IDebugConfigurationResolver)),i(1,s.named("launch")),i(2,s.inject(f.IDebugConfigurationProviderFactory)),i(3,s.inject(l.IMultiStepInputFactory)),i(4,s.inject(a.IFileSystem))],m),t.PythonDebugConfigurationService=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(112),a=n(3),c=n(2),l=n(4),u=n(1),d=n(12);var h;!function(e){e.json="json",e.jsonWithComments="jsonc"}(h||(h={}));let p=class{constructor(e,t){this.languageService=e,this.disposableRegistry=t}async activate(){this.disposableRegistry.push(this.languageService.registerCompletionItemProvider({language:h.json},this)),this.disposableRegistry.push(this.languageService.registerCompletionItemProvider({language:h.jsonWithComments},this))}async provideCompletionItems(e,t,n){return this.canProvideCompletions(e,t)?[{command:{command:"python.SelectAndInsertDebugConfiguration",title:d.DebugConfigStrings.launchJsonCompletions.description(),arguments:[e,t,n]},documentation:d.DebugConfigStrings.launchJsonCompletions.description(),sortText:"AAAA",preselect:!0,kind:c.CompletionItemKind.Enum,label:d.DebugConfigStrings.launchJsonCompletions.label(),insertText:new c.SnippetString}]:[]}canProvideCompletions(e,t){if("launch.json"!==a.basename(e.uri.fsPath))return!1;const n=o.getLocation(e.getText(),e.offsetAt(t));return"configurations"===n.path[0]&&2===n.path.length}};p=r([s.injectable(),i(0,s.inject(l.ILanguageService)),i(1,s.inject(u.IDisposableRegistry))],p),t.LaunchJsonCompletionProvider=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(112),a=n(2),c=n(4),l=n(1),u=n(16),d=n(9),h=n(11),p=n(40);class f{constructor(e,t,n,r){this.commandManager=e,this.workspace=t,this.documentManager=n,this.configurationProvider=r}async selectAndInsertDebugConfig(e,t,n){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document===e){const r=this.workspace.getWorkspaceFolder(e.uri),i=await this.configurationProvider.provideDebugConfigurations(r,n);!n.isCancellationRequested&&Array.isArray(i)&&i.length>0&&await this.insertDebugConfiguration(e,t,i[0])}}async insertDebugConfiguration(e,t,n){const r=this.getCursorPositionInConfigurationsArray(e,t);if(!r)return;const i=this.isCommaImmediatelyBeforeCursor(e,t)?"BeforeCursor":void 0,s=this.getTextForInsertion(n,r,i),o=new a.WorkspaceEdit;o.insert(e.uri,t,s),await this.documentManager.applyEdit(o),this.commandManager.executeCommand("editor.action.formatDocument").then(u.noop,u.noop)}getTextForInsertion(e,t,n){const r=JSON.stringify(e);return"AfterItem"===t?"BeforeCursor"===n?r:`,${r}`:"BeforeItem"===t?`${r},`:r}getCursorPositionInConfigurationsArray(e,t){if(this.isConfigurationArrayEmpty(e))return"InsideEmptyArray";const n=o.createScanner(e.getText(),!0);n.setPosition(e.offsetAt(t));const r=n.scan();return 5===r||4===r?"AfterItem":1===r?"BeforeItem":void 0}isConfigurationArrayEmpty(e){const t=o.parse(e.getText(),[],{allowTrailingComma:!0,disallowComments:!1});return!t||!Array.isArray(t.configurations)||0===t.configurations.length}isCommaImmediatelyBeforeCursor(e,t){const n=e.lineAt(t.line),r=e.getText(new a.Range(n.range.start,t));if(r.trim().endsWith(","))return!0;if(0!==r.trim().length)return!1;let i=t.line-1;for(;i>0;){const t=e.lineAt(i).text;if(t.trim().endsWith(","))return!0;if(0!==t.trim().length)return!1;i-=1}return!1}}r([d.captureTelemetry(h.EventName.DEBUGGER_CONFIGURATION_PROMPTS_IN_LAUNCH_JSON)],f.prototype,"selectAndInsertDebugConfig",null),t.LaunchJsonUpdaterServiceHelper=f;let m=class{constructor(e,t,n,r,i){this.commandManager=e,this.disposableRegistry=t,this.workspace=n,this.documentManager=r,this.configurationProvider=i}async activate(){const e=new f(this.commandManager,this.workspace,this.documentManager,this.configurationProvider);this.disposableRegistry.push(this.commandManager.registerCommand("python.SelectAndInsertDebugConfiguration",e.selectAndInsertDebugConfig,e))}};m=r([s.injectable(),i(0,s.inject(c.ICommandManager)),i(1,s.inject(l.IDisposableRegistry)),i(2,s.inject(c.IWorkspaceService)),i(3,s.inject(c.IDocumentManager)),i(4,s.inject(p.IDebugConfigurationService))],m),t.LaunchJsonUpdaterService=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4),c=n(8),l=n(1),u=n(12),d=n(93),h=n(9),p=n(11),f=n(60),m=n(40);let g=class{constructor(e,t,n){this.fs=e,this.workspace=t,this.pathUtils=n}async buildConfiguration(e,t){const n=await this.getManagePyPath(t.folder);let r;const i=`\${workspaceFolder}${this.pathUtils.separator}manage.py`,s={name:u.DebugConfigStrings.django.snippet.name(),type:f.DebuggerTypeName,request:"launch",program:n||i,args:["runserver","--noreload"],django:!0};if(!n){const n=await e.showInputBox({title:u.DebugConfigStrings.django.enterManagePyPath.title(),value:i,prompt:u.DebugConfigStrings.django.enterManagePyPath.prompt(),validate:e=>this.validateManagePy(t.folder,i,e)});n&&(r=!0,s.program=n)}h.sendTelemetryEvent(p.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:m.DebugConfigurationType.launchDjango,autoDetectedDjangoManagePyPath:!!n,manuallyEnteredAValue:r}),Object.assign(t.config,s)}async validateManagePy(e,t,n){const r=u.DebugConfigStrings.django.enterManagePyPath.invalid();if(!n||0===n.trim().length)return r;const i=this.resolveVariables(n,e?e.uri:void 0);return(n===t||await this.fs.fileExists(i))&&i.trim().toLowerCase().endsWith(".py")?void 0:r}resolveVariables(e,t){return new d.SystemVariables(t,void 0,this.workspace).resolveAny(e)}async getManagePyPath(e){if(!e)return;const t=o.join(e.uri.fsPath,"manage.py");return await this.fs.fileExists(t)?`\${workspaceFolder}${this.pathUtils.separator}manage.py`:void 0}};g=r([s.injectable(),i(0,s.inject(c.IFileSystem)),i(1,s.inject(a.IWorkspaceService)),i(2,s.inject(l.IPathUtils))],g),t.DjangoLaunchDebugConfigurationProvider=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(12),o=n(9),a=n(11),c=n(60),l=n(40);let u=class{async buildConfiguration(e,t){const n={name:s.DebugConfigStrings.file.snippet.name(),type:c.DebuggerTypeName,request:"launch",program:"${file}",console:"integratedTerminal"};Object.assign(t.config,n)}};r([o.captureTelemetry(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,{configurationType:l.DebugConfigurationType.launchFile},!1)],u.prototype,"buildConfiguration",null),u=r([i.injectable()],u),t.FileLaunchDebugConfigurationProvider=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(8),c=n(12),l=n(9),u=n(11),d=n(60),h=n(40);let p=class{constructor(e){this.fs=e}isSupported(e){return e===h.DebugConfigurationType.launchFlask}async buildConfiguration(e,t){const n=await this.getApplicationPath(t.folder);let r;const i={name:c.DebugConfigStrings.flask.snippet.name(),type:d.DebuggerTypeName,request:"launch",module:"flask",env:{FLASK_APP:n||"app.py",FLASK_ENV:"development",FLASK_DEBUG:"0"},args:["run","--no-debugger","--no-reload"],jinja:!0};if(!n){const t=await e.showInputBox({title:c.DebugConfigStrings.flask.enterAppPathOrNamePath.title(),value:"app.py",prompt:c.DebugConfigStrings.flask.enterAppPathOrNamePath.prompt(),validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:c.DebugConfigStrings.flask.enterAppPathOrNamePath.invalid())});t&&(r=!0,i.env.FLASK_APP=t)}l.sendTelemetryEvent(u.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:h.DebugConfigurationType.launchFlask,autoDetectedFlaskAppPyPath:!!n,manuallyEnteredAValue:r}),Object.assign(t.config,i)}async getApplicationPath(e){if(!e)return;const t=o.join(e.uri.fsPath,"app.py");return await this.fs.fileExists(t)?"app.py":void 0}};p=r([s.injectable(),i(0,s.inject(a.IFileSystem))],p),t.FlaskLaunchDebugConfigurationProvider=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(12),o=n(9),a=n(11),c=n(60),l=n(40);let u=class{async buildConfiguration(e,t){let n;const r={name:s.DebugConfigStrings.module.snippet.name(),type:c.DebuggerTypeName,request:"launch",module:s.DebugConfigStrings.module.snippet.default()},i=await e.showInputBox({title:s.DebugConfigStrings.module.enterModule.title(),value:r.module||s.DebugConfigStrings.module.enterModule.default(),prompt:s.DebugConfigStrings.module.enterModule.prompt(),validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:s.DebugConfigStrings.module.enterModule.invalid())});i&&(n=!0,r.module=i),o.sendTelemetryEvent(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:l.DebugConfigurationType.launchModule,manuallyEnteredAValue:n}),Object.assign(t.config,r)}};u=r([i.injectable()],u),t.ModuleLaunchDebugConfigurationProvider=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(40);let a=class{constructor(e,t,n,r,i,s){this.providers=new Map,this.providers.set(o.DebugConfigurationType.launchDjango,t),this.providers.set(o.DebugConfigurationType.launchFlask,e),this.providers.set(o.DebugConfigurationType.launchFile,r),this.providers.set(o.DebugConfigurationType.launchModule,n),this.providers.set(o.DebugConfigurationType.launchPyramid,i),this.providers.set(o.DebugConfigurationType.remoteAttach,s)}create(e){return this.providers.get(e)}};a=r([s.injectable(),i(0,s.inject(o.IDebugConfigurationProvider)),i(0,s.named(o.DebugConfigurationType.launchFlask)),i(1,s.inject(o.IDebugConfigurationProvider)),i(1,s.named(o.DebugConfigurationType.launchDjango)),i(2,s.inject(o.IDebugConfigurationProvider)),i(2,s.named(o.DebugConfigurationType.launchModule)),i(3,s.inject(o.IDebugConfigurationProvider)),i(3,s.named(o.DebugConfigurationType.launchFile)),i(4,s.inject(o.IDebugConfigurationProvider)),i(4,s.named(o.DebugConfigurationType.launchPyramid)),i(5,s.inject(o.IDebugConfigurationProvider)),i(5,s.named(o.DebugConfigurationType.remoteAttach))],a),t.DebugConfigurationProviderFactory=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4),c=n(8),l=n(1),u=n(12),d=n(93),h=n(9),p=n(11),f=n(60),m=n(40);let g=class{constructor(e,t,n){this.fs=e,this.workspace=t,this.pathUtils=n}async buildConfiguration(e,t){const n=await this.getDevelopmentIniPath(t.folder),r=`\${workspaceFolder}${this.pathUtils.separator}development.ini`;let i;const s={name:u.DebugConfigStrings.pyramid.snippet.name(),type:f.DebuggerTypeName,request:"launch",module:"pyramid.scripts.pserve",args:[n||r],pyramid:!0,jinja:!0};if(!n){const n=await e.showInputBox({title:u.DebugConfigStrings.pyramid.enterDevelopmentIniPath.title(),value:r,prompt:u.DebugConfigStrings.pyramid.enterDevelopmentIniPath.prompt(),validate:e=>this.validateIniPath(t?t.folder:void 0,r,e)});n&&(i=!0,s.args=[n])}h.sendTelemetryEvent(p.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:m.DebugConfigurationType.launchPyramid,autoDetectedPyramidIniPath:!!n,manuallyEnteredAValue:i}),Object.assign(t.config,s)}async validateIniPath(e,t,n){if(!e)return;const r=u.DebugConfigStrings.pyramid.enterDevelopmentIniPath.invalid();if(!n||0===n.trim().length)return r;const i=this.resolveVariables(n,e.uri);return(n===t||await this.fs.fileExists(i))&&i.trim().toLowerCase().endsWith(".ini")?void 0:r}resolveVariables(e,t){return new d.SystemVariables(t,void 0,this.workspace).resolveAny(e)}async getDevelopmentIniPath(e){if(!e)return;const t=o.join(e.uri.fsPath,"development.ini");return await this.fs.fileExists(t)?`\${workspaceFolder}${this.pathUtils.separator}development.ini`:void 0}};g=r([s.injectable(),i(0,s.inject(c.IFileSystem)),i(1,s.inject(a.IWorkspaceService)),i(2,s.inject(l.IPathUtils))],g),t.PyramidLaunchDebugConfigurationProvider=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(12),o=n(9),a=n(11),c=n(60),l=n(40);let u=class{async buildConfiguration(e,t){const n={name:s.DebugConfigStrings.attach.snippet.name(),type:c.DebuggerTypeName,request:"attach",port:5678,host:"localhost",pathMappings:[{localRoot:"${workspaceFolder}",remoteRoot:"."}]};return n.host=await e.showInputBox({title:s.DebugConfigStrings.attach.enterRemoteHost.title(),step:1,totalSteps:2,value:n.host||"localhost",prompt:s.DebugConfigStrings.attach.enterRemoteHost.prompt(),validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:s.DebugConfigStrings.attach.enterRemoteHost.invalid())}),n.host||(n.host="localhost"),o.sendTelemetryEvent(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:l.DebugConfigurationType.remoteAttach,manuallyEnteredAValue:"localhost"!==n.host}),Object.assign(t.config,n),n=>this.configurePort(e,t.config)}async configurePort(e,t){const n=await e.showInputBox({title:s.DebugConfigStrings.attach.enterRemotePort.title(),step:2,totalSteps:2,value:(t.port||5678).toString(),prompt:s.DebugConfigStrings.attach.enterRemotePort.prompt(),validate:e=>Promise.resolve(e&&/^\d+$/.test(e.trim())?void 0:s.DebugConfigStrings.attach.enterRemotePort.invalid())});n&&/^\d+$/.test(n.trim())&&(t.port=parseInt(n,10)),t.port||(t.port=5678),o.sendTelemetryEvent(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:l.DebugConfigurationType.remoteAttach,manuallyEnteredAValue:5678!==t.port})}};u=r([i.injectable()],u),t.RemoteAttachDebugConfigurationProvider=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(8),c=n(1),l=n(540),u=n(541);let d=class extends u.BaseConfigurationResolver{constructor(e,t,n,r){super(e,t,n,r)}async resolveDebugConfiguration(e,t,n){const r=this.getWorkspaceFolder(e);await this.provideAttachDefaults(r,t);const i=t;return Array.isArray(i.debugOptions)&&(i.debugOptions=i.debugOptions.filter((e,t)=>i.debugOptions.indexOf(e)===t)),t}async provideAttachDefaults(e,t){Array.isArray(t.debugOptions)||(t.debugOptions=[]),t.host||(t.host="localhost"),void 0===t.justMyCode&&(t.justMyCode=!t.debugStdLib),t.showReturnValue=!1!==t.showReturnValue,t.workspaceFolder=e?e.fsPath:void 0;const n=t.debugOptions;t.justMyCode||this.debugOption(n,l.DebugOptions.DebugStdLib),t.django&&this.debugOption(n,l.DebugOptions.Django),t.jinja&&this.debugOption(n,l.DebugOptions.Jinja),!0===t.subProcess&&this.debugOption(n,l.DebugOptions.SubProcess),t.pyramid&&-1===n.indexOf(l.DebugOptions.Jinja)&&!1!==t.jinja&&this.debugOption(n,l.DebugOptions.Jinja),(t.redirectOutput||void 0===t.redirectOutput)&&this.debugOption(n,l.DebugOptions.RedirectOutput);const r=this.isLocalHost(t.host);this.platformService.isWindows&&r&&this.debugOption(n,l.DebugOptions.FixFilePathCase),this.platformService.isWindows?this.debugOption(n,l.DebugOptions.WindowsClient):this.debugOption(n,l.DebugOptions.UnixClient),t.showReturnValue&&this.debugOption(n,l.DebugOptions.ShowReturnValue),t.pathMappings=this.resolvePathMappings(t.pathMappings||[],t.host,t.localRoot,t.remoteRoot,e),this.sendTelemetry("attach",t)}resolvePathMappings(e,t,n,r,i){return n&&r&&e.push({localRoot:n,remoteRoot:r}),this.isLocalHost(t)&&(e=this.fixUpPathMappings(e,i?i.fsPath:"")),e.length>0?e:void 0}};d=r([s.injectable(),i(0,s.inject(o.IWorkspaceService)),i(1,s.inject(o.IDocumentManager)),i(2,s.inject(a.IPlatformService)),i(3,s.inject(c.IConfigurationService))],d),t.AttachConfigurationResolver=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(343),a=n(38),c=n(4),l=n(8),u=n(1),d=n(60),h=n(540),p=n(541),f=n(542);let m=class extends p.BaseConfigurationResolver{constructor(e,t,n,r,i,s){super(e,t,r,i),this.invalidPythonPathInDebuggerService=n,this.debugEnvHelper=s}async resolveDebugConfiguration(e,t,n){const r=this.getWorkspaceFolder(e),i=t,s=Object.keys(i);if(!0===i.noDebug&&1===s.length||0===s.length){const e=this.getProgram();i.name="Launch",i.type=d.DebuggerTypeName,i.request="launch",i.program=e||"",i.env={}}if(await this.provideLaunchDefaults(r,i),!await this.validateLaunchConfiguration(e,i))return;const o=t;return Array.isArray(o.debugOptions)&&(o.debugOptions=o.debugOptions.filter((e,t)=>o.debugOptions.indexOf(e)===t)),t}async provideLaunchDefaults(e,t){if(this.resolveAndUpdatePaths(e,t),"string"!=typeof t.cwd&&e&&(t.cwd=e.fsPath),"string"!=typeof t.envFile&&e){const n=this.configurationService.getSettings(e);t.envFile=n.envFile}t.env=await this.debugEnvHelper.getEnvironmentVariables(t),"boolean"!=typeof t.stopOnEntry&&(t.stopOnEntry=!1),t.showReturnValue=!1!==t.showReturnValue,t.console||(t.console="integratedTerminal"),"internalConsole"===t.console||t.internalConsoleOptions||(t.internalConsoleOptions="neverOpen"),Array.isArray(t.debugOptions)||(t.debugOptions=[]),void 0===t.justMyCode&&(t.justMyCode=!t.debugStdLib),t.workspaceFolder=e?e.fsPath:void 0;const n=t.debugOptions;t.justMyCode||this.debugOption(n,h.DebugOptions.DebugStdLib),t.stopOnEntry&&this.debugOption(n,h.DebugOptions.StopOnEntry),t.showReturnValue&&this.debugOption(n,h.DebugOptions.ShowReturnValue),t.django&&this.debugOption(n,h.DebugOptions.Django),t.jinja&&this.debugOption(n,h.DebugOptions.Jinja),(t.redirectOutput||void 0===t.redirectOutput)&&this.debugOption(n,h.DebugOptions.RedirectOutput),t.sudo&&this.debugOption(n,h.DebugOptions.Sudo),!0===t.subProcess&&this.debugOption(n,h.DebugOptions.SubProcess),this.platformService.isWindows&&this.debugOption(n,h.DebugOptions.FixFilePathCase);const r=this.isDebuggingFlask(t);if((t.pyramid||r)&&-1===n.indexOf(h.DebugOptions.Jinja)&&!1!==t.jinja&&this.debugOption(n,h.DebugOptions.Jinja),t.pathMappings){let n=t.pathMappings;n.length>0&&(n=this.fixUpPathMappings(n||[],e?e.fsPath:"")),t.pathMappings=n.length>0?n:void 0}this.sendTelemetry(t.request,t)}async validateLaunchConfiguration(e,t){return this.invalidPythonPathInDebuggerService.validatePythonPath(t.pythonPath,this.pythonPathSource,e?e.uri:void 0)}};m=r([s.injectable(),i(0,s.inject(c.IWorkspaceService)),i(1,s.inject(c.IDocumentManager)),i(2,s.inject(a.IDiagnosticsService)),i(2,s.named(o.InvalidPythonPathInDebuggerServiceId)),i(3,s.inject(l.IPlatformService)),i(4,s.inject(u.IConfigurationService)),i(5,s.inject(f.IDebugEnvironmentVariablesService))],m),t.LaunchConfigurationResolver=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(31),a=n(1227),c=n(170);let l=class{constructor(e){this.childProcessAttachService=e}async handleCustomEvent(e){if(!e||e.event!==a.PTVSDEvents.ChildProcessLaunched)return;const t=e.body;await this.childProcessAttachService.attach(t,e.session)}};r([o.swallowExceptions("Handle child process launch")],l.prototype,"handleCustomEvent",null),l=r([s.injectable(),i(0,s.inject(c.IChildProcessAttachService))],l),t.ChildProcessAttachEventHandler=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ChildProcessLaunched="ptvsd_subprocess"}(t.PTVSDEvents||(t.PTVSDEvents={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(16),c=n(93),l=n(9),u=n(11);let d=class{constructor(e,t,n){this.appShell=e,this.debugService=t,this.workspaceService=n}async attach(e,t){const n=this.getRelatedWorkspaceFolder(e),r=this.getAttachConfiguration(e);await this.debugService.startDebugging(n,r,t)||this.appShell.showErrorMessage(`Failed to launch debugger for child process ${e.processId}`).then(a.noop,a.noop)}getRelatedWorkspaceFolder(e){const t=e.rootStartRequest.arguments.workspaceFolder;if(this.workspaceService.hasWorkspaceFolders&&t)return this.workspaceService.workspaceFolders.find(e=>e.uri.fsPath===t)}getAttachConfiguration(e){const t=e.rootStartRequest.arguments,n=JSON.parse(JSON.stringify(t));return this.fixPathMappings(n),n.host="attach"===t.request?t.host:"localhost",n.port=e.port,n.name=`Child Process ${e.processId}`,n.request="attach",n}fixPathMappings(e){if(!e.workspaceFolder)return;if(Array.isArray(e.pathMappings)&&e.pathMappings.length>0)return;const t=new c.SystemVariables(void 0,e.workspaceFolder),n=e.cwd&&e.cwd.length>0?t.resolveAny(e.cwd):e.workspaceFolder;e.pathMappings=[{remoteRoot:".",localRoot:n}]}};r([l.captureTelemetry(u.EventName.DEBUGGER_ATTACH_TO_CHILD_PROCESS)],d.prototype,"attach",null),d=r([s.injectable(),i(0,s.inject(o.IApplicationShell)),i(1,s.inject(o.IDebugService)),i(2,s.inject(o.IWorkspaceService))],d),t.ChildProcessAttachService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1230),i=n(221);t.registerTypes=function(e){e.addSingleton(i.IFormatterHelper,r.FormatterHelper)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(1),c=n(10);let l=class{constructor(e){this.serviceContainer=e}translateToId(e){switch(e){case a.Product.autopep8:return"autopep8";case a.Product.black:return"black";case a.Product.yapf:return"yapf";default:throw new Error(`Unrecognized Formatter '${e}'`)}}getSettingsPropertyNames(e){const t=this.translateToId(e);return{argsName:`${t}Args`,pathName:`${t}Path`}}getExecutionInfo(e,t,n){const r=this.serviceContainer.get(a.IConfigurationService).getSettings(n),i=this.getSettingsPropertyNames(e),s=r.formatting[i.pathName];let c,l=Array.isArray(r.formatting[i.argsName])?r.formatting[i.argsName]:[];return l=l.concat(t),o.basename(s)===s&&(c=s),{execPath:s,moduleName:c,args:l,product:e}}};l=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],l),t.FormatterHelper=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(1232),s=n(155),o=n(1233),a=n(1234),c=n(1235),l=n(1236),u=n(1237),d=n(1238),h=n(1239),p=n(1240),f=n(50),m=n(1241),g=n(1242),y=n(1243),v=n(1244),_=n(110),b=n(14),S=n(1248),w=n(1249),C=n(1250),E=n(1251),T=n(1252),D=n(1253),P=n(1254),k=n(250),I=n(1255),M=n(1256),x=n(1257),A=n(1258),O=n(1259),L=n(1261),R=n(1262),j=n(543),F=n(249),N=n(544),Y=n(1263),B=n(1264),H=n(1265),W=n(1266),U=n(1267),V=n(126),$=n(1268),q=n(1269),G=n(172),z=n(1270),K=n(1271),J=n(171),X=n(1272);t.registerTypes=function(e){e.addSingleton(b.IKnownSearchPathsForInterpreters,B.KnownSearchPathsForInterpreters),e.addSingleton(b.IVirtualEnvironmentsSearchPathProvider,R.GlobalVirtualEnvironmentsSearchPathProvider,"global"),e.addSingleton(b.IVirtualEnvironmentsSearchPathProvider,$.WorkspaceVirtualEnvironmentsSearchPathProvider,"workspace"),e.addSingleton(b.ICondaService,O.CondaService),e.addSingleton(G.IPipEnvServiceHelper,W.PipEnvServiceHelper),e.addSingleton(J.IVirtualEnvironmentManager,K.VirtualEnvironmentManager),e.addSingleton(r.IExtensionActivationService,X.VirtualEnvironmentPrompt),e.addSingleton(r.IExtensionSingleActivationService,w.InterpreterSelectionTip),e.addSingleton(G.IPythonInPathCommandProvider,L.PythonInPathCommandProvider),e.add(b.IInterpreterWatcher,q.WorkspaceVirtualEnvWatcherService,b.WORKSPACE_VIRTUAL_ENV_SERVICE),e.addSingleton(b.IInterpreterWatcherBuilder,Y.InterpreterWatcherBuilder),e.addSingleton(b.IInterpreterVersionService,P.InterpreterVersionService),e.addSingleton(b.IInterpreterLocatorService,I.PythonInterpreterLocatorService,b.INTERPRETER_LOCATOR_SERVICE),e.addSingleton(b.IInterpreterLocatorService,x.CondaEnvFileService,b.CONDA_ENV_FILE_SERVICE),e.addSingleton(b.IInterpreterLocatorService,A.CondaEnvService,b.CONDA_ENV_SERVICE),e.addSingleton(b.IInterpreterLocatorService,L.CurrentPathService,b.CURRENT_PATH_SERVICE),e.addSingleton(b.IInterpreterLocatorService,R.GlobalVirtualEnvService,b.GLOBAL_VIRTUAL_ENV_SERVICE),e.addSingleton(b.IInterpreterLocatorService,$.WorkspaceVirtualEnvService,b.WORKSPACE_VIRTUAL_ENV_SERVICE),e.addSingleton(b.IInterpreterLocatorService,H.PipEnvService,b.PIPENV_SERVICE),e.addSingleton(b.IPipEnvService,H.PipEnvService),e.addSingleton(b.IInterpreterLocatorService,U.WindowsRegistryService,b.WINDOWS_REGISTRY_SERVICE),e.addSingleton(b.IInterpreterLocatorService,B.KnownPathsService,b.KNOWN_PATH_SERVICE),e.addSingleton(b.IInterpreterService,D.InterpreterService),e.addSingleton(b.IInterpreterDisplay,S.InterpreterDisplay),e.addSingleton(_.IPythonPathUpdaterServiceFactory,v.PythonPathUpdaterServiceFactory),e.addSingleton(_.IPythonPathUpdaterServiceManager,y.PythonPathUpdaterService),e.addSingleton(_.IInterpreterSelector,g.InterpreterSelector),e.addSingleton(b.IShebangCodeLensProvider,E.ShebangCodeLensProvider),e.addSingleton(b.IInterpreterHelper,T.InterpreterHelper),e.addSingleton(b.IInterpreterLocatorHelper,k.InterpreterLocatorHelper),e.addSingleton(_.IInterpreterComparer,m.InterpreterComparer),e.addSingleton(b.IInterpreterLocatorProgressHandler,C.InterpreterLocatorProgressStatubarHandler),e.addSingleton(b.IInterpreterLocatorProgressService,M.InterpreterLocatorProgressService),e.addSingleton(f.IInterpreterAutoSelectionRule,l.CurrentPathInterpretersAutoSelectionRule,f.AutoSelectionRule.currentPath),e.addSingleton(f.IInterpreterAutoSelectionRule,d.SystemWideInterpretersAutoSelectionRule,f.AutoSelectionRule.systemWide),e.addSingleton(f.IInterpreterAutoSelectionRule,h.WindowsRegistryInterpretersAutoSelectionRule,f.AutoSelectionRule.windowsRegistry),e.addSingleton(f.IInterpreterAutoSelectionRule,p.WorkspaceVirtualEnvInterpretersAutoSelectionRule,f.AutoSelectionRule.workspaceVirtualEnvs),e.addSingleton(f.IInterpreterAutoSelectionRule,c.CachedInterpretersAutoSelectionRule,f.AutoSelectionRule.cachedInterpreters),e.addSingleton(f.IInterpreterAutoSelectionRule,u.SettingsInterpretersAutoSelectionRule,f.AutoSelectionRule.settings),e.addSingleton(f.IInterpreterAutoSeletionProxyService,a.InterpreterAutoSeletionProxyService),e.addSingleton(f.IInterpreterAutoSelectionService,o.InterpreterAutoSelectionService),e.addSingleton(s.IEnvironmentActivationService,i.EnvironmentActivationService),e.addSingleton(r.IExtensionActivationService,z.CondaInheritEnvPrompt),e.addSingleton(V.WindowsStoreInterpreter,V.WindowsStoreInterpreter),e.addSingleton(j.InterpreterHashProvider,j.InterpreterHashProvider),e.addSingleton(F.InterpeterHashProviderFactory,F.InterpeterHashProviderFactory),e.addSingleton(N.InterpreterFilter,N.InterpreterFilter)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),n(7);const s=n(0),o=n(3),a=n(6),c=n(8),l=n(20),u=n(28),d=n(1),h=n(31),p=n(35),f=n(81),m=n(30),g=n(9),y=n(11),v={[p.OSType.Windows]:{shell:"cmd",shellType:u.TerminalShellType.commandPrompt},[p.OSType.OSX]:{shell:"bash",shellType:u.TerminalShellType.bash},[p.OSType.Linux]:{shell:"bash",shellType:u.TerminalShellType.bash},[p.OSType.Unknown]:void 0};let _=class{constructor(e,t,n,r,i){this.helper=e,this.platform=t,this.processServiceFactory=n,this.currentProcess=r,this.envVarsService=i,this.disposables=[],this.envVarsService.onDidEnvironmentVariablesChange(this.onDidEnvironmentVariablesChange,this,this.disposables)}dispose(){this.disposables.forEach(e=>e.dispose())}async getActivatedEnvironmentVariables(e,t,n){const r=v[this.platform.osType];if(r)try{const i=await this.helper.getEnvironmentActivationShellCommands(e,r.shellType,t);if(a.traceVerbose(`Activation Commands received ${i} for shell ${r.shell}`),!i||!Array.isArray(i)||0===i.length)return;const s=this.fixActivationCommands(i).join(" && "),c=await this.processServiceFactory.create(e),l=await this.envVarsService.getEnvironmentVariables(e),u=Object.keys(l).length,d=u?l:this.currentProcess.env;a.traceVerbose(`${u?"Has":"No"} Custom Env Vars`);const h=`${s} && echo 'e8b39361-0157-4923-80e1-22d70d46dee6' && python ${o.join(m.EXTENSION_ROOT_DIR,"pythonFiles","printEnvVariables.py").fileToCommandArgument()}`;a.traceVerbose(`Activating Environment to capture Environment variables, ${h}`);const p=await c.shellExec(h,{env:d,shell:r.shell,timeout:3e4,maxBuffer:1e6});if(p.stderr&&p.stderr.length>0)throw new Error(`StdErr from ShellExec, ${p.stderr}`);return this.parseEnvironmentOutput(p.stdout)}catch(e){if(a.traceError("getActivatedEnvironmentVariables",e),n)throw e}}onDidEnvironmentVariablesChange(e){h.clearCachedResourceSpecificIngterpreterData("ActivatedEnvironmentVariables",e)}fixActivationCommands(e){return e.map(e=>e.replace(/^source\s+/,". "))}parseEnvironmentOutput(e){const t=(e=e.substring(e.indexOf("e8b39361-0157-4923-80e1-22d70d46dee6")+"e8b39361-0157-4923-80e1-22d70d46dee6".length)).substring(e.indexOf("{")).trim();return JSON.parse(t)}};r([a.traceDecorators.verbose("getActivatedEnvironmentVariables",a.LogOptions.Arguments),g.captureTelemetry(y.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,{failed:!1},!0),h.cacheResourceSpecificInterpreterData("ActivatedEnvironmentVariables",6e5)],_.prototype,"getActivatedEnvironmentVariables",null),r([a.traceDecorators.error("Failed to parse Environment variables"),a.traceDecorators.verbose("parseEnvironmentOutput",a.LogOptions.None)],_.prototype,"parseEnvironmentOutput",null),_=r([s.injectable(),i(0,s.inject(u.ITerminalHelper)),i(1,s.inject(c.IPlatformService)),i(2,s.inject(l.IProcessServiceFactory)),i(3,s.inject(d.ICurrentProcess)),i(4,s.inject(f.IEnvironmentVariablesProvider))],_),t.EnvironmentActivationService=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(49),a=n(2),c=n(4);n(7);const l=n(8),u=n(1),d=n(17),h=n(9),p=n(11),f=n(14),m=n(50);let g=class{constructor(e,t,n,r,i,s,o,c,l,u,d){this.workspaceService=e,this.stateFactory=t,this.fs=n,this.userDefinedInterpreter=c,this.interpreterHelper=d,this.autoSelectedWorkspacePromises=new Map,this.didAutoSelectedInterpreterEmitter=new a.EventEmitter,this.autoSelectedInterpreterByWorkspace=new Map,this.rules=[],this.rules.push(s,i,r,o,c,l),u.registerInstance(this),c.setNextRule(l),l.setNextRule(o),o.setNextRule(i),i.setNextRule(s),s.setNextRule(r)}async autoSelectInterpreter(e){const t=this.getWorkspacePathKey(e);if(!this.autoSelectedWorkspacePromises.has(t)){const n=d.createDeferred();this.autoSelectedWorkspacePromises.set(t,n),await this.initializeStore(e),await this.clearWorkspaceStoreIfInvalid(e),await this.userDefinedInterpreter.autoSelectInterpreter(e,this),this.didAutoSelectedInterpreterEmitter.fire(),Promise.all(this.rules.map(t=>t.autoSelectInterpreter(e))).ignoreErrors(),n.resolve()}return this.autoSelectedWorkspacePromises.get(t).promise}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){const t=this.getWorkspaceState(e);if(t&&t.value)return t.value;const n=this.getWorkspacePathKey(e);return this.autoSelectedInterpreterByWorkspace.has(n)?this.autoSelectedInterpreterByWorkspace.get(n):this.globallyPreferredInterpreter.value}async setWorkspaceInterpreter(e,t){this.autoSelectedWorkspacePromises.has(this.getWorkspacePathKey(e))&&this.autoSelectedWorkspacePromises.get(this.getWorkspacePathKey(e)).completed&&await this.storeAutoSelectedInterpreter(e,t)}async setGlobalInterpreter(e){await this.storeAutoSelectedInterpreter(void 0,e)}async clearWorkspaceStoreIfInvalid(e){const t=this.getWorkspaceState(e);t&&t.value&&!await this.fs.fileExists(t.value.path)&&(h.sendTelemetryEvent(p.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,{},{interpreterMissing:!0}),await t.updateValue(void 0))}async storeAutoSelectedInterpreter(e,t){const n=this.getWorkspacePathKey(e);if(""===n){if(this.globallyPreferredInterpreter.value&&this.globallyPreferredInterpreter.value.version&&t&&t.version&&o.compare(this.globallyPreferredInterpreter.value.version.raw,t.version.raw)>0)return;await this.globallyPreferredInterpreter.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(n,t)}else{const r=this.getWorkspaceState(e);r&&t&&await r.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(n,t)}}async initializeStore(e){const t=this.getWorkspacePathKey(e);this.autoSelectedInterpreterByWorkspace.delete(t),this.globallyPreferredInterpreter||await this.clearStoreIfFileIsInvalid()}async clearStoreIfFileIsInvalid(){this.globallyPreferredInterpreter=this.stateFactory.createGlobalPersistentState("preferredGlobalPyInterpreter",void 0),this.globallyPreferredInterpreter.value&&!await this.fs.fileExists(this.globallyPreferredInterpreter.value.path)&&await this.globallyPreferredInterpreter.updateValue(void 0)}getWorkspacePathKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}getWorkspaceState(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e);if(!t)return;const n=`autoSelectedWorkspacePythonInterpreter-${t.folderUri.fsPath}`;return this.stateFactory.createWorkspacePersistentState(n,void 0)}};r([h.captureTelemetry(p.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,{rule:m.AutoSelectionRule.all},!0)],g.prototype,"autoSelectInterpreter",null),g=r([s.injectable(),i(0,s.inject(c.IWorkspaceService)),i(1,s.inject(u.IPersistentStateFactory)),i(2,s.inject(l.IFileSystem)),i(3,s.inject(m.IInterpreterAutoSelectionRule)),i(3,s.named(m.AutoSelectionRule.systemWide)),i(4,s.inject(m.IInterpreterAutoSelectionRule)),i(4,s.named(m.AutoSelectionRule.currentPath)),i(5,s.inject(m.IInterpreterAutoSelectionRule)),i(5,s.named(m.AutoSelectionRule.windowsRegistry)),i(6,s.inject(m.IInterpreterAutoSelectionRule)),i(6,s.named(m.AutoSelectionRule.cachedInterpreters)),i(7,s.inject(m.IInterpreterAutoSelectionRule)),i(7,s.named(m.AutoSelectionRule.settings)),i(8,s.inject(m.IInterpreterAutoSelectionRule)),i(8,s.named(m.AutoSelectionRule.workspaceVirtualEnvs)),i(9,s.inject(m.IInterpreterAutoSeletionProxyService)),i(10,s.inject(f.IInterpreterHelper))],g),t.InterpreterAutoSelectionService=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(1);let c=class{constructor(e){this.disposables=e,this.didAutoSelectedInterpreterEmitter=new o.EventEmitter}registerInstance(e){this.instance=e,this.disposables.push(this.instance.onDidChangeAutoSelectedInterpreter(()=>this.didAutoSelectedInterpreterEmitter.fire()))}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){return this.instance?this.instance.getAutoSelectedInterpreter(e):void 0}async setWorkspaceInterpreter(e,t){return this.instance?this.instance.setWorkspaceInterpreter(e,t):void 0}};c=r([s.injectable(),i(0,s.inject(a.IDisposableRegistry))],c),t.InterpreterAutoSeletionProxyService=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(8),c=n(1),l=n(14),u=n(50),d=n(111);let h=class extends d.BaseRuleService{constructor(e,t,n,r,i,s){super(u.AutoSelectionRule.cachedInterpreters,e,n),this.helper=t,this.rules=[r,i,s]}async onAutoSelectInterpreter(e,t){const n=this.rules.map(t=>t.getPreviouslyAutoSelectedInterpreter(e)).filter(e=>!!e).map(e=>e),r=this.helper.getBestInterpreter(n);return o.traceVerbose(`Selected Interpreter from ${this.ruleName}, ${r?JSON.stringify(r):"Nothing Selected"}`),await this.setGlobalInterpreter(r,t)?d.NextAction.exit:d.NextAction.runNextRule}};h=r([s.injectable(),i(0,s.inject(a.IFileSystem)),i(1,s.inject(l.IInterpreterHelper)),i(2,s.inject(c.IPersistentStateFactory)),i(3,s.inject(u.IInterpreterAutoSelectionRule)),i(3,s.named(u.AutoSelectionRule.systemWide)),i(4,s.inject(u.IInterpreterAutoSelectionRule)),i(4,s.named(u.AutoSelectionRule.currentPath)),i(5,s.inject(u.IInterpreterAutoSelectionRule)),i(5,s.named(u.AutoSelectionRule.windowsRegistry))],h),t.CachedInterpretersAutoSelectionRule=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(8),c=n(1),l=n(14),u=n(50),d=n(111);let h=class extends d.BaseRuleService{constructor(e,t,n,r){super(u.AutoSelectionRule.currentPath,e,n),this.helper=t,this.currentPathInterpreterLocator=r}async onAutoSelectInterpreter(e,t){const n=await this.currentPathInterpreterLocator.getInterpreters(e),r=this.helper.getBestInterpreter(n);return o.traceVerbose(`Selected Interpreter from ${this.ruleName}, ${r?JSON.stringify(r):"Nothing Selected"}`),await this.setGlobalInterpreter(r,t)?d.NextAction.exit:d.NextAction.runNextRule}};h=r([s.injectable(),i(0,s.inject(a.IFileSystem)),i(1,s.inject(l.IInterpreterHelper)),i(2,s.inject(c.IPersistentStateFactory)),i(3,s.inject(l.IInterpreterLocatorService)),i(3,s.named(l.CURRENT_PATH_SERVICE))],h),t.CurrentPathInterpretersAutoSelectionRule=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(8),c=n(1),l=n(50),u=n(111);let d=class extends u.BaseRuleService{constructor(e,t,n){super(l.AutoSelectionRule.settings,e,t),this.workspaceService=n}async onAutoSelectInterpreter(e,t){const n=this.workspaceService.getConfiguration("python",null).inspect("pythonPath");return n.globalValue&&"python"!==n.globalValue?u.NextAction.exit:u.NextAction.runNextRule}};d=r([s.injectable(),i(0,s.inject(a.IFileSystem)),i(1,s.inject(c.IPersistentStateFactory)),i(2,s.inject(o.IWorkspaceService))],d),t.SettingsInterpretersAutoSelectionRule=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(8),c=n(1),l=n(14),u=n(50),d=n(111);let h=class extends d.BaseRuleService{constructor(e,t,n,r){super(u.AutoSelectionRule.systemWide,e,n),this.helper=t,this.interpreterService=r}async onAutoSelectInterpreter(e,t){const n=(await this.interpreterService.getInterpreters(e)).filter(e=>e.type!==l.InterpreterType.VirtualEnv&&e.type!==l.InterpreterType.Venv&&e.type!==l.InterpreterType.Pipenv),r=this.helper.getBestInterpreter(n);return o.traceVerbose(`Selected Interpreter from ${this.ruleName}, ${r?JSON.stringify(r):"Nothing Selected"}`),await this.setGlobalInterpreter(r,t)?d.NextAction.exit:d.NextAction.runNextRule}};h=r([s.injectable(),i(0,s.inject(a.IFileSystem)),i(1,s.inject(l.IInterpreterHelper)),i(2,s.inject(c.IPersistentStateFactory)),i(3,s.inject(l.IInterpreterService))],h),t.SystemWideInterpretersAutoSelectionRule=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(8),c=n(1),l=n(35),u=n(14),d=n(50),h=n(111);let p=class extends h.BaseRuleService{constructor(e,t,n,r,i){super(d.AutoSelectionRule.windowsRegistry,e,n),this.helper=t,this.platform=r,this.winRegInterpreterLocator=i}async onAutoSelectInterpreter(e,t){if(this.platform.osType!==l.OSType.Windows)return h.NextAction.runNextRule;const n=await this.winRegInterpreterLocator.getInterpreters(e),r=this.helper.getBestInterpreter(n);return o.traceVerbose(`Selected Interpreter from ${this.ruleName}, ${r?JSON.stringify(r):"Nothing Selected"}`),await this.setGlobalInterpreter(r,t)?h.NextAction.exit:h.NextAction.runNextRule}};p=r([s.injectable(),i(0,s.inject(a.IFileSystem)),i(1,s.inject(u.IInterpreterHelper)),i(2,s.inject(c.IPersistentStateFactory)),i(3,s.inject(a.IPlatformService)),i(4,s.inject(u.IInterpreterLocatorService)),i(4,s.named(u.WINDOWS_REGISTRY_SERVICE))],p),t.WindowsRegistryInterpretersAutoSelectionRule=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(6),l=n(8),u=n(1),d=n(17),h=n(35),p=n(110),f=n(14),m=n(50),g=n(111);let y=class extends g.BaseRuleService{constructor(e,t,n,r,i,s,o,a){super(m.AutoSelectionRule.workspaceVirtualEnvs,e,n),this.helper=t,this.platform=r,this.workspaceService=i,this.pythonPathUpdaterService=s,this.pipEnvInterpreterLocator=o,this.workspaceVirtualEnvInterpreterLocator=a}async onAutoSelectInterpreter(e,t){const n=this.helper.getActiveWorkspaceUri(e);if(!n)return g.NextAction.runNextRule;if(this.workspaceService.getConfiguration("python",n.folderUri).inspect("pythonPath").workspaceFolderValue)return g.NextAction.runNextRule;const r=d.createDeferredFromPromise(this.pipEnvInterpreterLocator.getInterpreters(n.folderUri,!0)),i=d.createDeferredFromPromise(this.getWorkspaceVirtualEnvInterpreters(n.folderUri)),s=await Promise.race([r.promise,i.promise]);let o;if(Array.isArray(s)&&s.length>0)o=this.helper.getBestInterpreter(s);else{const[e,t]=await Promise.all([r.promise,i.promise]),n=Array.isArray(e)?e:[],s=Array.isArray(t)?t:[];o=this.helper.getBestInterpreter(n.concat(s))}return o&&t&&(await this.cacheSelectedInterpreter(n.folderUri,o),await t.setWorkspaceInterpreter(n.folderUri,o)),c.traceVerbose(`Selected Interpreter from ${this.ruleName}, ${o?JSON.stringify(o):"Nothing Selected"}`),g.NextAction.runNextRule}async getWorkspaceVirtualEnvInterpreters(e){if(!e)return;const t=this.workspaceService.getWorkspaceFolder(e);if(!t)return;const n=await this.workspaceVirtualEnvInterpreterLocator.getInterpreters(e,!0),r=this.platform.osType===h.OSType.Windows?t.uri.fsPath.toUpperCase():t.uri.fsPath;return n.filter(e=>{const t=o.Uri.file(e.path).fsPath;return(this.platform.osType===h.OSType.Windows?t.toUpperCase():t).startsWith(r)})}async cacheSelectedInterpreter(e,t){if(!t)return void await super.cacheSelectedInterpreter(e,t);const n=this.helper.getActiveWorkspaceUri(e);n&&(await this.pythonPathUpdaterService.updatePythonPath(t.path,n.configTarget,"load",n.folderUri),await super.cacheSelectedInterpreter(e,t))}};y=r([s.injectable(),i(0,s.inject(l.IFileSystem)),i(1,s.inject(f.IInterpreterHelper)),i(2,s.inject(u.IPersistentStateFactory)),i(3,s.inject(l.IPlatformService)),i(4,s.inject(a.IWorkspaceService)),i(5,s.inject(p.IPythonPathUpdaterServiceManager)),i(6,s.inject(f.IInterpreterLocatorService)),i(6,s.named(f.PIPENV_SERVICE)),i(7,s.inject(f.IInterpreterLocatorService)),i(7,s.named(f.WORKSPACE_VIRTUAL_ENV_SERVICE))],y),t.WorkspaceVirtualEnvInterpretersAutoSelectionRule=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(225),a=n(14);let c=class{constructor(e){this.interpreterHelper=e}compare(e,t){const n=this.getSortName(e),r=this.getSortName(t);return n===r?0:n>r?1:-1}getSortName(e){const t=[],n=[];if(e.version&&t.push(e.version.raw),e.architecture&&t.push(o.getArchitectureDisplayName(e.architecture)),e.companyDisplayName&&e.companyDisplayName.length>0?t.push(e.companyDisplayName.trim()):t.push("Python"),e.type){const t=this.interpreterHelper.getInterpreterTypeDisplayName(e.type);t&&n.push(t)}e.envName&&e.envName.length>0&&n.push(e.envName);const r=0===n.length?"":`(${n.join(": ")})`;return`${t.join(" ")} ${r}`.trim()}};c=r([s.injectable(),i(0,s.inject(a.IInterpreterHelper))],c),t.InterpreterComparer=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(1),l=n(14),u=n(110);let d=class{constructor(e,t,n,r,i,s,o,a,c,l){this.interpreterManager=e,this.workspaceService=t,this.applicationShell=n,this.documentManager=r,this.pathUtils=i,this.interpreterComparer=s,this.pythonPathUpdaterService=o,this.shebangCodeLensProvider=a,this.configurationService=c,this.commandManager=l,this.disposables=[]}dispose(){this.disposables.forEach(e=>e.dispose())}initialize(){}async getSuggestions(e){const t=await this.interpreterManager.getInterpreters(e);return t.sort(this.interpreterComparer.compare.bind(this.interpreterComparer)),Promise.all(t.map(t=>this.suggestionToQuickPickItem(t,e)))}async suggestionToQuickPickItem(e,t){const n=this.pathUtils.getDisplayName(e.path,t?t.fsPath:void 0),r=e.cachedEntry?"(cached) ":"";return{label:e.displayName,detail:`${r}${n}`,path:e.path}}async setInterpreter(){const e=!Array.isArray(this.workspaceService.workspaceFolders)||0===this.workspaceService.workspaceFolders.length;let t,n=o.ConfigurationTarget.Global;if(!e){const e=await this.getWorkspaceToSetPythonPath();if(!e)return;n=e.configTarget,t=e.folderUri}const r=await this.getSuggestions(t),i={matchOnDetail:!0,matchOnDescription:!0,placeHolder:`current: ${this.pathUtils.getDisplayName(this.configurationService.getSettings(t).pythonPath,t?t.fsPath:void 0)}`},s=await this.applicationShell.showQuickPick(r,i);void 0!==s&&await this.pythonPathUpdaterService.updatePythonPath(s.path,n,"ui",t)}async setShebangInterpreter(){const e=await this.shebangCodeLensProvider.detectShebang(this.documentManager.activeTextEditor.document);if(!e)return;const t=!Array.isArray(this.workspaceService.workspaceFolders)||0===this.workspaceService.workspaceFolders.length,n=this.workspaceService.getWorkspaceFolder(this.documentManager.activeTextEditor.document.uri),r=Array.isArray(this.workspaceService.workspaceFolders)&&1===this.workspaceService.workspaceFolders.length;t?await this.pythonPathUpdaterService.updatePythonPath(e,o.ConfigurationTarget.Global,"shebang"):!r&&n?await this.pythonPathUpdaterService.updatePythonPath(e,o.ConfigurationTarget.WorkspaceFolder,"shebang",n.uri):await this.pythonPathUpdaterService.updatePythonPath(e,o.ConfigurationTarget.Workspace,"shebang",this.workspaceService.workspaceFolders[0].uri)}async getWorkspaceToSetPythonPath(){if(!Array.isArray(this.workspaceService.workspaceFolders)||0===this.workspaceService.workspaceFolders.length)return;if(1===this.workspaceService.workspaceFolders.length)return{folderUri:this.workspaceService.workspaceFolders[0].uri,configTarget:o.ConfigurationTarget.WorkspaceFolder};const e=await this.applicationShell.showWorkspaceFolderPick({placeHolder:"Select the workspace to set the interpreter"});return e?{folderUri:e.uri,configTarget:o.ConfigurationTarget.WorkspaceFolder}:void 0}};d=r([s.injectable(),i(0,s.inject(l.IInterpreterService)),i(1,s.inject(a.IWorkspaceService)),i(2,s.inject(a.IApplicationShell)),i(3,s.inject(a.IDocumentManager)),i(4,s.inject(c.IPathUtils)),i(5,s.inject(u.IInterpreterComparer)),i(6,s.inject(u.IPythonPathUpdaterServiceManager)),i(7,s.inject(l.IShebangCodeLensProvider)),i(8,s.inject(c.IConfigurationService)),i(9,s.inject(a.ICommandManager))],d),t.InterpreterSelector=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(6),l=n(20),u=n(24),d=n(10),h=n(9),p=n(11),f=n(14),m=n(110);let g=class{constructor(e){this.pythonPathSettingsUpdaterFactory=e.get(m.IPythonPathUpdaterServiceFactory),this.interpreterVersionService=e.get(f.IInterpreterVersionService),this.executionFactory=e.get(l.IPythonExecutionFactory)}async updatePythonPath(e,t,n,r){const i=new u.StopWatch,s=this.getPythonUpdaterService(t,r);let l=!1;try{await s.updatePythonPath(o.normalize(e))}catch(e){l=!0;const t=e&&"string"==typeof e.message?e.message:"";a.window.showErrorMessage(`Failed to set 'pythonPath'. Error: ${t}`),c.traceError(e)}this.sendTelemetry(i.elapsedTime,l,n,e).catch(e=>c.traceError("Starlark Extension: sendTelemetry",e))}async sendTelemetry(e,t,n,r){const i={failed:t,trigger:n};if(!t){const e=(await this.executionFactory.create({pythonPath:r})).getInterpreterInformation().catch(()=>void 0),t=this.interpreterVersionService.getPipVersion(r).then(e=>0===e.length?void 0:e).catch(()=>""),[n,s]=await Promise.all([e,t]);n&&n.version&&(i.pythonVersion=n.version.raw),s&&(i.pipVersion=s)}h.sendTelemetryEvent(p.EventName.PYTHON_INTERPRETER,e,i)}getPythonUpdaterService(e,t){switch(e){case a.ConfigurationTarget.Global:return this.pythonPathSettingsUpdaterFactory.getGlobalPythonPathConfigurationService();case a.ConfigurationTarget.Workspace:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspacePythonPathConfigurationService(t);default:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspaceFolderPythonPathConfigurationService(t)}}};g=r([s.injectable(),i(0,s.inject(d.IServiceContainer))],g),t.PythonPathUpdaterService=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(10),c=n(1245),l=n(1246),u=n(1247);let d=class{constructor(e){this.workspaceService=e.get(o.IWorkspaceService)}getGlobalPythonPathConfigurationService(){return new c.GlobalPythonPathUpdaterService(this.workspaceService)}getWorkspacePythonPathConfigurationService(e){return new u.WorkspacePythonPathUpdaterService(e,this.workspaceService)}getWorkspaceFolderPythonPathConfigurationService(e){return new l.WorkspaceFolderPythonPathUpdaterService(e,this.workspaceService)}};d=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],d),t.PythonPathUpdaterServiceFactory=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GlobalPythonPathUpdaterService=class{constructor(e){this.workspaceService=e}async updatePythonPath(e){const t=this.workspaceService.getConfiguration("python"),n=t.inspect("pythonPath");n&&n.globalValue===e||await t.update("pythonPath",e,!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2);t.WorkspaceFolderPythonPathUpdaterService=class{constructor(e,t){this.workspaceFolder=e,this.workspaceService=t}async updatePythonPath(e){const t=this.workspaceService.getConfiguration("python",this.workspaceFolder),n=t.inspect("pythonPath");n&&n.workspaceFolderValue===e||(e.startsWith(this.workspaceFolder.fsPath)&&(e=r.relative(this.workspaceFolder.fsPath,e)),await t.update("pythonPath",e,i.ConfigurationTarget.WorkspaceFolder))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.WorkspacePythonPathUpdaterService=class{constructor(e,t){this.workspace=e,this.workspaceService=t}async updatePythonPath(e){const t=this.workspaceService.getConfiguration("python",this.workspace),n=t.inspect("pythonPath");n&&n.workspaceValue===e||(e.startsWith(this.workspace.fsPath)&&(e=r.relative(this.workspace.fsPath,e)),await t.update("pythonPath",e,!1))}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4);n(7);const a=n(1),c=n(10),l=n(50),u=n(14);let d=class{constructor(e){this.helper=e.get(u.IInterpreterHelper),this.workspaceService=e.get(o.IWorkspaceService),this.pathUtils=e.get(a.IPathUtils),this.interpreterService=e.get(u.IInterpreterService),this.autoSelection=e.get(l.IInterpreterAutoSelectionService);e.get(o.IApplicationShell);const t=e.get(a.IDisposableRegistry);this.interpreterService.onDidChangeInterpreterInformation(this.onDidChangeInterpreterInformation,this,t)}async refresh(e){if(e&&this.workspaceService.getWorkspaceFolder(e)&&(e=this.workspaceService.getWorkspaceFolder(e).uri),!e){const t=this.helper.getActiveWorkspaceUri(e);e=t?t.folderUri:void 0}await this.updateDisplay(e)}onDidChangeInterpreterInformation(e){this.currentlySelectedInterpreterPath&&this.currentlySelectedInterpreterPath!==e.path||this.updateDisplay(this.currentlySelectedWorkspaceFolder).ignoreErrors()}async updateDisplay(e){}};d=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],d),t.InterpreterDisplay=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(1),c=n(31),l=n(12);let u=class{constructor(e,t){this.shell=e,this.factory=t,this.storage=this.factory.createGlobalPersistentState("InterpreterSelectionTip",!1)}async activate(){this.storage.value||this.showTip().ignoreErrors()}async showTip(){await this.shell.showInformationMessage(l.Interpreters.selectInterpreterTip(),l.Common.gotIt())===l.Common.gotIt()&&await this.storage.updateValue(!0)}};r([c.swallowExceptions("Failed to display tip")],u.prototype,"showTip",null),u=r([s.injectable(),i(0,s.inject(o.IApplicationShell)),i(1,s.inject(a.IPersistentStateFactory))],u),t.InterpreterSelectionTip=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(6),l=n(1),u=n(17),d=n(12),h=n(14);let p=class{constructor(e,t,n){this.shell=e,this.progressService=t,this.disposables=n,this.isFirstTimeLoadingInterpreters=!0}register(){this.progressService.onRefreshing(()=>this.showProgress(),this,this.disposables),this.progressService.onRefreshed(()=>this.hideProgress(),this,this.disposables)}showProgress(){this.deferred||this.createProgress()}hideProgress(){this.deferred&&(this.deferred.resolve(),this.deferred=void 0)}createProgress(){const e={location:o.ProgressLocation.Window,title:this.isFirstTimeLoadingInterpreters?d.Common.loadingExtension():d.Interpreters.refreshing()};this.isFirstTimeLoadingInterpreters=!1,this.shell.withProgress(e,()=>(this.deferred=u.createDeferred(),this.deferred.promise))}};r([c.traceDecorators.verbose("Display locator refreshing progress")],p.prototype,"showProgress",null),r([c.traceDecorators.verbose("Hide locator refreshing progress")],p.prototype,"hideProgress",null),p=r([s.injectable(),i(0,s.inject(a.IApplicationShell)),i(1,s.inject(h.IInterpreterLocatorProgressService)),i(2,s.inject(l.IDisposableRegistry))],p),t.InterpreterLocatorProgressStatubarHandler=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(8),l=n(20),u=n(1);let d=class{constructor(e,t,n,r){this.processServiceFactory=e,this.configurationService=t,this.platformService=n,this.onDidChangeCodeLenses=r.onDidChangeConfiguration}async detectShebang(e){const t=e.lineAt(0);if(t.isEmptyOrWhitespace)return;if(!t.text.startsWith("#!"))return;const n=t.text.substr(2).trim(),r=await this.getFullyQualifiedPathToInterpreter(n,e.uri);return"string"==typeof r&&r.length>0?r:void 0}async provideCodeLenses(e,t){return this.createShebangCodeLens(e)}async getFullyQualifiedPathToInterpreter(e,t){let n=e,r=["-c","import sys;print(sys.executable)"];if(e.indexOf("bin/env ")>=0&&!this.platformService.isWindows){const t=e.split(" ").map(e=>e.trim()).filter(e=>e.length>0);n=t.shift(),r=t.concat(r)}return(await this.processServiceFactory.create(t)).exec(n,r).then(e=>e.stdout.trim()).catch(()=>"")}async createShebangCodeLens(e){const t=await this.detectShebang(e);if(!t)return[];const n=this.configurationService.getSettings(e.uri).pythonPath;if(t===await this.getFullyQualifiedPathToInterpreter(n,e.uri))return[];const r=e.lineAt(0),i=new o.Position(0,0),s=new o.Position(0,r.text.length-1),a=new o.Range(i,s);return[new o.CodeLens(a,{command:"python.setShebangInterpreter",title:"Set as interpreter"})]}};d=r([s.injectable(),i(0,s.inject(l.IProcessServiceFactory)),i(1,s.inject(u.IConfigurationService)),i(2,s.inject(c.IPlatformService)),i(3,s.inject(a.IWorkspaceService))],d),t.ShebangCodeLensProvider=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(49),a=n(2),c=n(4),l=n(6),u=n(20),d=n(1),h=n(10),p=n(14),f=n(249);t.getFirstNonEmptyLineFromMultilineString=function(e){if(!e)return"";const t=e.split(/\r?\n/g).map(e=>e.trim()).filter(e=>e.length>0);return t.length>0?t[0]:""};let m=class{constructor(e,t){this.serviceContainer=e,this.hashProviderFactory=t,this.persistentFactory=this.serviceContainer.get(d.IPersistentStateFactory)}getActiveWorkspaceUri(e){const t=this.serviceContainer.get(c.IWorkspaceService);if(!t.hasWorkspaceFolders)return;if(Array.isArray(t.workspaceFolders)&&1===t.workspaceFolders.length)return{folderUri:t.workspaceFolders[0].uri,configTarget:a.ConfigurationTarget.Workspace};if(e){const n=t.getWorkspaceFolder(e);if(n)return{configTarget:a.ConfigurationTarget.WorkspaceFolder,folderUri:n.uri}}const n=this.serviceContainer.get(c.IDocumentManager);if(n.activeTextEditor){const e=t.getWorkspaceFolder(n.activeTextEditor.document.uri);if(e)return{configTarget:a.ConfigurationTarget.WorkspaceFolder,folderUri:e.uri}}}async getInterpreterInformation(e){const t=await this.hashProviderFactory.create({pythonPath:e}).then(t=>t.getInterpreterHash(e)).catch(t=>(l.traceError(`Failed to create File hash for interpreter ${e}`,t),"")),n=this.persistentFactory.createGlobalPersistentState(`${e}.v3`,void 0,864e5);if(n.value&&t&&n.value.fileHash===t)return n.value;const r=await this.serviceContainer.get(u.IPythonExecutionFactory).create({pythonPath:e});try{const i=await r.getInterpreterInformation().catch(()=>void 0);if(!i)return;const s={...i,fileHash:t};return await n.updateValue(s),s}catch(t){return void l.traceError(`Failed to get interpreter information for '${e}'`,t)}}isMacDefaultPythonPath(e){return"python"===e||"/usr/bin/python"===e}getInterpreterTypeDisplayName(e){switch(e){case p.InterpreterType.Conda:return"conda";case p.InterpreterType.Pipenv:return"pipenv";case p.InterpreterType.Pyenv:return"pyenv";case p.InterpreterType.Venv:return"venv";case p.InterpreterType.VirtualEnv:return"virtualenv";default:return""}}getBestInterpreter(e){if(!Array.isArray(e)||0===e.length)return;if(1===e.length)return e[0];const t=e.slice();return t.sort((e,t)=>e.version&&t.version?o.compare(e.version.raw,t.version.raw):0),t[t.length-1]}};m=r([s.injectable(),i(0,s.inject(h.IServiceContainer)),i(1,s.inject(f.InterpeterHashProviderFactory))],m),t.InterpreterHelper=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(213),a=n(3),c=n(2);n(7);const l=n(4),u=n(6),d=n(225),h=n(8),p=n(20),f=n(1),m=n(17),g=n(10),y=n(9),v=n(11),_=n(14),b=n(249),S=n(171);let w=class{constructor(e,t){this.serviceContainer=e,this.hashProviderFactory=t,this.didChangeInterpreterEmitter=new c.EventEmitter,this.didChangeInterpreterInformation=new c.EventEmitter,this.inMemoryCacheOfDisplayNames=new Map,this.updatedInterpreters=new Set,this.pythonPathSetting="",this.onConfigChanged=()=>{const e=this.configService.getSettings();if(this.pythonPathSetting!==e.pythonPath){this.pythonPathSetting=e.pythonPath,this.didChangeInterpreterEmitter.fire(),this.serviceContainer.get(_.IInterpreterDisplay).refresh().catch(e=>u.traceError("Starlark Extension: display.refresh",e))}},this.locator=e.get(_.IInterpreterLocatorService,_.INTERPRETER_LOCATOR_SERVICE),this.persistentStateFactory=this.serviceContainer.get(f.IPersistentStateFactory),this.configService=this.serviceContainer.get(f.IConfigurationService)}get hasInterpreters(){return this.locator.hasInterpreters}async refresh(e){return this.serviceContainer.get(_.IInterpreterDisplay).refresh(e)}initialize(){const e=this.serviceContainer.get(f.IDisposableRegistry),t=this.serviceContainer.get(l.IDocumentManager);e.push(t.onDidChangeActiveTextEditor(e=>e?this.refresh(e.document.uri):void 0));const n=this.serviceContainer.get(l.IWorkspaceService),r=this.configService.getSettings();this.pythonPathSetting=r.pythonPath;const i=n.onDidChangeConfiguration(e=>{e.affectsConfiguration("python.pythonPath",void 0)&&this.onConfigChanged()});e.push(i)}async getInterpreters(e){const t=await this.locator.getInterpreters(e);return await Promise.all(t.filter(e=>!e.displayName).map(async t=>{t.displayName=await this.getDisplayName(t,e),t.cachedEntry||this.updateCachedInterpreterInformation(t,e).ignoreErrors()})),t}dispose(){this.locator.dispose(),this.didChangeInterpreterEmitter.dispose(),this.didChangeInterpreterInformation.dispose()}get onDidChangeInterpreter(){return this.didChangeInterpreterEmitter.event}get onDidChangeInterpreterInformation(){return this.didChangeInterpreterInformation.event}async getActiveInterpreter(e){const t=this.serviceContainer.get(p.IPythonExecutionFactory),n=await t.create({resource:e}),r=await n.getExecutablePath().catch(()=>void 0);if(r)return this.getInterpreterDetails(r,e)}async getInterpreterDetails(e,t){if(a.basename(e)===e){const n=this.serviceContainer.get(p.IPythonExecutionFactory),r=await n.create({resource:t});if(!(e=await r.getExecutablePath().catch(()=>"")))return}const n=await this.getInterpreterCache(e);if(n.value&&n.value.info)return n.value.info;const r=this.serviceContainer.get(h.IFileSystem),i=(async()=>{const n=this.collectInterpreterDetails(e,t);return await m.sleep(1e3),n})(),s=(async()=>{const n=(await this.getInterpreters(t)).find(t=>r.arePathsSame(t.path,e));return n?(n.__store=!0,n):i})(),o=await Promise.race([s,i]);return o&&o.__store?await this.updateCachedInterpreterInformation(o,t):s.then(async e=>{e&&e.__store&&await this.updateCachedInterpreterInformation(e,t)}).ignoreErrors(),o}async getDisplayName(e,t){if(!e.cachedEntry&&e.path&&this.inMemoryCacheOfDisplayNames.has(e.path))return this.inMemoryCacheOfDisplayNames.get(e.path);const n=`${(e.path?await this.getInterepreterFileHash(e.path).catch(()=>""):"")||""}-${o(JSON.stringify({...e,displayName:""}))}`,r=this.persistentStateFactory.createGlobalPersistentState(`${e.path}.interpreter.displayName.v7`,void 0,864e5);if(r.value&&r.value.hash===n&&r.value.displayName)return this.inMemoryCacheOfDisplayNames.set(e.path,r.value.displayName),r.value.displayName;const i=await this.buildInterpreterDisplayName(e,t);return e.cachedEntry||(await r.updateValue({displayName:i,hash:n}),this.inMemoryCacheOfDisplayNames.set(e.path,i)),i}async getInterpreterCache(e){const t=(e?await this.getInterepreterFileHash(e).catch(()=>""):"")||"",n=this.persistentStateFactory.createGlobalPersistentState(`${e}.interpreter.Details.v7`,void 0,864e5);return n.value&&n.value.fileHash===t||await n.updateValue({fileHash:t}),n}async getInterepreterFileHash(e){return this.hashProviderFactory.create({pythonPath:e}).then(t=>t.getInterpreterHash(e))}async updateCachedInterpreterInformation(e,t){const n=JSON.stringify(e);if(this.updatedInterpreters.has(n))return;this.updatedInterpreters.add(n);const r=await this.getInterpreterCache(e.path);e.displayName=await this.getDisplayName(e,t),r.value&&r.value.info&&JSON.stringify(e)===JSON.stringify(r.value.info)||(this.inMemoryCacheOfDisplayNames.delete(e.path),await r.updateValue({fileHash:r.value.fileHash,info:e}),this.didChangeInterpreterInformation.fire(e))}async buildInterpreterDisplayName(e,t){const n=["Python"],r=[];if(e.version&&n.push(`${e.version.major}.${e.version.minor}.${e.version.patch}`),e.architecture&&n.push(d.getArchitectureDisplayName(e.architecture)),!e.envName&&e.path&&e.type&&e.type===_.InterpreterType.Pipenv){const n=this.serviceContainer.get(S.IVirtualEnvironmentManager);e.envName=await n.getEnvironmentName(e.path,t)}if(e.envName&&e.envName.length>0&&r.push(`'${e.envName}'`),e.type){const t=this.serviceContainer.get(_.IInterpreterHelper).getInterpreterTypeDisplayName(e.type);t&&r.push(t)}const i=0===r.length?"":`(${r.join(": ")})`;return`${n.join(" ")} ${i}`.trim()}async collectInterpreterDetails(e,t){const n=this.serviceContainer.get(_.IInterpreterHelper),r=this.serviceContainer.get(S.IVirtualEnvironmentManager),[i,s]=await Promise.all([n.getInterpreterInformation(e),r.getEnvironmentType(e)]);if(!i)return;const o={...{...i,path:e,type:s},envName:s===_.InterpreterType.Unknown?void 0:await r.getEnvironmentName(e,t)};return o.displayName=await this.getDisplayName(o,t),o}};r([y.captureTelemetry(v.EventName.PYTHON_INTERPRETER_DISCOVERY,{locator:"all"},!0)],w.prototype,"getInterpreters",null),w=r([s.injectable(),i(0,s.inject(g.IServiceContainer)),i(1,s.inject(b.InterpeterHashProviderFactory))],w),t.InterpreterService=w},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0);n(7);const o=n(20);t.PIP_VERSION_REGEX="\\d+\\.\\d+(\\.\\d+)?";let a=class{constructor(e){this.processServiceFactory=e}async getVersion(e,t){return(await this.processServiceFactory.create()).exec(e,["--version"],{mergeStdOutErr:!0}).then(e=>e.stdout.splitLines()[0]).then(e=>0===e.length?t:e).catch(()=>t)}async getPipVersion(e){const n=await this.processServiceFactory.create(),r=await n.exec(e,["-m","pip","--version"],{mergeStdOutErr:!0});if(r.stdout.length>0){const e=new RegExp(t.PIP_VERSION_REGEX,"g").exec(r.stdout);if(e&&e.length>0)return e[0].trim()}throw new Error(`Unable to determine pip version from output '${r.stdout}'`)}};a=r([s.injectable(),i(0,s.inject(o.IProcessServiceFactory))],a),t.InterpreterVersionService=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(6),c=n(8),l=n(1),u=n(17),d=n(35),h=n(10),p=n(14),f=n(544),m=n(123);let g=class{constructor(e,t){this.serviceContainer=e,this.interpreterFilter=t,this.disposables=[],this._hasInterpreters=u.createDeferred(),e.get(l.IDisposableRegistry).push(this),this.platform=e.get(c.IPlatformService),this.interpreterLocatorHelper=e.get(p.IInterpreterLocatorHelper)}get onLocating(){return(new o.EventEmitter).event}get hasInterpreters(){return this._hasInterpreters.promise}dispose(){this.disposables.forEach(e=>e.dispose())}async getInterpreters(e){const t=this.getLocators(),n=t.map(async t=>t.getInterpreters(e));t.forEach(e=>{e.hasInterpreters.then(e=>{e&&this._hasInterpreters.resolve(!0)}).ignoreErrors()});const r=await Promise.all(n),i=m(r).filter(e=>!!e).map(e=>e).filter(e=>!this.interpreterFilter.isHiddenInterpreter(e));return this._hasInterpreters.resolve(i.length>0),this.interpreterLocatorHelper.mergeInterpreters(i)}getLocators(){return[[p.WINDOWS_REGISTRY_SERVICE,d.OSType.Windows],[p.CONDA_ENV_SERVICE,void 0],[p.CONDA_ENV_FILE_SERVICE,void 0],[p.PIPENV_SERVICE,void 0],[p.GLOBAL_VIRTUAL_ENV_SERVICE,void 0],[p.WORKSPACE_VIRTUAL_ENV_SERVICE,void 0],[p.KNOWN_PATH_SERVICE,void 0],[p.CURRENT_PATH_SERVICE,void 0]].filter(e=>void 0===e[1]||e[1]===this.platform.osType).map(e=>this.serviceContainer.get(p.IInterpreterLocatorService,e[0]))}};r([a.traceDecorators.verbose("Get Interpreters")],g.prototype,"getInterpreters",null),g=r([s.injectable(),i(0,s.inject(h.IServiceContainer)),i(1,s.inject(f.InterpreterFilter))],g),t.PythonInterpreterLocatorService=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(6),c=n(1),l=n(17),u=n(16),d=n(10),h=n(14);let p=class{constructor(e,t){this.disposables=t,this.deferreds=[],this.refreshing=new o.EventEmitter,this.refreshed=new o.EventEmitter,this.locators=[],this.locators=e.getAll(h.IInterpreterLocatorService)}get onRefreshing(){return this.refreshing.event}get onRefreshed(){return this.refreshed.event}register(){this.locators.forEach(e=>{e.onLocating(this.handleProgress,this,this.disposables)})}handleProgress(e){this.deferreds.push(l.createDeferredFrom(e)),this.notifyRefreshing(),this.checkProgress()}notifyCompleted(){this.refreshed.fire()}notifyRefreshing(){this.refreshing.fire()}checkProgress(){if(0!==this.deferreds.length)return this.areAllItemsComplete()?this.notifyCompleted():void Promise.all(this.deferreds.map(e=>e.promise)).catch(u.noop).then(()=>this.checkProgress()).ignoreErrors()}areAllItemsComplete(){return this.deferreds=this.deferreds.filter(e=>!e.completed),0===this.deferreds.length}};r([a.traceDecorators.verbose("Detected refreshing of Interpreters")],p.prototype,"handleProgress",null),r([a.traceDecorators.verbose("All locators have completed locating")],p.prototype,"notifyCompleted",null),r([a.traceDecorators.verbose("Notify locators are locating")],p.prototype,"notifyRefreshing",null),r([a.traceDecorators.verbose("Checking whether locactors have completed locating")],p.prototype,"areAllItemsComplete",null),p=r([s.injectable(),i(0,s.inject(d.IServiceContainer)),i(1,s.inject(c.IDisposableRegistry))],p),t.InterpreterLocatorProgressService=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(8),c=n(1),l=n(10),u=n(14),d=n(96),h=n(173);let p=class extends d.CacheableLocatorService{constructor(e,t,n,r,i){super("CondaEnvFileService",r),this.helperService=e,this.condaService=t,this.fileSystem=n,this.logger=i}dispose(){}getInterpretersImplementation(e){return this.getSuggestionsFromConda()}async getSuggestionsFromConda(){return this.condaService.condaEnvironmentsFile?this.fileSystem.fileExists(this.condaService.condaEnvironmentsFile).then(e=>e?this.getEnvironmentsFromFile(this.condaService.condaEnvironmentsFile):Promise.resolve([])):[]}async getEnvironmentsFromFile(e){try{const t=(await this.fileSystem.readFile(e)).split(/\r?\n/g).map(e=>e.trim()).filter(e=>e.length>0),n=(await Promise.all(t.map(e=>this.getInterpreterDetails(e)))).filter(e=>!!e).map(e=>e),r=await this.condaService.getCondaEnvironments(!0);return Array.isArray(r)&&r.length>0&&n.forEach(e=>{const t=r.find(t=>this.fileSystem.arePathsSame(t.path,e.envPath));t&&(e.envName=t.name)}),n}catch(e){return this.logger.logError("Starlark Extension (getEnvironmentsFromFile.readFile):",e),[]}}async getInterpreterDetails(e){const t=this.condaService.getInterpreterPath(e);if(!t||!await this.fileSystem.fileExists(t))return;const n=await this.helperService.getInterpreterInformation(t);if(!n)return;const r=n.envName?n.envName:o.basename(e);return this._hasInterpreters.resolve(!0),{...n,path:t,companyDisplayName:h.AnacondaCompanyName,type:u.InterpreterType.Conda,envPath:e,envName:r}}};p=r([s.injectable(),i(0,s.inject(u.IInterpreterHelper)),i(1,s.inject(u.ICondaService)),i(2,s.inject(a.IFileSystem)),i(3,s.inject(l.IServiceContainer)),i(4,s.inject(c.ILogger))],p),t.CondaEnvFileService=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8),a=n(1),c=n(10),l=n(14),u=n(96),d=n(173);let h=class extends u.CacheableLocatorService{constructor(e,t,n,r,i){super("CondaEnvService",r),this.condaService=e,this.helper=t,this.logger=n,this.fileSystem=i}dispose(){}getInterpretersImplementation(e){return this.getSuggestionsFromConda()}async getSuggestionsFromConda(){try{const e=await this.condaService.getCondaInfo();if(!e)return[];const t=await p(e,this.condaService,this.fileSystem,this.helper);this._hasInterpreters.resolve(t.length>0);const n=await this.condaService.getCondaEnvironments(!0);return Array.isArray(n)&&n.length>0&&t.forEach(e=>{const t=n.find(t=>this.fileSystem.arePathsSame(t.path,e.envPath));t&&(e.envName=t.name)}),t}catch(e){return this.logger.logError("Failed to get Suggestions from conda",e),[]}}};async function p(e,t,n,r){const i=Array.isArray(e.envs)?e.envs:[];e.default_prefix&&e.default_prefix.length>0&&i.push(e.default_prefix);const s=i.map(async e=>{const i=t.getInterpreterPath(e);if(!await n.fileExists(i))return;const s=await r.getInterpreterInformation(i);return s?{...s,path:i,companyDisplayName:d.AnacondaCompanyName,type:l.InterpreterType.Conda,envPath:e}:void 0});return Promise.all(s).then(e=>e.filter(e=>null!=e)).then(e=>e.map(e=>e))}h=r([s.injectable(),i(0,s.inject(l.ICondaService)),i(1,s.inject(l.IInterpreterHelper)),i(2,s.inject(a.ILogger)),i(3,s.inject(c.IServiceContainer)),i(4,s.inject(o.IFileSystem))],h),t.CondaEnvService=h,t.parseCondaInfo=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(49),c=n(4),l=n(6),u=n(8),d=n(20),h=n(1),p=n(14),f=n(1260),m=n(129),g=["/opt/*conda*/bin/conda","/usr/share/*conda*/bin/conda",m("~/*conda*/bin/conda")];t.CondaLocationsGlob=`{${g.join(",")}}`;const y=["/ProgramData/[Mm]iniconda*/Scripts/conda.exe","/ProgramData/[Aa]naconda*/Scripts/conda.exe",m("~/[Mm]iniconda*/Scripts/conda.exe"),m("~/[Aa]naconda*/Scripts/conda.exe"),m("~/AppData/Local/Continuum/[Mm]iniconda*/Scripts/conda.exe"),m("~/AppData/Local/Continuum/[Aa]naconda*/Scripts/conda.exe")];t.CondaLocationsGlobWin=`{${y.join(",")}}`,t.CondaGetEnvironmentPrefix="Outputting Environment Now...";let v=class{constructor(e,t,n,r,i,s,o,a,c){this.processServiceFactory=e,this.platform=t,this.fileSystem=n,this.persistentStateFactory=r,this.configService=i,this.logger=s,this.disposableRegistry=o,this.workspaceService=a,this.registryLookupForConda=c,this.condaHelper=new f.CondaHelper,this.addCondaPathChangedHandler()}get condaEnvironmentsFile(){const e=this.platform.isWindows?process.env.USERPROFILE:process.env.HOME||process.env.HOMEPATH;return e?o.join(e,".conda","environments.txt"):void 0}dispose(){}async getCondaFile(){return this.condaFile||(this.condaFile=this.getCondaFileImpl()),await this.condaFile}async isCondaAvailable(){return"boolean"==typeof this.isAvailable?this.isAvailable:this.getCondaVersion().then(e=>this.isAvailable=void 0!==e).catch(()=>this.isAvailable=!1)}async getCondaVersion(){const e=await this.processServiceFactory.create(),t=await this.getCondaInfo().catch(()=>void 0);let n;if(t&&t.conda_version)n=t.conda_version;else{const t=await this.getCondaFile().then(t=>e.exec(t,["--version"],{})).then(e=>e.stdout.trim()).catch(()=>void 0);n=t&&t.startsWith("conda ")?t.substring("conda ".length).trim():t}if(!n)return;const r=a.parse(n,!0);return r||(l.Logger.warn(`Unable to parse Version of Conda, ${n}`),new a.SemVer("0.0.1"))}async isCondaInCurrentPath(){return(await this.processServiceFactory.create()).exec("conda",["--version"]).then(e=>e.stdout.length>0).catch(()=>!1)}async getCondaInfo(){try{const e=await this.getCondaFile(),t=await this.processServiceFactory.create(),n=await t.exec(e,["info","--json"]).then(e=>e.stdout);return JSON.parse(n)}catch(e){}}async isCondaEnvironment(e){const t=o.dirname(e),n=this.platform.isWindows?o.join(t,"conda-meta"):o.join(t,"..","conda-meta");return this.fileSystem.directoryExists(n)}async getCondaEnvironment(e){if(!await this.isCondaEnvironment(e))return;let t=await this.getCondaEnvironments(!1);const n=o.dirname(e),r=o.basename(n),i=-1!==["BIN","SCRIPTS"].indexOf(r.toUpperCase())?o.join(n,".."):n;let s=Array.isArray(t)?t.filter(e=>this.fileSystem.arePathsSame(e.path,i)):[];return 0===s.length&&(t=await this.getCondaEnvironments(!0),s=Array.isArray(t)?t.filter(e=>this.fileSystem.arePathsSame(e.path,i)):[]),s.length>0?{name:s[0].name,path:i}:void 0}async getCondaEnvironments(e){const t=this.persistentStateFactory.createGlobalPersistentState("CONDA_ENVIRONMENTS",void 0);if(!e&&t.value)return t.value.data;try{const e=await this.getCondaFile(),n=await this.processServiceFactory.create();let r=await n.exec(e,["env","list"]).then(e=>e.stdout);if(l.traceVerbose(`Conda Env List ${r}}`),!r){l.traceVerbose("Conda env list failure, attempting path additions.");const t=o.dirname(o.dirname(e)),i=o.join(t,"bin"),s=o.join(t,"condabin"),a=o.join(t,"library","bin"),c=process.env;c.PATH=`${i};${s};${a};${c.PATH}`,l.traceVerbose(`Attempting new path for conda env list: ${c.PATH}`),r=await n.exec(e,["env","list"],{env:c}).then(e=>e.stdout)}const i=this.condaHelper.parseCondaEnvironmentNames(r);return await t.updateValue({data:i}),i}catch(e){await t.updateValue({data:void 0}),this.logger.logInformation("Failed to get conda environment list from conda",e)}}getInterpreterPath(e){const t=this.platform.isWindows?"python.exe":o.join("bin","python");return o.join(e,t)}async getCondaFileFromInterpreter(e,t){const n=this.platform.isWindows?"conda.exe":"conda",r=this.platform.isWindows?"Scripts":"bin",i=e?o.dirname(e):"",s=t?i.indexOf(o.join("envs",t)):-1;if(s>0){const e=i.slice(0,s);let t=o.join(e,n);if(await this.fileSystem.fileExists(t))return t;if(t=o.join(e,r,n),await this.fileSystem.fileExists(t))return t}let a=o.join(i,n);return await this.fileSystem.fileExists(a)?a:(a=o.join(i,r,n),await this.fileSystem.fileExists(a)?a:void 0)}detectCondaEnvironment(e){return e.type===p.InterpreterType.Conda||(e.displayName?e.displayName:"").toUpperCase().indexOf("ANACONDA")>=0||(e.companyDisplayName?e.companyDisplayName:"").toUpperCase().indexOf("ANACONDA")>=0||(e.companyDisplayName?e.companyDisplayName:"").toUpperCase().indexOf("CONTINUUM")>=0}getLatestVersion(e){const t=e.slice();if(t.sort((e,t)=>e.version&&t.version?a.compare(e.version.raw,t.version.raw):0),t.length>0)return t[t.length-1]}addCondaPathChangedHandler(){const e=this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this));this.disposableRegistry.push(e)}async onDidChangeConfiguration(e){-1!==(this.workspaceService.hasWorkspaceFolders?this.workspaceService.workspaceFolders.map(e=>e.uri):[void 0]).findIndex(t=>e.affectsConfiguration("python.condaPath",t))&&(this.condaFile=void 0)}async getCondaFileImpl(){const e=this.configService.getSettings().condaPath;if(e&&""!==e)return e;if(await this.isCondaInCurrentPath())return"conda";if(this.platform.isWindows&&this.registryLookupForConda){const e=(await this.registryLookupForConda.getInterpreters()).filter(this.detectCondaEnvironment),t=this.getLatestVersion(e);if(t){const e=await this.getCondaFileFromInterpreter(t.path,t.envName);if(e)return e}}return this.getCondaFileFromKnownLocations()}async getCondaFileFromKnownLocations(){const e=this.platform.isWindows?t.CondaLocationsGlobWin:t.CondaLocationsGlob,n=(await this.fileSystem.search(e).catch(e=>(l.Logger.warn("Default conda location search failed.",`Searching for default install locations for conda results in error: ${e}`),[]))).filter(e=>e.length>0);return 0===n.length?"conda":n[0]}};r([l.traceDecorators.verbose("Get Conda environments")],v.prototype,"getCondaEnvironments",null),r([l.traceDecorators.verbose("Get Conda File from interpreter")],v.prototype,"getCondaFileFromInterpreter",null),v=r([s.injectable(),i(0,s.inject(d.IProcessServiceFactory)),i(1,s.inject(u.IPlatformService)),i(2,s.inject(u.IFileSystem)),i(3,s.inject(h.IPersistentStateFactory)),i(4,s.inject(h.IConfigurationService)),i(5,s.inject(h.ILogger)),i(6,s.inject(h.IDisposableRegistry)),i(7,s.inject(c.IWorkspaceService)),i(8,s.inject(p.IInterpreterLocatorService)),i(8,s.named(p.WINDOWS_REGISTRY_SERVICE)),i(8,s.optional())],v),t.CondaService=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);n(7);const i=n(173);t.CondaHelper=class{getDisplayName(e={}){const t=e["sys.version"];if(!t)return i.AnacondaDisplayName;const n=t.split("|",2);if(2===n.length){const e=n[1].trim();return this.isIdentifiableAsAnaconda(e)?e:`${e} : ${i.AnacondaDisplayName}`}return i.AnacondaDisplayName}parseCondaEnvironmentNames(e){const t=e.splitLines({trim:!1}),n=t.filter(e=>e.indexOf("*")>0);if(0===n.length)return;const i=n[0].indexOf(n[0].split("*")[1].trim()),s=[];return t.forEach(e=>{if(e.length<=i)return;let t=e.substring(0,i).trim();t.endsWith("*")&&(t=t.substring(0,t.length-1).trim());const n=e.substring(i).trim();(t=0===t.length?r.basename(n):t).length>0&&n.length>0&&s.push({name:t,path:n})}),s}isIdentifiableAsAnaconda(e){const t=e.toLowerCase();return i.AnacondaIdentfiers.some(e=>-1!==t.indexOf(e.toLowerCase()))}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(6),a=n(8),c=n(20),l=n(1),u=n(35),d=n(10),h=n(14),p=n(172),f=n(96);let m=class extends f.CacheableLocatorService{constructor(e,t,n,r){super("CurrentPathService",r),this.helper=e,this.processServiceFactory=t,this.pythonCommandProvider=n,this.fs=r.get(a.IFileSystem)}dispose(){}getInterpretersImplementation(e){return this.suggestionsFromKnownPaths(e)}async suggestionsFromKnownPaths(e){const t=this.serviceContainer.get(l.IConfigurationService).getSettings(e),n=[...this.pythonCommandProvider.getCommands(),{command:t.pythonPath}];return Promise.all(n.map(e=>this.getInterpreter(e))).then(e=>e.filter(e=>e.length>0)).then(e=>Promise.all(e.map(e=>this.getInterpreterDetails(e)))).then(e=>e.filter(e=>!!e).map(e=>e))}async getInterpreterDetails(e){return this.helper.getInterpreterInformation(e).then(t=>{if(t)return this._hasInterpreters.resolve(!0),{...t,path:e,type:t.type?t.type:h.InterpreterType.Unknown}})}async getInterpreter(e){try{const t=await this.processServiceFactory.create(),n=Array.isArray(e.args)?e.args:[];return t.exec(e.command,n.concat(["-c","import sys;print(sys.executable)"]),{}).then(e=>e.stdout.trim()).then(async t=>t.length>0&&await this.fs.fileExists(t)?t:(o.traceError(`Detection of Python Interpreter for Command ${e.command} and args ${n.join(" ")} failed as file ${t} does not exist`),"")).catch(t=>(o.traceInfo(`Detection of Python Interpreter for Command ${e.command} and args ${n.join(" ")} failed`),""))}catch(t){return o.traceError(`Detection of Python Interpreter for Command ${e.command} failed`,t),""}}};m=r([s.injectable(),i(0,s.inject(h.IInterpreterHelper)),i(1,s.inject(c.IProcessServiceFactory)),i(2,s.inject(p.IPythonInPathCommandProvider)),i(3,s.inject(d.IServiceContainer))],m),t.CurrentPathService=m;let g=class{constructor(e){this.platform=e}getCommands(){const e=["python3.7","python3.6","python3","python2","python"].map(e=>({command:e}));if(this.platform.osType!==u.OSType.Windows)return e;return e.concat(["3.7","3.6","3","2"].map(e=>({command:"py",args:[`-${e}`]})))}};g=r([s.injectable(),i(0,s.inject(a.IPlatformService))],g),t.PythonInPathCommandProvider=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(22),a=n(3),c=n(1),l=n(10),u=n(14),d=n(171),h=n(545),p=n(129);let f=class extends h.BaseVirtualEnvService{constructor(e,t){super(e,t,"VirtualEnvService")}};f=r([s.injectable(),i(0,s.inject(u.IVirtualEnvironmentsSearchPathProvider)),i(0,s.named("global")),i(1,s.inject(l.IServiceContainer))],f),t.GlobalVirtualEnvService=f;let m=class{constructor(e){this.config=e.get(c.IConfigurationService),this.virtualEnvMgr=e.get(d.IVirtualEnvironmentManager),this.currentProcess=e.get(c.ICurrentProcess)}async getSearchPaths(e){const t=o.homedir(),n=["envs",".pyenv",".direnv",".virtualenvs",...this.config.getSettings(e).venvFolders],r=[...new Set(n.map(e=>a.join(t,e)))],i=this.currentProcess.env.WORKON_HOME;i&&r.push(p(i));const s=await this.virtualEnvMgr.getPyEnvRoot(e);return s&&(r.push(s),r.push(a.join(s,"versions"))),r}};m=r([s.injectable(),i(0,s.inject(l.IServiceContainer))],m),t.GlobalVirtualEnvironmentsSearchPathProvider=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(6),c=n(17),l=n(10),u=n(14);let d=class{constructor(e,t){this.workspaceService=e,this.serviceContainer=t,this.watchersByResource=new Map}async getWorkspaceVirtualEnvInterpreterWatcher(e){const t=this.getResourceKey(e);if(!this.watchersByResource.has(t)){const n=c.createDeferred();this.watchersByResource.set(t,n.promise);const r=this.serviceContainer.get(u.IInterpreterWatcher,u.WORKSPACE_VIRTUAL_ENV_SERVICE);await r.register(e),n.resolve(r)}return this.watchersByResource.get(t)}getResourceKey(e){const t=e?this.workspaceService.getWorkspaceFolder(e):void 0;return t?t.uri.fsPath:""}};r([a.traceDecorators.verbose("Build the workspace interpreter watcher")],d.prototype,"getWorkspaceVirtualEnvInterpreterWatcher",null),d=r([s.injectable(),i(0,s.inject(o.IWorkspaceService)),i(1,s.inject(l.IServiceContainer))],d),t.InterpreterWatcherBuilder=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(8),c=n(1),l=n(151),u=n(10),d=n(14),h=n(250),p=n(96),f=n(123);let m=class extends p.CacheableLocatorService{constructor(e,t,n){super("KnownPathsService",n),this.knownSearchPaths=e,this.helper=t}dispose(){}getInterpretersImplementation(e){return this.suggestionsFromKnownPaths()}suggestionsFromKnownPaths(){const e=this.knownSearchPaths.getSearchPaths().map(e=>this.getInterpretersInDirectory(e));return Promise.all(e).then(e=>f(e)).then(e=>e.filter(e=>e.length>0)).then(e=>Promise.all(e.map(e=>this.getInterpreterDetails(e)))).then(e=>e.filter(e=>!!e).map(e=>e))}async getInterpreterDetails(e){const t=await this.helper.getInterpreterInformation(e);if(t)return this._hasInterpreters.resolve(!0),{...t,path:e,type:d.InterpreterType.Unknown}}getInterpretersInDirectory(e){return l.fsExistsAsync(e).then(t=>t?h.lookForInterpretersInDirectory(e):Promise.resolve([]))}};m=r([s.injectable(),i(0,s.inject(d.IKnownSearchPathsForInterpreters)),i(1,s.inject(d.IInterpreterHelper)),i(2,s.inject(u.IServiceContainer))],m),t.KnownPathsService=m;let g=class{constructor(e){this.serviceContainer=e}getSearchPaths(){const e=this.serviceContainer.get(c.ICurrentProcess),t=this.serviceContainer.get(a.IPlatformService),n=this.serviceContainer.get(c.IPathUtils),r=e.env[t.pathVariableName].split(n.delimiter).map(e=>e.trim()).filter(e=>e.length>0);return t.isWindows||(["/usr/local/bin","/usr/bin","/bin","/usr/sbin","/sbin","/usr/local/sbin"].forEach(e=>{r.push(e),r.push(o.join(n.home,e))}),process.env.HOME&&(r.push(o.join(n.home,"anaconda","bin")),r.push(o.join(n.home,"python","bin")))),r}};g=r([s.injectable(),i(0,s.inject(u.IServiceContainer))],g),t.KnownSearchPathsForInterpreters=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4),l=n(6),u=n(8),d=n(20),h=n(1),p=n(10),f=n(14),m=n(172),g=n(96);let y=class extends g.CacheableLocatorService{constructor(e){super("PipEnvService",e,!0),this.helper=this.serviceContainer.get(f.IInterpreterHelper),this.processServiceFactory=this.serviceContainer.get(d.IProcessServiceFactory),this.workspace=this.serviceContainer.get(c.IWorkspaceService),this.fs=this.serviceContainer.get(u.IFileSystem),this.logger=this.serviceContainer.get(h.ILogger),this.configService=this.serviceContainer.get(h.IConfigurationService),this.pipEnvServiceHelper=this.serviceContainer.get(m.IPipEnvServiceHelper)}dispose(){}async isRelatedPipEnvironment(e,t){if(-1===t.indexOf(`${o.sep}${o.basename(e)}-`))return!1;return!!await this.getInterpreterPathFromPipenv(e,!0)}get executable(){return this.configService.getSettings().pipenvPath}getInterpretersImplementation(e){const t=this.getPipenvWorkingDirectory(e);return t?this.getInterpreterFromPipenv(t).then(e=>e?[e]:[]).catch(()=>[]):Promise.resolve([])}async getInterpreterFromPipenv(e){const t=await this.getInterpreterPathFromPipenv(e);if(!t)return;const n=await this.helper.getInterpreterInformation(t);return n?(this._hasInterpreters.resolve(!0),await this.pipEnvServiceHelper.trackWorkspaceFolder(t,a.Uri.file(e)),{...n,path:t,type:f.InterpreterType.Pipenv,pipEnvWorkspaceFolder:e}):void 0}getPipenvWorkingDirectory(e){const t=e?this.workspace.getWorkspaceFolder(e):void 0;return t?t.uri.fsPath:this.workspace.rootPath}async getInterpreterPathFromPipenv(e,t=!1){if(await this.checkIfPipFileExists(e))try{if(void 0===await this.invokePipenv("--version",e)){return void this.serviceContainer.get(c.IApplicationShell).showWarningMessage(`Workspace contains Pipfile but '${this.executable}' was not found. Make sure '${this.executable}' is on the PATH.`)}if(void 0===await this.invokePipenv("--venv",e)){return void this.serviceContainer.get(c.IApplicationShell).showWarningMessage("Workspace contains Pipfile but the associated virtual environment has not been setup. Setup the virtual environment manually if needed.")}const n=await this.invokePipenv("--py",e);return n&&await this.fs.fileExists(n)?n:void 0}catch(e){if(l.traceError("PipEnv identification failed",e),t)return}}async checkIfPipFileExists(e){const t=this.serviceContainer.get(h.ICurrentProcess).env.PIPENV_PIPFILE;return!("string"!=typeof t||!await this.fs.fileExists(o.join(e,t)))||!!await this.fs.fileExists(o.join(e,"Pipfile"))}async invokePipenv(e,t){try{const n=await this.processServiceFactory.create(a.Uri.file(t)),r=this.executable,i=await n.exec(r,[e],{cwd:t});if(i){const e=i.stdout?i.stdout.trim():"",t=i.stderr?i.stderr.trim():"";if(t.length>0&&0===e.length)throw new Error(t);return e}}catch(e){const t=this.serviceContainer.get(u.IPlatformService),n=this.serviceContainer.get(h.ICurrentProcess),r={LC_ALL:n.env.LC_ALL,LANG:n.env.LANG};r[t.pathVariableName]=n.env[t.pathVariableName],this.logger.logWarning("Error in invoking PipEnv",e),this.logger.logWarning(`Relevant Environment Variables ${JSON.stringify(r,void 0,4)}`)}}};y=r([s.injectable(),i(0,s.inject(p.IServiceContainer))],y),t.PipEnvService=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(8),l=n(1);let u=class{constructor(e,t){this.statefactory=e,this.fs=t,this.initialized=!1,this.state=this.statefactory.createGlobalPersistentState("PipEnvInformation",[])}async getPipEnvInfo(e){await this.initializeStateStore();const t=this.state.value.find(t=>this.fs.arePathsSame(t.pythonPath,e));return t?{workspaceFolder:a.Uri.file(t.workspaceFolder),envName:t.envName}:void 0}async trackWorkspaceFolder(e,t){await this.initializeStateStore();const n=[...this.state.value].filter(t=>!this.fs.arePathsSame(t.pythonPath,e)),r=o.basename(t.fsPath);n.push({pythonPath:e,workspaceFolder:t.fsPath,envName:r}),await this.state.updateValue(n)}async initializeStateStore(){if(this.initialized)return;const e=(await Promise.all(this.state.value.map(async e=>await this.fs.fileExists(e.pythonPath)?e:void 0))).filter(e=>!!e);await this.state.updateValue(e),this.initialized=!0}};u=r([s.injectable(),i(0,s.inject(l.IPersistentStateFactory)),i(1,s.inject(c.IFileSystem))],u),t.PipEnvServiceHelper=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(46),o=n(0),a=n(3),c=n(6),l=n(8),u=n(1),d=n(35),h=n(224),p=n(10),f=n(14),m=n(96),g=n(173),y=n(126),v=n(123),_=["PYLAUNCHER"];let b=class extends m.CacheableLocatorService{constructor(e,t,n,r){super("WindowsRegistryService",n),this.registry=e,this.platform=t,this.windowsStoreInterpreter=r,this.pathUtils=n.get(u.IPathUtils)}dispose(){}async getInterpretersImplementation(e){return this.platform.isWindows?this.getInterpretersFromRegistry():[]}async getInterpretersFromRegistry(){const e=this.platform.is64bit?void 0:d.Architecture.x86,t=[this.getCompanies(l.RegistryHive.HKCU,e),this.getCompanies(l.RegistryHive.HKLM,d.Architecture.x86)];this.platform.is64bit&&t.push(this.getCompanies(l.RegistryHive.HKLM,d.Architecture.x64));const n=await Promise.all(t),r=await Promise.all(v(n).filter(e=>null!=e).map(e=>this.getInterpretersForCompany(e.companyKey,e.hive,e.arch)));return v(r).filter(e=>null!=e).map(e=>e).reduce((e,t)=>(-1===e.findIndex(e=>e.path.toUpperCase()===t.path.toUpperCase())&&e.push(t),e),[])}async getCompanies(e,t){return this.registry.getKeys("\\Software\\Python",e,t).then(n=>n.filter(e=>-1===_.indexOf(this.pathUtils.basename(e).toUpperCase())).map(n=>({companyKey:n,hive:e,arch:t})))}async getInterpretersForCompany(e,t,n){const r=await this.registry.getKeys(e,t,n);return Promise.all(r.map(r=>this.getInreterpreterDetailsForCompany(r,e,t,n)))}getInreterpreterDetailsForCompany(e,t,n,r){const i=`${e}\\InstallPath`;return this.registry.getValue(i,n,r).then(s=>s?Promise.all([Promise.resolve(s),this.registry.getValue(i,n,r,"ExecutablePath"),this.registry.getValue(e,n,r,"SysVersion"),this.getCompanyDisplayName(t,n,r)]).then(([e,t,n,r])=>({installPath:e,executablePath:t,version:n,companyDisplayName:r=-1===g.AnacondaCompanyNames.indexOf(r)?r:g.AnacondaCompanyName})):Promise.resolve(null)).then(async t=>{if(!t)return;const n=t.executablePath&&t.executablePath.length>0?t.executablePath:a.join(t.installPath,"python.exe");if(this.windowsStoreInterpreter.isHiddenInterpreter(n))return;const r=this.serviceContainer.get(f.IInterpreterHelper),i=await r.getInterpreterInformation(n);if(!i)return;const s=t.version?this.pathUtils.basename(t.version):this.pathUtils.basename(e);return this._hasInterpreters.resolve(!0),{...i,path:n,version:i.version||h.parsePythonVersion(s),companyDisplayName:t.companyDisplayName,type:this.windowsStoreInterpreter.isWindowsStoreInterpreter(n)?f.InterpreterType.WindowsStore:f.InterpreterType.Unknown}}).then(e=>e?s.pathExists(e.path).catch(()=>!1).then(t=>t?e:null):null).catch(i=>(c.traceError(`Failed to retrieve interpreter details for company ${t},tag: ${e}, hive: ${n}, arch: ${r}`,i),null))}async getCompanyDisplayName(e,t,n){const r=await this.registry.getValue(e,t,n,"DisplayName");if(r&&r.length>0)return r;const i=this.pathUtils.basename(e);return"PYTHONCORE"===i.toUpperCase()?"Python Software Foundation":i}};b=r([o.injectable(),i(0,o.inject(l.IRegistry)),i(1,o.inject(l.IPlatformService)),i(2,o.inject(p.IServiceContainer)),i(3,o.inject(y.WindowsStoreInterpreter))],b),t.WindowsRegistryService=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(129),c=n(4),l=n(1),u=n(10),d=n(14),h=n(545);let p=class extends h.BaseVirtualEnvService{constructor(e,t,n){super(e,t,"WorkspaceVirtualEnvService",!0),this.builder=n}async getInterpreterWatchers(e){return[await this.builder.getWorkspaceVirtualEnvInterpreterWatcher(e)]}};p=r([s.injectable(),i(0,s.inject(d.IVirtualEnvironmentsSearchPathProvider)),i(0,s.named("workspace")),i(1,s.inject(u.IServiceContainer)),i(2,s.inject(d.IInterpreterWatcherBuilder))],p),t.WorkspaceVirtualEnvService=p;let f=class{constructor(e){this.serviceContainer=e}async getSearchPaths(e){const t=[],n=this.serviceContainer.get(l.IConfigurationService).getSettings(e).venvPath;n&&t.push(a(n));const r=this.serviceContainer.get(c.IWorkspaceService);if(Array.isArray(r.workspaceFolders)&&r.workspaceFolders.length>0){let n;if(e&&r.workspaceFolders.length>1){const t=r.getWorkspaceFolder(e);t&&(n=t.uri.fsPath)}else n=r.workspaceFolders[0].uri.fsPath;n&&(t.push(n),t.push(o.join(n,".direnv")))}return t}};f=r([s.injectable(),i(0,s.inject(u.IServiceContainer))],f),t.WorkspaceVirtualEnvironmentsSearchPathProvider=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4);n(7);const l=n(6),u=n(8),d=n(20),h=n(1);let p=class{constructor(e,t,n,r){this.disposableRegistry=e,this.workspaceService=t,this.platformService=n,this.pythonExecFactory=r,this.timers=new Map,this.fsWatchers=[],this.didCreate=new a.EventEmitter,e.push(this)}get onDidCreate(){return this.didCreate.event}dispose(){this.clearTimers()}async register(e){if(this.fsWatchers.length>0)return;this.resource=e;const t=e?this.workspaceService.getWorkspaceFolder(e):void 0,n=this.platformService.isWindows?"python.exe":"python",r=[o.join("*",n),o.join("*","*",n)];for(const e of r){const n=t?new a.RelativePattern(t.uri.fsPath,e):e;l.Logger.verbose(`Create file systemwatcher with pattern ${e}`);const r=this.workspaceService.createFileSystemWatcher(n);r.onDidCreate(e=>this.createHandler(e),this,this.disposableRegistry),this.disposableRegistry.push(r),this.fsWatchers.push(r)}}async createHandler(e){this.didCreate.fire(this.resource),this.notifyCreationWhenReady(e.fsPath).ignoreErrors()}async notifyCreationWhenReady(e){const t=this.timers.has(e)?this.timers.get(e).counter+1:0;if(await this.isValidExecutable(e))return t>0&&this.didCreate.fire(this.resource),this.timers.delete(e);if(t>30)return this.didCreate.fire(this.resource),void this.timers.delete(e);const n=setTimeout(()=>this.notifyCreationWhenReady(e).ignoreErrors(),2e3);this.timers.set(e,{timer:n,counter:t})}clearTimers(){this.timers.forEach(e=>clearTimeout(e.timer)),this.timers.clear()}async isValidExecutable(e){const t=await this.pythonExecFactory.create({pythonPath:e});return void 0!==await t.getInterpreterInformation().catch(()=>void 0)}};r([l.traceDecorators.verbose("Register Interpreter Watcher")],p.prototype,"register",null),r([l.traceDecorators.verbose("Interpreter Watcher change handler")],p.prototype,"createHandler",null),p=r([s.injectable(),i(0,s.inject(h.IDisposableRegistry)),i(1,s.inject(c.IWorkspaceService)),i(2,s.inject(u.IPlatformService)),i(3,s.inject(d.IPythonExecutionFactory))],p),t.WorkspaceVirtualEnvWatcherService=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(6),l=n(8),u=n(1),d=n(12),h=n(9),p=n(11),f=n(14);t.condaInheritEnvPromptKey="CONDA_INHERIT_ENV_PROMPT_KEY";let m=class{constructor(e,t,n,r,i,s,o=!1){this.interpreterService=e,this.workspaceService=t,this.browserService=n,this.appShell=r,this.persistentStateFactory=i,this.platformService=s,this.hasPromptBeenShownInCurrentSession=o}async activate(e){this.initializeInBackground(e).ignoreErrors()}async initializeInBackground(e){await this.shouldShowPrompt(e)&&await this.promptAndUpdate()}async promptAndUpdate(){const e=this.persistentStateFactory.createGlobalPersistentState(t.condaInheritEnvPromptKey,!0);if(!e.value)return;const n=[d.InteractiveShiftEnterBanner.bannerLabelYes(),d.InteractiveShiftEnterBanner.bannerLabelNo(),d.Common.moreInfo()],r=await this.appShell.showInformationMessage(d.Interpreters.condaInheritEnvMessage(),...n);h.sendTelemetryEvent(p.EventName.CONDA_INHERIT_ENV_PROMPT,void 0,{selection:r?["Yes","No","More Info"][n.indexOf(r)]:void 0}),r&&(r===n[0]?await this.workspaceService.getConfiguration("terminal").update("integrated.inheritEnv",!1,o.ConfigurationTarget.Global):r===n[1]?await e.updateValue(!1):r===n[2]&&this.browserService.launch("https://aka.ms/AA66i8f"))}async shouldShowPrompt(e){if(this.hasPromptBeenShownInCurrentSession)return!1;if(this.platformService.isWindows)return!1;const t=await this.interpreterService.getActiveInterpreter(e);if(!t||t.type!==f.InterpreterType.Conda)return!1;const n=this.workspaceService.getConfiguration("terminal",e).inspect("integrated.inheritEnv");return n?void 0===n.globalValue&&void 0===n.workspaceValue&&void 0===n.workspaceFolderValue&&(this.hasPromptBeenShownInCurrentSession=!0,!0):(c.traceError("WorkspaceConfiguration.inspect returns `undefined` for setting `terminal.integrated.inheritEnv`"),!1)}};r([c.traceDecorators.error("Failed to intialize conda inherit env prompt")],m.prototype,"initializeInBackground",null),r([c.traceDecorators.error("Failed to display conda inherit env prompt")],m.prototype,"promptAndUpdate",null),r([c.traceDecorators.error("Failed to check whether to display prompt for conda inherit env setting")],m.prototype,"shouldShowPrompt",null),m=r([s.injectable(),i(0,s.inject(f.IInterpreterService)),i(1,s.inject(a.IWorkspaceService)),i(2,s.inject(u.IBrowserService)),i(3,s.inject(a.IApplicationShell)),i(4,s.inject(u.IPersistentStateFactory)),i(5,s.inject(l.IPlatformService)),i(6,s.optional())],m),t.CondaInheritEnvPrompt=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4),c=n(8),l=n(20),u=n(28),d=n(1),h=n(546),p=n(16),f=n(10),m=n(14),g=["pyvenv.cfg",o.join("..","pyvenv.cfg")];let y=class{constructor(e){this.serviceContainer=e,this.processServiceFactory=e.get(l.IProcessServiceFactory),this.fs=e.get(c.IFileSystem),this.pipEnvService=e.get(m.IPipEnvService),this.workspaceService=e.get(a.IWorkspaceService)}async getEnvironmentName(e,t){const n=this.workspaceService.hasWorkspaceFolders?this.workspaceService.workspaceFolders[0].uri:void 0,r=t?this.workspaceService.getWorkspaceFolder(t):void 0,i=r?r.uri:n,s=o.basename(o.dirname(o.dirname(e)));return i&&await this.pipEnvService.isRelatedPipEnvironment(i.fsPath,e)?o.basename(i.fsPath):s}async getEnvironmentType(e,t){return await this.isVenvEnvironment(e)?m.InterpreterType.Venv:await this.isPyEnvEnvironment(e,t)?m.InterpreterType.Pyenv:await this.isPipEnvironment(e,t)?m.InterpreterType.Pipenv:await this.isVirtualEnvironment(e)?m.InterpreterType.VirtualEnv:m.InterpreterType.Unknown}async isVenvEnvironment(e){const t=o.dirname(e),n=g.map(e=>o.join(t,e));for(const e of n)if(await this.fs.fileExists(e))return!0;return!1}async isPyEnvEnvironment(e,t){const n=await this.getPyEnvRoot(t);return n&&e.startsWith(n)}async isPipEnvironment(e,t){const n=this.workspaceService.hasWorkspaceFolders?this.workspaceService.workspaceFolders[0].uri:void 0,r=t?this.workspaceService.getWorkspaceFolder(t):void 0,i=r?r.uri:n;return!(!i||!await this.pipEnvService.isRelatedPipEnvironment(i.fsPath,e))}async getPyEnvRoot(e){if(this.pyEnvRoot)return this.pyEnvRoot;const t=this.serviceContainer.get(d.ICurrentProcess).env.PYENV_ROOT;if(t)return this.pyEnvRoot=t;try{const t=await this.processServiceFactory.create(e),n=await t.exec("pyenv",["root"]);if(n.stdout.trim().length>0)return this.pyEnvRoot=n.stdout.trim()}catch(e){p.noop()}const n=this.serviceContainer.get(d.IPathUtils);return this.pyEnvRoot=o.join(n.home,".pyenv")}async isVirtualEnvironment(e){const t=this.getTerminalActivationProviderForVirtualEnvs(),n=h.getNamesAndValues(u.TerminalShellType).filter(e=>t.isShellSupported(e.value)).map(e=>e.value);for(const r of n){const n=await t.getActivationCommandsForInterpreter(e,r);if(n&&n.length>0)return!0}return!1}getTerminalActivationProviderForVirtualEnvs(){const e=this.serviceContainer.get(c.IPlatformService).isWindows?"commandPromptAndPowerShell":"bashCShellFish";return this.serviceContainer.get(u.ITerminalActivationCommandProvider,e)}};y=r([s.injectable(),i(0,s.inject(f.IServiceContainer))],y),t.VirtualEnvironmentManager=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(6),l=n(1),u=n(17),d=n(12),h=n(9),p=n(11),f=n(110),m=n(14);let g=class{constructor(e,t,n,r,i,s,o){this.builder=e,this.persistentStateFactory=t,this.helper=n,this.pythonPathUpdaterService=r,this.locator=i,this.disposableRegistry=s,this.appShell=o}async activate(e){(await this.builder.getWorkspaceVirtualEnvInterpreterWatcher(e)).onDidCreate(()=>{this.handleNewEnvironment(e).ignoreErrors()},this,this.disposableRegistry)}async handleNewEnvironment(e){await u.sleep(1e3);const t=await this.locator.getInterpreters(e),n=this.helper.getBestInterpreter(t);n&&await this.notifyUser(n,e)}async notifyUser(e,t){const n=this.persistentStateFactory.createWorkspacePersistentState("MESSAGE_KEY_FOR_VIRTUAL_ENV",!0);if(!n.value)return;const r=[d.InteractiveShiftEnterBanner.bannerLabelYes(),d.InteractiveShiftEnterBanner.bannerLabelNo(),d.Common.doNotShowAgain()],i=await this.appShell.showInformationMessage(d.Interpreters.environmentPromptMessage(),...r);h.sendTelemetryEvent(p.EventName.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT,void 0,{selection:i?["Yes","No","Ignore"][r.indexOf(i)]:void 0}),i&&(i===r[0]?await this.pythonPathUpdaterService.updatePythonPath(e.path,o.ConfigurationTarget.WorkspaceFolder,"ui",t):i===r[2]&&await n.updateValue(!1))}};r([c.traceDecorators.error("Error in event handler for detection of new environment")],g.prototype,"handleNewEnvironment",null),g=r([s.injectable(),i(0,s.inject(m.IInterpreterWatcherBuilder)),i(1,s.inject(l.IPersistentStateFactory)),i(2,s.inject(m.IInterpreterHelper)),i(3,s.inject(f.IPythonPathUpdaterServiceManager)),i(4,s.inject(m.IInterpreterLocatorService)),i(4,s.named(m.WORKSPACE_VIRTUAL_ENV_SERVICE)),i(5,s.inject(l.IDisposableRegistry)),i(6,s.inject(a.IApplicationShell))],g),t.VirtualEnvironmentPrompt=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(56),s=n(0);try{s.decorate(s.injectable(),i.EventEmitter)}catch(e){console.warn("Failed to decorate EventEmitter for DI (possibly already decorated by another Extension)",e)}let o=class{constructor(e){this.container=e}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}};o=r([s.injectable()],o),t.ServiceContainer=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});let i=class{constructor(e){this.container=e}add(e,t,n){n?this.container.bind(e).to(t).whenTargetNamed(n):this.container.bind(e).to(t)}addFactory(e,t){this.container.bind(e).toFactory(t)}addBinding(e,t){this.container.bind(t).toService(e)}addSingleton(e,t,n){n?this.container.bind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.bind(e).to(t).inSingletonScope()}addSingletonInstance(e,t,n){n?this.container.bind(e).toConstantValue(t).whenTargetNamed(n):this.container.bind(e).toConstantValue(t)}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}rebind(e,t,n){n?this.container.rebind(e).to(t).whenTargetNamed(n):this.container.rebind(e).to(t)}rebindInstance(e,t,n){n?this.container.rebind(e).toConstantValue(t).whenTargetNamed(n):this.container.rebind(e).toConstantValue(t)}};i=r([n(0).injectable()],i),t.ServiceManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(1276);t.getLanguageConfiguration=function(){return{onEnterRules:[{beforeText:i.verboseRegExp("\n                    ^\n                    (?! \\s+ \\\\ )\n                    [^#\n]+\n                    \\\\\n                    $\n                "),action:{indentAction:r.IndentAction.Indent}},{beforeText:/^\s*#.*/,afterText:/.+$/,action:{indentAction:r.IndentAction.None,appendText:"# "}},{beforeText:i.verboseRegExp("\n                    ^\n                    \\s*\n                    (?:\n                        (?:\n                            (?:\n                                class |\n                                def |\n                                async \\s+ def |\n                                except |\n                                for |\n                                if |\n                                elif |\n                                while |\n                                with\n                            )\n                            \\b .*\n                        ) |\n                        else |\n                        try |\n                        finally\n                    )\n                    \\s*\n                    [:]\n                    \\s*\n                    (?: [#] .* )?\n                    $\n                "),action:{indentAction:r.IndentAction.Indent}},{beforeText:i.verboseRegExp("\n                    ^\n                    (?:\n                        (?:\n                            \\s*\n                            (?:\n                                pass |\n                                raise \\s+ [^#\\s] [^#]*\n                            )\n                        ) |\n                        (?:\n                            \\s+\n                            (?:\n                                raise |\n                                break |\n                                continue\n                            )\n                        )\n                    )\n                    \\s*\n                    (?: [#] .* )?\n                    $\n                "),action:{indentAction:r.IndentAction.Outdent}}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verboseRegExp=function(e){return e=e.replace(/\s+?/g,""),RegExp(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(13),s=n(12),o=n(9),a=n(11),c=n(53);t.LinterCommands=class{constructor(e){this.serviceContainer=e,this.disposables=[],this.linterManager=this.serviceContainer.get(c.ILinterManager),this.appShell=this.serviceContainer.get(r.IApplicationShell),this.documentManager=this.serviceContainer.get(r.IDocumentManager);const t=this.serviceContainer.get(r.ICommandManager);t.registerCommand(i.Commands.Set_Linter,this.setLinterAsync.bind(this)),t.registerCommand(i.Commands.Enable_Linter,this.enableLintingAsync.bind(this)),t.registerCommand(i.Commands.Run_Linter,this.runLinting.bind(this))}dispose(){this.disposables.forEach(e=>e.dispose())}async setLinterAsync(){const e=this.linterManager.getAllLinterInfos(),t=["Disable Linting",...e.map(e=>e.id).sort()],n=await this.linterManager.getActiveLinters(!0,this.settingsUri);let r;switch(n.length){case 0:r="none";break;case 1:r=n[0].id;break;default:r="multiple selected"}const i={matchOnDetail:!0,matchOnDescription:!0,placeHolder:`current: ${r}`},c=await this.appShell.showQuickPick(t,i);if(void 0!==c)if("Disable Linting"===c)await this.linterManager.enableLintingAsync(!1),o.sendTelemetryEvent(a.EventName.SELECT_LINTER,void 0,{enabled:!1});else{const t=e.findIndex(e=>e.id===c);if(n.length>1&&"Yes"!==await this.appShell.showWarningMessage(s.Linters.replaceWithSelectedLinter().format(c),"Yes","No"))return;await this.linterManager.setActiveLintersAsync([e[t].product],this.settingsUri),o.sendTelemetryEvent(a.EventName.SELECT_LINTER,void 0,{tool:c,enabled:!0})}}async enableLintingAsync(){const e=["on","off"],t={matchOnDetail:!0,matchOnDescription:!0,placeHolder:`current: ${await this.linterManager.isLintingEnabled(!0,this.settingsUri)?e[0]:e[1]}`},n=await this.appShell.showQuickPick(e,t);if(void 0!==n){const t=n===e[0];await this.linterManager.enableLintingAsync(t,this.settingsUri)}}runLinting(){return this.serviceContainer.get(c.ILintingEngine).lintOpenPythonFiles()}get settingsUri(){return this.documentManager.activeTextEditor?this.documentManager.activeTextEditor.document.uri:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1279),i=n(1280),s=n(1293),o=n(53);t.registerTypes=function(e){e.addSingleton(o.ILintingEngine,s.LintingEngine),e.addSingleton(o.ILinterManager,i.LinterManager),e.add(o.IAvailableLinterActivator,r.AvailableLinterActivator)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4);n(7);const c=n(8),l=n(1),u=n(12),d=n(9),h=n(11);let p=class{constructor(e,t,n,r,i){this.appShell=e,this.fs=t,this.workspaceService=n,this.configService=r,this.persistentStateFactory=i}async promptIfLinterAvailable(e,t){return!!this.isFeatureEnabled&&(!!this.isLinterUsingDefaultConfiguration(e,t)&&(!!await this.isLinterAvailable(e,t)&&this.promptToConfigureAvailableLinter(e)))}async promptToConfigureAvailableLinter(e){const t=this.persistentStateFactory.createWorkspacePersistentState("MESSAGE_KEY_FOR_CONFIGURE_AVAILABLE_LINTER_PROMPT",!0);if(!t.value)return!1;const n=[u.Linters.enableLinter().format(e.id),u.Common.notNow(),u.Common.doNotShowAgain()],r=await this.appShell.showInformationMessage(u.Linters.enablePylint().format(e.id),...n);return d.sendTelemetryEvent(h.EventName.CONFIGURE_AVAILABLE_LINTER_PROMPT,void 0,{tool:e.id,action:r?["enable","ignore","disablePrompt"][n.indexOf(r)]:void 0}),r===n[0]?(await e.enableAsync(!0),!0):(r===n[2]&&await t.updateValue(!1),!1)}async isLinterAvailable(e,t){if(!this.workspaceService.hasWorkspaceFolders)return!1;const n=this.workspaceService.getWorkspaceFolder(t)||this.workspaceService.workspaceFolders[0];let r=!1;for(const t of e.configFileNames){const e=o.join(n.uri.fsPath,t);r=r||await this.fs.fileExists(e)}return r}isLinterUsingDefaultConfiguration(e,t){const n=this.workspaceService.getConfiguration("python.linting",t).inspect(e.enabledSettingName);return void 0===n.globalValue&&void 0===n.workspaceValue&&void 0===n.workspaceFolderValue}get isFeatureEnabled(){return!this.configService.getSettings().jediEnabled}};p=r([s.injectable(),i(0,s.inject(a.IApplicationShell)),i(1,s.inject(c.IFileSystem)),i(2,s.inject(a.IWorkspaceService)),i(3,s.inject(l.IConfigurationService)),i(4,s.inject(l.IPersistentStateFactory))],p),t.AvailableLinterActivator=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(1),c=n(10),l=n(1281),u=n(1285),d=n(1286),h=n(1287),p=n(1288),f=n(1289),m=n(1290),g=n(1291),y=n(1292),v=n(53);class _{constructor(e){this.configService=e}get info(){return new d.LinterInfo(a.Product.pylint,"pylint",this.configService)}async lint(e,t){return[]}}let b=class{constructor(e,t){this.serviceContainer=e,this.workspaceService=t,this.checkedForInstalledLinters=new Set,this.configService=e.get(a.IConfigurationService),this.linters=[new d.LinterInfo(a.Product.bandit,"bandit",this.configService),new d.LinterInfo(a.Product.flake8,"flake8",this.configService),new d.PylintLinterInfo(this.configService,this.workspaceService,[".pylintrc","pylintrc"]),new d.LinterInfo(a.Product.mypy,"mypy",this.configService),new d.LinterInfo(a.Product.pycodestyle,"pycodestyle",this.configService),new d.LinterInfo(a.Product.prospector,"prospector",this.configService),new d.LinterInfo(a.Product.pydocstyle,"pydocstyle",this.configService),new d.LinterInfo(a.Product.pylama,"pylama",this.configService)]}getAllLinterInfos(){return this.linters}getLinterInfo(e){const t=this.linters.findIndex((t,n,r)=>t.product===e);if(t>=0)return this.linters[t];throw new Error(`Invalid linter '${a.Product[e]}'`)}async isLintingEnabled(e,t){const n=this.configService.getSettings(t),r=await this.getActiveLinters(e,t);return n.linting.enabled&&r.length>0}async enableLintingAsync(e,t){await this.configService.updateSetting("linting.enabled",e,t)}async getActiveLinters(e,t){return e||await this.enableUnconfiguredLinters(t),this.linters.filter(e=>e.isEnabled(t))}async setActiveLintersAsync(e,t){if(e.filter(e=>{return-1!==this.linters.findIndex(t=>t.product===e)}).length>0){const n=await this.getActiveLinters(!0,t);for(const e of n)await e.enableAsync(!1,t);if(e.length>0){const n=this.linters.filter(t=>e.findIndex(e=>t.product===e)>=0);for(const e of n)await e.enableAsync(!0,t);await this.enableLintingAsync(!0,t)}}}async createLinter(e,t,n,r){if(!await this.isLintingEnabled(!0,r))return new _(this.configService);const i="Linter manager: Unknown linter";switch(e){case a.Product.bandit:return new l.Bandit(t,n);case a.Product.flake8:return new u.Flake8(t,n);case a.Product.pylint:return new y.Pylint(t,n);case a.Product.mypy:return new h.MyPy(t,n);case a.Product.prospector:return new p.Prospector(t,n);case a.Product.pylama:return new g.PyLama(t,n);case a.Product.pydocstyle:return new m.PyDocStyle(t,n);case a.Product.pycodestyle:return new f.Pycodestyle(t,n);default:n.get(a.ILogger).logError(i)}throw new Error(i)}async enableUnconfiguredLinters(e){const t=this.configService.getSettings(e);if(!t.linting.pylintEnabled||!t.linting.enabled)return;const n=`${this.workspaceService.getWorkspaceFolderIdentifier(e)}${t.pythonPath}`;if(this.checkedForInstalledLinters.has(n))return;this.checkedForInstalledLinters.add(n);const r=this.linters.find(e=>"pylint"===e.id),i=this.serviceContainer.get(v.IAvailableLinterActivator);await i.promptIfLinterAvailable(r,e)}};b=r([s.injectable(),i(0,s.inject(c.IServiceContainer)),i(1,s.inject(o.IWorkspaceService))],b),t.LinterManager=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(1),i=n(83),s=n(53),o={LOW:s.LintMessageSeverity.Information,MEDIUM:s.LintMessageSeverity.Warning,HIGH:s.LintMessageSeverity.Error};t.Bandit=class extends i.BaseLinter{constructor(e,t){super(r.Product.bandit,e,t)}async runLinter(e,t){const n=await this.run(["-f","custom","--msg-template","{line},0,{severity},{test_id}:{msg}","-n","-1",e.uri.fsPath],e,t);return n.forEach(e=>{e.severity=o[e.type]}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1283),i=n(1284);t.ErrorHandler=class{constructor(e,t,n){const s=new i.StandardErrorHandler(e,t,n);this.handler=new r.NotInstalledErrorHandler(e,t,n),this.handler.setNextHandler(s)}handleError(e,t,n){return this.handler.handleError(e,t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),i=n(53),s=n(547);t.NotInstalledErrorHandler=class extends s.BaseErrorHandler{constructor(e,t,n){super(e,t,n)}async handleError(e,t,n){const s=await this.serviceContainer.get(r.IPythonExecutionFactory).create({resource:t});if(await s.isModuleInstalled(n.moduleName))return!!this.nextHandler&&this.nextHandler.handleError(e,t,n);this.installer.promptToInstall(this.product,t).catch(this.logger.logError.bind(this,"NotInstalledErrorHandler.promptToInstall"));const o=`Linter '${this.serviceContainer.get(i.ILinterManager).getLinterInfo(n.product).id}' is not installed. Please install it or select another linter".`;return this.outputChannel.appendLine(`\n${o}\n${e}`),this.logger.logWarning(o,e),!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(53),s=n(547);t.StandardErrorHandler=class extends s.BaseErrorHandler{constructor(e,t,n){super(e,t,n)}async handleError(e,t,n){if("string"==typeof e&&e.indexOf("OSError: [Errno 2] No such file or directory: '/")>0)return this.nextHandler?this.nextHandler.handleError(e,t,n):Promise.resolve(!1);const r=this.serviceContainer.get(i.ILinterManager).getLinterInfo(n.product);return this.logger.logError(`There was an error in running the linter ${r.id}`,e),this.outputChannel.appendLine(`Linting with ${r.id} failed.`),this.outputChannel.appendLine(e.toString()),this.displayLinterError(r.id).ignoreErrors(),!0}async displayLinterError(e){const t=`There was an error in running the linter '${e}'`,n=this.serviceContainer.get(r.IApplicationShell);await n.showErrorMessage(t,"View Errors"),this.outputChannel.show()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(1),i=n(83),s=1;t.Flake8=class extends i.BaseLinter{constructor(e,t){super(r.Product.flake8,e,t,s)}async runLinter(e,t){const n=await this.run(["--format=%(row)d,%(col)d,%(code).1s,%(code)s:%(text)s",e.uri.fsPath],e,t);return n.forEach(e=>{e.severity=this.parseMessagesSeverity(e.type,this.pythonSettings.linting.flake8CategorySeverity)}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1);class s{constructor(e,t,n,r=[]){this.configService=n,this._product=e,this._id=t,this._configFileNames=r}get id(){return this._id}get product(){return this._product}get pathSettingName(){return`${this.id}Path`}get argsSettingName(){return`${this.id}Args`}get enabledSettingName(){return`${this.id}Enabled`}get configFileNames(){return this._configFileNames}async enableAsync(e,t){return this.configService.updateSetting(`linting.${this.enabledSettingName}`,e,t)}isEnabled(e){return this.configService.getSettings(e).linting[this.enabledSettingName]}pathName(e){return this.configService.getSettings(e).linting[this.pathSettingName]}linterArgs(e){const t=this.configService.getSettings(e).linting[this.argsSettingName];return Array.isArray(t)?t:[]}getExecutionInfo(e,t){const n=this.pathName(t),i=this.linterArgs(t).concat(e);let s;return r.basename(n)===n&&(s=n),{execPath:n,moduleName:s,args:i,product:this.product}}}t.LinterInfo=s;t.PylintLinterInfo=class extends s{constructor(e,t,n=[]){super(i.Product.pylint,"pylint",e,n),this.workspaceService=t}isEnabled(e){const t=super.isEnabled(e);if(!t||this.configService.getSettings(e).jediEnabled)return t;const n=this.workspaceService.getConfiguration("python",e).inspect("linting.pylintEnabled");return!(!n||void 0===n.globalValue&&void 0===n.workspaceFolderValue&&void 0===n.workspaceValue)&&t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(1),i=n(83);t.REGEX="(?<file>[^:]+):(?<line>\\d+)(:(?<column>\\d+))?: (?<type>\\w+): (?<message>.*)\\r?(\\n|$)";t.MyPy=class extends i.BaseLinter{constructor(e,t){super(r.Product.mypy,e,t)}async runLinter(e,n){const r=await this.run([e.uri.fsPath],e,n,t.REGEX);return r.forEach(e=>{e.severity=this.parseMessagesSeverity(e.type,this.pythonSettings.linting.mypyCategorySeverity),e.code=e.type}),r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);n(7);const i=n(1),s=n(83);t.Prospector=class extends s.BaseLinter{constructor(e,t){super(i.Product.prospector,e,t)}async runLinter(e,t){const n=this.getWorkspaceRootPath(e),i=r.relative(n,e.uri.fsPath);return this.run(["--absolute-paths","--output-format=json",i],e,t)}async parseMessages(e,t,n,r){let i;try{i=JSON.parse(e)}catch(t){return this.outputChannel.appendLine(`${"#".repeat(10)}Linting Output - ${this.info.id}${"#".repeat(10)}`),this.outputChannel.append(e),this.logger.logError("Failed to parse Prospector output",t),[]}return i.messages.filter((e,t)=>t<=this.pythonSettings.linting.maxNumberOfProblems).map(e=>{const t=null===e.location.line||isNaN(e.location.line)?1:e.location.line;return{code:e.code,message:e.message,column:e.location.character,line:t,type:e.code,provider:`${this.info.id} - ${e.source}`}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(1),i=n(83),s=1;t.Pycodestyle=class extends i.BaseLinter{constructor(e,t){super(r.Product.pycodestyle,e,t,s)}async runLinter(e,t){const n=await this.run(["--format=%(row)d,%(col)d,%(code).1s,%(code)s:%(text)s",e.uri.fsPath],e,t);return n.forEach(e=>{e.severity=this.parseMessagesSeverity(e.type,this.pythonSettings.linting.pycodestyleCategorySeverity)}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);n(7);const i=n(1),s=n(69),o=n(83),a=n(53);t.PyDocStyle=class extends o.BaseLinter{constructor(e,t){super(i.Product.pydocstyle,e,t)}async runLinter(e,t){const n=await this.run([e.uri.fsPath],e,t);return n.forEach(e=>{e.severity=a.LintMessageSeverity.Warning}),n}async parseMessages(e,t,n,i){let o=e.split(/\r?\n/g);const a=r.basename(t.uri.fsPath),c=2*this.pythonSettings.linting.maxNumberOfProblems,l=o.filter(e=>e.length>0);o=[];for(let e=0;e<l.length/2;e+=1)o.push(l[2*e]+l[2*e+1]);return o.filter((e,t)=>t<c&&e.indexOf(":")>=0).map(e=>s.IS_WINDOWS?e.substring(e.indexOf(`${a}:`)+a.length+1).trim():e.substring(e.indexOf(":")+1).trim()).map(e=>{try{if(0===e.trim().length)return;const n=parseInt(e.substring(0,e.indexOf(" ")),10),r=e.substring(e.indexOf(":")+1).trim(),i=r.substring(0,r.indexOf(":")).trim(),s=r.substring(r.indexOf(":")+1).trim(),o=t.lineAt(n-1).text,a=o.trim();return{code:i,message:s,column:o.indexOf(a),line:n,type:"",provider:this.info.id}}catch(t){return void this.logger.logError(`Failed to parse pydocstyle line '${e}'`,t)}}).filter(e=>void 0!==e).map(e=>e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);const r=n(1),i=n(83),s=n(53),o="(?<file>.py):(?<line>\\d+):(?<column>\\d+): \\[(?<type>\\w+)\\] (?<code>\\w\\d+):? (?<message>.*)\\r?(\\n|$)",a=1;t.PyLama=class extends i.BaseLinter{constructor(e,t){super(r.Product.pylama,e,t,a)}async runLinter(e,t){const n=await this.run(["--format=parsable",e.uri.fsPath],e,t,o);return n.forEach(e=>{e.severity=s.LintMessageSeverity.Warning}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),i=n(3);n(7);const s=n(8),o=n(1),a=n(83),c="pylintrc",l=".pylintrc",u="(?<line>\\d+),(?<column>-?\\d+),(?<type>\\w+),(?<code>[\\w-]+):(?<message>.*)\\r?(\\n|$)";class d extends a.BaseLinter{constructor(e,t){super(o.Product.pylint,e,t),this.fileSystem=t.get(s.IFileSystem),this.platformService=t.get(s.IPlatformService)}async runLinter(e,t){let n=[];const r=e.uri,s=this.getWorkspaceRootPath(e),o=this.configService.getSettings(r);!o.linting.pylintUseMinimalCheckers||0!==this.info.linterArgs(r).length||await d.hasConfigurationFileInWorkspace(this.fileSystem,i.dirname(r.fsPath),s)||await d.hasConfigurationFile(this.fileSystem,this.getWorkspaceRootPath(e),this.platformService)||(n=["--disable=all","--enable=F,unreachable,duplicate-key,unnecessary-semicolon,global-variable-not-assigned,unused-variable,unused-wildcard-import,binary-op-exception,bad-format-string,anomalous-backslash-in-string,bad-open-mode,E0001,E0011,E0012,E0100,E0101,E0102,E0103,E0104,E0105,E0107,E0108,E0110,E0111,E0112,E0113,E0114,E0115,E0116,E0117,E0118,E0202,E0203,E0211,E0213,E0236,E0237,E0238,E0239,E0240,E0241,E0301,E0302,E0303,E0402,E0601,E0602,E0603,E0604,E0611,E0632,E0633,E0701,E0702,E0703,E0704,E0710,E0711,E0712,E1003,E1101,E1102,E1111,E1120,E1121,E1123,E1124,E1125,E1126,E1127,E1128,E1129,E1130,E1131,E1132,E1133,E1134,E1135,E1136,E1137,E1138,E1139,E1200,E1201,E1205,E1206,E1300,E1301,E1302,E1303,E1304,E1305,E1306,E1310,E1700,E1701"]);const a=["--msg-template='{line},{column},{category},{symbol}:{msg}'","--reports=n","--output-format=text",r.fsPath],c=await this.run(n.concat(a),e,t,u);return c.forEach(e=>{e.severity=this.parseMessagesSeverity(e.type,o.linting.pylintCategorySeverity)}),c}static async hasConfigurationFile(e,t,n){if(process.env.PYLINTRC)return!0;if(await e.fileExists(i.join(t,c))||await e.fileExists(i.join(t,l)))return!0;let s=t,o=i.dirname(t);do{if(!await e.fileExists(i.join(s,"__init__.py")))break;if(await e.fileExists(i.join(s,c))||await e.fileExists(i.join(s,l)))return!0;s=o,o=i.dirname(o)}while(!e.arePathsSame(s,o));const a=r.homedir();return!!await e.fileExists(i.join(a,l))||(!!await e.fileExists(i.join(a,".config",c))||!(n.isWindows||!await e.fileExists(i.join("/etc",c))))}static async hasConfigurationFileInWorkspace(e,t,n){let r=t,s=i.dirname(r);do{if(await e.fileExists(i.join(r,c))||await e.fileExists(i.join(r,l)))return!0;r=s,s=i.dirname(s)}while(!e.arePathsSame(r,n)&&!e.arePathsSame(r,s));return!1}}t.Pylint=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(158),a=n(3),c=n(2),l=n(4),u=n(13),d=n(8),h=n(1),p=n(24),f=n(10),m=n(9),g=n(11),y=n(53),v="starlark",_=new Map;_.set(y.LintMessageSeverity.Error,c.DiagnosticSeverity.Error),_.set(y.LintMessageSeverity.Hint,c.DiagnosticSeverity.Hint),_.set(y.LintMessageSeverity.Information,c.DiagnosticSeverity.Information),_.set(y.LintMessageSeverity.Warning,c.DiagnosticSeverity.Warning);let b=class{constructor(e){this.serviceContainer=e,this.pendingLintings=new Map,this.documents=e.get(l.IDocumentManager),this.workspace=e.get(l.IWorkspaceService),this.configurationService=e.get(h.IConfigurationService),this.outputChannel=e.get(h.IOutputChannel,u.STANDARD_OUTPUT_CHANNEL),this.linterManager=e.get(y.ILinterManager),this.fileSystem=e.get(d.IFileSystem),this.diagnosticCollection=c.languages.createDiagnosticCollection("python")}get diagnostics(){return this.diagnosticCollection}clearDiagnostics(e){this.diagnosticCollection.has(e.uri)&&this.diagnosticCollection.delete(e.uri)}async lintOpenPythonFiles(){this.diagnosticCollection.clear();const e=this.documents.textDocuments.map(async e=>this.lintDocument(e,"auto"));return await Promise.all(e),this.diagnosticCollection}async lintDocument(e,t){if(this.diagnosticCollection.set(e.uri,[]),!await this.shouldLintDocument(e))return;this.pendingLintings.has(e.uri.fsPath)&&(this.pendingLintings.get(e.uri.fsPath).cancel(),this.pendingLintings.delete(e.uri.fsPath));const n=new c.CancellationTokenSource;n.token.onCancellationRequested(()=>{this.pendingLintings.has(e.uri.fsPath)&&this.pendingLintings.delete(e.uri.fsPath)}),this.pendingLintings.set(e.uri.fsPath,n);const r=(await this.linterManager.getActiveLinters(!1,e.uri)).map(async r=>{const i=new p.StopWatch,s=(await this.linterManager.createLinter(r.product,this.outputChannel,this.serviceContainer,e.uri)).lint(e,n.token);return this.sendLinterRunTelemetry(r,e.uri,s,i,t),s});let i=[];const s=this.configurationService.getSettings(e.uri);for(const t of r){const r=await t;if(n.token.isCancellationRequested)break;if(this.isDocumentOpen(e.uri)){for(const t of r)i.push(this.createDiagnostics(t,e));i=i.filter((e,t)=>t<=s.linting.maxNumberOfProblems)}}this.diagnosticCollection.set(e.uri,i)}sendLinterRunTelemetry(e,t,n,r,i){const s=e.pathName(t),o={tool:e.id,hasCustomArgs:e.linterArgs(t).length>0,trigger:i,executableSpecified:s.length>0};m.sendTelemetryWhenDone(g.EventName.LINTING,n,r,o)}isDocumentOpen(e){return this.documents.textDocuments.some(t=>t.uri.fsPath===e.fsPath)}createDiagnostics(e,t){const n=new c.Position(e.line-1,e.column),r=new c.Range(n,n),i=_.get(e.severity),s=new c.Diagnostic(r,e.message,i);return s.code=e.code,s.source=e.provider,s}async shouldLintDocument(e){if(!await this.linterManager.isLintingEnabled(!1,e.uri))return this.diagnosticCollection.set(e.uri,[]),!1;if(e.languageId!==v)return!1;const t=this.workspace.getWorkspaceFolder(e.uri),n=t&&"string"==typeof t.uri.fsPath?t.uri.fsPath:void 0,r="string"==typeof n?a.relative(n,e.fileName):e.fileName;return!this.configurationService.getSettings(e.uri).linting.ignorePatterns.map(e=>new o.Minimatch(e,{dot:!0})).some(t=>t.match(e.fileName)||t.match(r))&&(!("file"!==e.uri.scheme||!e.uri.fsPath)&&this.fileSystem.fileExists(e.uri.fsPath))}};b=r([s.injectable(),i(0,s.inject(f.IServiceContainer))],b),t.LintingEngine=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.PythonCodeActionProvider=class{provideCodeActions(e,t,n,i){const s=new r.CodeAction("Sort imports",r.CodeActionKind.SourceOrganizeImports);return s.command={title:"Sort imports",command:"python.sortImports"},[s]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1),s=n(1296),o=n(1297),a=n(1298),c=n(1299);t.PythonFormattingEditProvider=class{constructor(e,t){this.formatters=new Map,this.disposables=[],this.documentVersionBeforeFormatting=-1,this.formatterMadeChanges=!1,this.saving=!1;const n=new c.YapfFormatter(t),l=new s.AutoPep8Formatter(t),u=new o.BlackFormatter(t),d=new a.DummyFormatter(t);this.formatters.set(n.Id,n),this.formatters.set(u.Id,u),this.formatters.set(l.Id,l),this.formatters.set(d.Id,d),this.commands=t.get(r.ICommandManager),this.workspace=t.get(r.IWorkspaceService),this.documentManager=t.get(r.IDocumentManager),this.config=t.get(i.IConfigurationService),this.disposables.push(this.documentManager.onDidSaveTextDocument(async e=>this.onSaveDocument(e)))}dispose(){this.disposables.forEach(e=>e.dispose())}provideDocumentFormattingEdits(e,t,n){return this.provideDocumentRangeFormattingEdits(e,void 0,t,n)}async provideDocumentRangeFormattingEdits(e,t,n,r){if(this.saving)return[];!0===this.workspace.getConfiguration("editor",e.uri).get("formatOnSave")&&(this.documentVersionBeforeFormatting=e.version);const i=this.config.getSettings(e.uri),s=this.formatters.get(i.formatting.provider),o=await s.formatDocument(e,n,r,t);return this.formatterMadeChanges=o.length>0,o}async onSaveDocument(e){setTimeout(()=>{try{this.formatterMadeChanges&&!e.isDirty&&e.version===this.documentVersionBeforeFormatting&&this.commands.executeCommand("editor.action.formatDocument").then(async()=>{this.saving=!0,await e.save(),this.saving=!1})}finally{this.documentVersionBeforeFormatting=-1,this.saving=!1,this.formatterMadeChanges=!1}},50)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(230),i=n(1),s=n(24),o=n(9),a=n(11),c=n(174);t.AutoPep8Formatter=class extends c.BaseFormatter{constructor(e){super("autopep8",r.Product.autopep8,e)}formatDocument(e,t,n,r){const c=new s.StopWatch,l=this.serviceContainer.get(i.IConfigurationService).getSettings(e.uri),u=Array.isArray(l.formatting.autopep8Args)&&l.formatting.autopep8Args.length>0,d=!!r&&!r.isEmpty,h=["--diff"];d&&h.push("--line-range",(r.start.line+1).toString(),(r.end.line+1).toString());const p=super.provideDocumentFormattingEdits(e,t,n,h);return o.sendTelemetryWhenDone(a.EventName.FORMAT,p,c,{tool:"autopep8",hasCustomArgs:u,formatSelection:d}),p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(230),s=n(1),o=n(16),a=n(24),c=n(9),l=n(11),u=n(174);t.BlackFormatter=class extends u.BaseFormatter{constructor(e){super("black",i.Product.black,e)}async formatDocument(e,t,n,i){const u=new a.StopWatch,d=this.serviceContainer.get(s.IConfigurationService).getSettings(e.uri),h=Array.isArray(d.formatting.blackArgs)&&d.formatting.blackArgs.length>0,p=!!i&&!i.isEmpty;if(p)return this.serviceContainer.get(r.IApplicationShell).showErrorMessage('Black does not support the "Format Selection" command').then(o.noop,o.noop),[];const f=super.provideDocumentFormattingEdits(e,t,n,["--diff","--quiet"]);return c.sendTelemetryWhenDone(l.EventName.FORMAT,f,u,{tool:"black",hasCustomArgs:h,formatSelection:p}),f}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(174);t.DummyFormatter=class extends i.BaseFormatter{constructor(e){super("none",r.Product.yapf,e)}formatDocument(e,t,n,r){return Promise.resolve([])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(24),s=n(9),o=n(11),a=n(174);t.YapfFormatter=class extends a.BaseFormatter{constructor(e){super("yapf",r.Product.yapf,e)}formatDocument(e,t,n,a){const c=new i.StopWatch,l=this.serviceContainer.get(r.IConfigurationService).getSettings(e.uri),u=Array.isArray(l.formatting.yapfArgs)&&l.formatting.yapfArgs.length>0,d=!!a&&!a.isEmpty,h=["--diff"];d&&h.push("--lines",`${a.start.line+1}-${a.end.line+1}`);const p=this.getWorkspaceUri(e).fsPath,f=this.getDocumentPath(e,p),m=super.provideDocumentFormattingEdits(e,t,n,h,f);return s.sendTelemetryWhenDone(o.EventName.FORMAT,m,c,{tool:"yapf",hasCustomArgs:u,formatSelection:d}),m}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(2),s=n(4),o=n(13);n(7);const a=n(8),c=n(1),l=n(14),u=n(53);t.LinterProvider=class{constructor(e,t){this.context=e,this.disposables=[],this.fs=t.get(a.IFileSystem),this.engine=t.get(u.ILintingEngine),this.linterManager=t.get(u.ILinterManager),this.interpreterService=t.get(l.IInterpreterService),this.documents=t.get(s.IDocumentManager),this.configuration=t.get(c.IConfigurationService),this.workspaceService=t.get(s.IWorkspaceService),this.disposables.push(this.interpreterService.onDidChangeInterpreter(()=>this.engine.lintOpenPythonFiles())),this.documents.onDidOpenTextDocument(e=>this.onDocumentOpened(e),this.context.subscriptions),this.documents.onDidCloseTextDocument(e=>this.onDocumentClosed(e),this.context.subscriptions),this.documents.onDidSaveTextDocument(e=>this.onDocumentSaved(e),this.context.subscriptions);const n=this.workspaceService.onDidChangeConfiguration(this.lintSettingsChangedHandler.bind(this));if(this.disposables.push(n),!o.isTestExecution()){const e=setTimeout(()=>this.engine.lintOpenPythonFiles().ignoreErrors(),1200);this.disposables.push({dispose:()=>clearTimeout(e)})}}dispose(){this.disposables.forEach(e=>e.dispose())}isDocumentOpen(e){return this.documents.textDocuments.some(t=>this.fs.arePathsSame(t.uri.fsPath,e.fsPath))}lintSettingsChangedHandler(e){i.workspace.textDocuments.forEach(t=>{e.affectsConfiguration("python.linting",t.uri)&&this.engine.lintDocument(t,"auto").ignoreErrors()})}onDocumentOpened(e){this.engine.lintDocument(e,"auto").ignoreErrors()}onDocumentSaved(e){const t=this.configuration.getSettings(e.uri);"python"===e.languageId&&t.linting.enabled&&t.linting.lintOnSave?this.engine.lintDocument(e,"save").ignoreErrors():this.linterManager.getActiveLinters(!1,e.uri).then(t=>{const n=r.basename(e.uri.fsPath).toLowerCase();t.filter(e=>e.configFileNames.indexOf(n)>=0).length>0&&setTimeout(()=>this.engine.lintOpenPythonFiles(),1e3)}).ignoreErrors()}onDocumentClosed(e){e&&e.fileName&&e.uri&&(this.isDocumentOpen(e.uri)||this.engine.clearDiagnostics(e))}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),s=n(13),o=n(9),a=n(11),c=n(130);class l{constructor(e){this.serviceContainer=e,this.disposables=[],this.registerCommand()}dispose(){this.disposables.forEach(e=>e.dispose())}registerCommand(){const e=this.serviceContainer.get(i.ICommandManager).registerCommand(s.Commands.Start_REPL,this.commandHandler,this);this.disposables.push(e)}async commandHandler(){const e=this.getActiveResourceUri(),t=this.serviceContainer.get(c.ICodeExecutionService,"repl");await t.initializeRepl(e)}getActiveResourceUri(){const e=this.serviceContainer.get(i.IDocumentManager);if(e.activeTextEditor&&!e.activeTextEditor.document.isUntitled)return e.activeTextEditor.document.uri;const t=this.serviceContainer.get(i.IWorkspaceService);return Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0?t.workspaceFolders[0].uri:void 0}}r([o.captureTelemetry(a.EventName.REPL)],l.prototype,"commandHandler",null),t.ReplProvider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1303),i=n(548);t.registerTypes=function(e){e.addSingleton(i.ISortImportsEditingProvider,r.SortImportsEditingProvider)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(22),a=n(3),c=n(2),l=n(4),u=n(13),d=n(8),h=n(20),p=n(1),f=n(16),m=n(10),g=n(9),y=n(11);let v=class{constructor(e){this.serviceContainer=e,this.shell=e.get(l.IApplicationShell),this.documentManager=e.get(l.IDocumentManager),this.configurationService=e.get(p.IConfigurationService),this.pythonExecutionFactory=e.get(h.IPythonExecutionFactory),this.processServiceFactory=e.get(h.IProcessServiceFactory),this.editorUtils=e.get(p.IEditorUtils)}async provideDocumentSortImportsEdits(e,t){const n=await this.documentManager.openTextDocument(e);if(!n)return;if(n.lineCount<=1)return;const r=a.join(u.EXTENSION_ROOT_DIR,"pythonFiles","sortImports.py"),i=this.serviceContainer.get(d.IFileSystem),s=n.isDirty?await i.createTemporaryFile(a.extname(n.uri.fsPath)):void 0;s&&await i.writeFile(s.filePath,n.getText());const o=this.configurationService.getSettings(e),c=o.sortImports.path,l=[s?s.filePath:n.uri.fsPath,"--diff"].concat(o.sortImports.args);let h;if(!t||!t.isCancellationRequested)try{if("string"==typeof c&&c.length>0){const e=await this.processServiceFactory.create(n.uri);h=(await e.exec(c,l,{throwOnStdErr:!0,token:t})).stdout}else{const e=await this.pythonExecutionFactory.create({resource:n.uri});h=(await e.exec([r].concat(l),{throwOnStdErr:!0,token:t})).stdout}return this.editorUtils.getWorkspaceEditsFromPatch(n.getText(),h,n.uri)}finally{s&&s.dispose()}}registerCommands(){const e=this.serviceContainer.get(l.ICommandManager).registerCommand(u.Commands.Sort_Imports,this.sortImports,this);this.serviceContainer.get(p.IDisposableRegistry).push(e)}async sortImports(e){if(!e){const t=this.documentManager.activeTextEditor;if(!t||t.document.languageId!==u.PYTHON_LANGUAGE)return void this.shell.showErrorMessage("Please open a Python file to sort the imports.").then(f.noop,f.noop);e=t.document.uri}const t=await this.documentManager.openTextDocument(e);if(t.lineCount<=1)return;const n=t.lineAt(t.lineCount-1);if(n.text.trim().length>0){const t=new c.WorkspaceEdit;t.insert(e,n.range.end,o.EOL),await this.documentManager.applyEdit(t)}try{const t=await this.provideDocumentSortImportsEdits(e);if(!t||0===t.entries().length)return;await this.documentManager.applyEdit(t)}catch(t){const n="string"==typeof t?t:t.message?t.message:t;this.serviceContainer.get(p.IOutputChannel,u.STANDARD_OUTPUT_CHANNEL).appendLine(t),this.serviceContainer.get(p.ILogger).logError(`Failed to format imports for '${e.fsPath}'.`,t),this.shell.showErrorMessage(n).then(f.noop,f.noop)}}};r([g.captureTelemetry(y.EventName.FORMAT_SORT_IMPORTS)],v.prototype,"provideDocumentSortImportsEdits",null),v=r([s.injectable(),i(0,s.inject(m.IServiceContainer))],v),t.SortImportsEditingProvider=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(149),s=n(6),o=n(1),a=n(334);let c;function l(e){return e.document.isDirty?new Promise((t,n)=>{r.window.showInformationMessage("Please save changes before refactoring","Save").then(r=>{if("Save"!==r)return n();e.document.save().then(t,n)})}):Promise.resolve()}function u(e,t,n,a){let l=-1;return n.then(t=>0===t.length?[]:i.getTextEditsFromPatch(e.document.getText(),t)).then(t=>e.edit(e=>{t.forEach(t=>{(-1===l||l>t.range.start.line)&&(l=t.range.start.line),e.replace(t.range,t.newText)})})).then(n=>{if(n&&l>=0){let n;for(let i=l;i<e.document.lineCount;i+=1){const s=e.document.lineAt(i),o=s.text.indexOf(t);if(o>=0){n=new r.Position(s.range.start.line,o);break}}return n&&(e.selections=[new r.Selection(n,new r.Position(n.line,n.character+t.length))],e.revealRange(new r.Range(e.selection.start,e.selection.end),r.TextEditorRevealType.Default)),n}return null}).then(t=>{if(t)return e.document.save().then(()=>r.commands.executeCommand("editor.action.rename"))}).catch(t=>{if("Not installed"===t)return c.promptToInstall(o.Product.rope,e.document.uri).catch(e=>s.traceError("Starlark Extension: simpleRefactorProvider.promptToInstall",e)),Promise.reject("");let n=`${t}`;return"string"==typeof t&&(n=t),"object"==typeof t&&t.message&&(n=t.message),a.appendLine(`${"#".repeat(10)}Refactor Output${"#".repeat(10)}`),a.appendLine(`Error in refactoring:\n${n}`),r.window.showErrorMessage(`Cannot perform refactoring using selected element(s). (${n})`),Promise.reject(t)})}t.activateSimplePythonRefactorProvider=function(e,t,n){c=n.get(o.IInstaller)},t.extractVariable=function(e,t,n,i,s){let c=r.workspace.getWorkspaceFolder(t.document.uri);!c&&Array.isArray(r.workspace.workspaceFolders)&&r.workspace.workspaceFolders.length>0&&(c=r.workspace.workspaceFolders[0]);const d=c?c.uri.fsPath:__dirname,h=s.get(o.IConfigurationService).getSettings(c?c.uri:void 0);return l(t).then(()=>{const r=`newvariable${(new Date).getMilliseconds().toString()}`,o=new a.RefactorProxy(e,h,d,s).extractVariable(t.document,r,t.document.uri.fsPath,n,t.options).then(e=>e.results[0].diff);return u(t,r,o,i)})},t.extractMethod=function(e,t,n,i,s){let c=r.workspace.getWorkspaceFolder(t.document.uri);!c&&Array.isArray(r.workspace.workspaceFolders)&&r.workspace.workspaceFolders.length>0&&(c=r.workspace.workspaceFolders[0]);const d=c?c.uri.fsPath:__dirname,h=s.get(o.IConfigurationService).getSettings(c?c.uri:void 0);return l(t).then(()=>{const r=`newmethod${(new Date).getMilliseconds().toString()}`,o=new a.RefactorProxy(e,h,d,s).extractMethod(t.document,r,t.document.uri.fsPath,n,t.options).then(e=>e.results[0].diff);return u(t,r,o,i)})}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),s=n(13),o=n(28),a=n(9),c=n(11);class l{constructor(e){this.serviceContainer=e,this.disposables=[],this.registerCommands()}dispose(){this.disposables.forEach(e=>e.dispose())}registerCommands(){const e=this.serviceContainer.get(i.ICommandManager).registerCommand(s.Commands.Create_Terminal,this.onCreateTerminal,this);this.disposables.push(e)}async onCreateTerminal(){const e=this.serviceContainer.get(o.ITerminalServiceFactory),t=this.getActiveResource();await e.createTerminalService(t,"Python").show(!1)}getActiveResource(){const e=this.serviceContainer.get(i.IDocumentManager);if(e.activeTextEditor&&!e.activeTextEditor.document.isUntitled)return e.activeTextEditor.document.uri;const t=this.serviceContainer.get(i.IWorkspaceService);return Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0?t.workspaceFolders[0].uri:void 0}}r([a.captureTelemetry(c.EventName.TERMINAL_CREATE,{triggeredBy:"commandpalette"})],l.prototype,"onCreateTerminal",null),t.TerminalProvider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(1307),s=n(1308),o=n(1309),a=n(1311),c=n(1312),l=n(251),u=n(130);t.registerTypes=function(e){e.addSingleton(u.ICodeExecutionHelper,a.CodeExecutionHelper),e.addSingleton(u.ICodeExecutionManager,s.CodeExecutionManager),e.addSingleton(u.ICodeExecutionService,o.DjangoShellCodeExecutionProvider,"djangoShell"),e.addSingleton(u.ICodeExecutionService,l.TerminalCodeExecutionProvider,"standard"),e.addSingleton(u.ICodeExecutionService,c.ReplProvider,"repl"),e.addSingleton(u.ITerminalAutoActivation,i.TerminalAutoActivation),e.addSingleton(r.IExtensionSingleActivationService,i.ExtensionActivationForTerminalActivation)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(13),c=n(28),l=n(1),u=n(16),d=n(9),h=n(11);let p=class{constructor(e,t,n){this.commands=e,this.extensions=t,n.push(this.extensions.onDidChange(this.activate.bind(this)))}async activate(){const e=this.isCodeRunnerInstalled();this.commands.executeCommand("setContext","python.showPlayIcon",!e).then(u.noop,u.noop),d.sendTelemetryEvent(h.EventName.PLAY_BUTTON_ICON_DISABLED,void 0,{disabled:e})}isCodeRunnerInstalled(){return void 0!==this.extensions.getExtension(a.CODE_RUNNER_EXTENSION_ID)}};p=r([s.injectable(),i(0,s.inject(o.ICommandManager)),i(1,s.inject(l.IExtensions)),i(2,s.inject(l.IDisposableRegistry))],p),t.ExtensionActivationForTerminalActivation=p;let f=class{constructor(e,t,n,r,i){this.terminalManager=e,this.documentManager=n,this.activator=r,this.workspaceService=i,t.push(this)}dispose(){this.handler&&(this.handler.dispose(),this.handler=void 0)}register(){this.handler||(this.handler=this.terminalManager.onDidOpenTerminal(this.activateTerminal,this))}async activateTerminal(e){await this.activator.activateEnvironmentInTerminal(e,this.getActiveResource())}getActiveResource(){return this.documentManager.activeTextEditor&&!this.documentManager.activeTextEditor.document.isUntitled?this.documentManager.activeTextEditor.document.uri:Array.isArray(this.workspaceService.workspaceFolders)&&this.workspaceService.workspaceFolders.length>0?this.workspaceService.workspaceFolders[0].uri:void 0}};f=r([s.injectable(),i(0,s.inject(o.ITerminalManager)),i(1,s.inject(l.IDisposableRegistry)),i(2,s.inject(o.IDocumentManager)),i(3,s.inject(c.ITerminalActivator)),i(4,s.inject(o.IWorkspaceService))],f),t.TerminalAutoActivation=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13);n(7);const l=n(6),u=n(8),d=n(1),h=n(16),p=n(10),f=n(9),m=n(11),g=n(130);let y=class{constructor(e,t,n,r,i,s){this.commandManager=e,this.documentManager=t,this.disposableRegistry=n,this.fileSystem=r,this.shiftEnterBanner=i,this.serviceContainer=s,this.eventEmitter=new o.EventEmitter}get onExecutedCode(){return this.eventEmitter.event}registerCommands(){[c.Commands.Exec_In_Terminal,c.Commands.Exec_In_Terminal_Icon].forEach(e=>{this.disposableRegistry.push(this.commandManager.registerCommand(e,async t=>{const n=e===c.Commands.Exec_In_Terminal?"command":"icon";await this.executeFileInTerminal(t,n).catch(e=>l.traceError("Failed to execute file in terminal",e))}))}),this.disposableRegistry.push(this.commandManager.registerCommand(c.Commands.Exec_Selection_In_Terminal,this.executeSelectionInTerminal.bind(this))),this.disposableRegistry.push(this.commandManager.registerCommand(c.Commands.Exec_Selection_In_Django_Shell,this.executeSelectionInDjangoShell.bind(this)))}async executeFileInTerminal(e,t){f.sendTelemetryEvent(m.EventName.EXECUTION_CODE,void 0,{scope:"file",trigger:t});const n=this.serviceContainer.get(g.ICodeExecutionHelper),r=(e=e instanceof o.Uri?e:void 0)||await n.getFileToExecute();if(!r)return;await n.saveFileIfDirty(r);try{const e=await this.fileSystem.readFile(r.fsPath);this.eventEmitter.fire(e)}catch(e){h.noop()}const i=this.serviceContainer.get(g.ICodeExecutionService,"standard");await i.executeFile(r)}async executeSelectionInTerminal(){const e=this.serviceContainer.get(g.ICodeExecutionService,"standard");await this.executeSelection(e),this.shiftEnterBanner.showBanner().ignoreErrors()}async executeSelectionInDjangoShell(){const e=this.serviceContainer.get(g.ICodeExecutionService,"djangoShell");await this.executeSelection(e)}async executeSelection(e){const t=this.documentManager.activeTextEditor;if(!t)return;const n=this.serviceContainer.get(g.ICodeExecutionHelper),r=await n.getSelectedTextToExecute(t),i=await n.normalizeLines(r);if(i&&0!==i.trim().length){try{this.eventEmitter.fire(i)}catch(e){h.noop()}await e.execute(i,t.document.uri)}}};r([f.captureTelemetry(m.EventName.EXECUTION_CODE,{scope:"selection"},!1)],y.prototype,"executeSelectionInTerminal",null),r([f.captureTelemetry(m.EventName.EXECUTION_DJANGO,{scope:"selection"},!1)],y.prototype,"executeSelectionInDjangoShell",null),y=r([s.injectable(),i(0,s.inject(a.ICommandManager)),i(1,s.inject(a.IDocumentManager)),i(2,s.inject(d.IDisposableRegistry)),i(3,s.inject(u.IFileSystem)),i(4,s.inject(d.IPythonExtensionBanner)),i(4,s.named(d.BANNER_NAME_INTERACTIVE_SHIFTENTER)),i(5,s.inject(p.IServiceContainer))],y),t.CodeExecutionManager=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4);n(7);const c=n(8),l=n(28),u=n(1),d=n(1310),h=n(251);let p=class extends h.TerminalCodeExecutionProvider{constructor(e,t,n,r,i,s,o,a){super(e,t,n,a,i),this.terminalTitle="Django Shell",a.push(new d.DjangoContextInitializer(r,n,o,s))}getReplCommandArgs(e){const t=this.configurationService.getSettings(e),n=this.platformService.isWindows?t.pythonPath.replace(/\\/g,"/"):t.pythonPath,r=t.terminal.launchArgs.slice(),i=e?this.workspace.getWorkspaceFolder(e):void 0,s=Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>0?this.workspace.workspaceFolders[0].uri.fsPath:"",a=i?i.uri.fsPath:s,c=0===a.length?"manage.py":o.join(a,"manage.py");return r.push(c.fileToCommandArgument()),r.push("shell"),{command:n,args:r}}};p=r([s.injectable(),i(0,s.inject(l.ITerminalServiceFactory)),i(1,s.inject(u.IConfigurationService)),i(2,s.inject(a.IWorkspaceService)),i(3,s.inject(a.IDocumentManager)),i(4,s.inject(c.IPlatformService)),i(5,s.inject(a.ICommandManager)),i(6,s.inject(c.IFileSystem)),i(7,s.inject(u.IDisposableRegistry))],p),t.DjangoShellCodeExecutionProvider=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(3),o=n(104),a=n(6);let c=class{constructor(e,t,n,r){this.documentManager=e,this.workpaceService=t,this.fileSystem=n,this.monitoringActiveTextEditor=!1,this.workspaceContextKeyValues=new Map,this.lastCheckedWorkspace="",this.disposables=[],this.isDjangoProject=new o.ContextKey("python.isDjangoProject",r),this.ensureContextStateIsSet().catch(e=>a.traceError("Starlark Extension: ensureState",e)),this.disposables.push(this.workpaceService.onDidChangeWorkspaceFolders(()=>this.updateContextKeyBasedOnActiveWorkspace()))}dispose(){this.disposables.forEach(e=>e.dispose())}updateContextKeyBasedOnActiveWorkspace(){this.monitoringActiveTextEditor||(this.monitoringActiveTextEditor=!0,this.disposables.push(this.documentManager.onDidChangeActiveTextEditor(()=>this.ensureContextStateIsSet())))}getActiveWorkspace(){if(!Array.isArray(this.workpaceService.workspaceFolders)||0===this.workpaceService.workspaceFolders.length)return;if(1===this.workpaceService.workspaceFolders.length)return this.workpaceService.workspaceFolders[0].uri.fsPath;const e=this.documentManager.activeTextEditor;if(!e)return;const t=this.workpaceService.getWorkspaceFolder(e.document.uri);return t?t.uri.fsPath:void 0}async ensureContextStateIsSet(){const e=this.getActiveWorkspace();if(!e)return this.isDjangoProject.set(!1);if(this.lastCheckedWorkspace!==e)if(this.workspaceContextKeyValues.has(e))await this.isDjangoProject.set(this.workspaceContextKeyValues.get(e));else{const t=await this.fileSystem.fileExists(s.join(e,"manage.py"));await this.isDjangoProject.set(t),this.workspaceContextKeyValues.set(e,t),this.lastCheckedWorkspace=e}}};c=r([i.injectable()],c),t.DjangoContextInitializer=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(4),l=n(13);n(7);const u=n(6),d=n(20),h=n(1),p=n(10);let f=class{constructor(e){this.documentManager=e.get(c.IDocumentManager),this.applicationShell=e.get(c.IApplicationShell),this.processServiceFactory=e.get(d.IProcessServiceFactory),this.configurationService=e.get(h.IConfigurationService)}async normalizeLines(e,t){try{if(0===e.trim().length)return"";e=e.replace(new RegExp("\\r","g"),"");const n=this.configurationService.getSettings(t).pythonPath,r=[o.join(l.EXTENSION_ROOT_DIR,"pythonFiles","normalizeForInterpreter.py"),e],i=await this.processServiceFactory.create(t);return(await i.exec(n,r,{throwOnStdErr:!0})).stdout}catch(t){return u.traceError(t,"Python: Failed to normalize code for execution in terminal"),e}}async getFileToExecute(){const e=this.documentManager.activeTextEditor;if(e)if(e.document.isUntitled)this.applicationShell.showErrorMessage("The active file needs to be saved before it can be run");else{if(e.document.languageId===l.PYTHON_LANGUAGE)return e.document.isDirty&&await e.document.save(),e.document.uri;this.applicationShell.showErrorMessage("The active file is not a Python source file")}else this.applicationShell.showErrorMessage("No open file to run in terminal")}async getSelectedTextToExecute(e){if(!e)return;const t=e.selection;let n;if(t.isEmpty)n=e.document.lineAt(t.start.line).text;else{const r=new a.Range(t.start,t.end);n=e.document.getText(r)}return n}async saveFileIfDirty(e){const t=this.documentManager.textDocuments.filter(t=>t.uri.path===e.path);1===t.length&&t[0].isDirty&&await t[0].save()}};f=r([s.injectable(),i(0,s.inject(p.IServiceContainer))],f),t.CodeExecutionHelper=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(8),c=n(28),l=n(1),u=n(251);let d=class extends u.TerminalCodeExecutionProvider{constructor(e,t,n,r,i){super(e,t,n,r,i),this.terminalTitle="REPL"}};d=r([s.injectable(),i(0,s.inject(c.ITerminalServiceFactory)),i(1,s.inject(l.IConfigurationService)),i(2,s.inject(o.IWorkspaceService)),i(3,s.inject(l.IDisposableRegistry)),i(4,s.inject(a.IPlatformService))],d),t.ReplProvider=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(10),s=n(1314),o=n(25),a=n(1315),c=n(1316),l=n(1317),u=n(549),d=n(1318),h=n(1319),p=n(1320),f=n(1321),m=n(1322),g=n(1323),y=n(1324),v=n(550),_=n(1326),b=n(1327),S=n(54),w=n(1328),C=n(1329),E=n(18),T=n(1330),D=n(1331),P=n(1333),k=n(1334),I=n(1338),M=n(1339),x=n(1340),A=n(1341),O=n(1342),L=n(1345),R=n(1346),j=n(1349),F=n(97),N=n(1356),Y=n(1357),B=n(1358),H=n(1359),W=n(1360),U=n(1361),V=n(1362),$=n(1363),q=n(1364),G=n(1365),z=n(21),K=n(1366),J=n(1367),X=n(1368),Q=n(1369),Z=n(1370),ee=n(1371),te=n(1372);t.registerTypes=function(e){j.registerTypes(e),e.addSingleton(E.ITestDebugLauncher,a.DebugLauncher),e.addSingleton(E.ITestCollectionStorageService,f.TestCollectionStorageService),e.addSingleton(E.IWorkspaceTestManagerService,b.WorkspaceTestManagerService),e.add(E.ITestsHelper,S.TestsHelper),e.add(v.ITestDiscoveredTestParser,h.TestDiscoveredTestParser),e.add(E.ITestDiscoveryService,p.TestsDiscoveryService,"common"),e.add(E.IUnitTestSocketServer,te.UnitTestSocketServer),e.addSingleton(E.ITestContextService,d.TestContextService),e.addSingleton(E.ITestsStatusUpdaterService,y.TestsStatusUpdaterService),e.add(E.ITestResultsService,g.TestResultsService),e.add(E.ITestVisitor,w.TestFlatteningVisitor,"TestFlatteningVisitor"),e.add(E.ITestVisitor,C.TestResultResetVisitor,"TestResultResetVisitor"),e.add(E.ITestsParser,ee.TestsParser,o.UNITTEST_PROVIDER),e.add(E.ITestsParser,W.TestsParser,o.NOSETEST_PROVIDER),e.add(E.ITestDiscoveryService,Z.TestDiscoveryService,o.UNITTEST_PROVIDER),e.add(E.ITestDiscoveryService,q.TestDiscoveryService,o.PYTEST_PROVIDER),e.add(E.ITestDiscoveryService,H.TestDiscoveryService,o.NOSETEST_PROVIDER),e.add(z.IArgumentsHelper,s.ArgumentsHelper),e.add(E.ITestRunner,l.TestRunner),e.add(E.IXUnitParser,D.XUnitParser),e.add(z.IUnitTestHelper,K.UnitTestHelper),e.add(z.IArgumentsService,$.ArgumentsService,o.PYTEST_PROVIDER),e.add(z.IArgumentsService,B.ArgumentsService,o.NOSETEST_PROVIDER),e.add(z.IArgumentsService,Q.ArgumentsService,o.UNITTEST_PROVIDER),e.add(z.ITestManagerRunner,V.TestManagerRunner,o.PYTEST_PROVIDER),e.add(z.ITestManagerRunner,Y.TestManagerRunner,o.NOSETEST_PROVIDER),e.add(z.ITestManagerRunner,X.TestManagerRunner,o.UNITTEST_PROVIDER),e.addSingleton(z.ITestConfigurationService,P.UnitTestConfigurationService),e.addSingleton(z.ITestManagementService,R.UnitTestManagementService),e.addSingleton(z.ITestResultDisplay,I.TestResultDisplay),e.addSingleton(z.ITestDisplay,M.TestDisplay),e.addSingleton(z.ITestConfigSettingsService,u.TestConfigSettingsService),e.addSingleton(z.ITestConfigurationManagerFactory,k.TestConfigurationManagerFactory),e.addSingleton(z.ITestDiagnosticService,_.UnitTestDiagnosticService),e.addSingleton(E.ITestMessageService,G.TestMessageService,o.PYTEST_PROVIDER),e.addSingleton(z.ITestTreeViewProvider,O.TestTreeViewProvider),e.addSingleton(z.ITestDataItemResource,O.TestTreeViewProvider),e.addSingleton(F.ITestExplorerCommandHandler,x.TestExplorerCommandHandler),e.addSingleton(r.IExtensionSingleActivationService,L.TreeViewService),e.addSingleton(r.IExtensionSingleActivationService,A.FailedTestHandler),e.addSingleton(r.IExtensionSingleActivationService,c.EnablementTracker),e.addSingleton(r.IExtensionActivationService,T.UpdateTestSettingService),e.addFactory(E.ITestManagerFactory,e=>(t,n,r)=>{const s=e.container.get(i.IServiceContainer);switch(t){case o.NOSETEST_PROVIDER:return new N.TestManager(n,r,s);case o.PYTEST_PROVIDER:return new U.TestManager(n,r,s);case o.UNITTEST_PROVIDER:return new J.TestManager(n,r,s);default:throw new Error(`Unrecognized test provider '${t}'`)}}),e.addFactory(E.ITestManagerServiceFactory,e=>t=>{const n=e.container.get(i.IServiceContainer),r=e.container.get(E.ITestsHelper);return new m.TestManagerService(t,r,n)})}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(10);let c=class{constructor(e){this.logger=e.get(o.ILogger)}getOptionValues(e,t){const n=[];let r=!1;for(const i of e)r?(n.push(i),r=!1):i.startsWith(`${t}=`)?n.push(i.substring(`${t}=`.length)):i===t&&(r=!0);switch(n.length){case 0:return;case 1:return n[0];default:return n}}getPositionalArguments(e,t=[],n=[]){const r=[];return e.forEach((e,i)=>{if(-1===n.indexOf(e))if(-1!==t.indexOf(e))r.push(i),r.push(i+1);else{if(-1!==t.findIndex(t=>e.startsWith(`${t}=`)))return void r.push(i);if(e.startsWith("-"))return this.logger.logWarning(`Unknown command line option passed into args parser for tests '${e}'. Please report on https://github.com/Microsoft/vscode-python/issues/new`),void r.push(i);e.indexOf("=")>0&&(this.logger.logWarning(`Unknown command line option passed into args parser for tests '${e}'. Please report on https://github.com/Microsoft/vscode-python/issues/new`),r.push(i))}else r.push(i)}),e.filter((e,t)=>-1===r.indexOf(t))}filterArguments(e,t=[],n=[]){let r=-1;return e.filter((e,i)=>r!==i&&(!(n.indexOf(e)>=0||n.filter(t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1))).length>0)&&(t.indexOf(e)>=0?(r=i+1,!1):!(t.filter(t=>e.startsWith(`${t}=`)).length>0)&&(-1===e.indexOf("=")&&n.filter(t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1))).length>0?(r=i+1,!1):!(e.indexOf("=")>=0&&n.filter(t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1))).length>0)))))}};c=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],c),t.ArgumentsHelper=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(112),a=n(3),c=n(2),l=n(4),u=n(13),d=n(6),h=n(8),p=n(1),f=n(16),m=n(60),g=n(248),y=n(10);let v=class{constructor(e,t){this.serviceContainer=e,this.launchResolver=t,this.configService=this.serviceContainer.get(p.IConfigurationService),this.workspaceService=this.serviceContainer.get(l.IWorkspaceService),this.fs=this.serviceContainer.get(h.IFileSystem)}async launchDebugger(e){if(e.token&&e.token.isCancellationRequested)return;const t=this.resolveWorkspaceFolder(e.cwd),n=await this.getLaunchArgs(e,t,this.configService.getSettings(t.uri));return this.serviceContainer.get(l.IDebugService).startDebugging(t,n).then(f.noop,e=>d.traceError("Failed to start debugging tests",e))}async readAllDebugConfigs(e){const t=a.join(e.uri.fsPath,".vscode","launch.json");if(!await this.fs.fileExists(t))return[];try{const e=await this.fs.readFile(t),n=o.parse(e,[],{allowTrailingComma:!0,disallowComments:!1});if(!n.version||!n.configurations||!Array.isArray(n.configurations))throw Error("malformed launch.json");return n.configurations}catch(e){d.traceError("could not get debug config",e);const t=this.serviceContainer.get(l.IApplicationShell);return await t.showErrorMessage("Could not load unit test config from launch.json"),[]}}resolveWorkspaceFolder(e){if(!this.workspaceService.hasWorkspaceFolders)throw new Error("Please open a workspace");const t=e?c.Uri.file(e):void 0;let n=this.workspaceService.getWorkspaceFolder(t);return n||(n=this.workspaceService.workspaceFolders[0]),n}async getLaunchArgs(e,t,n){let r=await this.readDebugConfig(t);return r||(r={name:"Debug Unit Test",type:"python",request:"test",subProcess:!0}),r.rules||(r.rules=[]),r.rules.push({path:a.join(u.EXTENSION_ROOT_DIR,"pythonFiles"),include:!1}),this.applyDefaults(r,t,n),this.convertConfigToArgs(r,t,e)}async readDebugConfig(e){const t=await this.readAllDebugConfigs(e);for(const e of t)if(e.name&&e.type===m.DebuggerTypeName&&"test"===e.request)return e}applyDefaults(e,t,n){e.console||(e.console="internalConsole"),e.cwd||(e.cwd=t.uri.fsPath),e.env||(e.env={}),e.envFile||(e.envFile=n.envFile),void 0===e.stopOnEntry&&(e.stopOnEntry=!1),e.showReturnValue=!1!==e.showReturnValue,void 0===e.redirectOutput&&(e.redirectOutput=!0),void 0===e.debugStdLib&&(e.debugStdLib=!1),void 0===e.subProcess&&(e.subProcess=!0)}async convertConfigToArgs(e,t,n){const r=e;r.program=this.getTestLauncherScript(n.testProvider),r.args=this.fixArgs(n.args,n.testProvider);const i=await this.launchResolver.resolveDebugConfiguration(t,r,n.token);if(!i)throw Error(`Invalid debug config "${e.name}"`);return i.request="launch",i}fixArgs(e,t){return"unittest"===t?e.filter(e=>"--debug"!==e):e}getTestLauncherScript(e){switch(e){case"unittest":return a.join(u.EXTENSION_ROOT_DIR,"pythonFiles","visualstudio_py_testlauncher.py");case"pytest":case"nosetest":return a.join(u.EXTENSION_ROOT_DIR,"pythonFiles","testlauncher.py");default:throw new Error(`Unknown test provider '${e}'`)}}};v=r([s.injectable(),i(0,s.inject(y.IServiceContainer)),i(1,s.inject(g.IDebugConfigurationResolver)),i(1,s.named("launch"))],v),t.DebugLauncher=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(1),c=n(9),l=n(11),u=n(21),d=n(18);let h=class{constructor(e,t,n,r){this.workspaceService=e,this.disposables=t,this.testConfig=n,this.testsHelper=r}async activate(){this.disposables.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration,this))}onDidChangeConfiguration(e){const t=[void 0];Array.isArray(this.workspaceService.workspaceFolders)&&this.workspaceService.workspaceFolders.forEach(e=>t.push(e.uri));const n=["nosetest","pytest","unittest"];t.forEach(t=>{const r={};n.forEach(n=>{const i=this.testsHelper.parseProduct(n),s=this.testConfig.getTestEnablingSetting(i),o=`python.${s}`;e.affectsConfiguration(o)&&this.workspaceService.getConfiguration("python",t).get(s,!1)&&(r[n]=!0)}),(r.nosetest||r.pytest||r.unittest)&&this.sendTelemetry(r)})}sendTelemetry(e){c.sendTelemetryEvent(l.EventName.UNITTEST_ENABLED,void 0,e)}};h=r([s.injectable(),i(0,s.inject(o.IWorkspaceService)),i(1,s.inject(a.IDisposableRegistry)),i(2,s.inject(u.ITestConfigSettingsService)),i(3,s.inject(d.ITestsHelper))],h),t.EnablementTracker=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(360),c=n(214),l=n(20),u=n(1),d=n(10),h=n(25),p=n(18);let f=class{constructor(e){this.serviceContainer=e}run(e,t){return m(this.serviceContainer,e,t)}};async function m(e,t,n){const r=function(e,t){let n;switch(e){case h.NOSETEST_PROVIDER:n=t.testing.nosetestPath;break;case h.PYTEST_PROVIDER:n=t.testing.pytestPath;break;default:return}return o.basename(n)===n?void 0:n}(t,e.get(u.IConfigurationService).getSettings(n.workspaceFolder)),i=function(e){switch(e){case h.NOSETEST_PROVIDER:return"nose";case h.PYTEST_PROVIDER:return"pytest";case h.UNITTEST_PROVIDER:return"unittest";default:throw new Error(`Test provider '${e}' not supported`)}}(t),s=n;let d,f;s.mergeStdOutErr="boolean"!=typeof s.mergeStdOutErr||s.mergeStdOutErr;const m=e.get(p.ITestsHelper),g={execPath:r,args:n.args,moduleName:r&&r.length>0?void 0:i,product:m.parseProduct(t)};if(t===h.UNITTEST_PROVIDER)f=e.get(l.IPythonExecutionFactory).createActivatedEnvironment({resource:n.workspaceFolder}).then(e=>e.execObservable(n.args,{...s}));else if("string"==typeof g.moduleName&&g.moduleName.length>0)f=(d=e.get(l.IPythonExecutionFactory).createActivatedEnvironment({resource:n.workspaceFolder})).then(e=>e.execModuleObservable(g.moduleName,g.args,n));else{f=e.get(l.IPythonToolExecutionService).execObservable(g,s,n.workspaceFolder)}return f.then(e=>new Promise((t,r)=>{let s="",o="";e.out.subscribe(e=>{s+=e.out,"stderr"===e.source&&(o+=e.out),n.outChannel&&n.outChannel.append(e.out)},r,async()=>{if(i&&d&&a.ErrorUtils.outputHasModuleNotInstalledError(i,o)){const e=await d;if(!await e.isModuleInstalled(i))return r(new c.ModuleNotInstalledError(i))}t(s)})}))}f=r([s.injectable(),i(0,s.inject(d.IServiceContainer))],f),t.TestRunner=f,t.run=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(104),c=n(31),l=n(21),u=n(18);let d=class{constructor(e,t,n){this.storage=e,this.testManager=t,this.disposables=[],this.hasFailedTests=new a.ContextKey("hasFailedTests",n),this.runningTests=new a.ContextKey("runningTests",n),this.discoveringTests=new a.ContextKey("discoveringTests",n),this.busyTests=new a.ContextKey("busyTests",n)}dispose(){this.disposables.forEach(e=>e.dispose())}register(){this.testManager.onDidStatusChange(this.onStatusChange,this,this.disposables)}async onStatusChange(e){const t=this.storage.getTests(e.workspace),n=[];t&&t.summary&&n.push(this.hasFailedTests.set(t.summary.failures>0)),n.push(this.runningTests.set(e.status===u.TestStatus.Running),this.discoveringTests.set(e.status===u.TestStatus.Discovering),this.busyTests.set(e.status===u.TestStatus.Running||e.status===u.TestStatus.Discovering)),await Promise.all(n)}};r([c.swallowExceptions("Handle status change of tests")],d.prototype,"onStatusChange",null),d=r([s.injectable(),i(0,s.inject(u.ITestCollectionStorageService)),i(1,s.inject(l.ITestManagementService)),i(2,s.inject(o.ICommandManager))],d),t.TestContextService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4),c=n(6),l=n(21),u=n(54);let d=class{constructor(e){this.workspaceService=e}parse(e,t){const n={rootTestFolders:[],summary:{errors:0,failures:0,passed:0,skipped:0},testFiles:[],testFolders:[],testFunctions:[],testSuites:[]};if(!this.workspaceService.getWorkspaceFolder(e))return c.traceError("Resource does not belong to any workspace folder"),n;for(const r of t){const t={name:r.root,folders:[],time:0,testFiles:[],resource:e,nameToRun:r.rootid};n.rootTestFolders.push(t),n.testFolders.push(t),this.buildChildren(t,t,r,n)}return n}buildChildren(e,t,n,r){switch(u.getTestDataItemType(t)){case l.TestDataItemType.folder:this.processFolder(e,t,n,r);break;case l.TestDataItemType.file:this.processFile(e,t,n,r);break;case l.TestDataItemType.suite:this.processSuite(e,t,n,r)}}processFolder(e,t,n,r){n.parents.filter(e=>"folder"===e.kind&&e.parentid===t.nameToRun).map(t=>(function(e,t){return{name:t.name,nameToRun:t.id,resource:e.resource,time:0,folders:[],testFiles:[]}})(e,t)).forEach(i=>{t.folders.push(i),r.testFolders.push(i),this.buildChildren(e,i,n,r)}),n.parents.filter(e=>"file"===e.kind&&e.parentid===t.nameToRun).map(t=>(function(e,t){return{fullPath:o.isAbsolute(t.relpath)?t.relpath:o.resolve(e.name,t.relpath),functions:[],name:t.name,nameToRun:t.id,resource:e.resource,suites:[],time:0,xmlName:y(t.id)}})(e,t)).forEach(i=>{t.testFiles.push(i),r.testFiles.push(i),this.buildChildren(e,i,n,r)})}processFile(e,t,n,r){n.parents.filter(e=>"suite"===e.kind&&e.parentid===t.nameToRun).map(n=>h(t,e.resource,n)).forEach(i=>{t.suites.push(i),r.testSuites.push(p(r,i)),this.buildChildren(e,i,n,r)}),n.tests.filter(e=>e.parentid===t.nameToRun).map(t=>g(e,t)).forEach(e=>{t.functions.push(e),r.testFunctions.push(f(r,e))}),n.parents.filter(e=>"function"===e.kind&&e.parentid===t.nameToRun).map(t=>m(e,t)).forEach(i=>this.processParameterizedFunction(e,t,i,n,r))}processSuite(e,t,n,r){n.parents.filter(e=>"suite"===e.kind&&e.parentid===t.nameToRun).map(n=>h(t,e.resource,n)).forEach(i=>{t.suites.push(i),r.testSuites.push(p(r,i)),this.buildChildren(e,i,n,r)}),n.tests.filter(e=>e.parentid===t.nameToRun).map(t=>g(e,t)).forEach(e=>{t.functions.push(e),r.testFunctions.push(f(r,e))}),n.parents.filter(e=>"function"===e.kind&&e.parentid===t.nameToRun).map(t=>m(e,t)).forEach(i=>this.processParameterizedFunction(e,t,i,n,r))}processParameterizedFunction(e,t,n,r,i){if(!n.asSuite)return;r.tests.filter(e=>e.parentid===n.nameToRun).map(t=>g(e,t)).forEach(e=>{e.subtestParent=n,n.asSuite.functions.push(e),t.functions.push(e),i.testFunctions.push(function(e,t,n){const r=u.getTestDataItemType(n),i=r&&r===l.TestDataItemType.suite?u.getParentFile(e,t):n,s=r&&r===l.TestDataItemType.suite?n:void 0;return{parentTestFile:i,parentTestSuite:s,xmlClassName:s?s.xmlName:i.xmlName,testFunction:t}}(i,e,t))})}};function h(e,t,n){const r={functions:[],name:n.name,nameToRun:n.id,resource:t,suites:[],time:0,xmlName:"",isInstance:!1,isUnitTest:!1};return r.xmlName=`${e.xmlName}.${n.name}`,r}function p(e,t){const n=u.getParentFile(e,t);return{parentTestFile:n,testSuite:t,xmlClassName:n.xmlName}}function f(e,t){const n=u.getParentFile(e,t),r=n?u.getTestDataItemType(n):void 0,i=r&&r===l.TestDataItemType.suite?u.getParentFile(e,t):n,s=u.getParentSuite(e,t);return{parentTestFile:i,parentTestSuite:s,xmlClassName:s?s.xmlName:i.xmlName,testFunction:t}}function m(e,t){return{asSuite:{functions:[],isInstance:!1,isUnitTest:!1,name:t.name,nameToRun:t.id,resource:e.resource,time:0,suites:[],xmlName:""},name:t.name,nameToRun:t.id,time:0}}function g(e,t){return{name:t.name,nameToRun:t.id,resource:e.resource,time:0,file:t.source.substr(0,t.source.lastIndexOf(":"))}}function y(e){let t=o.join(o.dirname(e),o.basename(e,o.extname(e)));for(t=t.replace(/\\/g,".").replace(/\//g,".");t.startsWith(".")||t.startsWith("/")||t.startsWith("\\");)t=t.substring(1);return t}d=r([s.injectable(),i(0,s.inject(a.IWorkspaceService))],d),t.TestDiscoveredTestParser=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(6),c=n(20),l=n(1),u=n(30),d=n(9),h=n(11),p=n(25),f=n(550),m=o.join(u.EXTENSION_ROOT_DIR,"pythonFiles","testing_tools","run_adapter.py");let g=class{constructor(e,t,n){this.execFactory=e,this.parser=t,this.outChannel=n}async discoverTests(e){let t;try{t=await this.exec(e);const n=JSON.parse(t.stdout);return this.parser.parse(e.workspaceFolder,n)}catch(e){throw t&&a.traceError("Failed to parse discovered Test",new Error(t.stdout)),a.traceError("Failed to parse discovered Test",e),e}}async exec(e){const t={allowEnvironmentFetchExceptions:!1,resource:e.workspaceFolder},n=await this.execFactory.createActivatedEnvironment(t),r={token:e.token,cwd:e.cwd,throwOnStdErr:!0},i=[m,...e.args];return this.outChannel.appendLine(`python ${i.join(" ")}`),n.exec(i,r)}};r([d.captureTelemetry(h.EventName.UNITTEST_DISCOVER_WITH_PYCODE,void 0,!0)],g.prototype,"discoverTests",null),g=r([s.injectable(),i(0,s.inject(c.IPythonExecutionFactory)),i(1,s.inject(f.ITestDiscoveredTestParser)),i(2,s.inject(l.IOutputChannel)),i(2,s.named(p.TEST_OUTPUT_CHANNEL))],g),t.TestsDiscoveryService=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(1);let l=class{constructor(e,t){this.workspaceService=t,this._onDidChange=new o.EventEmitter,this.testsIndexedByWorkspaceUri=new Map,e.push(this)}get onDidChange(){return this._onDidChange.event}getTests(e){const t=this.workspaceService.getWorkspaceFolderIdentifier(e);return this.testsIndexedByWorkspaceUri.has(t)?this.testsIndexedByWorkspaceUri.get(t):void 0}storeTests(e,t){const n=this.workspaceService.getWorkspaceFolderIdentifier(e);this.testsIndexedByWorkspaceUri.set(n,t),this._onDidChange.fire({uri:e})}findFlattendTestFunction(e,t){const n=this.getTests(e);if(n)return n.testFunctions.find(e=>e.testFunction===t)}findFlattendTestSuite(e,t){const n=this.getTests(e);if(n)return n.testSuites.find(e=>e.testSuite===t)}dispose(){this.testsIndexedByWorkspaceUri.clear()}update(e,t){this._onDidChange.fire({uri:e,data:t})}};l=r([s.injectable(),i(0,s.inject(c.IDisposableRegistry)),i(1,s.inject(a.IWorkspaceService))],l),t.TestCollectionStorageService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(18);t.TestManagerService=class{constructor(e,t,n){this.wkspace=e,this.testsHelper=t,this.serviceContainer=n,this.cachedTestManagers=new Map;const i=n.get(r.IDisposableRegistry);this.configurationService=n.get(r.IConfigurationService),i.push(this)}dispose(){this.cachedTestManagers.forEach(e=>{e.dispose()})}getTestManager(){const e=this.getPreferredTestManager();if("number"!=typeof e)return;if(!this.cachedTestManagers.has(e)){const t=this.getTestWorkingDirectory(),n=this.testsHelper.parseProviderName(e),r=this.serviceContainer.get(i.ITestManagerFactory);this.cachedTestManagers.set(e,r(n,this.wkspace,t))}const t=this.cachedTestManagers.get(e);return t.enabled?t:void 0}getTestWorkingDirectory(){const e=this.configurationService.getSettings(this.wkspace);return e.testing.cwd&&e.testing.cwd.length>0?e.testing.cwd:this.wkspace.fsPath}getPreferredTestManager(){const e=this.configurationService.getSettings(this.wkspace);return e.testing.nosetestsEnabled?r.Product.nosetest:e.testing.pytestEnabled?r.Product.pytest:e.testing.unittestEnabled?r.Product.unittest:void 0}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(21),a=n(54),c=n(18);let l=class{constructor(e){this.resultResetVisitor=e}resetResults(e){e.testFolders.forEach(e=>this.resultResetVisitor.visitTestFolder(e)),e.testFunctions.forEach(e=>this.resultResetVisitor.visitTestFunction(e.testFunction)),e.testSuites.forEach(e=>this.resultResetVisitor.visitTestSuite(e.testSuite)),e.testFiles.forEach(e=>this.resultResetVisitor.visitTestFile(e))}updateResults(e){const t=[],n=[];for(e.rootTestFolders.forEach(e=>t.push(e));t.length>0;){const e=t.shift();e&&(n.push(e),a.getChildren(e).forEach(e=>t.push(e)))}for(;n.length>0;){const e=n.pop();this.updateTestItem(e)}}updateTestItem(e){if(a.getTestDataItemType(e)===o.TestDataItemType.function)return;let t=!0,n=!0;e.functionsPassed=e.functionsFailed=e.functionsDidNotRun=0,a.getChildren(e).forEach(r=>{a.getTestDataItemType(r)===o.TestDataItemType.function?"boolean"==typeof r.passed?(n=!1,r.passed?e.functionsPassed+=1:(e.functionsFailed+=1,t=!1)):e.functionsDidNotRun+=1:("boolean"==typeof r.passed&&(n=!1,r.passed||(t=!1)),e.functionsFailed+=r.functionsFailed,e.functionsPassed+=r.functionsPassed,e.functionsDidNotRun+=r.functionsDidNotRun)}),n?(e.passed=void 0,e.status=c.TestStatus.Unknown):(e.passed=t,e.status=e.passed?c.TestStatus.Pass:c.TestStatus.Fail)}};l=r([s.injectable(),i(0,s.inject(c.ITestVisitor)),i(0,s.named("TestResultResetVisitor"))],l),t.TestResultsService=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1325),a=n(18);let c=class{constructor(e){this.storage=e}updateStatusAsDiscovering(e,t){if(!t)return;const n=t=>{t.status=a.TestStatus.Discovering,this.storage.update(e,t)};t.rootTestFolders.forEach(e=>o.visitRecursive(t,e,n))}updateStatusAsUnknown(e,t){if(!t)return;const n=t=>{t.status=a.TestStatus.Unknown,this.storage.update(e,t)};t.rootTestFolders.forEach(e=>o.visitRecursive(t,e,n))}updateStatusAsRunning(e,t){if(!t)return;const n=t=>{t.status=a.TestStatus.Running,this.storage.update(e,t)};t.rootTestFolders.forEach(e=>o.visitRecursive(t,e,n))}updateStatusAsRunningFailedTests(e,t){if(!t)return;const n=e=>e.status===a.TestStatus.Fail||e.status===a.TestStatus.Error,r=t=>{t.status&&n(t)&&(t.status=a.TestStatus.Running,this.storage.update(e,t))};[...t.testFunctions.map(e=>e.testFunction).filter(n),...t.testSuites.map(e=>e.testSuite).filter(n)].forEach(e=>o.visitRecursive(t,e,r))}updateStatusAsRunningSpecificTests(e,t,n){if(!n)return;const r=[...t.testFile||[],...t.testSuite||[],...t.testFunction||[]],i=t=>{t.status=a.TestStatus.Running,this.storage.update(e,t)};r.forEach(e=>o.visitRecursive(n,e,i))}updateStatusOfRunningTestsAsIdle(e,t){if(!t)return;const n=t=>{t.status===a.TestStatus.Running&&(t.status=a.TestStatus.Idle,this.storage.update(e,t))};t.rootTestFolders.forEach(e=>o.visitRecursive(t,e,n))}triggerUpdatesToTests(e,t){if(!t)return;const n=t=>this.storage.update(e,t);t.rootTestFolders.forEach(e=>o.visitRecursive(t,e,n))}};c=r([s.injectable(),i(0,s.inject(a.ITestCollectionStorageService))],c),t.TestsStatusUpdaterService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(54);t.visitRecursive=function e(t,n,i){const s="function"==typeof n?void 0:n,o=s?i:n;let a=[];s?(o(s),a=r.getChildren(s)):a=t.rootTestFolders,a.forEach(n=>e(t,n,o))},t.visitParentsRecursive=function e(t,n,i){i(n);const s=r.getParent(t,n);s&&(i(s),e(t,s,i))}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(2),o=n(12),a=n(21),c=n(18);let l=class{constructor(){this.MessageTypes=new Map,this.MessageSeverities=new Map,this.MessagePrefixes=new Map,this.MessageTypes.set(c.TestStatus.Error,a.DiagnosticMessageType.Error),this.MessageTypes.set(c.TestStatus.Fail,a.DiagnosticMessageType.Fail),this.MessageTypes.set(c.TestStatus.Skipped,a.DiagnosticMessageType.Skipped),this.MessageTypes.set(c.TestStatus.Pass,a.DiagnosticMessageType.Pass),this.MessageSeverities.set(a.PythonTestMessageSeverity.Error,s.DiagnosticSeverity.Error),this.MessageSeverities.set(a.PythonTestMessageSeverity.Failure,s.DiagnosticSeverity.Error),this.MessageSeverities.set(a.PythonTestMessageSeverity.Skip,s.DiagnosticSeverity.Information),this.MessageSeverities.set(a.PythonTestMessageSeverity.Pass,void 0),this.MessagePrefixes.set(a.DiagnosticMessageType.Error,o.Testing.testErrorDiagnosticMessage()),this.MessagePrefixes.set(a.DiagnosticMessageType.Fail,o.Testing.testFailDiagnosticMessage()),this.MessagePrefixes.set(a.DiagnosticMessageType.Skipped,o.Testing.testSkippedDiagnosticMessage()),this.MessagePrefixes.set(a.DiagnosticMessageType.Pass,"")}getMessagePrefix(e){const t=this.MessageTypes.get(e);return void 0!==t?this.MessagePrefixes.get(t):void 0}getSeverity(e){return this.MessageSeverities.get(e)}};l=r([i.injectable()],l),t.UnitTestDiagnosticService=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(1),c=n(25),l=n(18);let u=class{constructor(e,t,n){this.outChannel=e,this.testManagerServiceFactory=t,this.workspaceTestManagers=new Map,n.push(this)}dispose(){this.workspaceTestManagers.forEach(e=>e.dispose())}getTestManager(e){const t=this.getWorkspace(e);return this.ensureTestManagerService(t),this.workspaceTestManagers.get(t.fsPath).getTestManager()}getTestWorkingDirectory(e){const t=this.getWorkspace(e);return this.ensureTestManagerService(t),this.workspaceTestManagers.get(t.fsPath).getTestWorkingDirectory()}getPreferredTestManager(e){const t=this.getWorkspace(e);return this.ensureTestManagerService(t),this.workspaceTestManagers.get(t.fsPath).getPreferredTestManager()}getWorkspace(e){if(!Array.isArray(o.workspace.workspaceFolders)||0===o.workspace.workspaceFolders.length){const e="Please open a workspace";throw this.outChannel.appendLine(e),new Error(e)}if(!e||1===o.workspace.workspaceFolders.length)return o.workspace.workspaceFolders[0].uri;const t=o.workspace.getWorkspaceFolder(e);if(t)return t.uri;const n=`Resource '${e.fsPath}' does not belong to any workspace`;throw this.outChannel.appendLine(n),new Error(n)}ensureTestManagerService(e){this.workspaceTestManagers.has(e.fsPath)||this.workspaceTestManagers.set(e.fsPath,this.testManagerServiceFactory(e))}};u=r([s.injectable(),i(0,s.inject(a.IOutputChannel)),i(0,s.named(c.TEST_OUTPUT_CHANNEL)),i(1,s.inject(l.ITestManagerServiceFactory)),i(2,s.inject(a.IDisposableRegistry))],u),t.WorkspaceTestManagerService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(54);let o=class{constructor(){this._flattedTestFunctions=new Map,this._flattenedTestSuites=new Map}get flattenedTestFunctions(){return[...this._flattedTestFunctions.values()]}get flattenedTestSuites(){return[...this._flattenedTestSuites.values()]}visitTestFunction(e){}visitTestSuite(e){}visitTestFile(e){const t=s.convertFileToPackage(e.name);e.functions.forEach(n=>this.addTestFunction(n,e,t)),e.suites.forEach(t=>this.visitTestSuiteOfAFile(t,e))}visitTestFolder(e){}visitTestSuiteOfAFile(e,t){e.functions.forEach(n=>this.visitTestFunctionOfASuite(n,e,t)),e.suites.forEach(e=>this.visitTestSuiteOfAFile(e,t)),this.addTestSuite(e,t)}visitTestFunctionOfASuite(e,t,n){const r=`Function:${e.name},Suite:${t.name},SuiteXmlName:${t.xmlName},ParentFile:${n.fullPath}`;if(this._flattenedTestSuites.has(r))return;const i={testFunction:e,xmlClassName:t.xmlName,parentTestFile:n,parentTestSuite:t};this._flattedTestFunctions.set(r,i)}addTestSuite(e,t){const n=`Suite:${e.name},SuiteXmlName:${e.xmlName},ParentFile:${t.fullPath}`;if(this._flattenedTestSuites.has(n))return;const r={parentTestFile:t,testSuite:e,xmlClassName:e.xmlName};this._flattenedTestSuites.set(n,r)}addTestFunction(e,t,n){const r=`Function:${e.name},ParentFile:${t.fullPath}`;if(this._flattedTestFunctions.has(r))return;const i={testFunction:e,xmlClassName:n,parentTestFile:t};this._flattedTestFunctions.set(r,i)}};o=r([i.injectable()],o),t.TestFlatteningVisitor=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(18);let o=class{visitTestFunction(e){e.passed=void 0,e.time=0,e.message="",e.traceback="",e.status=s.TestStatus.Unknown,e.functionsFailed=0,e.functionsPassed=0,e.functionsDidNotRun=0}visitTestSuite(e){e.passed=void 0,e.time=0,e.status=s.TestStatus.Unknown,e.functionsFailed=0,e.functionsPassed=0,e.functionsDidNotRun=0}visitTestFile(e){e.passed=void 0,e.time=0,e.status=s.TestStatus.Unknown,e.functionsFailed=0,e.functionsPassed=0,e.functionsDidNotRun=0}visitTestFolder(e){e.functionsDidNotRun=0,e.functionsFailed=0,e.functionsPassed=0,e.passed=void 0,e.status=s.TestStatus.Unknown}};o=r([i.injectable()],o),t.TestResultResetVisitor=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4);n(7);const c=n(6),l=n(8),u=n(31);let d=class{constructor(e,t,n){this.fs=e,this.application=t,this.workspace=n}async activate(e){this.updateTestSettings(e).ignoreErrors()}async updateTestSettings(e){const t=await this.getFilesToBeFixed(e);await Promise.all(t.map(e=>this.fixSettingInFile(e)))}getSettingsFiles(e){const t=[];this.application.userSettingsFile&&t.push(this.application.userSettingsFile);const n=this.workspace.getWorkspaceFolder(e);return n&&t.push(o.join(n.uri.fsPath,".vscode","settings.json")),t}async getFilesToBeFixed(e){const t=this.getSettingsFiles(e);return(await Promise.all(t.map(async e=>{return{file:e,needsFixing:await this.doesFileNeedToBeFixed(e)}}))).filter(e=>e.needsFixing).map(e=>e.file)}async fixSettingInFile(e){let t=await this.fs.readFile(e);const n=new RegExp('"python\\.unitTest',"g");t=t.replace(n,'"python.testing');const r=new RegExp('\\.pyTestEnabled"',"g"),i=new RegExp('\\.pyTestArgs"',"g"),s=new RegExp('\\.pyTestPath"',"g");t=(t=(t=t.replace(r,'.pytestEnabled"')).replace(i,'.pytestArgs"')).replace(s,'.pytestPath"');const o=new RegExp('\\.languageServer": "microsoft"',"g"),a=new RegExp('\\.languageServer": "jedi"',"g");t=(t=t.replace(o,'.jediEnabled": false')).replace(a,'.jediEnabled": true');const c=new RegExp("\\.(?<!auto)pep8Args","g"),l=new RegExp("\\.pep8CategorySeverity\\.","g"),u=new RegExp("\\.pep8Enabled","g"),d=new RegExp("\\.(?<!auto)pep8Path","g");t=(t=(t=(t=t.replace(c,".pycodestyleArgs")).replace(l,".pycodestyleCategorySeverity.")).replace(u,".pycodestyleEnabled")).replace(d,".pycodestylePath"),await this.fs.writeFile(e,t)}async doesFileNeedToBeFixed(e){try{const t=await this.fs.readFile(e);return t.indexOf("python.unitTest.")>0||t.indexOf(".pyTest")>0||t.indexOf(".pep8")>0}catch(e){return c.traceError("Failed to check if file needs to be fixed",e),!1}}};r([c.traceDecorators.error("Failed to update test settings")],d.prototype,"updateTestSettings",null),r([u.swallowExceptions("Failed to update settings.json")],d.prototype,"fixSettingInFile",null),d=r([s.injectable(),i(0,s.inject(l.IFileSystem)),i(1,s.inject(a.IApplicationEnvironment)),i(2,s.inject(a.IWorkspaceService))],d),t.UpdateTestSettingService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8),a=n(18);function c(e,t=0){const n=parseInt(e,10);return isNaN(n)?t:n}let l=class{constructor(e){this.fs=e}async updateResultsFromXmlLogFile(e,t){const r=await this.fs.readFile(t),i=function(e){const t=e;if(!t.testsuites)return e.testsuite;const n=t.testsuites.testsuite;if(!Array.isArray(n))throw Error("bad JUnit XML data");if(0===n.length)return;if(n.length>1)throw Error("got multiple XML results");return n[0]}(await async function(e){const t=await Promise.resolve().then(()=>n(1332));return new Promise((n,r)=>{t.parseString(e,(e,t)=>e?r(e):n(t))})}(r));i&&function(e,t){if(function(e,t){e.errors=c(t.$.errors),e.failures=c(t.$.failures),e.skipped=c(t.$.skips?t.$.skips:t.$.skip);const n=c(t.$.tests);e.passed=n-e.failures-e.skipped-e.errors}(e.summary,t),!Array.isArray(t.testcase))return;t.testcase.forEach(t=>{const n=function(e,t,n){const r=t.replace(/\(\)/g,"").replace(/\.\./g,".").replace(/\.\./g,".").replace(/\.+$/,""),i=e.find(e=>e.xmlClassName===r&&e.testFunction.name===n);if(!i)return;return i.testFunction}(e.testFunctions,t.$.classname,t.$.name);if(n)!function(e,t){e.file=t.$.file,e.line=c(t.$.line,null),e.time=parseFloat(t.$.time)}(n,t),u(n,t);else{const n=t.$.file&&e.testFiles.find(e=>e.nameToRun===t.$.file);n&&t.error&&u(n,t)}})}(e,i)}};function u(e,t){t.error?(e.status=a.TestStatus.Error,e.passed=!1,e.message=t.error[0].$.message,e.traceback=t.error[0]._):t.failure?(e.status=a.TestStatus.Fail,e.passed=!1,e.message=t.failure[0].$.message,e.traceback=t.failure[0]._):t.skipped?(e.status=a.TestStatus.Skipped,e.passed=void 0,e.message=t.skipped[0].$.message,e.traceback=""):(e.status=a.TestStatus.Pass,e.passed=!0)}l=r([s.injectable(),i(0,s.inject(o.IFileSystem))],l),t.XUnitParser=l},function(e,t){e.exports=require("./node_modules/xml2js")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(6),c=n(1),l=n(10),u=n(9),d=n(11),h=n(549),p=n(18),f=n(21);let m=class{constructor(e){this.serviceContainer=e,this.configurationService=e.get(c.IConfigurationService),this.appShell=e.get(o.IApplicationShell),this.workspaceService=e.get(o.IWorkspaceService)}async displayTestFrameworkError(e){const t=this.configurationService.getSettings(e);let n=t.testing.pytestEnabled?1:0;if(n+=t.testing.nosetestsEnabled?1:0,(n+=t.testing.unittestEnabled?1:0)>1)return this._promptToEnableAndConfigureTestFramework(e,"Enable only one of the test frameworks (unittest, pytest or nosetest).",!0);{const t="Enable and configure a Test Framework";return await this.appShell.showInformationMessage("No test framework configured (unittest, pytest or nosetest)",t)===t?this._promptToEnableAndConfigureTestFramework(e):Promise.reject(null)}}async selectTestRunner(e){const t=[{label:"unittest",product:c.Product.unittest,description:"Standard Python test framework",detail:"https://docs.python.org/3/library/unittest.html"},{label:"pytest",product:c.Product.pytest,description:"pytest framework",detail:"http://docs.pytest.org/"},{label:"nose",product:c.Product.nosetest,description:"nose framework",detail:"https://nose.readthedocs.io/"}],n={ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:e},r=await this.appShell.showQuickPick(t,n);return r?r.product:void 0}async enableTest(e,t){const n=this.serviceContainer.get(f.ITestConfigurationManagerFactory).create(e,t);return this._enableTest(e,n)}async promptToEnableAndConfigureTestFramework(e){await this._promptToEnableAndConfigureTestFramework(e,void 0,!1,"commandpalette")}_enableTest(e,t){const n=this.workspaceService.getConfiguration("python",e);return n.get("testing.promptToConfigure")?t.enable():n.update("testing.promptToConfigure",void 0).then(()=>t.enable(),e=>t.enable().then(()=>Promise.reject(e)))}async _promptToEnableAndConfigureTestFramework(e,t="Select a test framework/tool to enable",n=!1,r="ui"){const i={trigger:r,failed:!1};try{const r=await this.selectTestRunner(t);if("number"!=typeof r)return Promise.reject(null);const s=this.serviceContainer.get(p.ITestsHelper);i.tool=s.parseProviderName(r);const o=new h.BufferedTestConfigSettingsService,c=this.serviceContainer.get(f.ITestConfigurationManagerFactory).create(e,r,o);n?await c.enable():await c.configure(e).then(()=>this._enableTest(e,c)).catch(t=>this._enableTest(e,c).then(()=>Promise.reject(t)));const l=this.serviceContainer.get(f.ITestConfigSettingsService);try{await o.apply(l)}catch(e){a.traceError("Starlark Extension: applying unit test config updates",e),i.failed=!0}}finally{u.sendTelemetryEvent(d.EventName.UNITTEST_CONFIGURING,void 0,i)}}};m=r([s.injectable(),i(0,s.inject(l.IServiceContainer))],m),t.UnitTestConfigurationService=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(1),a=n(10),c=n(1335),l=n(1336),u=n(1337);let d=class{constructor(e){this.serviceContainer=e}create(e,t,n){switch(t){case o.Product.unittest:return new u.ConfigurationManager(e,this.serviceContainer,n);case o.Product.pytest:return new l.ConfigurationManager(e,this.serviceContainer,n);case o.Product.nosetest:return new c.ConfigurationManager(e,this.serviceContainer,n);default:throw new Error("Invalid test configuration")}}};d=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],d),t.TestConfigurationManagerFactory=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(8),s=n(1),o=n(252);t.ConfigurationManager=class extends o.TestConfigurationManager{constructor(e,t,n){super(e,s.Product.nosetest,t,n)}async requiresUserToConfigure(e){const t=this.serviceContainer.get(i.IFileSystem);for(const n of[".noserc","nose.cfg"])if(await t.fileExists(r.join(e.fsPath,n)))return!0;return!1}async configure(e){const t=[];if(await this.requiresUserToConfigure(e))return;const n=await this.getTestDirs(e.fsPath),r=await this.selectTestDir(e.fsPath,n);"string"==typeof r&&"Use existing config file"!==r&&t.push(r),await this.installer.isInstalled(s.Product.nosetest)||await this.installer.install(s.Product.nosetest),await this.testConfigSettingsService.updateTestArgs(e.fsPath,s.Product.nosetest,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(8),s=n(1),o=n(252);t.ConfigurationManager=class extends o.TestConfigurationManager{constructor(e,t,n){super(e,s.Product.pytest,t,n)}async requiresUserToConfigure(e){const t=await this.getConfigFiles(e.fsPath);return!(t.length>0&&1!==t.length&&"setup.cfg"!==t[0])}async configure(e){const t=[],n=[],r=await this.getConfigFiles(e.fsPath);if(r.length>0&&1!==r.length&&"setup.cfg"!==r[0])return;1===r.length&&"setup.cfg"===r[0]&&n.push({label:"Use existing config file",description:"setup.cfg"});const i=await this.getTestDirs(e.fsPath),o=await this.selectTestDir(e.fsPath,i,n);"string"==typeof o&&"Use existing config file"!==o&&t.push(o),await this.installer.isInstalled(s.Product.pytest)||await this.installer.install(s.Product.pytest),await this.testConfigSettingsService.updateTestArgs(e.fsPath,s.Product.pytest,t)}async getConfigFiles(e){const t=this.serviceContainer.get(i.IFileSystem),n=["pytest.ini","tox.ini","setup.cfg"].map(async n=>await t.fileExists(r.join(e,n))?n:"");return(await Promise.all(n)).filter(e=>e.length>0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(252);t.ConfigurationManager=class extends i.TestConfigurationManager{constructor(e,t,n){super(e,r.Product.unittest,t,n)}async requiresUserToConfigure(e){return!0}async configure(e){const t=["-v"],n=await this.getTestDirs(e.fsPath),i=await this.selectTestDir(e.fsPath,n);t.push("-s"),"string"==typeof i&&"."!==i?t.push(`./${i}`):t.push(".");const s=await this.selectTestFilePattern();t.push("-p"),"string"==typeof s?t.push(s):t.push("test*.py"),await this.testConfigSettingsService.updateTestArgs(e.fsPath,r.Product.unittest,t)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13),l=n(150),u=n(6),d=n(1),h=n(12),p=n(16),f=n(10),m=n(9),g=n(11),y=n(25),v=n(18);let _=class{constructor(e){this.serviceContainer=e,this.discoverCounter=0,this.ticker=["|","/","-","|","/","-","\\"],this.progressTimeout=null,this._enabled=!1,this.didChange=new o.EventEmitter,this.appShell=e.get(a.IApplicationShell),this.statusBar=this.appShell.createStatusBarItem(o.StatusBarAlignment.Left),this.testsHelper=e.get(v.ITestsHelper),this.cmdManager=e.get(a.ICommandManager)}get onDidChange(){return this.didChange.event}dispose(){this.clearProgressTicker(),this.statusBar.dispose()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,e?this.statusBar.show():this.statusBar.hide()}displayProgressStatus(e,t=!1){this.displayProgress("Running Tests","Running Tests (Click to Stop)",c.Commands.Tests_Ask_To_Stop_Test),e.then(e=>this.updateTestRunWithSuccess(e,t)).catch(this.updateTestRunWithFailure.bind(this)).catch(p.noop)}displayDiscoverStatus(e,t=!1){return this.displayProgress("Discovering Tests","Discovering tests (click to stop)",c.Commands.Tests_Ask_To_Stop_Discovery),e.then(e=>(this.updateWithDiscoverSuccess(e,t),e)).catch(e=>(this.updateWithDiscoverFailure(e),Promise.reject(e)))}updateTestRunWithSuccess(e,t=!1){this.clearProgressTicker();const n=[],r=[];return e.summary.passed>0&&(n.push(`${c.Octicons.Test_Pass} ${e.summary.passed}`),r.push(`${e.summary.passed} Passed`)),e.summary.skipped>0&&(n.push(`${c.Octicons.Test_Skip} ${e.summary.skipped}`),r.push(`${e.summary.skipped} Skipped`)),e.summary.failures>0&&(n.push(`${c.Octicons.Test_Fail} ${e.summary.failures}`),r.push(`${e.summary.failures} Failed`)),e.summary.errors>0&&(n.push(`${c.Octicons.Test_Error} ${e.summary.errors}`),r.push(`${e.summary.errors} Error${e.summary.errors>1?"s":""}`)),this.statusBar.tooltip=0===r.length?"No Tests Ran":`${r.join(", ")} (Tests)`,this.statusBar.text=0===n.length?"No Tests Ran":n.join(" "),this.statusBar.command=c.Commands.Tests_View_UI,this.didChange.fire(),0!==n.length||t||this.appShell.showWarningMessage("No tests ran, please check the configuration settings for the tests."),e}updateTestRunWithFailure(e){return this.clearProgressTicker(),this.statusBar.command=c.Commands.Tests_View_UI,e===y.CANCELLATION_REASON?(this.statusBar.text="$(zap) Run Tests",this.statusBar.tooltip="Run Tests"):(this.statusBar.text="$(alert) Tests Failed",this.statusBar.tooltip="Running Tests Failed",this.testsHelper.displayTestErrorMessage("There was an error in running the tests.")),Promise.reject(e)}displayProgress(e,t,n){this.progressPrefix=this.statusBar.text=`$(stop) ${e}`,this.statusBar.command=n,this.statusBar.tooltip=t,this.statusBar.show(),this.clearProgressTicker(),this.progressTimeout=setInterval(()=>this.updateProgressTicker(),1e3)}updateProgressTicker(){const e=`${this.progressPrefix} ${this.ticker[this.discoverCounter%7]}`;this.discoverCounter+=1,this.statusBar.text=e}clearProgressTicker(){this.progressTimeout&&clearInterval(this.progressTimeout),this.progressTimeout=null,this.discoverCounter=0}async disableTests(){const e=this.serviceContainer.get(d.IConfigurationService),t=["testing.promptToConfigure","testing.pytestEnabled","testing.unittestEnabled","testing.nosetestsEnabled"];for(const n of t)await e.updateSetting(n,!1).catch(p.noop);this.cmdManager.executeCommand("setContext","testsDiscovered",!1)}updateWithDiscoverSuccess(e,t=!1){this.clearProgressTicker();const n=e&&e.testFunctions.length>0;this.statusBar.text="$(zap) Run Tests",this.statusBar.tooltip="Run Tests",this.statusBar.command=c.Commands.Tests_View_UI,this.statusBar.show(),this.didChange&&this.didChange.fire(),n||t||this.appShell.showInformationMessage("No tests discovered, please check the configuration settings for the tests.",h.Testing.disableTests(),h.Testing.configureTests()).then(e=>{e===h.Testing.disableTests()?this.disableTests().catch(e=>u.traceError("Starlark Extension: disableTests",e)):e===h.Testing.configureTests()&&this.cmdManager.executeCommand(c.Commands.Tests_Configure,void 0,void 0,void 0).then(p.noop)})}updateWithDiscoverFailure(e){this.clearProgressTicker(),this.statusBar.text="$(zap) Discover Tests",this.statusBar.tooltip="Discover Tests",this.statusBar.command=c.Commands.Tests_Discover,this.statusBar.show(),e!==y.CANCELLATION_REASON&&(this.statusBar.text="$(alert) Test discovery failed",this.statusBar.tooltip="Discovering Tests failed (view 'Python Test Log' output panel for details)",l.isNotInstalledError(e)||this.appShell.showErrorMessage("Test discovery error, please check the configuration settings for the tests."))}};r([m.captureTelemetry(g.EventName.UNITTEST_DISABLE)],_.prototype,"disableTests",null),_=r([s.injectable(),i(0,s.inject(f.IServiceContainer))],_),t.TestResultDisplay=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(4),c=n(13),l=n(10),u=n(18);let d=class{constructor(e,t){this.commandManager=t,this.testCollectionStorage=e.get(u.ITestCollectionStorageService),this.appShell=e.get(a.IApplicationShell)}displayStopTestUI(e,t){this.appShell.showQuickPick([t]).then(n=>{n===t&&this.commandManager.executeCommand(c.Commands.Tests_Stop,void 0,e)})}displayTestUI(e,t){const n=this.testCollectionStorage.getTests(t);this.appShell.showQuickPick(function(e){const t=[];t.push({description:"",label:"Run All Tests",type:h.RunAll}),t.push({description:"",label:"Discover Tests",type:h.ReDiscover}),t.push({description:"",label:"Run Test Method ...",type:h.SelectAndRunMethod}),t.push({description:"",label:"Configure Tests",type:h.Configure});const n=function(e){if(!e||!e.summary)return"";const t=[];e.summary.passed>0&&t.push(`${c.Octicons.Test_Pass} ${e.summary.passed} Passed`);e.summary.failures>0&&t.push(`${c.Octicons.Test_Fail} ${e.summary.failures} Failed`);if(e.summary.errors>0){const n=1===e.summary.errors?"":"s";t.push(`${c.Octicons.Test_Error} ${e.summary.errors} Error${n}`)}e.summary.skipped>0&&t.push(`${c.Octicons.Test_Skip} ${e.summary.skipped} Skipped`);return t.join(", ").trim()}(e);t.push({description:"",label:"View Test Output",type:h.ViewTestOutput,detail:n}),e&&e.summary.failures>0&&t.push({description:"",label:"Run Failed Tests",type:h.RunFailed,detail:`${c.Octicons.Test_Fail} ${e.summary.failures} Failed`});return t}(n),{matchOnDescription:!0,matchOnDetail:!0}).then(n=>n?g(this.commandManager,e,t,n,!1):Promise.resolve())}selectTestFunction(e,t){return new Promise((n,r)=>{this.appShell.showQuickPick(m(e,t.testFunctions),{matchOnDescription:!0,matchOnDetail:!0}).then(e=>e&&e.fn?n(e.fn):r(),r)})}selectTestFile(e,t){return new Promise((n,r)=>{this.appShell.showQuickPick(function(e,t){const n=t.map(t=>({description:"",detail:o.relative(e,t.fullPath),type:h.RunFile,label:o.basename(t.fullPath),testFile:t}));return n.sort((e,t)=>e.detail||t.detail?!e.detail||e.detail<t.detail?-1:!t.detail||e.detail>t.detail?1:0:0),n}(e,t.testFiles),{matchOnDescription:!0,matchOnDetail:!0}).then(e=>e&&e.testFile?n(e.testFile):r(),r)})}displayFunctionTestPickerUI(e,t,n,r,i,s){const o=this.testCollectionStorage.getTests(t);if(!o)return;const a=r.fsPath,c=o.testFiles.find(e=>e.name===a||e.fullPath===a);if(!c)return;const l=o.testFunctions.filter(e=>e.parentTestFile.name===c.name&&i.some(t=>t.nameToRun===e.testFunction.nameToRun));this.appShell.showQuickPick(m(n,l,void 0,void 0,s),{matchOnDescription:!0,matchOnDetail:!0}).then(n=>n?g(this.commandManager,e,t,n,s):Promise.resolve())}};var h;d=r([s.injectable(),i(0,s.inject(l.IServiceContainer)),i(1,s.inject(a.ICommandManager))],d),t.TestDisplay=d,function(e){e[e.RunAll=0]="RunAll",e[e.ReDiscover=1]="ReDiscover",e[e.RunFailed=2]="RunFailed",e[e.RunFolder=3]="RunFolder",e[e.RunFile=4]="RunFile",e[e.RunClass=5]="RunClass",e[e.RunMethod=6]="RunMethod",e[e.ViewTestOutput=7]="ViewTestOutput",e[e.Null=8]="Null",e[e.SelectAndRunMethod=9]="SelectAndRunMethod",e[e.DebugMethod=10]="DebugMethod",e[e.Configure=11]="Configure"}(h=t.Type||(t.Type={}));const p=new Map;p.set(u.TestStatus.Pass,c.Octicons.Test_Pass),p.set(u.TestStatus.Fail,c.Octicons.Test_Fail),p.set(u.TestStatus.Error,c.Octicons.Test_Error),p.set(u.TestStatus.Skipped,c.Octicons.Test_Skip);const f={[u.TestStatus.Error]:"1",[u.TestStatus.Fail]:"2",[u.TestStatus.Skipped]:"3",[u.TestStatus.Pass]:"4",[u.TestStatus.Discovering]:void 0,[u.TestStatus.Idle]:void 0,[u.TestStatus.Running]:void 0,[u.TestStatus.Unknown]:void 0};function m(e,t,n=!1,r=!1,i=!1){const s=[];return t.forEach(t=>{let n="";r&&t.testFunction.status&&p.has(t.testFunction.status)&&(n=`${p.get(t.testFunction.status)} `),s.push({description:"",detail:o.relative(e,t.parentTestFile.fullPath),label:n+t.testFunction.name,type:!0===i?h.DebugMethod:h.RunMethod,fn:t})}),s.sort((e,t)=>{let r="5-",i="5-";return n&&e.fn&&e.fn.testFunction.status&&t.fn&&t.fn.testFunction.status&&(r=f[e.fn.testFunction.status]?f[e.fn.testFunction.status]:r,i=f[t.fn.testFunction.status]?f[t.fn.testFunction.status]:i),`${r}${e.detail}${e.label}`<`${i}${t.detail}${t.label}`?-1:`${r}${e.detail}${e.label}`>`${i}${t.detail}${t.label}`?1:0}),s}function g(e,t,n,r,i){if(r&&"number"==typeof r.type)switch(r.type){case h.Null:return;case h.RunAll:return e.executeCommand(c.Commands.Tests_Run,void 0,t,n,void 0);case h.ReDiscover:return e.executeCommand(c.Commands.Tests_Discover,void 0,t,n);case h.ViewTestOutput:return e.executeCommand(c.Commands.Tests_ViewOutput,void 0,t);case h.RunFailed:return e.executeCommand(c.Commands.Tests_Run_Failed,void 0,t,n);case h.SelectAndRunMethod:{const r=i?c.Commands.Tests_Select_And_Debug_Method:c.Commands.Tests_Select_And_Run_Method;return e.executeCommand(r,void 0,t,n)}case h.RunMethod:{const i={testFunction:[r.fn.testFunction]};return e.executeCommand(c.Commands.Tests_Run,void 0,t,n,i)}case h.DebugMethod:{const i={testFunction:[r.fn.testFunction]};return e.executeCommand(c.Commands.Tests_Debug,void 0,t,n,i)}case h.Configure:return e.executeCommand(c.Commands.Tests_Configure,void 0,t,n);default:return}}t.onItemSelected=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(13),c=n(6),l=n(31),u=n(25),d=n(54),h=n(21),p={[h.TestDataItemType.file]:a.Commands.navigateToTestFile,[h.TestDataItemType.function]:a.Commands.navigateToTestFunction,[h.TestDataItemType.suite]:a.Commands.navigateToTestSuite};let f=class{constructor(e,t){this.cmdManager=e,this.testResource=t,this.disposables=[]}register(){this.disposables.push(this.cmdManager.registerCommand(a.Commands.runTestNode,this.onRunTestNode,this)),this.disposables.push(this.cmdManager.registerCommand(a.Commands.debugTestNode,this.onDebugTestNode,this)),this.disposables.push(this.cmdManager.registerCommand(a.Commands.openTestNodeInEditor,this.onOpenTestNodeInEditor,this))}dispose(){this.disposables.forEach(e=>e.dispose())}async onRunTestNode(e){await this.runDebugTestNode(e,"run")}async onDebugTestNode(e){await this.runDebugTestNode(e,"debug")}async onOpenTestNodeInEditor(e){const t=d.getTestDataItemType(e);if(t===h.TestDataItemType.folder)throw new Error("Unknown Test Type");const n=p[t],r=this.testResource.getResource(e);if(!n)throw new Error("Unknown Test Type");this.cmdManager.executeCommand(n,r,e,!0)}async runDebugTestNode(e,t){let n;switch(d.getTestDataItemType(e)){case h.TestDataItemType.file:n={testFile:[e]};break;case h.TestDataItemType.folder:n={testFolder:[e]};break;case h.TestDataItemType.suite:n={testSuite:[e]};break;case h.TestDataItemType.function:n={testFunction:[e]};break;default:throw new Error("Unknown Test Type")}const r=this.testResource.getResource(e),i="run"===t?a.Commands.Tests_Run:a.Commands.Tests_Debug;this.cmdManager.executeCommand(i,void 0,u.CommandSource.testExplorer,r,n)}};r([l.swallowExceptions("Run test node"),c.traceDecorators.error("Run test node failed")],f.prototype,"onRunTestNode",null),r([l.swallowExceptions("Debug test node"),c.traceDecorators.error("Debug test node failed")],f.prototype,"onDebugTestNode",null),r([l.swallowExceptions("Open test node in Editor"),c.traceDecorators.error("Open test node in editor failed")],f.prototype,"onOpenTestNodeInEditor",null),f=r([s.injectable(),i(0,s.inject(o.ICommandManager)),i(1,s.inject(h.ITestDataItemResource))],f),t.TestExplorerCommandHandler=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(13);n(7);const c=n(1),l=n(31),u=n(54),d=n(18),h=n(21);let p=class{constructor(e,t,n){this.commandManager=t,this.storage=n,this.disposables=[],this.failedItems=[],e.push(this)}dispose(){this.disposables.forEach(e=>e.dispose())}async activate(){this.storage.onDidChange(this.onDidChangeTestData,this,this.disposables)}onDidChangeTestData(e){!e.data||e.data.status!==d.TestStatus.Error&&e.data.status!==d.TestStatus.Fail||u.getTestDataItemType(e.data)!==h.TestDataItemType.function||(this.failedItems.push(e.data),this.revealFailedNodes().ignoreErrors())}async revealFailedNodes(){for(;this.failedItems.length>0;){const e=this.failedItems.pop();await this.commandManager.executeCommand(a.Commands.Test_Reveal_Test_Item,e)}}};r([l.debounceAsync(500)],p.prototype,"revealFailedNodes",null),p=r([s.injectable(),i(0,s.inject(c.IDisposableRegistry)),i(1,s.inject(o.ICommandManager)),i(2,s.inject(d.ITestCollectionStorageService))],p),t.FailedTestHandler=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13),l=n(1),u=n(9),d=n(11),h=n(25),p=n(54),f=n(18),m=n(21),g=n(1343);let y=class{constructor(e,t,n,r,i){this.testStore=e,this.testService=t,this.workspace=n,this.commandManager=r,this.discovered=new Set,this._onDidChangeTreeData=new o.EventEmitter,this.disposables=[],this.onDidChangeTreeData=this._onDidChangeTreeData.event,i.push(this),this.testsAreBeingDiscovered=new Map,this.disposables.push(this.testService.onDidStatusChange(this.onTestStatusChanged,this)),this.testStore.onDidChange(e=>this._onDidChangeTreeData.fire(e.data),this,this.disposables),this.workspace.onDidChangeWorkspaceFolders(()=>this._onDidChangeTreeData.fire(),this,this.disposables),Array.isArray(n.workspaceFolders)&&n.workspaceFolders.length>0&&this.refresh(n.workspaceFolders[0].uri)}getResource(e){return e.resource}dispose(){this.disposables.forEach(e=>e.dispose()),this._onDidChangeTreeData.dispose()}async getTreeItem(e){const t=await this.shouldElementBeExpandedByDefault(e)?o.TreeItemCollapsibleState.Expanded:void 0;return new g.TestTreeItem(e.resource,e,t)}async getChildren(e){if(e){if(e instanceof m.TestWorkspaceFolder){let t=this.testStore.getTests(e.workspaceFolder.uri);return t||this.discovered.has(e.workspaceFolder.uri.fsPath)||(this.discovered.add(e.workspaceFolder.uri.fsPath),await this.commandManager.executeCommand(c.Commands.Tests_Discover,e,h.CommandSource.testExplorer,void 0),t=this.testStore.getTests(e.workspaceFolder.uri)),this.getRootNodes(t)}return p.getChildren(e)}if(!Array.isArray(this.workspace.workspaceFolders)||0===this.workspace.workspaceFolders.length)return[];if(u.sendTelemetryEvent(d.EventName.UNITTEST_EXPLORER_WORK_SPACE_COUNT,void 0,{count:this.workspace.workspaceFolders.length}),1===this.workspace.workspaceFolders.length){const e=this.testStore.getTests(this.workspace.workspaceFolders[0].uri);return this.getRootNodes(e)}return this.workspace.workspaceFolders.map(e=>new m.TestWorkspaceFolder(e))}async getParent(e){if(e instanceof m.TestWorkspaceFolder)return;const t=this.testStore.getTests(e.resource);return t?p.getParent(t,e):void 0}getRootNodes(e){return e&&e.rootTestFolders&&1===e.rootTestFolders.length?[...e.rootTestFolders[0].testFiles,...e.rootTestFolders[0].folders]:e?e.rootTestFolders:[]}refresh(e){const t=this.workspace.getWorkspaceFolder(e);if(!t)return;const n=this.testStore.getTests(e);n&&n.testFolders&&this._onDidChangeTreeData.fire(new m.TestWorkspaceFolder(t))}onTestStatusChanged(e){e.status!==f.TestStatus.Discovering?this.testsAreBeingDiscovered.get(e.workspace.fsPath)&&(this.testsAreBeingDiscovered.set(e.workspace.fsPath,!1),this.refresh(e.workspace)):this.testsAreBeingDiscovered.set(e.workspace.fsPath,!0)}async shouldElementBeExpandedByDefault(e){const t=await this.getParent(e);return!t||p.getTestDataItemType(t)===m.TestDataItemType.workspaceFolder}};y=r([s.injectable(),i(0,s.inject(f.ITestCollectionStorageService)),i(1,s.inject(m.ITestManagementService)),i(2,s.inject(a.IWorkspaceService)),i(3,s.inject(a.ICommandManager)),i(4,s.inject(l.IDisposableRegistry))],y),t.TestTreeViewProvider=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(13),s=n(1344),o=n(16),a=n(25),c=n(54),l=n(18),u=n(21);t.TestTreeItem=class extends r.TreeItem{constructor(e,t,n=function(e){return c.getTestDataItemType(e)===u.TestDataItemType.function?r.TreeItemCollapsibleState.None:r.TreeItemCollapsibleState.Collapsed}(t)){super(t.name,n),this.resource=e,this.data=t,this.testType=c.getTestDataItemType(this.data),this.setCommand()}get contextValue(){return this.testType}get iconPath(){if(this.testType===u.TestDataItemType.workspaceFolder)return r.ThemeIcon.Folder;if(!this.data)return"";switch(this.data.status){case l.TestStatus.Error:case l.TestStatus.Fail:return s.getIcon(a.Icons.failed);case l.TestStatus.Pass:return s.getIcon(a.Icons.passed);case l.TestStatus.Discovering:case l.TestStatus.Running:return s.getIcon(a.Icons.discovering);case l.TestStatus.Idle:case l.TestStatus.Unknown:default:return s.getIcon(a.Icons.unknown)}}get tooltip(){if(!this.data||this.testType===u.TestDataItemType.workspaceFolder)return"";const e=this.data;if(!e.status||e.status===l.TestStatus.Idle||e.status===l.TestStatus.Unknown||e.status===l.TestStatus.Skipped)return"";if(this.testType!==u.TestDataItemType.function)return void 0===e.functionsPassed?"":e.functionsDidNotRun?`${e.functionsFailed} failed, ${e.functionsDidNotRun} not run and ${e.functionsPassed} passed`:`${e.functionsFailed} failed, ${e.functionsPassed} passed`;switch(this.data.status){case l.TestStatus.Error:case l.TestStatus.Fail:return`Failed in ${+e.time.toFixed(3)} seconds`;case l.TestStatus.Pass:return`Passed in ${+e.time.toFixed(3)} seconds`;case l.TestStatus.Discovering:case l.TestStatus.Running:return"Loading...";default:return""}}get testStatus(){return this.data.status?this.data.status:l.TestStatus.Unknown}setCommand(){switch(this.testType){case u.TestDataItemType.file:this.command={command:i.Commands.navigateToTestFile,title:"Open",arguments:[this.resource,this.data]};break;case u.TestDataItemType.function:this.command={command:i.Commands.navigateToTestFunction,title:"Open",arguments:[this.resource,this.data,!1]};break;case u.TestDataItemType.suite:if(c.isSubtestsParent(this.data)){this.command={command:i.Commands.navigateToTestFunction,title:"Open",arguments:[this.resource,this.data,!1]};break}this.command={command:i.Commands.navigateToTestSuite,title:"Open",arguments:[this.resource,this.data,!1]};break;default:o.noop()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(30),s=r.join(i.EXTENSION_ROOT_DIR,"resources","dark"),o=r.join(i.EXTENSION_ROOT_DIR,"resources","light");t.getIcon=function(e){return{dark:r.join(s,e),light:r.join(o,e)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(13),c=n(1),l=n(21);let u=class{constructor(e,t,n,r){this.treeViewProvider=e,this.appShell=n,this.commandManager=r,this.disposables=[],t.push(this)}get treeView(){return this._treeView}dispose(){this.disposables.forEach(e=>e.dispose())}async activate(){this._treeView=this.appShell.createTreeView("starlark_tests",{showCollapseAll:!0,treeDataProvider:this.treeViewProvider}),this.disposables.push(this._treeView),this.disposables.push(this.commandManager.registerCommand(a.Commands.Test_Reveal_Test_Item,this.onRevealTestItem,this))}async onRevealTestItem(e){await this.treeView.reveal(e)}};u=r([s.injectable(),i(0,s.inject(l.ITestTreeViewProvider)),i(1,s.inject(c.IDisposableRegistry)),i(2,s.inject(o.IApplicationShell)),i(3,s.inject(o.ICommandManager))],u),t.TreeViewService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(13),l=n(78);n(7);const u=n(6),d=n(1),h=n(16),p=n(10),f=n(11),m=n(9),g=n(1347),y=n(25),v=n(54),_=n(18),b=n(21);let S=class{constructor(e){this.serviceContainer=e,this.activatedOnce=!1,this.testManagers=new Set,this._onDidStatusChange=new o.EventEmitter,this.disposableRegistry=e.get(d.IDisposableRegistry),this.outputChannel=e.get(d.IOutputChannel,y.TEST_OUTPUT_CHANNEL),this.workspaceService=e.get(a.IWorkspaceService),this.documentManager=e.get(a.IDocumentManager),this.disposableRegistry.push(this)}dispose(){this.workspaceTestManagerService&&this.workspaceTestManagerService.dispose(),this.configChangedTimer&&(clearTimeout(this.configChangedTimer),this.configChangedTimer=void 0),this.autoDiscoverTimer&&(clearTimeout(this.autoDiscoverTimer),this.autoDiscoverTimer=void 0)}get onDidStatusChange(){return this._onDidStatusChange.event}async activate(e){this.activatedOnce||(this.activatedOnce=!0,this.workspaceTestManagerService=this.serviceContainer.get(_.IWorkspaceTestManagerService),this.registerHandlers(),this.registerCommands(),this.checkExperiments(),this.autoDiscoverTests(void 0).catch(e=>this.serviceContainer.get(d.ILogger).logError("Failed to auto discover tests upon activation",e)),await this.registerSymbolProvider(e))}checkExperiments(){const e=this.serviceContainer.get(d.IExperimentsManager);if(e.inExperiment(l.AlwaysDisplayTestExplorerGroups.experiment)){this.serviceContainer.get(a.ICommandManager).executeCommand("setContext","testsDiscovered",!0).then(h.noop,h.noop)}else e.sendTelemetryIfInExperiment(l.AlwaysDisplayTestExplorerGroups.control)}async getTestManager(e,t){let n;if(t){const e=this.workspaceService.getWorkspaceFolder(t);n=e?e.uri:void 0}else{const e=this.serviceContainer.get(a.IApplicationShell);n=await v.selectTestWorkspace(e)}if(!n)return;const r=this.workspaceTestManagerService.getTestManager(n);if(r){if(!this.testManagers.has(r)){this.testManagers.add(r);const e=r.onDidStatusChange(e=>this._onDidStatusChange.fire(e));this.disposableRegistry.push(e)}return r}if(e){const e=this.serviceContainer.get(b.ITestConfigurationService);await e.displayTestFrameworkError(n)}}async configurationChangeHandler(e){if(!this.workspaceService.hasWorkspaceFolders||this.workspaceService.workspaceFolders.length>1)return;if(!Array.isArray(this.workspaceService.workspaceFolders))return;const t=this.workspaceService.workspaceFolders.find(t=>e.affectsConfiguration("python.testing",t.uri));if(!t)return;const n=t.uri,r=this.serviceContainer.get(d.IConfigurationService).getSettings(n);if(!r.testing.nosetestsEnabled&&!r.testing.pytestEnabled&&!r.testing.unittestEnabled)return this.testResultDisplay&&(this.testResultDisplay.enabled=!1),void(this.workspaceTestManagerService&&this.workspaceTestManagerService.dispose());this.testResultDisplay&&(this.testResultDisplay.enabled=!0),this.autoDiscoverTests(n).catch(e=>this.serviceContainer.get(d.ILogger).logError("Failed to auto discover tests upon activation",e))}async discoverTestsForDocument(e){const t=await this.getTestManager(!1,e.uri);if(!t)return;const n=await t.discoverTests(y.CommandSource.auto,!1,!0);n&&Array.isArray(n.testFiles)&&0!==n.testFiles.length&&-1!==n.testFiles.findIndex(t=>t.fullPath===e.uri.fsPath)&&(this.autoDiscoverTimer&&clearTimeout(this.autoDiscoverTimer),this.autoDiscoverTimer=setTimeout(()=>this.discoverTests(y.CommandSource.auto,e.uri,!0,!1,!0),1e3))}async autoDiscoverTests(e){if(!this.workspaceService.hasWorkspaceFolders)return;e||(e=this.workspaceService.workspaceFolders[0].uri);const t=this.serviceContainer.get(d.IConfigurationService).getSettings(e);(t.testing.nosetestsEnabled||t.testing.pytestEnabled||t.testing.unittestEnabled)&&this.discoverTests(y.CommandSource.auto,e,!0).ignoreErrors()}async discoverTests(e,t,n,r,i,s){const o=await this.getTestManager(!0,t);if(!o)return;if(o.status===_.TestStatus.Discovering||o.status===_.TestStatus.Running)return;this.testResultDisplay||(this.testResultDisplay=this.serviceContainer.get(b.ITestResultDisplay));const a=o.discoverTests(e,n,i,r,s);this.testResultDisplay.displayDiscoverStatus(a,i).catch(e=>u.traceError("Starlark Extension: displayDiscoverStatus",e)),await a}async stopTests(e){m.sendTelemetryEvent(f.EventName.UNITTEST_STOP);const t=await this.getTestManager(!0,e);t&&t.stop()}async displayStopUI(e){const t=await this.getTestManager(!0);t&&this.serviceContainer.get(b.ITestDisplay).displayStopTestUI(t.workspaceFolder,e)}async displayUI(e){const t=await this.getTestManager(!0);t&&this.serviceContainer.get(b.ITestDisplay).displayTestUI(e,t.workspaceFolder)}async displayPickerUI(e,t,n,r){const i=await this.getTestManager(!0,t);i&&this.serviceContainer.get(b.ITestDisplay).displayFunctionTestPickerUI(e,i.workspaceFolder,i.workingDirectory,t,n,r)}viewOutput(e){m.sendTelemetryEvent(f.EventName.UNITTEST_VIEW_OUTPUT),this.outputChannel.show()}async selectAndRunTestMethod(e,t,n){const r=await this.getTestManager(!0,t);if(!r)return;try{await r.discoverTests(e,!0,!0,!0)}catch(e){return}const i=this.serviceContainer.get(_.ITestCollectionStorageService).getTests(r.workspaceFolder),s=this.serviceContainer.get(b.ITestDisplay),o=await s.selectTestFunction(r.workspaceFolder.fsPath,i);o&&await this.runTestsImpl(e,r.workspaceFolder,{testFunction:[o.testFunction]},!1,n)}async selectAndRunTestFile(e){const t=await this.getTestManager(!0);if(!t)return;try{await t.discoverTests(e,!0,!0,!0)}catch(e){return}const n=this.serviceContainer.get(_.ITestCollectionStorageService).getTests(t.workspaceFolder),r=this.serviceContainer.get(b.ITestDisplay),i=await r.selectTestFile(t.workspaceFolder.fsPath,n);i&&await this.runTestsImpl(e,t.workspaceFolder,{testFile:[i]})}async runCurrentTestFile(e){if(!this.documentManager.activeTextEditor)return;const t=await this.getTestManager(!0,this.documentManager.activeTextEditor.document.uri);if(!t)return;try{await t.discoverTests(e,!0,!0,!0)}catch(e){return}const n=this.serviceContainer.get(_.ITestCollectionStorageService).getTests(t.workspaceFolder).testFiles.filter(e=>e.fullPath===this.documentManager.activeTextEditor.document.uri.fsPath);n.length<1||await this.runTestsImpl(e,t.workspaceFolder,{testFile:[n[0]]})}async runTestsImpl(e,t,n,r,i=!1){const s=await this.getTestManager(!0,t);if(!s)return;this.testResultDisplay||(this.testResultDisplay=this.serviceContainer.get(b.ITestResultDisplay));const o=s.runTest(e,n,r,i).catch(e=>(e!==y.CANCELLATION_REASON&&this.outputChannel.appendLine(`Error: ${e}`),Promise.reject(e)));this.testResultDisplay.displayProgressStatus(o,i),await o}async registerSymbolProvider(e){const t=this.serviceContainer.get(_.ITestCollectionStorageService),n=new o.EventEmitter;this.disposableRegistry.push(n);const r=this._onDidStatusChange.event(e=>{e.status!==_.TestStatus.Discovering&&e.status!==_.TestStatus.Running&&n.fire()});this.disposableRegistry.push(r),this.disposableRegistry.push(g.activateCodeLenses(n,e,t,this.serviceContainer))}async configureTests(e){let t;if(e){const n=this.workspaceService.getWorkspaceFolder(e);t=n?n.uri:void 0}else{const e=this.serviceContainer.get(a.IApplicationShell);t=await v.selectTestWorkspace(e)}if(!t)return;const n=this.serviceContainer.get(b.ITestConfigurationService);await n.promptToEnableAndConfigureTestFramework(t)}registerCommands(){const e=this.serviceContainer.get(d.IDisposableRegistry),t=this.serviceContainer.get(a.ICommandManager),n=[t.registerCommand(c.Commands.Tests_Discover,(e,t=y.CommandSource.commandPalette,n)=>(e&&e instanceof b.TestWorkspaceFolder&&(n=e.resource,t=y.CommandSource.testExplorer),this.discoverTests(t,n,!0,!0,!1,!0).ignoreErrors())),t.registerCommand(c.Commands.Tests_Configure,(e,t=y.CommandSource.commandPalette,n)=>{this.configureTests(n).ignoreErrors()}),t.registerCommand(c.Commands.Tests_Run_Failed,(e,t=y.CommandSource.commandPalette,n)=>this.runTestsImpl(t,n,void 0,!0)),t.registerCommand(c.Commands.Tests_Run,(e,t=y.CommandSource.commandPalette,n,r)=>(e&&e instanceof b.TestWorkspaceFolder&&(n=e.resource,t=y.CommandSource.testExplorer),this.runTestsImpl(t,n,r))),t.registerCommand(c.Commands.Tests_Debug,(e,t=y.CommandSource.commandPalette,n,r)=>(e&&e instanceof b.TestWorkspaceFolder&&(n=e.resource,t=y.CommandSource.testExplorer),this.runTestsImpl(t,n,r,!1,!0))),t.registerCommand(c.Commands.Tests_View_UI,()=>this.displayUI(y.CommandSource.commandPalette)),t.registerCommand(c.Commands.Tests_Picker_UI,(e,t=y.CommandSource.commandPalette,n,r)=>this.displayPickerUI(t,n,r)),t.registerCommand(c.Commands.Tests_Picker_UI_Debug,(e,t=y.CommandSource.commandPalette,n,r)=>this.displayPickerUI(t,n,r,!0)),t.registerCommand(c.Commands.Tests_Stop,(e,t)=>this.stopTests(t)),t.registerCommand(c.Commands.Tests_ViewOutput,(e,t=y.CommandSource.commandPalette)=>this.viewOutput(t)),t.registerCommand(c.Commands.Tests_Ask_To_Stop_Discovery,()=>this.displayStopUI("Stop discovering tests")),t.registerCommand(c.Commands.Tests_Ask_To_Stop_Test,()=>this.displayStopUI("Stop running tests")),t.registerCommand(c.Commands.Tests_Select_And_Run_Method,(e,t=y.CommandSource.commandPalette,n)=>this.selectAndRunTestMethod(t,n)),t.registerCommand(c.Commands.Tests_Select_And_Debug_Method,(e,t=y.CommandSource.commandPalette,n)=>this.selectAndRunTestMethod(t,n,!0)),t.registerCommand(c.Commands.Tests_Select_And_Run_File,(e,t=y.CommandSource.commandPalette)=>this.selectAndRunTestFile(t)),t.registerCommand(c.Commands.Tests_Run_Current_File,(e,t=y.CommandSource.commandPalette)=>this.runCurrentTestFile(t)),t.registerCommand(c.Commands.Tests_Discovering,h.noop)];e.push(...n)}onDocumentSaved(e){this.serviceContainer.get(d.IConfigurationService).getSettings(e.uri).testing.autoTestDiscoverOnSaveEnabled&&this.discoverTestsForDocument(e).ignoreErrors()}registerHandlers(){const e=this.serviceContainer.get(a.IDocumentManager);this.disposableRegistry.push(e.onDidSaveTextDocument(this.onDocumentSaved.bind(this))),this.disposableRegistry.push(this.workspaceService.onDidChangeConfiguration(e=>{this.configChangedTimer&&clearTimeout(this.configChangedTimer),this.configChangedTimer=setTimeout(()=>this.configurationChangeHandler(e),1e3)}))}};r([m.captureTelemetry(f.EventName.UNITTEST_CONFIGURE,void 0,!1)],S.prototype,"configureTests",null),S=r([s.injectable(),i(0,s.inject(p.IServiceContainer))],S),t.UnitTestManagementService=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(13),s=n(1348);t.activateCodeLenses=function(e,t,n,o){const a=[],c=new s.TestFileCodeLensProvider(e,t,n,o);return a.push(r.languages.registerCodeLensProvider(i.PYTHON,c)),{dispose:()=>{a.forEach(e=>e.dispose())}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(4),s=n(8),o=n(13),a=n(25),c=n(18);function l(e){switch(e){case c.TestStatus.Pass:return" ";case c.TestStatus.Error:case c.TestStatus.Fail:return" ";case c.TestStatus.Skipped:return" ";default:return""}}function u(e){const t=[];let n=e.filter(e=>e.status===c.TestStatus.Pass).length;return n>0&&t.push(` ${n}`),(n=e.filter(e=>e.status===c.TestStatus.Error||e.status===c.TestStatus.Fail).length)>0&&t.push(` ${n}`),(n=e.filter(e=>e.status===c.TestStatus.Skipped).length)>0&&t.push(` ${n}`),t.join(" ")}t.TestFileCodeLensProvider=class{constructor(e,t,n,r){this._onDidChange=e,this.symbolProvider=t,this.testCollectionStorage=n,this.workspaceService=r.get(i.IWorkspaceService),this.fileSystem=r.get(s.IFileSystem)}get onDidChangeCodeLenses(){return this._onDidChange.event}async provideCodeLenses(e,t){const n=this.workspaceService.getWorkspaceFolder(e.uri);if(!n)return[];const i=this.testCollectionStorage.getTests(n.uri);if(!i||0===i.testFiles.length||0===i.testFunctions.length)return[];const s=new r.CancellationTokenSource;return t.onCancellationRequested(()=>{s.cancel()}),setTimeout(()=>{s.token.isCancellationRequested||s.cancel()},o.Delays.MaxUnitTestCodeLensDelay),this.getCodeLenses(e,s.token,this.symbolProvider)}resolveCodeLens(e,t){return e.command={command:"python.runtests",title:"Test"},Promise.resolve(e)}getTestFileWhichNeedsCodeLens(e){const t=this.workspaceService.getWorkspaceFolder(e.uri);if(!t)return;const n=this.testCollectionStorage.getTests(t.uri);return n?n.testFiles.find(t=>this.fileSystem.arePathsSame(t.fullPath,e.uri.fsPath)):void 0}async getCodeLenses(e,t,n){const i=this.getTestFileWhichNeedsCodeLens(e);if(!i)return[];const s=function(e){const t={functions:[...e.functions],suites:[]};return e.suites.forEach(e=>{t.suites.push(e);const n=function e(t){const n={functions:[],suites:[]};return t.functions.forEach(e=>{n.functions.push(e)}),t.suites.forEach(t=>{n.suites.push(t);const r=e(t);n.functions.push(...r.functions),n.suites.push(...r.suites)}),n}(e);t.functions.push(...n.functions),t.suites.push(...n.suites)}),t}(i);try{const i=await n.provideDocumentSymbols(e,t);return i?i.filter(e=>e.kind===r.SymbolKind.Function||e.kind===r.SymbolKind.Method||e.kind===r.SymbolKind.Class).map(t=>{const n=new r.Range(t.location.range.start,new r.Position(t.location.range.end.line,t.location.range.end.character+1));return this.getCodeLens(e.uri,s,n,t.name,t.kind,t.containerName)}).reduce((e,t)=>e.concat(t),[]).filter(e=>null!==e):[]}catch(e){return t.isCancellationRequested?[]:Promise.reject(e)}}getCodeLens(e,t,n,i,s,c){switch(s){case r.SymbolKind.Function:case r.SymbolKind.Method:return function(e,t,n,i,s){let c;if(0===s.length?c=t.functions.find(e=>e.name===n):t.suites.filter(e=>e.name===s).forEach(e=>{const t=e.functions.find(e=>e.name===n);t&&(c=t)}),c)return[new r.CodeLens(i,{title:l(c.status)+o.Text.CodeLensRunUnitTest,command:o.Commands.Tests_Run,arguments:[void 0,a.CommandSource.codelens,e,{testFunction:[c]}]}),new r.CodeLens(i,{title:l(c.status)+o.Text.CodeLensDebugUnitTest,command:o.Commands.Tests_Debug,arguments:[void 0,a.CommandSource.codelens,e,{testFunction:[c]}]})];const d=t.functions.filter(e=>e.name.startsWith(`${n}[`)&&e.name.endsWith("]"));return 0===d.length?[]:[new r.CodeLens(i,{title:`${u(d)}${o.Text.CodeLensRunUnitTest} (Multiple)`,command:o.Commands.Tests_Picker_UI,arguments:[void 0,a.CommandSource.codelens,e,d]}),new r.CodeLens(i,{title:`${u(d)}${o.Text.CodeLensDebugUnitTest} (Multiple)`,command:o.Commands.Tests_Picker_UI_Debug,arguments:[void 0,a.CommandSource.codelens,e,d]})]}(e,t,i,n,c);case r.SymbolKind.Class:{const s=t.suites.find(e=>e.name===i);return s?[new r.CodeLens(n,{title:l(s.status)+o.Text.CodeLensRunUnitTest,command:o.Commands.Tests_Run,arguments:[void 0,a.CommandSource.codelens,e,{testSuite:[s]}]}),new r.CodeLens(n,{title:l(s.status)+o.Text.CodeLensDebugUnitTest,command:o.Commands.Tests_Debug,arguments:[void 0,a.CommandSource.codelens,e,{testSuite:[s]}]})]:[]}default:return[]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(1350),s=n(1351),o=n(1352),a=n(1353),c=n(1354),l=n(1355),u=n(97);t.registerTypes=function(e){e.addSingleton(u.ITestNavigatorHelper,a.TestNavigatorHelper),e.addSingleton(u.ITestCodeNavigatorCommandHandler,i.TestCodeNavigatorCommandHandler),e.addSingleton(u.ITestCodeNavigator,s.TestFileCodeNavigator,u.NavigableItemType.testFile),e.addSingleton(u.ITestCodeNavigator,o.TestFunctionCodeNavigator,u.NavigableItemType.testFunction),e.addSingleton(u.ITestCodeNavigator,c.TestSuiteCodeNavigator,u.NavigableItemType.testSuite),e.addSingleton(r.IDocumentSymbolProvider,l.TestFileSymbolProvider,"test")}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(13),c=n(1),l=n(97);let u=class{constructor(e,t,n,r,i){this.commandManager=e,this.testFileNavigator=t,this.testFunctionNavigator=n,this.testSuiteNavigator=r,this.disposables=[],i.push(this)}dispose(){this.disposables.forEach(e=>e.dispose())}register(){if(this.disposables.length>0)return;let e=this.commandManager.registerCommand(a.Commands.navigateToTestFile,this.testFileNavigator.navigateTo,this.testFileNavigator);this.disposables.push(e),e=this.commandManager.registerCommand(a.Commands.navigateToTestFunction,this.testFunctionNavigator.navigateTo,this.testFunctionNavigator),this.disposables.push(e),e=this.commandManager.registerCommand(a.Commands.navigateToTestSuite,this.testSuiteNavigator.navigateTo,this.testSuiteNavigator),this.disposables.push(e)}};u=r([s.injectable(),i(0,s.inject(o.ICommandManager)),i(1,s.inject(l.ITestCodeNavigator)),i(1,s.named(l.NavigableItemType.testFile)),i(2,s.inject(l.ITestCodeNavigator)),i(2,s.named(l.NavigableItemType.testFunction)),i(3,s.inject(l.ITestCodeNavigator)),i(3,s.named(l.NavigableItemType.testSuite)),i(4,s.inject(c.IDisposableRegistry))],u),t.TestCodeNavigatorCommandHandler=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(31),c=n(9),l=n(11),u=n(97);let d=class{constructor(e){this.helper=e}async navigateTo(e,t,n){await this.helper.openFile(o.Uri.file(t.fullPath))}};r([a.swallowExceptions("Navigate to test file"),c.captureTelemetry(l.EventName.UNITTEST_NAVIGATE,{byFile:!0})],d.prototype,"navigateTo",null),d=r([s.injectable(),i(0,s.inject(u.ITestNavigatorHelper))],d),t.TestFileCodeNavigator=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(6),l=n(31),u=n(9),d=n(11),h=n(18),p=n(97);let f=class{constructor(e,t,n){this.helper=e,this.docManager=t,this.storage=n}async navigateTo(e,t,n=!0){u.sendTelemetryEvent(d.EventName.UNITTEST_NAVIGATE,void 0,{focus_code:n,byFunction:!0}),this.cancellationToken&&this.cancellationToken.cancel();const r=this.storage.findFlattendTestFunction(e,t);if(!r)throw new Error("Flattend test function not found");this.cancellationToken=new o.CancellationTokenSource;const[i,s]=await this.helper.openFile(o.Uri.file(r.parentTestFile.fullPath));let a;if(r.testFunction.line)a=new o.Range(r.testFunction.line,0,r.testFunction.line,0);else{const e=e=>e.name===r.testFunction.name&&(e.kind===o.SymbolKind.Method||e.kind===o.SymbolKind.Function),t=await this.helper.findSymbol(i,e,this.cancellationToken.token);a=t?t.location.range:void 0}a?n?(a=new o.Range(a.start.line,a.start.character,a.start.line,a.start.character),await this.docManager.showTextDocument(i,{preserveFocus:!1,selection:a})):s.revealRange(a,o.TextEditorRevealType.Default):c.traceError("Unable to navigate to test function",new Error("Test Function not found"))}};r([l.swallowExceptions("Navigate to test function"),u.captureTelemetry(d.EventName.UNITTEST_NAVIGATE,{byFunction:!0},!0)],f.prototype,"navigateTo",null),f=r([s.injectable(),i(0,s.inject(p.ITestNavigatorHelper)),i(1,s.inject(a.IDocumentManager)),i(2,s.inject(h.ITestCollectionStorageService))],f),t.TestFunctionCodeNavigator=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(4),a=n(6),c=n(1);let l=class{constructor(e,t){this.documentManager=e,this.symbolProvider=t}async openFile(e){if(!e)throw new Error("Unable to navigate to an undefined test file");const t=await this.documentManager.openTextDocument(e);return[t,await this.documentManager.showTextDocument(t)]}async findSymbol(e,t,n){const r=await this.symbolProvider.provideDocumentSymbols(e,n);if(Array.isArray(r)&&0!==r.length)return r.find(t);a.traceError("Symbol information not found",new Error("Symbol information not found"))}};l=r([s.injectable(),i(0,s.inject(o.IDocumentManager)),i(1,s.inject(c.IDocumentSymbolProvider)),i(1,s.named("test"))],l),t.TestNavigatorHelper=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(4),c=n(6),l=n(31),u=n(9),d=n(11),h=n(18),p=n(97);let f=class{constructor(e,t,n){this.helper=e,this.docManager=t,this.storage=n}async navigateTo(e,t,n=!0){u.sendTelemetryEvent(d.EventName.UNITTEST_NAVIGATE,void 0,{focus_code:n,bySuite:!0}),this.cancellationToken&&this.cancellationToken.cancel();const r=this.storage.findFlattendTestSuite(e,t);if(!r)throw new Error("Flattened test suite not found");this.cancellationToken=new o.CancellationTokenSource;const[i,s]=await this.helper.openFile(o.Uri.file(r.parentTestFile.fullPath));let a;if(r.testSuite.line)a=new o.Range(r.testSuite.line,0,r.testSuite.line,0);else{const e=e=>e.name===r.testSuite.name&&e.kind===o.SymbolKind.Class,t=await this.helper.findSymbol(i,e,this.cancellationToken.token);a=t?t.location.range:void 0}a?n?(a=new o.Range(a.start.line,a.start.character,a.start.line,a.start.character),await this.docManager.showTextDocument(i,{preserveFocus:!1,selection:a})):s.revealRange(a,o.TextEditorRevealType.Default):c.traceError("Unable to navigate to test suite",new Error("Test Suite not found"))}};r([l.swallowExceptions("Navigate to test suite"),u.captureTelemetry(d.EventName.UNITTEST_NAVIGATE,{bySuite:!0},!0)],f.prototype,"navigateTo",null),f=r([s.injectable(),i(0,s.inject(p.ITestNavigatorHelper)),i(1,s.inject(a.IDocumentManager)),i(2,s.inject(h.ITestCollectionStorageService))],f),t.TestSuiteCodeNavigator=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(6),l=n(20),u=n(1),d=n(30);let h=class{constructor(e,t){this.configurationService=e,this.processServiceFactory=t}async provideDocumentSymbols(e,t){const n=await this.getSymbols(e,t);return n?[...n.classes.map(t=>this.parseRawSymbol(e.uri,t,a.SymbolKind.Class)),...n.methods.map(t=>this.parseRawSymbol(e.uri,t,a.SymbolKind.Method)),...n.functions.map(t=>this.parseRawSymbol(e.uri,t,a.SymbolKind.Function))]:[]}parseRawSymbol(e,t,n){const r=new a.Range(t.range.start.line,t.range.start.character,t.range.end.line,t.range.end.character);return{containerName:t.namespace,kind:n,name:t.name,location:new a.Location(e,r)}}async getSymbols(e,t){try{if(e.isUntitled)return;const n=[e.uri.fsPath];e.isDirty&&n.push(e.getText());const r=this.configurationService.getSettings(e.uri).pythonPath,i=[o.join(d.EXTENSION_ROOT_DIR,"pythonFiles","symbolProvider.py"),...n],s=await this.processServiceFactory.create(e.uri),a=await s.exec(r,i,{throwOnStdErr:!0,token:t});return JSON.parse(a.stdout)}catch(e){return void c.traceError("Python: Failed to get symbols",e)}}};h=r([s.injectable(),i(0,s.inject(u.IConfigurationService)),i(1,s.inject(l.IProcessServiceFactory))],h),t.TestFileSymbolProvider=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(1),c=n(10),l=n(25),u=n(253),d=n(18),h=n(21);let p=class extends u.BaseTestManager{constructor(e,t,n){super(l.NOSETEST_PROVIDER,a.Product.nosetest,e,t,n),this.argsService=this.serviceContainer.get(h.IArgumentsService,this.testProvider),this.helper=this.serviceContainer.get(d.ITestsHelper),this.runner=this.serviceContainer.get(h.ITestManagerRunner,this.testProvider)}get enabled(){return this.settings.testing.nosetestsEnabled}getDiscoveryOptions(e){const t=this.settings.testing.nosetestArgs.slice(0);return{workspaceFolder:this.workspaceFolder,cwd:this.rootDirectory,args:t,token:this.testDiscoveryCancellationToken,ignoreCache:e,outChannel:this.outputChannel}}runTestImpl(e,t,n,r){let i;const s=this.helper.shouldRunAllTests(t);i=r?this.argsService.filterArguments(this.settings.testing.nosetestArgs,s?h.TestFilter.debugAll:h.TestFilter.debugSpecific):this.argsService.filterArguments(this.settings.testing.nosetestArgs,s?h.TestFilter.runAll:h.TestFilter.runSpecific),!0===n&&-1===i.indexOf("--failed")&&i.splice(0,0,"--failed"),n||-1!==i.indexOf("--with-id")||i.splice(0,0,"--with-id");const a={workspaceFolder:o.Uri.file(this.rootDirectory),cwd:this.rootDirectory,tests:e,args:i,testsToRun:t,token:this.testRunnerCancellationToken,outChannel:this.outputChannel,debug:r};return this.runner.runTest(this.testResultsService,a,this)}};p=r([s.injectable(),i(2,s.inject(c.IServiceContainer))],p),t.TestManager=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8),a=n(16),c=n(10),l=n(25),u=n(18),d=n(21);let h=class{constructor(e){this.serviceContainer=e,this.argsService=e.get(d.IArgumentsService,l.NOSETEST_PROVIDER),this.argsHelper=e.get(d.IArgumentsHelper),this.testRunner=e.get(u.ITestRunner),this.xUnitParser=this.serviceContainer.get(u.IXUnitParser),this.fs=this.serviceContainer.get(o.IFileSystem)}async runTest(e,t,n){let r=[];t.testsToRun&&t.testsToRun.testFolder&&(r=r.concat(t.testsToRun.testFolder.map(e=>e.nameToRun))),t.testsToRun&&t.testsToRun.testFile&&(r=r.concat(t.testsToRun.testFile.map(e=>e.nameToRun))),t.testsToRun&&t.testsToRun.testSuite&&(r=r.concat(t.testsToRun.testSuite.map(e=>e.nameToRun))),t.testsToRun&&t.testsToRun.testFunction&&(r=r.concat(t.testsToRun.testFunction.map(e=>e.nameToRun)));let i=a.noop;const s=t.args;-1===s.indexOf("--with-xunit")&&s.splice(0,0,"--with-xunit");try{const n=await this.getUnitXmlFile(s),o=n.filePath;i=n.dispose;const a=this.argsService.filterArguments(s,["--xunit-file"]);if(a.splice(0,0,`--xunit-file=${o}`),a.push(...r),!0===t.debug){const e=this.serviceContainer.get(u.ITestDebugLauncher),n=[t.cwd,"nose"].concat(a),r={cwd:t.cwd,args:n,token:t.token,outChannel:t.outChannel,testProvider:l.NOSETEST_PROVIDER};await e.launchDebugger(r)}else{const e={args:a.concat(r),cwd:t.cwd,outChannel:t.outChannel,token:t.token,workspaceFolder:t.workspaceFolder};await this.testRunner.run(l.NOSETEST_PROVIDER,e)}return t.debug?t.tests:await this.updateResultsFromLogFiles(t.tests,o,e)}catch(e){return Promise.reject(e)}finally{i()}}async updateResultsFromLogFiles(e,t,n){return await this.xUnitParser.updateResultsFromXmlLogFile(e,t),n.updateResults(e),e}async getUnitXmlFile(e){const t=this.argsHelper.getOptionValues(e,"--xunit-file");return"string"==typeof t?{filePath:t,dispose:a.noop}:this.fs.createTemporaryFile(".xml")}};h=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],h),t.TestManagerRunner=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(21),c=["--attr","--config","--cover-html-dir","--cover-min-percentage","--cover-package","--cover-xml-file","--debug","--debug-log","--doctest-extension","--doctest-fixtures","--doctest-options","--doctest-result-variable","--eval-attr","--exclude","--id-file","--ignore-files","--include","--log-config","--logging-config","--logging-datefmt","--logging-filter","--logging-format","--logging-level","--match","--process-timeout","--processes","--py3where","--testmatch","--tests","--verbosity","--where","--xunit-file","--xunit-testsuite-name","-A","-a","-c","-e","-i","-I","-l","-m","-w","--profile-restrict","--profile-sort","--profile-stats-file"],l=["-h","--help","-V","--version","-p","--plugins","-v","--verbose","--quiet","-x","--stop","-P","--no-path-adjustment","--exe","--noexe","--traverse-namespace","--first-package-wins","--first-pkg-wins","--1st-pkg-wins","--no-byte-compile","-s","--nocapture","--nologcapture","--logging-clear-handlers","--with-coverage","--cover-erase","--cover-tests","--cover-inclusive","--cover-html","--cover-branches","--cover-xml","--pdb","--pdb-failures","--pdb-errors","--no-deprecated","--with-doctest","--doctest-tests","--with-isolation","-d","--detailed-errors","--failure-detail","--no-skip","--with-id","--failed","--process-restartworker","--with-xunit","--all-modules","--collect-only","--with-profile"];let u=class{constructor(e){this.helper=e.get(a.IArgumentsHelper)}getKnownOptions(){return{withArgs:c,withoutArgs:l}}getOptionValue(e,t){return this.helper.getOptionValues(e,t)}filterArguments(e,t){const n=[],r=[];let i=!1;if(Array.isArray(t))t.forEach(e=>{c.indexOf(e)>=0&&r.push(e),l.indexOf(e)>=0&&n.push(e)});else switch(t){case a.TestFilter.removeTests:i=!0;break;case a.TestFilter.discovery:n.push("-v","--verbose","-q","--quiet","-x","--stop","--with-coverage",...l.filter(e=>e.startsWith("--cover")),...l.filter(e=>e.startsWith("--logging")),...l.filter(e=>e.startsWith("--pdb")),...l.filter(e=>e.indexOf("xunit")>=0)),r.push("--verbosity","-l","--debug","--cover-package",...l.filter(e=>e.startsWith("--cover")),...c.filter(e=>e.startsWith("--logging")),...l.filter(e=>e.indexOf("xunit")>=0));break;case a.TestFilter.debugAll:case a.TestFilter.runAll:break;case a.TestFilter.debugSpecific:case a.TestFilter.runSpecific:i=!0;break;default:throw new Error(`Unsupported Filter '${t}'`)}let s=e.slice();if(i){const e=this.helper.getPositionalArguments(s,c,l);s=s.filter(t=>-1===e.indexOf(t))}return this.helper.filterArguments(s,r,n)}getTestFolders(e){return this.helper.getPositionalArguments(e,c,l)}};u=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],u),t.ArgumentsService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(10),c=n(25),l=n(18),u=n(21);let d=class{constructor(e,t){this.serviceContainer=e,this.testParser=t,this.argsService=this.serviceContainer.get(u.IArgumentsService,c.NOSETEST_PROVIDER),this.runner=this.serviceContainer.get(l.ITestRunner)}async discoverTests(e){const t=this.argsService.filterArguments(e.args,u.TestFilter.discovery),n=e.token?e.token:(new o.CancellationTokenSource).token,r={args:["--collect-only","-vvv"].concat(t),cwd:e.cwd,workspaceFolder:e.workspaceFolder,token:n,outChannel:e.outChannel},i=await this.runner.run(c.NOSETEST_PROVIDER,r);return e.token&&e.token.isCancellationRequested?Promise.reject("cancelled"):this.testParser.parse(i,e)}};d=r([s.injectable(),i(0,s.inject(a.IServiceContainer)),i(1,s.inject(l.ITestsParser)),i(1,s.named(c.NOSETEST_PROVIDER))],d),t.TestDiscoveryService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(22),a=n(3),c=n(2),l=n(54),u=n(18);let d=class{constructor(e){this.testsHelper=e}parse(e,t){let n=this.getTestFiles(e,t);return n=n.filter(e=>e.suites.length>0||e.functions.length>0),this.testsHelper.flattenTestFiles(n,t.cwd)}getTestFiles(e,t){let n=[""];const r=[];return e.split(/\r?\n/g).forEach((i,s,a)=>{if((i.startsWith("nose.selector: DEBUG: wantFile ")&&i.endsWith(".py? True")||s===a.length-1)&&(this.parseNoseTestModuleCollectionResult(t.cwd,n,r),n=[""]),0===s)return e.startsWith(o.EOL)||a.length>1?void this.appendLine(i,n):void(n[n.length-1]+=i);s!==a.length-1?this.appendLine(i,n):n[n.length-1]+=i}),r}appendLine(e,t){const n=t.length-1;t[n]+=e,t[n].endsWith("? True")?t.push(""):t[n]=""}parseNoseTestModuleCollectionResult(e,t,n){let r,i="",s="";const o=c.Uri.file(e);t.forEach(t=>{if(t.startsWith("nose.selector: DEBUG: wantFile ")&&t.endsWith(".py? True")){s=(s=(s=t.substring("nose.selector: DEBUG: wantFile ".length)).substring(0,s.lastIndexOf("? True"))).substring(e.length+1),".pyc"!==a.extname(s)&&".pyo"!==a.extname(s)||(s=s.substring(0,s.length-1)),i=l.convertFileToPackage(s);const c=a.isAbsolute(s)?s:a.resolve(e,s);return r={resource:o,functions:[],suites:[],name:s,nameToRun:s,xmlName:i,time:0,functionsFailed:0,functionsPassed:0,fullPath:c},void n.push(r)}if(t.startsWith("nose.selector: DEBUG: wantClass <class '")){const e=l.extractBetweenDelimiters(t,"nose.selector: DEBUG: wantClass <class '","'>? True"),n=a.extname(e).substring(1),i={resource:o,name:n,nameToRun:`${s}:${n}`,functions:[],suites:[],xmlName:e,time:0,isUnitTest:!1,isInstance:!1,functionsFailed:0,functionsPassed:0};r.suites.push(i)}else if(t.startsWith("nose.selector: DEBUG: wantClass ")){const e=l.extractBetweenDelimiters(t,"nose.selector: DEBUG: wantClass ","? True"),n={resource:o,name:a.extname(e).substring(1),nameToRun:`${s}:.${e}`,functions:[],suites:[],xmlName:e,time:0,isUnitTest:!1,isInstance:!1,functionsFailed:0,functionsPassed:0};r.suites.push(n)}else if(t.startsWith("nose.selector: DEBUG: wantMethod <unbound method ")){const e=l.extractBetweenDelimiters(t,"nose.selector: DEBUG: wantMethod <unbound method ",">? True"),n=a.extname(e).substring(1),i=a.basename(e,a.extname(e)),c={resource:o,name:n,nameToRun:`${s}:${i}.${n}`,time:0,functionsFailed:0,functionsPassed:0},u=r.suites.find(e=>e.name===i);u&&u.functions.push(c)}else if(t.startsWith("nose.selector: DEBUG: wantFunction <function ")){const e=l.extractBetweenDelimiters(t,"nose.selector: DEBUG: wantFunction <function "," at "),n={resource:o,name:e,nameToRun:`${s}:${e}`,time:0,functionsFailed:0,functionsPassed:0};r.functions.push(n)}else;})}};d=r([s.injectable(),i(0,s.inject(u.ITestsHelper))],d),t.TestsParser=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(25),s=n(253),o=n(18),a=n(21);t.TestManager=class extends s.BaseTestManager{constructor(e,t,n){super(i.PYTEST_PROVIDER,r.Product.pytest,e,t,n),this.argsService=this.serviceContainer.get(a.IArgumentsService,this.testProvider),this.helper=this.serviceContainer.get(o.ITestsHelper),this.runner=this.serviceContainer.get(a.ITestManagerRunner,this.testProvider),this.testMessageService=this.serviceContainer.get(o.ITestMessageService,this.testProvider)}get enabled(){return this.settings.testing.pytestEnabled}getDiscoveryOptions(e){const t=this.settings.testing.pytestArgs.slice(0);return{workspaceFolder:this.workspaceFolder,cwd:this.rootDirectory,args:t,token:this.testDiscoveryCancellationToken,ignoreCache:e,outChannel:this.outputChannel}}async runTestImpl(e,t,n,r){let i;const s=this.helper.shouldRunAllTests(t);i=r?this.argsService.filterArguments(this.settings.testing.pytestArgs,s?a.TestFilter.debugAll:a.TestFilter.debugSpecific):this.argsService.filterArguments(this.settings.testing.pytestArgs,s?a.TestFilter.runAll:a.TestFilter.runSpecific),!0===n&&-1===i.indexOf("--lf")&&-1===i.indexOf("--last-failed")&&i.splice(0,0,"--last-failed");const o={workspaceFolder:this.workspaceFolder,cwd:this.rootDirectory,tests:e,args:i,testsToRun:t,debug:r,token:this.testRunnerCancellationToken,outChannel:this.outputChannel},c=await this.runner.runTest(this.testResultsService,o,this),l=await this.testMessageService.getFilteredTestMessages(this.rootDirectory,c);return await this.updateDiagnostics(e,l),c}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(8),a=n(16),c=n(10),l=n(25),u=n(18),d=n(21);let h=class{constructor(e){this.serviceContainer=e,this.argsService=e.get(d.IArgumentsService,l.PYTEST_PROVIDER),this.argsHelper=e.get(d.IArgumentsHelper),this.testRunner=e.get(u.ITestRunner),this.xUnitParser=this.serviceContainer.get(u.IXUnitParser),this.fs=this.serviceContainer.get(o.IFileSystem)}async runTest(e,t,n){let r=[];t.testsToRun&&t.testsToRun.testFolder&&(r=r.concat(t.testsToRun.testFolder.map(e=>e.nameToRun))),t.testsToRun&&t.testsToRun.testFile&&(r=r.concat(t.testsToRun.testFile.map(e=>e.nameToRun))),t.testsToRun&&t.testsToRun.testSuite&&(r=r.concat(t.testsToRun.testSuite.map(e=>e.nameToRun))),t.testsToRun&&t.testsToRun.testFunction&&(r=r.concat(t.testsToRun.testFunction.map(e=>e.nameToRun)));let i=a.noop;const s=t.args;try{const n=await this.getJUnitXmlFile(s),o=n.filePath;i=n.dispose;const a=this.argsService.filterArguments(s,["--junitxml"]);if(a.splice(0,0,`--junitxml=${o}`),a.splice(0,0,"--rootdir",t.workspaceFolder.fsPath),a.push(...r),t.debug){const e=this.serviceContainer.get(u.ITestDebugLauncher),n=[t.cwd,"pytest"].concat(a),r={cwd:t.cwd,args:n,token:t.token,outChannel:t.outChannel,testProvider:l.PYTEST_PROVIDER};await e.launchDebugger(r)}else{const e={args:a,cwd:t.cwd,outChannel:t.outChannel,token:t.token,workspaceFolder:t.workspaceFolder};await this.testRunner.run(l.PYTEST_PROVIDER,e)}return t.debug?t.tests:await this.updateResultsFromLogFiles(t.tests,o,e)}catch(e){return Promise.reject(e)}finally{i()}}async updateResultsFromLogFiles(e,t,n){return await this.xUnitParser.updateResultsFromXmlLogFile(e,t),n.updateResults(e),e}async getJUnitXmlFile(e){const t=this.argsHelper.getOptionValues(e,"--junitxml");return"string"==typeof t?{filePath:t,dispose:a.noop}:this.fs.createTemporaryFile(".xml")}};h=r([s.injectable(),i(0,s.inject(c.IServiceContainer))],h),t.TestManagerRunner=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(21),c=["-c","-k","-m","-o","-p","-r","-W","-n","--assert","--basetemp","--capture","--color","--confcutdir","--cov","--cov-config","--cov-fail-under","--cov-report","--deselect","--dist","--doctest-glob","--doctest-report","--durations","--ignore","--import-mode","--junit-prefix","--junit-xml","--last-failed-no-failures","--lfnf","--log-cli-date-format","--log-cli-format","--log-cli-level","--log-date-format","--log-file","--log-file-date-format","--log-file-format","--log-file-level","--log-format","--log-level","--maxfail","--override-ini","--pastebin","--pdbcls","--pythonwarnings","--result-log","--rootdir","--show-capture","--tb","--verbosity","--max-slave-restart","--numprocesses","--rsyncdir","--rsyncignore","--tx"],l=["--cache-clear","--cache-show","--collect-in-virtualenv","--collect-only","--continue-on-collection-errors","--cov-append","--cov-branch","--debug","--disable-pytest-warnings","--disable-warnings","--doctest-continue-on-failure","--doctest-ignore-import-errors","--doctest-modules","--exitfirst","--failed-first","--ff","--fixtures","--fixtures-per-test","--force-sugar","--full-trace","--funcargs","--help","--keep-duplicates","--last-failed","--lf","--markers","--new-first","--nf","--no-cov","--no-cov-on-fail","--no-print-logs","--noconftest","--old-summary","--pdb","--pyargs","-PyTest, Unittest-pyargs","--quiet","--runxfail","--setup-only","--setup-plan","--setup-show","--showlocals","--strict","--trace-config","--verbose","--version","-h","-l","-q","-s","-v","-x","--boxed","--forked","--looponfail","--trace","--tx","-d"];let u=class{constructor(e){this.helper=e.get(a.IArgumentsHelper)}getKnownOptions(){return{withArgs:c,withoutArgs:l}}getOptionValue(e,t){return this.helper.getOptionValues(e,t)}filterArguments(e,t){const n=[],r=[];let i=!1;if(Array.isArray(t))t.forEach(e=>{c.indexOf(e)>=0&&r.push(e),l.indexOf(e)>=0&&n.push(e)});else switch(t){case a.TestFilter.removeTests:n.push("--lf","--last-failed","--ff","--failed-first","--nf","--new-first"),r.push("-k","-m","--lfnf","--last-failed-no-failures"),i=!0;break;case a.TestFilter.discovery:n.push("-x","--exitfirst","--fixtures","--funcargs","--fixtures-per-test","--pdb","--lf","--last-failed","--ff","--failed-first","--nf","--new-first","--cache-show","-v","--verbose","-q","-quiet","-l","--showlocals","--no-print-logs","--debug","--setup-only","--setup-show","--setup-plan","--trace"),r.push("-m","--maxfail","--pdbcls","--capture","--lfnf","--last-failed-no-failures","--verbosity","-r","--tb","--rootdir","--show-capture","--durations","--junit-xml","--junit-prefix","--result-log","-W","--pythonwarnings","--log-*"),i=!0;break;case a.TestFilter.debugAll:case a.TestFilter.runAll:n.push("--collect-only","--trace");break;case a.TestFilter.debugSpecific:case a.TestFilter.runSpecific:n.push("--collect-only","--lf","--last-failed","--ff","--failed-first","--nf","--new-first","--trace"),r.push("-k","-m","--lfnf","--last-failed-no-failures"),i=!0;break;default:throw new Error(`Unsupported Filter '${t}'`)}let s=e.slice();if(i){const e=this.helper.getPositionalArguments(s,c,l);s=s.filter(t=>-1===e.indexOf(t))}return this.helper.filterArguments(s,r,n)}getTestFolders(e){const t=this.helper.getOptionValues(e,"--rootdir");return"string"==typeof t?[t]:Array.isArray(t)&&t.length>0?t:this.helper.getPositionalArguments(e,c,l).filter(e=>!e.toUpperCase().endsWith(".PY"))}};u=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],u),t.ArgumentsService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(2),a=n(10),c=n(25),l=n(18),u=n(21);let d=class{constructor(e){this.serviceContainer=e,this.argsService=this.serviceContainer.get(u.IArgumentsService,c.PYTEST_PROVIDER),this.helper=this.serviceContainer.get(l.ITestsHelper)}async discoverTests(e){const t=this.buildTestCollectionArgs(e),n=this.argsService.getTestFolders(e.args);if(0===n.length){const n={...e,args:t};return this.discoverTestsInTestDirectory(n)}const r=await Promise.all(n.map(n=>{const r={...e,args:[...t,n]};return this.discoverTestsInTestDirectory(r)}));return this.helper.mergeTests(r)}buildTestCollectionArgs(e){const t=this.argsService.filterArguments(e.args,u.TestFilter.discovery);return e.ignoreCache&&-1===t.indexOf("--cache-clear")&&t.splice(0,0,"--cache-clear"),-1===t.indexOf("-s")&&t.splice(0,0,"-s"),t.splice(0,0,"--rootdir",e.workspaceFolder.fsPath),t}async discoverTestsInTestDirectory(e){const t=e.token?e.token:(new o.CancellationTokenSource).token,n={...e};n.args=["discover","pytest","--",...e.args],n.token=t;const r=this.serviceContainer.get(l.ITestDiscoveryService,"common");return n.token&&n.token.isCancellationRequested?Promise.reject("cancelled"):r.discoverTests(n)}};d=r([s.injectable(),i(0,s.inject(a.IServiceContainer))],d),t.TestDiscoveryService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2);n(7);const c=n(156),l=n(8),u=n(1),d=n(10),h=n(18),p=n(21);let f=class{constructor(e){this.serviceContainer=e}async getFilteredTestMessages(e,t){const n=t.testFunctions.reduce((e,t)=>(void 0===t.testFunction.passed&&t.testFunction.status!==h.TestStatus.Skipped||e.push(t),e),[]),r=[];for(const t of n){const n=t.testFunction.nameToRun,i=c.ProductNames.get(u.Product.pytest),s=t.testFunction.status;if(s===h.TestStatus.Pass){const e={code:n,severity:p.PythonTestMessageSeverity.Pass,provider:i,testTime:t.testFunction.time,status:s,testFilePath:t.parentTestFile.fullPath};r.push(e)}else{const o=await this.getLocationStack(e,t),a=t.testFunction.message,c=t.parentTestFile.fullPath;let l=p.PythonTestMessageSeverity.Error;t.testFunction.status===h.TestStatus.Skipped&&(l=p.PythonTestMessageSeverity.Skip);const u={code:n,message:a,severity:l,provider:i,traceback:t.testFunction.traceback,testTime:t.testFunction.time,testFilePath:c,status:s,locationStack:o};r.push(u)}}return r}async getLocationStack(e,t){const n=[];if(t.testFunction.traceback){const r=t.testFunction.traceback.match(/^((\.\.[\\\/])*.+\.py)\:(\d+)\:.*$/gim)||[];for(const t of r){const r=t.split(":");let i=r[0];i=o.isAbsolute(i)?i:o.resolve(e,i);const s=a.Uri.file(i),c=await a.workspace.openTextDocument(s),l=parseInt(r[1],10),u=c.lineAt(l-1),d=new a.Location(s,new a.Range(new a.Position(l-1,u.firstNonWhitespaceCharacterIndex),new a.Position(l-1,u.text.length))),h={location:d,lineText:c.getText(d.range)};n.push(h)}}let r=t.testFunction.file;r=o.isAbsolute(r)?r:o.resolve(e,r);const i=a.Uri.file(r),s=await a.workspace.openTextDocument(i);let c=null,u=t.testFunction.line,d="",h="";let p="";for(;null===c;){const e=s.lineAt(u);(h=(d=e.text).trimLeft()).toLowerCase().startsWith("def ")?(c=e,p="def "):h.toLowerCase().startsWith("async def ")?(c=e,p="async def "):u+=1}const f=h.slice(p.length).match(/[^ \(:]+/),m=f?f[0]:"",g=d.length-h.length+p.length,y=g+m.length,v=new a.Position(c.lineNumber,g),_=new a.Position(c.lineNumber,y),b=new a.Range(v,_),S={location:new a.Location(i,b),lineText:s.getText(b)};if(n.unshift(S),void 0!==t.parentTestSuite){this.serviceContainer.get(l.IFileSystem).arePathsSame(a.Uri.file(t.parentTestFile.fullPath).fsPath,n[0].location.uri.fsPath)||n.unshift(await this.getParentSuiteLocation(t))}return n}async getParentSuiteLocation(e){const t=e.testFunction.nameToRun.replace("::()","").split("::"),n=t.slice(1,t.length-1),r=a.Uri.file(e.parentTestFile.fullPath),i=await a.workspace.openTextDocument(r),s=i.getText().splitLines({trim:!1,removeEmptyEntries:!1}),o=s.slice().reverse();let c,l=0,u=s.length;const d=[];for(;n.length>0;){let e,t=0;const s=n.shift();let h;for(let n=l;n<u;n+=1){const r=o[n];if(0===r.trim().length)continue;const i=r.trimLeft();if(!i.toLowerCase().startsWith("class "))continue;const a=i.slice("class ".length).match(/[^ \(:]+/),u=a?a[0]:void 0;if(void 0===c){if(i.length===r.length){if(u===s){h=n,t=0;break}l=n+1}}else{if((t=r.length-i.length)<=c){l=n+1;continue}(void 0===e||t<e)&&(u===s?(h=n,e=t):l=n+1)}}if(void 0===h)break;u=h,c=t;const p=o.length-1-h,f=t+"class ".length,m=new a.Position(p,f),g=new a.Position(p,f+s.length),y=new a.Range(m,g),v=new a.Location(r,y);d.push({location:v,lineText:i.getText(y)})}return d[d.length-1]}};f=r([s.injectable(),i(0,s.inject(d.IServiceContainer))],f),t.TestMessageService=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(21);let c=class{constructor(e){this.argsHelper=e.get(a.IArgumentsHelper)}getStartDirectory(e){const t=this.argsHelper.getOptionValues(e,"-s");if("string"==typeof t)return t;const n=this.argsHelper.getOptionValues(e,"--start-directory");return"string"==typeof n?n:"."}getIdsOfTestsToRun(e,t){const n=[];return t&&t.testFolder&&t.testFolder.forEach(t=>{e.testFiles.forEach(e=>{e.fullPath.startsWith(t.name)&&n.push(e.nameToRun)})}),t&&t.testFile&&n.push(...t.testFile.map(e=>e.nameToRun)),t&&t.testSuite&&n.push(...t.testSuite.map(e=>e.nameToRun)),t&&t.testFunction&&n.push(...t.testFunction.map(e=>e.nameToRun)),n}};c=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],c),t.UnitTestHelper=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(16),s=n(25),o=n(253),a=n(18),c=n(21);t.TestManager=class extends o.BaseTestManager{constructor(e,t,n){super(s.UNITTEST_PROVIDER,r.Product.unittest,e,t,n),this.argsService=this.serviceContainer.get(c.IArgumentsService,this.testProvider),this.helper=this.serviceContainer.get(a.ITestsHelper),this.runner=this.serviceContainer.get(c.ITestManagerRunner,this.testProvider)}get enabled(){return this.settings.testing.unittestEnabled}configure(){i.noop()}getDiscoveryOptions(e){const t=this.settings.testing.unittestArgs.slice(0);return{workspaceFolder:this.workspaceFolder,cwd:this.rootDirectory,args:t,token:this.testDiscoveryCancellationToken,ignoreCache:e,outChannel:this.outputChannel}}async runTest(e,t,n,r){return!0===n&&this.tests&&((t={testFile:[],testFolder:[],testSuite:[],testFunction:[]}).testFunction=this.tests.testFunctions.filter(e=>e.testFunction.status===a.TestStatus.Error||e.testFunction.status===a.TestStatus.Fail).map(e=>e.testFunction)),super.runTest(e,t,n,r)}async runTestImpl(e,t,n,r){let i;const s=this.helper.shouldRunAllTests(t);i=r?this.argsService.filterArguments(this.settings.testing.unittestArgs,s?c.TestFilter.debugAll:c.TestFilter.debugSpecific):this.argsService.filterArguments(this.settings.testing.unittestArgs,s?c.TestFilter.runAll:c.TestFilter.runSpecific);const o={workspaceFolder:this.workspaceFolder,cwd:this.rootDirectory,tests:e,args:i,testsToRun:t,debug:r,token:this.testRunnerCancellationToken,outChannel:this.outputChannel};return this.runner.runTest(this.testResultsService,o,this)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(13),c=n(1),l=n(17),u=n(16),d=n(10),h=n(25),p=n(18),f=n(21),m=new Map;m.set("passed",{status:p.TestStatus.Pass,summaryProperty:"passed"}),m.set("failed",{status:p.TestStatus.Fail,summaryProperty:"failures"}),m.set("error",{status:p.TestStatus.Error,summaryProperty:"errors"}),m.set("skipped",{status:p.TestStatus.Skipped,summaryProperty:"skipped"});let g=class{constructor(e){this.serviceContainer=e,this.argsHelper=e.get(f.IArgumentsHelper),this.testRunner=e.get(p.ITestRunner),this.server=this.serviceContainer.get(p.IUnitTestSocketServer),this.logger=this.serviceContainer.get(c.ILogger),this.helper=this.serviceContainer.get(f.IUnitTestHelper),this.serviceContainer.get(c.IDisposableRegistry).push(this.server)}async runTest(e,t,n){if(this.busy&&!this.busy.completed)return this.busy.promise;this.busy=l.createDeferred(),t.tests.summary.errors=0,t.tests.summary.failures=0,t.tests.summary.passed=0,t.tests.summary.skipped=0;let r=!1;const i=o.join(a.EXTENSION_ROOT_DIR,"pythonFiles","visualstudio_py_testlauncher.py");this.server.on("error",(e,...t)=>this.logger.logError(`${e} ${t.join(" ")}`)),this.server.on("log",u.noop),this.server.on("connect",u.noop),this.server.on("start",u.noop),this.server.on("result",e=>{const i=t.tests.testFunctions.find(t=>t.testFunction.nameToRun===e.test),s=m.get(e.outcome);if(i){switch(i.testFunction.status=s.status,i.testFunction.status){case p.TestStatus.Error:case p.TestStatus.Fail:i.testFunction.passed=!1;break;case p.TestStatus.Pass:i.testFunction.passed=!0;break;default:i.testFunction.passed=void 0}i.testFunction.message=e.message,i.testFunction.traceback=e.traceback,t.tests.summary[s.summaryProperty]+=1,!r||"failures"!==s.summaryProperty&&"errors"!==s.summaryProperty||n.stop()}else s&&(t.tests.summary[s.summaryProperty]+=1)});const s=await this.server.start(),c=this.helper.getIdsOfTestsToRun(t.tests,t.testsToRun);for(let e=0;e<c.length;e+=1)c[e]=`-t${c[e].trim()}`;const d=async(e="",n="")=>{let o=this.buildTestArgs(t.args);if(r=o.indexOf("--uf")>=0,(o=o.filter(e=>"--uf"!==e)).push(`--result-port=${s}`),n.length>0&&o.push(`-t${n}`),e.length>0&&o.push(`--testFile=${e}`),!0===t.debug){const e=this.serviceContainer.get(p.ITestDebugLauncher);o.push("--debug");const n={cwd:t.cwd,args:o,token:t.token,outChannel:t.outChannel,testProvider:h.UNITTEST_PROVIDER};return e.launchDebugger(n)}{const e={args:[i].concat(o),cwd:t.cwd,outChannel:t.outChannel,token:t.token,workspaceFolder:t.workspaceFolder};await this.testRunner.run(h.UNITTEST_PROVIDER,e)}};if(0===c.length)await this.removeListenersAfter(d());else if(t.testsToRun){if(Array.isArray(t.testsToRun.testFile))for(const e of t.testsToRun.testFile)await d(e.fullPath,e.nameToRun);if(Array.isArray(t.testsToRun.testSuite))for(const e of t.testsToRun.testSuite){const n=t.tests.testSuites.find(t=>t.testSuite===e);if(n){const t=n.parentTestFile.fullPath;await d(t,e.nameToRun)}}if(Array.isArray(t.testsToRun.testFunction))for(const e of t.testsToRun.testFunction){const n=t.tests.testFunctions.find(t=>t.testFunction===e);if(n){const t=n.parentTestFile.fullPath;await d(t,e.nameToRun)}}await this.removeListenersAfter(Promise.resolve())}return e.updateResults(t.tests),this.busy.resolve(t.tests),t.tests}async removeListenersAfter(e){return e.then(()=>this.server.removeAllListeners()).catch(e=>{throw this.server.removeAllListeners(),e})}buildTestArgs(e){const t=this.helper.getStartDirectory(e);let n="test*.py";const r=this.argsHelper.getOptionValues(e,"-p"),i=this.argsHelper.getOptionValues(e,"-pattern");"string"==typeof r?n=r:"string"==typeof i&&(n=i);const s=e.some(e=>"-f"===e.trim()||"--failfast"===e.trim()),o=[`--us=${t}`,`--up=${n}`,`--uvInt=${e.some(e=>0===e.trim().indexOf("-v"))?2:1}`];return s&&o.push("--uf"),o}};g=r([s.injectable(),i(0,s.inject(d.IServiceContainer))],g),t.TestManagerRunner=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(21),c=["-k","-p","-s","-t","--pattern","--start-directory","--top-level-directory"],l=["-b","-c","-f","-h","-q","-v","--buffer","--catch","--failfast","--help","--locals","--quiet","--verbose"];let u=class{constructor(e){this.helper=e.get(a.IArgumentsHelper)}getKnownOptions(){return{withArgs:c,withoutArgs:l}}getOptionValue(e,t){return this.helper.getOptionValues(e,t)}filterArguments(e,t){const n=[],r=[];let i=!1;Array.isArray(t)?t.forEach(e=>{c.indexOf(e)>=0&&r.push(e),l.indexOf(e)>=0&&n.push(e)}):i=!0;let s=e.slice();if(i){const e=this.helper.getPositionalArguments(s,c,l);s=s.filter(t=>-1===e.indexOf(t))}return this.helper.filterArguments(s,r,n)}getTestFolders(e){const t=this.helper.getOptionValues(e,"-s");if("string"==typeof t)return[t];const n=this.helper.getOptionValues(e,"--start-directory");return"string"==typeof n?[n]:["."]}};u=r([s.injectable(),i(0,s.inject(o.IServiceContainer))],u),t.ArgumentsService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(10),a=n(25),c=n(18),l=n(21);let u=class{constructor(e,t){this.testParser=t,this.argsHelper=e.get(l.IArgumentsHelper),this.runner=e.get(c.ITestRunner)}async discoverTests(e){const t=this.getDiscoveryScript(e),n=this.translateOptions(e),r={args:["-c",t],cwd:e.cwd,workspaceFolder:e.workspaceFolder,token:e.token,outChannel:e.outChannel},i=await this.runner.run(a.UNITTEST_PROVIDER,r);return e.token&&e.token.isCancellationRequested?Promise.reject("cancelled"):this.testParser.parse(i,n)}getDiscoveryScript(e){const t=this.translateOptions(e);return`\nimport unittest\nloader = unittest.TestLoader()\nsuites = loader.discover("${t.startDirectory}", pattern="${t.pattern}")\nprint("start") #Don't remove this line\nfor suite in suites._tests:\n    for cls in suite._tests:\n        try:\n            for m in cls._tests:\n                print(m.id())\n        except:\n            pass`}translateOptions(e){return{...e,startDirectory:this.getStartDirectory(e),pattern:this.getTestPattern(e)}}getStartDirectory(e){const t=this.argsHelper.getOptionValues(e.args,"-s");if("string"==typeof t)return t;const n=this.argsHelper.getOptionValues(e.args,"--start-directory");return"string"==typeof n?n:"."}getTestPattern(e){const t=this.argsHelper.getOptionValues(e.args,"-p");if("string"==typeof t)return t;const n=this.argsHelper.getOptionValues(e.args,"--pattern");return"string"==typeof n?n:"test*.py"}};u=r([s.injectable(),i(0,s.inject(o.IServiceContainer)),i(1,s.inject(c.ITestsParser)),i(1,s.named(a.UNITTEST_PROVIDER))],u),t.TestDiscoveryService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),o=n(3),a=n(2),c=n(18);let l=class{constructor(e){this.testsHelper=e}parse(e,t){const n=this.getTestIds(e);let r=t.cwd;return t.startDirectory.length>1&&(r=o.isAbsolute(t.startDirectory)?t.startDirectory:o.resolve(t.cwd,t.startDirectory)),this.parseTestIds(t.cwd,r,n)}getTestIds(e){let t=!1;return e.split(/\r?\n/g).map(e=>t?e.trim():("start"===e&&(t=!0),"")).filter(e=>e.length>0)}parseTestIds(e,t,n){const r=[];return n.forEach(e=>this.addTestId(t,e,r)),this.testsHelper.flattenTestFiles(r,e)}addTestId(e,t,n){const r=t.split(".");if(r.length<=2)return null;const i=r.slice(0,r.length-2),s=`${o.join(e,...i)}.py`,l=r.pop(),u=r.join("."),d=r.pop(),h=a.Uri.file(e);let p=n.find(e=>e.fullPath===s);p||(p={resource:h,name:o.basename(s),fullPath:s,functions:[],suites:[],nameToRun:`${u}.${l}`,xmlName:"",status:c.TestStatus.Idle,time:0},n.push(p));let f=p.suites.find(e=>e.nameToRun===u);f||(f={resource:h,name:d,functions:[],suites:[],isUnitTest:!0,isInstance:!1,nameToRun:u,xmlName:"",status:c.TestStatus.Idle,time:0},p.suites.push(f));const m={resource:h,name:l,nameToRun:t,status:c.TestStatus.Idle,time:0};f.functions.push(m)}};l=r([s.injectable(),i(0,s.inject(c.ITestsHelper))],l),t.TestsParser=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(56),s=n(0),o=n(154),a=n(17);let c=class extends i.EventEmitter{constructor(){super(),this.sockets=[],this.ipcBuffer=""}get clientsConnected(){return this.sockets.length>0}dispose(){this.stop()}stop(){this.server&&(this.server.close(),this.server=void 0)}start(e={port:0,host:"localhost"}){return this.ipcBuffer="",this.startedDef=a.createDeferred(),this.server=o.createServer(this.connectionListener.bind(this)),this.server.maxConnections=100,this.server.on("error",e=>{this.startedDef&&(this.startedDef.reject(e),this.startedDef=void 0),this.emit("error",e)}),this.log("starting server as","TCP"),e.port="number"==typeof e.port?e.port:0,e.host="string"==typeof e.host&&e.host.trim().length>0?e.host.trim():"localhost",this.server.listen(e,e=>{this.startedDef.resolve(this.server.address().port),this.startedDef=void 0,this.emit("start",e)}),this.startedDef.promise}connectionListener(e){this.sockets.push(e),e.setEncoding("utf8"),this.log("## socket connection to server detected ##"),e.on("close",()=>{this.ipcBuffer="",this.onCloseSocket()}),e.on("error",e=>{this.log("server socket error",e),this.emit("error",e)}),e.on("data",t=>{const n=e;let r=this.ipcBuffer+=t;for(;;){const e=r.indexOf("{");if(-1===e)return;const t=parseInt(r.slice(r.indexOf(":")+1,r.indexOf("{")).trim(),10);if(r.length<e+t)return;let i;try{i=JSON.parse(r.substring(e,t+e))}catch(e){return void this.emit("error",e)}r=this.ipcBuffer=r.substring(e+t),this.emit(i.event,i.body,n)}}),this.emit("connect",e)}log(e,...t){this.emit("log",e,...t)}onCloseSocket(){for(let e=0,t=this.sockets.length;e<t;e+=1){const t=this.sockets[e];let n=!1;if(!t||!t.readable)return t.id&&(n=t.id),this.log("socket disconnected",n.toString()),t&&t.destroy&&t.destroy(),this.sockets.splice(e,1),void this.emit("socket.disconnected",t,n)}}};c=r([s.injectable()],c),t.UnitTestSocketServer=c}]);
//# sourceMappingURL=extension.js.map