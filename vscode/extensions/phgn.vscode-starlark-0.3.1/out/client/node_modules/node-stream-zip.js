module.exports=function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=908)}({1:function(t,e){t.exports=require("util")},10:function(t,e){t.exports=require("stream")},28:function(t,e){t.exports=require("events")},39:function(t,e){t.exports=require("zlib")},46:function(t,e){t.exports=require("path")},8:function(t,e){t.exports=require("fs")},908:function(t,e,r){
/**
 * @license node-stream-zip | (c) 2015 Antelle | https://github.com/antelle/node-stream-zip/blob/master/LICENSE
 * Portions copyright https://github.com/cthackers/adm-zip | https://raw.githubusercontent.com/cthackers/adm-zip/master/LICENSE
 */
var i=r(1),n=r(8),s=r(46),o=r(28),a=r(39),f=r(10),h={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSIGFIRST:80,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,MAXFILECOMMENT:65535,ENDL64HDR:20,ENDL64SIG:117853008,ENDL64SIGFIRST:80,ENDL64OFS:8,END64HDR:56,END64SIG:101075792,END64SIGFIRST:80,END64SUB:24,END64TOT:32,END64SIZ:40,END64OFF:48,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,FLG_ENC:0,FLG_COMP1:1,FLG_COMP2:2,FLG_DESC:4,FLG_ENH:8,FLG_STR:16,FLG_LNG:1024,FLG_MSK:4096,FLG_ENTRY_ENC:1,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535},c=function(t){var e,r,i,o,f,c=this,p=!1!==t.storeEntries?{}:null,I=t.file;function y(t,e){if(t||!e)return c.emit("error",t||"Archive read error");for(var r=o.win.buffer,i=o.lastPos,n=i-o.win.position,s=o.minPos;--i>=s&&--n>=0;)if(r.length-n>=4&&r[n]===o.firstByte&&r.readUInt32LE(n)===o.sig)return o.lastBufferPosition=n,o.lastBytesRead=e,void o.complete();if(i===s)return c.emit("error","Bad archive");if(o.lastPos=i+1,o.chunkSize*=2,i<=s)return c.emit("error","Bad archive");var a=Math.min(o.chunkSize,i-s);o.win.expandLeft(a,y)}function S(){var t,e=o.win.buffer,r=o.lastBufferPosition;try{(f=new E).read(e.slice(r,r+h.ENDHDR)),f.headerOffset=o.win.position+r,f.commentLength?c.comment=e.slice(r+h.ENDHDR,r+h.ENDHDR+f.commentLength).toString():c.comment=null,c.entriesCount=f.volumeEntries,c.centralDirectory=f,f.volumeEntries===h.EF_ZIP64_OR_16&&f.totalEntries===h.EF_ZIP64_OR_16||f.size===h.EF_ZIP64_OR_32||f.offset===h.EF_ZIP64_OR_32?(t=h.ENDL64HDR,o.lastBufferPosition>t?(o.lastBufferPosition-=t,v()):(o={win:o.win,totalReadLength:t,minPos:o.win.position-t,lastPos:o.win.position,chunkSize:o.chunkSize,firstByte:h.ENDL64SIGFIRST,sig:h.ENDL64SIG,complete:v}).win.read(o.lastPos-o.chunkSize,o.chunkSize,y)):(o={},R())}catch(t){c.emit("error",t)}}function v(){var t=o.win.buffer,e=new u;e.read(t.slice(o.lastBufferPosition,o.lastBufferPosition+h.ENDL64HDR));var i=r-e.headerOffset;(o={win:o.win,totalReadLength:i,minPos:e.headerOffset,lastPos:o.lastPos,chunkSize:o.chunkSize,firstByte:h.END64SIGFIRST,sig:h.END64SIG,complete:O}).win.read(r-o.chunkSize,o.chunkSize,y)}function O(){var t=o.win.buffer,e=new l;e.read(t.slice(o.lastBufferPosition,o.lastBufferPosition+h.END64HDR)),c.centralDirectory.volumeEntries=e.volumeEntries,c.centralDirectory.totalEntries=e.totalEntries,c.centralDirectory.size=e.size,c.centralDirectory.offset=e.offset,c.entriesCount=e.volumeEntries,o={},R()}function R(){(o={win:new D(e),pos:f.offset,chunkSize:i,entriesLeft:f.volumeEntries}).win.read(o.pos,Math.min(i,r-o.pos),_)}function _(e,r){if(e||!r)return c.emit("error",e||"Entries read error");var n=o.win.buffer,s=o.pos-o.win.position,a=n.length,f=o.entry;try{for(;o.entriesLeft>0;){f||((f=new d).readHeader(n,s),f.headerOffset=o.win.position+s,o.entry=f,o.pos+=h.CENHDR,s+=h.CENHDR);var E=f.fnameLen+f.extraLen+f.comLen;if(a-s<E+(o.entriesLeft>1?h.CENHDR:0))return o.win.moveRight(i,_,s),void(o.move=!0);f.read(n,s),t.skipEntryNameValidation||f.validateName(),p&&(p[f.name]=f),c.emit("entry",f),o.entry=f=null,o.entriesLeft--,o.pos+=E,s+=E}c.emit("ready")}catch(e){c.emit("error",e)}}function w(){if(!p)throw new Error("storeEntries disabled")}function g(t){return t.offset+h.LOCHDR+t.fnameLen+t.extraLen}function b(t){return 8!=(8&t.flags)}function T(t,r,i){c.stream(t,function(s,o){var a,f;s?i(s):(o.on("error",function(t){f=t,a&&(o.unpipe(a),a.close(function(){i(t)}))}),n.open(r,"w",function(s,h){if(s)return i(s||f);f?n.close(e,function(){i(f)}):((a=n.createWriteStream(r,{fd:h})).on("finish",function(){c.emit("extract",t,r),f||i()}),o.pipe(a))}))})}function U(t,e,r,i,n){if(!r.length)return i(null,n);var o=r.shift(),a=s.join(t,o.name.replace(e,""));T(o,a,function(s){if(s)return i(s,n);U(t,e,r,i,n+1)})}n.open(I,"r",function(s,a){if(s)return c.emit("error",s);e=a,n.fstat(e,function(n,s){if(n)return c.emit("error",n);var a;r=s.size,i=t.chunkSize||Math.round(r/1e3),i=Math.max(Math.min(i,Math.min(131072,r)),Math.min(1024,r)),a=Math.min(h.ENDHDR+h.MAXFILECOMMENT,r),(o={win:new D(e),totalReadLength:a,minPos:r-a,lastPos:r,chunkSize:Math.min(1024,i),firstByte:h.ENDSIGFIRST,sig:h.ENDSIG,complete:S}).win.read(r-o.chunkSize,o.chunkSize,y)})}),Object.defineProperty(this,"ready",{get:function(){return!1}}),this.entry=function(t){return w(),p[t]},this.entries=function(){return w(),p},this.stream=function(t,r){return this.openEntry(t,function(t,i){if(t)return r(t);var n=g(i),s=new N(e,n,i.compressedSize);if(i.method===h.STORED);else{if(i.method!==h.DEFLATED&&i.method!==h.ENHANCED_DEFLATED)return r("Unknown compression method: "+i.method);s=s.pipe(a.createInflateRaw())}b(i)&&(s=s.pipe(new m(s,i.crc,i.size))),r(null,s)},!1)},this.entryDataSync=function(t){var r=null;if(this.openEntry(t,function(e,i){r=e,t=i},!0),r)throw r;var i=Buffer.alloc(t.compressedSize);if(new L(e,i,0,t.compressedSize,g(t),function(t,e){r=t,e}).read(!0),r)throw r;if(t.method===h.STORED);else{if(t.method!==h.DEFLATED&&t.method!==h.ENHANCED_DEFLATED)throw new Error("Unknown compression method: "+t.method);i=a.inflateRawSync(i)}if(i.length!==t.size)throw new Error("Invalid size");b(t)&&new C(t.crc,t.size).data(i);return i},this.openEntry=function(t,r,i){if("string"==typeof t&&(w(),!(t=p[t])))return r("Entry not found");if(!t.isFile)return r("Entry is not file");if(!e)return r("Archive closed");var n=Buffer.alloc(h.LOCHDR);new L(e,n,0,n.length,t.offset,function(e){if(e)return r(e);var i;try{t.readDataHeader(n),t.encrypted&&(i="Entry encrypted")}catch(t){i=t}r(i,t)}).read(i)},this.extract=function(t,e,r){var i=t||"";if("string"==typeof t&&((t=this.entry(t))?i=t.name:i.length&&"/"!==i[i.length-1]&&(i+="/")),!t||t.isDirectory){var o=[],a=[],f={};for(var h in p)if(Object.prototype.hasOwnProperty.call(p,h)&&0===h.lastIndexOf(i,0)){var c=h.replace(i,""),E=p[h];if(E.isFile&&(o.push(E),c=s.dirname(c)),c&&!f[c]&&"."!==c){f[c]=!0;var u=c.split("/").filter(function(t){return t});for(u.length&&a.push(u);u.length>1;){var l=(u=u.slice(0,u.length-1)).join("/");if(f[l]||"."===l)break;f[l]=!0,a.push(u)}}}a.sort(function(t,e){return t.length-e.length}),a.length?function t(e,r,i){if(!r.length)return i();var o=r.shift();o=s.join(e,s.join.apply(s,o)),n.mkdir(o,function(n){if(n&&"EEXIST"!==n.code)return i(n);t(e,r,i)})}(e,a,function(t){t?r(t):U(e,i,o,r,0)}):U(e,i,o,r,0)}else n.stat(e,function(i,n){n&&n.isDirectory()?T(t,s.join(e,s.basename(t.name)),r):T(t,e,r)})},this.close=function(t){e?n.close(e,function(r){e=null,t&&t(r)}):t&&t()}};c.setFs=function(t){n=t},i.inherits(c,o.EventEmitter);var E=function(){};E.prototype.read=function(t){if(t.length!=h.ENDHDR||t.readUInt32LE(0)!=h.ENDSIG)throw new Error("Invalid central directory");this.volumeEntries=t.readUInt16LE(h.ENDSUB),this.totalEntries=t.readUInt16LE(h.ENDTOT),this.size=t.readUInt32LE(h.ENDSIZ),this.offset=t.readUInt32LE(h.ENDOFF),this.commentLength=t.readUInt16LE(h.ENDCOM)};var u=function(){};u.prototype.read=function(t){if(t.length!=h.ENDL64HDR||t.readUInt32LE(0)!=h.ENDL64SIG)throw new Error("Invalid zip64 central directory locator");this.headerOffset=y.readUInt64LE(t,h.ENDSUB)};var l=function(){};l.prototype.read=function(t){if(t.length!=h.END64HDR||t.readUInt32LE(0)!=h.END64SIG)throw new Error("Invalid central directory");this.volumeEntries=y.readUInt64LE(t,h.END64SUB),this.totalEntries=y.readUInt64LE(t,h.END64TOT),this.size=y.readUInt64LE(t,h.END64SIZ),this.offset=y.readUInt64LE(t,h.END64OFF)};var d=function(){};function p(t,e){for(var r=(t>>>0).toString(2);r.length<e;)r="0"+r;return r.split("")}function I(t,e){var r=p(t,16),i=p(e,16),n={h:parseInt(r.slice(0,5).join(""),2),m:parseInt(r.slice(5,11).join(""),2),s:2*parseInt(r.slice(11,16).join(""),2),Y:parseInt(i.slice(0,7).join(""),2)+1980,M:parseInt(i.slice(7,11).join(""),2),D:parseInt(i.slice(11,16).join(""),2)},s=[n.Y,n.M,n.D].join("-")+" "+[n.h,n.m,n.s].join(":")+" GMT+0";return new Date(s).getTime()}d.prototype.readHeader=function(t,e){if(t.length<e+h.CENHDR||t.readUInt32LE(e)!=h.CENSIG)throw new Error("Invalid entry header");this.verMade=t.readUInt16LE(e+h.CENVEM),this.version=t.readUInt16LE(e+h.CENVER),this.flags=t.readUInt16LE(e+h.CENFLG),this.method=t.readUInt16LE(e+h.CENHOW);var r=t.readUInt16LE(e+h.CENTIM),i=t.readUInt16LE(e+h.CENTIM+2);this.time=I(r,i),this.crc=t.readUInt32LE(e+h.CENCRC),this.compressedSize=t.readUInt32LE(e+h.CENSIZ),this.size=t.readUInt32LE(e+h.CENLEN),this.fnameLen=t.readUInt16LE(e+h.CENNAM),this.extraLen=t.readUInt16LE(e+h.CENEXT),this.comLen=t.readUInt16LE(e+h.CENCOM),this.diskStart=t.readUInt16LE(e+h.CENDSK),this.inattr=t.readUInt16LE(e+h.CENATT),this.attr=t.readUInt32LE(e+h.CENATX),this.offset=t.readUInt32LE(e+h.CENOFF)},d.prototype.readDataHeader=function(t){if(t.readUInt32LE(0)!=h.LOCSIG)throw new Error("Invalid local header");this.version=t.readUInt16LE(h.LOCVER),this.flags=t.readUInt16LE(h.LOCFLG),this.method=t.readUInt16LE(h.LOCHOW);var e=t.readUInt16LE(h.LOCTIM),r=t.readUInt16LE(h.LOCTIM+2);this.time=I(e,r),this.crc=t.readUInt32LE(h.LOCCRC)||this.crc;var i=t.readUInt32LE(h.LOCSIZ);i&&i!==h.EF_ZIP64_OR_32&&(this.compressedSize=i);var n=t.readUInt32LE(h.LOCLEN);n&&n!==h.EF_ZIP64_OR_32&&(this.size=n),this.fnameLen=t.readUInt16LE(h.LOCNAM),this.extraLen=t.readUInt16LE(h.LOCEXT)},d.prototype.read=function(t,e){this.name=t.slice(e,e+=this.fnameLen).toString();var r=t[e-1];this.isDirectory=47==r||92==r,this.extraLen&&(this.readExtra(t,e),e+=this.extraLen),this.comment=this.comLen?t.slice(e,e+this.comLen).toString():null},d.prototype.validateName=function(){if(/\\|^\w+:|^\/|(^|\/)\.\.(\/|$)/.test(this.name))throw new Error("Malicious entry: "+this.name)},d.prototype.readExtra=function(t,e){for(var r,i,n=e+this.extraLen;e<n;)r=t.readUInt16LE(e),e+=2,i=t.readUInt16LE(e),e+=2,h.ID_ZIP64===r&&this.parseZip64Extra(t,e,i),e+=i},d.prototype.parseZip64Extra=function(t,e,r){r>=8&&this.size===h.EF_ZIP64_OR_32&&(this.size=y.readUInt64LE(t,e),e+=8,r-=8),r>=8&&this.compressedSize===h.EF_ZIP64_OR_32&&(this.compressedSize=y.readUInt64LE(t,e),e+=8,r-=8),r>=8&&this.offset===h.EF_ZIP64_OR_32&&(this.offset=y.readUInt64LE(t,e),e+=8,r-=8),r>=4&&this.diskStart===h.EF_ZIP64_OR_16&&(this.diskStart=t.readUInt32LE(e))},Object.defineProperty(d.prototype,"encrypted",{get:function(){return(this.flags&h.FLG_ENTRY_ENC)==h.FLG_ENTRY_ENC}}),Object.defineProperty(d.prototype,"isFile",{get:function(){return!this.isDirectory}});var L=function(t,e,r,i,n,s){this.fd=t,this.buffer=e,this.offset=r,this.length=i,this.position=n,this.callback=s,this.bytesRead=0,this.waiting=!1};L.prototype.read=function(t){var e;if(c.debug&&console.log("read",this.position,this.bytesRead,this.length,this.offset),this.waiting=!0,t){try{var r=n.readSync(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead)}catch(t){e=t}this.readCallback(t,e,e?r:null)}else n.read(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead,this.readCallback.bind(this,t))},L.prototype.readCallback=function(t,e,r){if("number"==typeof r&&(this.bytesRead+=r),e||!r||this.bytesRead===this.length)return this.waiting=!1,this.callback(e,this.bytesRead);this.read(t)};var D=function(t){this.position=0,this.buffer=Buffer.alloc(0);var e=null;this.checkOp=function(){if(e&&e.waiting)throw new Error("Operation in progress")},this.read=function(r,i,n){this.checkOp(),this.buffer.length<i&&(this.buffer=Buffer.alloc(i)),this.position=r,e=new L(t,this.buffer,0,i,this.position,n).read()},this.expandLeft=function(r,i){this.checkOp(),this.buffer=Buffer.concat([Buffer.alloc(r),this.buffer]),this.position-=r,this.position<0&&(this.position=0),e=new L(t,this.buffer,0,r,this.position,i).read()},this.expandRight=function(r,i){this.checkOp();var n=this.buffer.length;this.buffer=Buffer.concat([this.buffer,Buffer.alloc(r)]),e=new L(t,this.buffer,n,r,this.position+n,i).read()},this.moveRight=function(r,i,n){this.checkOp(),n?this.buffer.copy(this.buffer,0,n):n=0,this.position+=n,e=new L(t,this.buffer,this.buffer.length-n,n,this.position+this.buffer.length-n,i).read()}},N=function(t,e,r){f.Readable.prototype.constructor.call(this),this.fd=t,this.offset=e,this.length=r,this.pos=0,this.readCallback=this.readCallback.bind(this)};i.inherits(N,f.Readable),N.prototype._read=function(t){var e=Buffer.alloc(Math.min(t,this.length-this.pos));e.length?n.read(this.fd,e,0,e.length,this.offset+this.pos,this.readCallback):this.push(null)},N.prototype.readCallback=function(t,e,r){this.pos+=e,t?(this.emit("error",t),this.push(null)):e?(e!==r.length&&(r=r.slice(0,e)),this.push(r)):this.push(null)};var m=function(t,e,r){f.Transform.prototype.constructor.call(this),this.verify=new C(e,r);var i=this;t.on("error",function(t){i.emit("error",t)})};i.inherits(m,f.Transform),m.prototype._transform=function(t,e,r){var i;try{this.verify.data(t)}catch(t){i=t}r(i,t)};var C=function(t,e){this.crc=t,this.size=e,this.state={crc:-1,size:0}};C.prototype.data=function(t){for(var e=C.getCrcTable(),r=this.state.crc,i=0,n=t.length;--n>=0;)r=e[255&(r^t[i++])]^r>>>8;if(this.state.crc=r,this.state.size+=t.length,this.state.size>=this.size){var s=Buffer.alloc(4);if(s.writeInt32LE(4294967295&~this.state.crc,0),(r=s.readUInt32LE(0))!==this.crc)throw new Error("Invalid CRC");if(this.state.size!==this.size)throw new Error("Invalid size")}},C.getCrcTable=function(){var t=C.crcTable;if(!t){C.crcTable=t=[];for(var e=Buffer.alloc(4),r=0;r<256;r++){for(var i=r,n=8;--n>=0;)0!=(1&i)?i=3988292384^i>>>1:i>>>=1;i<0&&(e.writeInt32LE(i,0),i=e.readUInt32LE(0)),t[r]=i}}return t};var y={readUInt64LE:function(t,e){return 4294967296*t.readUInt32LE(e+4)+t.readUInt32LE(e)}};t.exports=c}});
//# sourceMappingURL=node-stream-zip.js.map